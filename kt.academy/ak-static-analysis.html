<!doctype html>
<html lang="en-US" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.99" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Static Code Analysers","image":["https://pexels.com/photo/woman-in-black-long-sleeve-shirt-holding-a-lint-roller-6865186/"],"datePublished":"2024-01-22T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"Nicola Corti"}]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/kt.academy/ak-static-analysis.html"><meta property="og:site_name" content="üìöBookshelf"><meta property="og:title" content="Static Code Analysers"><meta property="og:description" content="Article(s) > Static Code Analysers"><meta property="og:type" content="article"><meta property="og:image" content="https://marcinmoskala.com/advanced-kotlin-book/promotion/13_static_analysis.jpg"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://marcinmoskala.com/advanced-kotlin-book/promotion/13_static_analysis.jpg"><meta name="twitter:image:alt" content="Static Code Analysers"><meta property="article:author" content="Nicola Corti"><meta property="article:tag" content="kotlin"><meta property="article:tag" content="java"><meta property="article:tag" content="kt.academy"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2024-01-22T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>Static Code Analysers | üìöBookshelf</title><meta name="description" content="Article(s) > Static Code Analysers">
    <link rel="preload" href="/bookshelf/assets/style-Bhb-QcDa.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-Bhb-QcDa.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">üìöBookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="oddbird.net"><!--[--><img class="vp-icon" src="https://oddbird.net/safari-pinned-tab.svg" alt aria-hidden no-view sizing="both"><!--]-->oddbird.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/zeroheight.com/" aria-label="zeroheight.com"><!--[--><img class="vp-icon" src="https://zeroheight.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->zeroheight.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/typescript.tv/" aria-label="typescript.tv"><!--[--><img class="vp-icon" src="https://typescript.tv/_astro/android-chrome-192x192.BhQ8hcWh.png" alt aria-hidden no-view sizing="both"><!--]-->typescript.tv<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/bram.us/" aria-label="bram.us"><!--[--><img class="vp-icon" src="https://bram.us/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->bram.us<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/una.im/" aria-label="una.im"><!--[--><img class="vp-icon" src="https://una.im/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->una.im<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/joshwcomeau.com/" aria-label="joshwcomeau.com"><!--[--><img class="vp-icon" src="https://joshwcomeau.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->joshwcomeau.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tip.com/" aria-label="css-tip.com"><!--[--><img class="vp-icon" src="https://css-tip.com/img/fav.png" alt aria-hidden no-view sizing="both"><!--]-->css-tip.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/nerdy.dev/" aria-label="nerdy.dev"><!--[--><img class="vp-icon" src="https://nerdy.dev/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->nerdy.dev<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnkube.com/" aria-label="learnkube.com"><!--[--><img class="vp-icon" src="https://static.learnkube.com/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnkube.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/bookshelf" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><!----></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">kt.academy</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2025</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2024</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/benchmark-reflection.html" aria-label="Is reflection slowing down your code?"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Is reflection slowing down your code?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/blockhound.html" aria-label="Using BlockHound to track blocking calls in non-blocking dispatchers"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Using BlockHound to track blocking calls in non-blocking dispatchers<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/viewmodel-stateflow-sharedflow-channel.html" aria-label="Representing ViewModel events with StateFlow vs. SharedFlow vs. Channel"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Representing ViewModel events with StateFlow vs. SharedFlow vs. Channel<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/dispatcher-for-backend.html" aria-label="The best dispatcher for a backend framework"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->The best dispatcher for a backend framework<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/cc-why.html" aria-label="Why using Kotlin Coroutines?"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Why using Kotlin Coroutines?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/ek-respect-contracts.html" aria-label="Item 31: Respect abstraction contracts"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Item 31: Respect abstraction contracts<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/ek-contracts-documentation.html" aria-label="Item 30: Define contracts with documentation"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Item 30: Define contracts with documentation<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/cc-dispatchers.html" aria-label="Kotlin Coroutines dispatchers"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Kotlin Coroutines dispatchers<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/sharedflow-vs-stateflow.html" aria-label="SharedFlow vs StateFlow"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->SharedFlow vs StateFlow<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/ek-api-stability.html" aria-label="Item 27: Specify API stability"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Item 27: Specify API stability<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/power-assert.html" aria-label="Power Assert now in Kotlin!"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Power Assert now in Kotlin!<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/union-types-into.html" aria-label="The problem of union types for type systems"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->The problem of union types for type systems<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/var-readonly-vs-val-mutable.html" aria-label="Mutable objects or properties?"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Mutable objects or properties?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/network-client-threads.html" aria-label="How many threads your network client uses?"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->How many threads your network client uses?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/ek-element-visibility.html" aria-label="Item 29: Minimize elements‚Äô visibility"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Item 29: Minimize elements‚Äô visibility<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/ek-wrapping-api.html" aria-label="Item 28: Consider wrapping external APIs"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Item 28: Consider wrapping external APIs<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/pattern-for-composing-flows.html" aria-label="A Pattern for Composing Flow Operations"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->A Pattern for Composing Flow Operations<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/nonblocking-spring-mvc.html" aria-label="Why Non-Blocking?"><!--[--><i class="vp-icon iconfont icon-spring" sizing="both"></i><!--]-->Why Non-Blocking?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/kfde-generics.html" aria-label="Generics in Kotlin"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Generics in Kotlin<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kt.academy/cc-cancellation.html" aria-label="Cancellation in Kotlin Coroutines"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Cancellation in Kotlin Coroutines<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/kt.academy/ak-static-analysis.html" aria-label="Static Code Analysers"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Static Code Analysers<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2023</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="https://marcinmoskala.com/advanced-kotlin-book/promotion/13_static_analysis.jpg" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon iconfont icon-kotlin" sizing="height"></i>Static Code Analysers</h1><div class="page-info"><span class="page-author-info" aria-label="Authorüñä" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Nicola Corti</span></span><span property="author" content="Nicola Corti"></span></span><!----><span class="page-date-info" aria-label="Writing DateüìÖ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">1/22/24</span><meta property="datePublished" content="2024-01-22T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time‚åõ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 20 min</span><meta property="timeRequired" content="PT20M"></span><span class="page-category-info" aria-label="Categoryüåà" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color8" role>Java</span><span class="page-category-item color2" role>Kotlin</span><span class="page-category-item color6" role>Detekt</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="Java,Kotlin,Detekt,Article(s)"></span><span class="page-tag-info" aria-label="Tagüè∑" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color7" role>kt.academy</span><span class="page-tag-item color8" role>java</span><span class="page-tag-item color0" role>kotlin</span><!--]--><meta property="keywords" content="blog,kt.academy,java,kotlin"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"><span>Static Code Analysers Í¥ÄÎ†®</span></a></h1><a class="route-link vp-card" href="/bookshelf/programming/java/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="https://chanhi2000.github.io/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Java > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#what-are-static-analysers" class="router-link-active router-link-exact-active">What are Static Analysers?</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#types-of-analysers" class="router-link-active router-link-exact-active">Types of analysers</a><ul><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#formatters" class="router-link-active router-link-exact-active">Formatters</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#code-quality-analysers" class="router-link-active router-link-exact-active">Code Quality Analysers</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#data-flow-analysers" class="router-link-active router-link-exact-active">Data-Flow Analysers</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#code-manipulation" class="router-link-active router-link-exact-active">Code Manipulation</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#embedded-vs-standalone" class="router-link-active router-link-exact-active">Embedded vs Standalone</a></li></ul></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#kotlin-code-analysers" class="router-link-active router-link-exact-active">Kotlin Code Analysers</a><ul><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#kotlin-compiler" class="router-link-active router-link-exact-active">Kotlin Compiler</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#intellij-idea" class="router-link-active router-link-exact-active">IntelliJ IDEA</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#pinterest-ktlint" class="router-link-active router-link-exact-active">pinterest/ktlint</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#facebook-ktfmt" class="router-link-active router-link-exact-active">facebook/ktfmt</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#android-lint" class="router-link-active router-link-exact-active">Android Lint</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#detekt" class="router-link-active router-link-exact-active">detekt</a></li></ul></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#setting-up-detekt" class="router-link-active router-link-exact-active">Setting up detekt</a><ul><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#detekt-rules-and-rulesets" class="router-link-active router-link-exact-active">detekt Rules and Rulesets</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#configuring-detekt" class="router-link-active router-link-exact-active">Configuring detekt</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#incremental-adoption" class="router-link-active router-link-exact-active">Incremental Adoption</a></li></ul></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#writing-your-first-detekt-rule" class="router-link-active router-link-exact-active">Writing your first detekt Rule</a><ul><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#setting-up-your-rule-project" class="router-link-active router-link-exact-active">Setting up your rule project</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#coding-your-rule" class="router-link-active router-link-exact-active">Coding your rule</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#using-your-rule" class="router-link-active router-link-exact-active">Using your rule</a></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#rules-with-type-resolution" class="router-link-active router-link-exact-active">Rules with type resolution</a></li></ul></li><li><a aria-current="page" href="/bookshelf/kt.academy/ak-static-analysis.html#conclusion" class="router-link-active router-link-exact-active">Conclusion</a></li></ul></nav><hr><div class="vp-site-info" data-name="Static Code Analysers"><a class="vp-site-info-navigator no-external-link-icon" title="Static Code Analysers" href="https://kt.academy/article/ak-static-analysis" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://kt.academy/_next/image?url=https%3A%2F%2Fmarcinmoskala.com%2Fadvanced-kotlin-book%2Fpromotion%2F13_static_analysis.jpg&amp;w=1080&amp;q=75) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://kt.academy/logo.png" alt loading="lazy" no-view><div class="vp-site-info-name">Static Code Analysers</div><div class="vp-site-info-desc">All you need to know about Static Code Analysers and Detekt.</div></div><!----></div><div class="hint-container note"><p class="hint-container-title">Note</p><p>This is a chapter from the book <a href="/book/effectivekotlin" target="_blank" rel="noopener noreferrer">Effective Kotlin</a>. You can find it on <a href="https://leanpub.com/effectivekotlin" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>LeanPub</a> or <a href="https://amazon.com/Effective-Kotlin-Best-Practices-Developers-ebook/dp/B0CHBR5XPF/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-amazon" sizing="height"></i>Amazon</a>.</p><blockquote><p>This chapter was written by Nicola Corti, who is the best person I could ask to write about Static Code Analysers. He is one of the maintainers of detekt and the author of many of its rules; he is also a well-known speaker and a true programming practitioner.</p></blockquote></div><p>One could argue that what distinguishes a novice Kotlin developer from a senior one is their mastery of recognizing and appropriately using idiomatic patterns.</p><p>Learning how to write a ‚ÄúHello, world!‚Äù or a simple <code>for</code> loop takes no longer than a couple of hours, but learning how to use advanced techniques such as generics, delegation, and reflection can take much longer. Some of these patterns require years of experience to be fully mastered. After all, you don&#39;t expect a junior Kotlin engineer to write an annotation processor.</p><p>Discovering recurring patterns and applying them has always been a problem in the field of computer science.</p><p>That&#39;s why engineers who work on programming language tools, such as compilers, have also developed tools to help engineers identify recurrent patterns: these are called <strong>static analysers</strong>. While you&#39;re already taking a step toward mastering these patterns by reading this book, having a tool that automatically discovers and applies them will take you to the next level.</p><p>For example, several of the patterns that are described in the ‚ÄúEffective Kotlin‚Äù book can be automated with the help of static analysers.</p><p>However, the real power of static analysers lies in the fact that they can be customized, therefore you can discover and enforce your <strong>own</strong> patterns. When working on bigger codebases with hundreds of contributors, you can&#39;t really rely only on code reviews. It&#39;s crucial to have tools that automate and help you bring consensus and arbitrate conflict between developers. That&#39;s why static analysers are tools that should never be missing in the advanced Kotlin developer&#39;s toolbox.</p><p>In this chapter, we&#39;ll walk through the basics of static analysis, and we&#39;ll learn how to use one of the most popular static analysers for Kotlin: <strong>detekt</strong>.</p><hr><h2 id="what-are-static-analysers" tabindex="-1"><a class="header-anchor" href="#what-are-static-analysers"><span>What are Static Analysers?</span></a></h2><p>As the name suggests, static analysers are tools that spot bugs and recurrent patterns by analysing your code statically, i.e., without running it[^12].</p><p>Running your code is generally considered an expensive operation. Think about Kotlin/JVM, where you need to start a Java Virtual Machine, or Android, where you need an emulator or a physical device to run your code. One technique that can be used to protect your code from bugs is writing tests! They&#39;re a great tool to prevent bugs from reaching production, but they require a runtime and are an expensive operation that becomes more and more expensive as your codebase grows.</p><p>On the other hand, static analysers look at your code without executing it at all, so there is no need to start a runtime environment at all.</p><p>For example, there is no need to execute your code to warn you that you‚Äôve declared a variable that you&#39;re not using. A static analyser can keep track of all the variables you‚Äôve declared and those you access. The ones you declare but never access are most likely[^0] unused and can be removed.</p><p>Static analysers can leverage language-specific properties to determine the correctness of your code. For instance, the Kotlin type system can be used to infer types and use type information to do further analysis, similarly to how the Kotlin compiler does. Let&#39;s take a look at this simple example:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">fun</span> <span class="token function">getTheAnswer</span><span class="token punctuation">(</span>answer<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;24&quot;</span></span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span></span>
<span class="line">   <span class="token keyword">return</span> answer<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">reversed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!!</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This code behaves correctly in the sense that it correctly returns ‚Äú42‚Äù when <code>getTheAnswer</code> is invoked. You could write a unit test for it and confirm that the result is as expected, but we could immediately spot a couple of potential problems just by looking at it: as the type of <code>answer</code> is a non-nullable <code>String</code>, there is no need to use either the <code>?.</code> (safe call) or the <code>!!</code> (not-null assert) operator. Instead, the return expression can be simplified to just <code>return answer.reversed()</code>[^13].</p><p>A static analyser can help you with this and other types of inspection, which could be helpful to enforce a style guide across your codebase (e.g., all unnecessary usages of <code>import</code> should be removed). Other types could help prevent potential bugs ending up in your codebase (e.g., when an expression‚Äôs return value is ignored and never used).</p><p>Static analysers are often referred to as &#39;linters&#39;, a term which comes from &#39;lint&#39;, the first static analyser for C, developed in the 70s[^1]. Lint itself takes its name from the tiny bits of fabric that appear on your clothes as you wear them. A linter should inspect your codebase and capture all these small imperfections and potential problems.</p><figure><img src="https://kt.academy/_next/image?url=https%3A%2F%2Fmarcinmoskala.com%2Fadvanced-kotlin-book%2Fmanuscript%2Fresources%2F13_real_world_linter.jpg&amp;w=576&amp;q=75" alt="A real-world linter. Similarly, a static analyser inspects your codebase and captures potential bugs and problems before they hit production. Photo is licensed under Creative Commons - Source" tabindex="0" loading="lazy"><figcaption>A real-world linter. Similarly, a static analyser inspects your codebase and captures potential bugs and problems before they hit production. Photo is licensed under Creative Commons - <a href="https://pexels.com/photo/woman-in-black-long-sleeve-shirt-holding-a-lint-roller-6865186/" target="_blank" rel="noopener noreferrer">Source</a></figcaption></figure><p>Now, you might think that a static analyser‚Äôs goal is really similar to another popular process in IT: code reviews.</p><p>When you review another engineer&#39;s code, you look at it and try to spot potential bugs. I like to think of static analysers and code reviews as complementary, but there is a difference: the former help you spot and automate a lot of recurring coding issues, while the latter are crucial to ensure high code quality and share responsibility for shipped changes. Unfortunately, static analysers can&#39;t currently fully understand a developer‚Äôs intent. You could potentially ship malicious code or ‚Äúbeautifully broken code‚Äù that is fully compliant with static analysers as it passes all the checks.</p><p>Perhaps, in a not too distant future, advanced AI models could power static analysers to fully automate the code review process. At the time of writing, this is not the case, so code reviews are still considered a fundamental process and are widely adopted in the IT sector.</p><p>In academia, static analysers are a vast subject of study and research. Researchers have developed numerous techniques to formally verify that code satisfies requirements and behaves as expected. Formally verifying code behavior can be business-critical in various sectors (think about software in the medical or aerospace industries).</p><p>It&#39;s outside the scope of this chapter to present all the formal methods of inspecting and verifying your code, but you can find plenty of literature on this. However, to better understand the tools available in the Kotlin ecosystem, we&#39;ll walk through some of the various types of static analysers for Kotlin.</p><hr><h2 id="types-of-analysers" tabindex="-1"><a class="header-anchor" href="#types-of-analysers"><span>Types of analysers</span></a></h2><p>It&#39;s hard to make a neat division in the ecosystem of static analysers, as you&#39;ll find a plethora of tools doing all sorts of inspection and automation. Here we present some of the most popular families of analysers. Beware that this categorization is not exhaustive, and there are tools that fit in multiple categories.</p><h3 id="formatters" tabindex="-1"><a class="header-anchor" href="#formatters"><span>Formatters</span></a></h3><p>If you‚Äôve written any code, you‚Äôve probably already interacted with formatters, which are responsible for making sure your code follows a coding convention[^3]. They can help you with simple tasks such as removing unnecessary white spaces and making sure your files have the correct copyright headers.</p><p>Most of the time, formatters are embedded inside your IDEs and auto-format your code when you save your files. Formatters are typically referred to as pretty-printers or beautifiers.</p><p>Each popular programming language has a set of formatters in its ecosystem. Popular formatters in the industry are tools like <a href="https://prettier.io/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>Prettier</a> for Web, the various <code>*fmt</code> tools like <a href="https://go.dev/blog/gofmt" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-golang" sizing="height"></i><code>gofmt</code></a> for Go, and <a href="https://github.com/rust-lang/rustfmt" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-github" sizing="height"></i><code>rust-lang/rustfmt</code></a> for Rust.</p><p>Kotlin has various formatters to pick from: IntelliJ&#39;s built-in formatter <a href="https://github.com/pinterest/ktlint" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-github" sizing="height"></i><code>pinterest/ktlint</code></a> <a href="https://github.com/facebook/ktfmt" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-github" sizing="height"></i><code>facebook/ktfmt</code></a> <a href="https://github.com/saveourtool/diktat" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-github" sizing="height"></i><code>saveourtool/diktat</code></a></p><p>Enforcing coding conventions and reducing <em>bikeshedding</em> is a common challenge for large engineering teams.</p><p>You probably don&#39;t want to manually read every line of code change to evaluate whether it conforms to the common patterns. You may also not want to waste a significant amount of time with your colleagues arguing over whether curly braces should be put on a newline or not.</p><p>Formatters increase productivity by allowing you to have such discussions once during the initial configuration and objectively apply your preferred style to every code change.</p><h3 id="code-quality-analysers" tabindex="-1"><a class="header-anchor" href="#code-quality-analysers"><span>Code Quality Analysers</span></a></h3><p>Code quality analysers perform more advanced inspections than formatters. Generally, they operate on a tree-like representation of your code called an Abstract Syntax Tree (AST).</p><p>With an Abstract Syntax Tree, analysers can inspect specific nodes of the tree to perform inspections. Static analysers generally use the visitor pattern to register inspection on specific nodes of an AST.</p><p>Say, for example, you want to prevent usage of the <code>println</code> function in your codebase as you have a dedicated logger and want to ensure all logging goes through it.</p><p>Your inspector can ask to visit all the nodes in your AST that are of type ‚Äúfunction call‚Äù. On these nodes, the inspector will report a finding whenever the caller function is <code>println</code>[^4].</p><p>The amount of information available in an AST might vary depending on different tools and the type of inspection that you&#39;re interested in doing. Sometimes, it is sufficient to have only syntactic information in the AST (e.g., the name of the parameters), but for more advanced inspections you might need an AST which has type information linked to it (e.g., the return type of a function invoked from a third-party library).</p><p>Popular code quality analysers in the industry are tools like <a href="https://checkstyle.org/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>Checkstyle</a> for Java or <a href="https://eslint.org/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>ESlint</a> for JavaScript.</p><h3 id="data-flow-analysers" tabindex="-1"><a class="header-anchor" href="#data-flow-analysers"><span>Data-Flow Analysers</span></a></h3><p>Data-flow analysers operate by building a model that can determine at a particular point where values are coming from and what possible values can be produced.</p><p>As mentioned before, running your code is an expensive operation.</p><p>By looking at the expressions inside your code, a data-flow analyser can infer conditions and execution state without running your code.</p><p>Let&#39;s take a look at the following code:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">val</span> answer <span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token function">maybeGetTheAnswer</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>answer <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;The answer is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">answer</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Reading this code, we know that the type of <code>answer</code> inside the if block is smart-casted to <code>String</code> and is not a <code>String?</code> anymore. The <code>!= null</code> check is effectively a type restriction on the set of possible values of <code>answer</code> and removes <code>null</code> from that set. Similarly, in a potential <code>else</code> branch or after the <code>if</code>, the set of possible values would be restricted to just <code>null</code>.</p><p>Data-flow analysers use the rules of the relevant programming language to compute the set of possible values of your identifier at each statement. With this information, you can perform more advanced analysis. For instance, you can inform the users of types that are too broad and can be restricted (e.g., an analyser could tell you to use <code>List</code> instead of <code>Collection</code> if the set of values is restricted to <code>List</code> only).</p><p>Kotlin uses data-flow analysis inside the compiler[^5] to power some of its popular features, such as smart-casting.</p><p>Most code quality analysers in the industry also do data-flow analysis but are just marketed as ‚Äústatic analysers‚Äù. Typically, they use AST analysis or data-flow analysis based on the type of inspection they need to run.</p><h3 id="code-manipulation" tabindex="-1"><a class="header-anchor" href="#code-manipulation"><span>Code Manipulation</span></a></h3><p>All the previously mentioned tools inspect your code and raise warnings whenever they discover something untoward.</p><p>However, some tools can go one step further and <strong>manipulate</strong> your code if they find a violation.</p><p>Formatters manipulate your code as they usually provide a mechanism to ‚Äúreformat‚Äù your codebase so that you don&#39;t have to edit the code manually.</p><p>Code quality analysers can also manipulate your code, but this isn‚Äôt always the case with formatters. For example, if an analyser discovers an unused variable, the manipulation would be to entirely remove the line where this variable is declared.</p><p>However, this is often considered an invasive operation as analysers generally need to perform substantial modification to make code conform to their rules. Sometimes, removing a line or an annotation is sufficient; other times, there are multiple solutions to a violation but the analyser can&#39;t pick one without a human decision. On top of this, newly created code could raise other violations or might be improperly formatted.</p><p>For this reason, static analysers tend to not manipulate code automatically; instead, they raise a violation warning and suggest one or more alternatives to resolve it.</p><h3 id="embedded-vs-standalone" tabindex="-1"><a class="header-anchor" href="#embedded-vs-standalone"><span>Embedded vs Standalone</span></a></h3><p>Finally, it is worth noting that some static analysers are embedded in tools we use daily, while others are distributed as standalone software.</p><p>For instance, the Kotlin Compiler has a static analyser built-in that raises warnings while it compiles code. IntelliJ IDEA also has a built-in static analyser which offers inspections as you type, with code suggestions in the contextual menu.</p><p>On the other hand, tools like detekt, ktlint, and others are standalone. You can typically execute them from the command line by specifying your source files. These standalone static analysers offer plugins and integrations for the most popular developer environments (IntelliJ IDEA, Gradle, Visual Studio Code and so on). On top of this, standalone static analysers are generally better suited to be integrated with continuous integration servers or pre-commit hooks.</p><hr><h2 id="kotlin-code-analysers" tabindex="-1"><a class="header-anchor" href="#kotlin-code-analysers"><span>Kotlin Code Analysers</span></a></h2><p>Let&#39;s now walk through the various static analysers available for Kotlin in order to discover what they offer and understand how you can integrate them in your projects.</p><h3 id="kotlin-compiler" tabindex="-1"><a class="header-anchor" href="#kotlin-compiler"><span>Kotlin Compiler</span></a></h3><p>As mentioned above, the Kotlin Compiler ships an embedded static analyser, which is already a great starting point for analyzing your Kotlin code.</p><p>Sadly, the Kotlin Compiler offers no easy way to write a custom inspection, so you&#39;ll have to resort to writing a custom Kotlin Compiler plugin. Moreover, the compiler doesn&#39;t offer an easy way to selectively toggle its inspections, so you&#39;ll always get all the warnings the compiler finds, and you won&#39;t be able to enable/disable some[^10]</p><p>The Kotlin Compiler also doesn‚Äôt ship with an embedded formatter, so you‚Äôll need to resort to other tools for code formatting.</p><h3 id="intellij-idea" tabindex="-1"><a class="header-anchor" href="#intellij-idea"><span>IntelliJ IDEA</span></a></h3><p>Alongside the Kotlin Compiler, JetBrains also ships a static analyser as part of IntelliJ IDEA.</p><p>This static analyser is user-friendly as it has a UI to configure it and offers suggestions inline. On the other hand, these inspections require an IntelliJ installation to run, therefore they‚Äôre less portable and less suitable for continuous integration servers.</p><p>IntelliJ IDEA also offers an embedded formatter, making it a great companion for the Kotlin Compiler.</p><h3 id="pinterest-ktlint" tabindex="-1"><a class="header-anchor" href="#pinterest-ktlint"><span><code>pinterest/ktlint</code></span></a></h3><p><a href="https://pinterest.github.io/ktlint/" target="_blank" rel="noopener noreferrer"><code>pinterest/ktlint</code></a> is a standalone formatter for Kotlin which offers great configurability and allows you to easily reformat your code. Ktlint is well established in the Kotlin community and has been maintained in open-source. It can be extended with custom rules and integrated with Gradle, Maven, IntelliJ, or even Vim via third-party plugins.</p><h3 id="facebook-ktfmt" tabindex="-1"><a class="header-anchor" href="#facebook-ktfmt"><span><code>facebook/ktfmt</code></span></a></h3><p><a href="https://facebook.github.io/ktfmt/" target="_blank" rel="noopener noreferrer"><code>facebook/ktfmt</code></a> is another standalone formatter for Kotlin, but it has a more opinionated take on code-formatting. ktfmt is non-configurable and less extensible than ktlint, with the intention to reformat code in a stricter manner. Thanks to third-party plugins, ktfmt can be easily integrated with IntelliJ, Gradle or Maven.</p><h3 id="android-lint" tabindex="-1"><a class="header-anchor" href="#android-lint"><span>Android Lint</span></a></h3><p><a href="https://developer.android.com/studio/write/lint" target="_blank" rel="noopener noreferrer">Android Lint</a> is a static analyser for Android. It offers inspections which are Android specific, so it can inspect not only Java and Kotlin files, but also Gradle files and XML files (and other Android-related files). Android Lint is integrated inside Android Studio and it&#39;s probably the best pick for developers looking to integrate static analysis in their Android projects. The Android Studio integration allows Android Lint to also act as a code manipulator by offering <em>quick fixes</em>: small tooltips on top of the inspection that allow the user to selectively apply the suggested changes. Android Lint is also extensible with custom detectors and can be executed via Gradle or as a standalone tool, without needing to have Android Studio installed.</p><h3 id="detekt" tabindex="-1"><a class="header-anchor" href="#detekt"><span>detekt</span></a></h3><p><a href="https://detekt.dev/" target="_blank" rel="noopener noreferrer">detekt</a> is a standalone static-analyser for Kotlin. Unlike Android Lint, it&#39;s general purpose and focuses only on Kotlin code. It can&#39;t inspect Java code, but it&#39;s easier to integrate in any Kotlin project.</p><p>detekt is community developed and, at the time of writing, offers more than 300 inspections. It primarily offers a Gradle plugin and a Kotlin Compiler plugin to integrate with existing projects. Moreover, detekt can be integrated with IntelliJ IDEA, Maven, Bazel and much more.</p><p>One key feature of detekt is its extensibility, which makes it easier to write custom rules to achieve your desired inspections. Let&#39;s take a closer look at how you can configure and customize it.</p><hr><h2 id="setting-up-detekt" tabindex="-1"><a class="header-anchor" href="#setting-up-detekt"><span>Setting up detekt</span></a></h2><p>Over the rest of this chapter, we‚Äôll look at practical examples of how to use detekt inside your projects. We chose detekt as the preferred tool because of its great flexibility, and we will learn how you can write a custom rule for it.</p><p>Let&#39;s start by configuring detekt as part of your Gradle project. For the sake of brevity, we‚Äôll assume you already have a single-module Gradle setup which builds properly.</p><p>To set up detekt, you just need to edit your <i class="vp-icon iconfont icon-gradle" sizing="height"></i><code>build.gradle.kts</code> file as follows:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="build.gradle.kts"><span>build.gradle.kts</span></div><div class="language-groovy line-numbers-mode" data-highlighter="prismjs" data-ext="groovy"><pre><code class="language-groovy"><span class="line">plugins <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">kotlin</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;jvm&quot;</span></span><span class="token punctuation">)</span> version <span class="token interpolation-string"><span class="token string">&quot;...&quot;</span></span></span>
<span class="line">  <span class="token comment">// Add this line</span></span>
<span class="line">  <span class="token function">id</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;io.gitlab.arturbosch.detekt&quot;</span></span><span class="token punctuation">)</span> version <span class="token interpolation-string"><span class="token string">&quot;...&quot;</span></span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>This line adds the Detekt Gradle Plugin to your project and is sufficient to set up detekt in your project with the default configuration.</p><p>You can see it in action by invoking the <code>build</code> Gradle task from the command-line:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">./gradlew build</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># BUILD SUCCESSFUL in 549ms</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As an alternative, you can also invoke the <code>detekt</code> task directly with <code>./gradlew detekt</code></p><p>Now, if we try to run detekt on a simple file that contains the following:</p><div class="kotlin-playground-wrapper"><div class="header">1</div><div class="kotlin-playground-container"><div class="kotlin-playground" theme="default"><pre>fun main() {
    println(42)
}
</pre><!----></div></div></div><p>we will receive the following output:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">./gradlew build</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># &gt; Task :example:detekt FAILED</span></span>
<span class="line"><span class="token comment"># /tmp/example/src/main/java/Main.kt:2:11: </span></span>
<span class="line"><span class="token comment">#   This expression contains a magic number. Consider</span></span>
<span class="line"><span class="token comment">#   defining it to a well named constant. [MagicNumber]</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># [...]</span></span>
<span class="line"><span class="token comment"># BUILD FAILED in 470ms</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here, detekt is flagging the number <code>42</code> as it&#39;s considered a &quot;Magic Number&quot;, a number without a clear semantic which should be extracted as a well-named constant.</p><p>The ID of this violation is inside the square brackets (<code>MagicNumber</code>) and is important for several reasons:</p><ul><li>It is the name of the rule that generated this inspection. You can use it to search for documentation about this inspection on the detekt website.</li><li>It can be used to suppress the inspection locally with a <code>@Suppress(&quot;MagicNumber&quot;)</code> annotation just above the offending statement.</li><li>It can be used in the configuration file (see following sections) to configure the rule to adapt detekt to the style of your codebase.</li></ul><p>This is just one very simple example of the various inspections that detekt offers, so let&#39;s take a closer look at some more of them.</p><h3 id="detekt-rules-and-rulesets" tabindex="-1"><a class="header-anchor" href="#detekt-rules-and-rulesets"><span>detekt Rules and Rulesets</span></a></h3><p>The 200 inspections that detekt offers out of the box are called <strong>rules</strong>. Remembering all of them is hard, which is why they&#39;re organized in <em>rulesets</em>, collections of rules that serve the same purposes.</p><p>Let&#39;s take a brief look at them:</p><ul><li><code>comments</code>: rules that help enforce good documentation of your functions and classes.</li><li><code>complexity</code>: rules that report unnecessary statements or complex code, like methods and interfaces that are larger than usual.</li><li><code>coroutines</code>: rules that report potential problems with Coroutines, such as usage of <code>GlobalScope</code> or other antipatterns.</li><li><code>empty-blocks</code>: rules that flag empty blocks and function bodies.</li><li><code>exceptions</code>: rules that inspect how your code throws and catches exceptions.</li><li><code>libraries</code>: rules that help library authors write good APIs.</li><li><code>naming</code>: rules that help you enforce naming conventions across your codebase.</li><li><code>performance</code>: rules that flag potential performance regressions in your code.</li><li><code>potential-bugs</code>: rules that flag code that could lead to potential bugs or crashes.</li><li><code>ruleauthors</code>: rules that help you write good external detekt rules.</li><li><code>style</code>: rules that check the style and formatting of your code and flag unnecessary code.</li></ul><p><code>potential-bugs</code> is one of detekt‚Äôs biggest rulesets and contains some of the most popular rules. An honorable mention goes to <code>DontDowncastCollectionTypes</code>, which was inspired by <em>Effective Kotlin: Item 1 - Limit Mutability</em>[^8]</p><p>On top of these rulesets, the community has developed a variety of third-party rules that serve specific purposes. For instance, a collection of rules that offer inspections specific to JetPack Compose is available. These and other rules are shared in the <a href="https://detekt.dev/marketplace" target="_blank" rel="noopener noreferrer">detekt Marketplace</a>.</p><h3 id="configuring-detekt" tabindex="-1"><a class="header-anchor" href="#configuring-detekt"><span>Configuring detekt</span></a></h3><p>By default, detekt comes with a sensible default configuration. For example, not all the rules are enabled, while some rules are configured to suit a wide range of users.</p><p>However, you might want to enable/disable or customize some rules. To do so, you need to provide a YAML configuration file that lets you customize detekt as you prefer.</p><p>The easiest way to do this is to ask detekt to create one for you by invoking the <code>detektGenerateConfig</code> task as follows:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">./gradlew detektGenerateConfig</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># &gt; Task :example:detektGenerateConfig</span></span>
<span class="line"><span class="token comment"># Successfully copied default config to</span></span>
<span class="line"><span class="token comment">#   /tmp/example/config/detekt/detekt.yml</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># BUILD SUCCESSFUL in 473ms</span></span>
<span class="line"><span class="token comment"># 1 actionable task: 1 executed</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This will create a config file at the path shown in the console by copying the default detekt config file. The configuration file looks as follows:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="src/main/resources/config/config.yaml"><span>src/main/resources/config/config.yaml</span></div><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token punctuation">...</span></span>
<span class="line"><span class="token key atrule">comments</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">  <span class="token key atrule">AbsentOrWrongFileLicense</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>
<span class="line">    <span class="token key atrule">licenseTemplateFile</span><span class="token punctuation">:</span> <span class="token string">&#39;license.template&#39;</span></span>
<span class="line">    <span class="token key atrule">licenseTemplateIsRegex</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>
<span class="line"><span class="token key atrule">style</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">  <span class="token key atrule">MagicNumber</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">ignorePropertyDeclaration</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">    <span class="token key atrule">ignoreAnnotation</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">    <span class="token key atrule">ignoreEnums</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">    <span class="token key atrule">ignoreNumbers</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&#39;-1&#39;</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&#39;0&#39;</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&#39;1&#39;</span></span>
<span class="line"><span class="token punctuation">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Rules are grouped by ruleset, and you can toggle each rule via the <code>active</code> key. For instance, the <code>AbsentOrWrongFileLicense</code> rule is disabled by default as you need to provide a <code>licenseTemplateFile</code> to enable it.</p><h3 id="incremental-adoption" tabindex="-1"><a class="header-anchor" href="#incremental-adoption"><span>Incremental Adoption</span></a></h3><p>When running detekt on a big codebase for the first time, you could be overwhelmed by the number of findings that detekt reports. Fixing them all at once could be unfeasible, so you should probably take an incremental approach to adopting detekt.</p><p>You could use the config file to disable some rules. This has the side effect of also turning off the inspection entirely for newer code added to your codebase.</p><p>A smarter approach is to use a <strong>baseline</strong>, which is a snapshot of a detekt run that can be used to suppress a group of inspections for future runs of detekt. Using a baseline is a two-step process:</p><p>Create the baseline with the <code>detektBaseline</code> task. detekt will run and then store all its findings in a baseline file in XML format, with the filename and line of each finding. You can then subsequently run detekt as usual with the <code>detekt</code> command. detekt will not report any issues which are listed in the baseline.</p><p>Here is an example of how a baseline file looks for a simple project with a couple of findings:</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SmellBaseline</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ManuallySuppressedIssues</span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CurrentIssues</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ID</span><span class="token punctuation">&gt;</span></span>ImplicitUnitReturnType:HelloWorld.kt$Hello$fun </span>
<span class="line">    aFunctionWithImplicitUnitReturnType()<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ID</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>CurrentIssues</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SmellBaseline</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Baselines are also common in other static analysers and are a great tool to incrementally introduce and enable new rules to your codebase. They can also be useful when dealing with legacy code or massive codebases contributed to by multiple developers.</p><hr><h2 id="writing-your-first-detekt-rule" tabindex="-1"><a class="header-anchor" href="#writing-your-first-detekt-rule"><span>Writing your first detekt Rule</span></a></h2><p>Now that you know the basics of how to use detekt, it&#39;s time to learn how to write a custom rule to run your own inspection.</p><h3 id="setting-up-your-rule-project" tabindex="-1"><a class="header-anchor" href="#setting-up-your-rule-project"><span>Setting up your rule project</span></a></h3><p>To get you up to speed with new detekt rules, you can use the official template for custom rules:</p><div class="vp-site-info" data-name="detekt/detekt-custom-rule-template"><a class="vp-site-info-navigator no-external-link-icon" title="detekt/detekt-custom-rule-template" href="https://github.com/detekt/detekt-custom-rule-template/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://opengraph.githubassets.com/bc0e10892384361b9ecb8edd8c9aae26d225ecb04bca4cf5a4f24408ca02f229/detekt/detekt-custom-rule-template) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://github.githubassets.com/favicons/favicon-dark.svg" alt loading="lazy" no-view><div class="vp-site-info-name">detekt/detekt-custom-rule-template</div><div class="vp-site-info-desc">A template to create custom rules for detekt</div></div><!----></div><p>This will scaffold a new project for you with all the files needed to create a new rule. The crucial files to look into are:</p><p>.<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>src/main/kotlin/org/example/detekt/</code><i class="vp-icon iconfont icon-kotlin" sizing="height"></i><code>MyRule.kt</code> - the code of your rule. This is where your inspection logic will live. <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>src/main/kotlin/org/example/detekt/</code><i class="vp-icon iconfont icon-kotlin" sizing="height"></i><code>MyRuleSetProvider.kt</code> - the code of your ruleset. In order to be used, your rule needs to live inside a ruleset, which allows you to add multiple custom rules and distribute all of them together. .<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>src/main/resources/config/</code><i class="vp-icon iconfont icon-yaml" sizing="height"></i><code>config.yml</code> - the default config file for your rule. This is used to offer the default configuration for your rules.</p><p>Please note that detekt uses the Java Service Provider API, so the file inside <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>src/main/resources/META-INF/services</code> is also needed to properly discover your ruleset. The template also comes with two tests that can help you write your rule.</p><h3 id="coding-your-rule" tabindex="-1"><a class="header-anchor" href="#coding-your-rule"><span>Coding your rule</span></a></h3><p>When writing custom rules, the best approach to follow is Test-driven Development (TDD).</p><p>Let&#39;s write a rule that flags usages of <code>System.out.println()</code> and suggests replacing them with Kotlin&#39;s <code>println()</code>. So, the following code will flag the first statement but not the second:</p><div class="kotlin-playground-wrapper"><div class="header">2</div><div class="kotlin-playground-container"><div class="kotlin-playground" theme="default"><pre>fun main() {
    // Non compliant
    System.out.print(&quot;Hello&quot;)

    // Compliant
    println(&quot;World!&quot;)
}
</pre><!----></div></div></div><p>Let&#39;s open the <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>src/test/kotlin/org/example/detekt/</code><i class="vp-icon iconfont icon-kotlin" sizing="height"></i><code>MyRuleTest.kt</code> and code our intention. A rule test looks as follows:</p><div class="kotlin-playground-wrapper"><div class="header">3</div><div class="kotlin-playground-container"><div class="kotlin-playground" theme="default" data-target-platform="junit"><pre>@KotlinCoreEnvironmentTest
internal class MyRuleTest(
   private val env: KotlinCoreEnvironment
) {
  @Test
  fun `reports usages of System_out_println`() {
    val code = &quot;&quot;&quot;
    fun main() {
        System.out.println(&quot;Hello&quot;)
    }
    &quot;&quot;&quot;.trimIndent()
    
    val findings = MyRule(Config.empty)
                    .compileAndLintWithContext(env, code)
    // findings shouldHaveSize 1
  }

  @Test
  fun `does not report usages Kotlin&#39;s println`() {
    val code = &quot;&quot;&quot;
      fun main() {
          println(&quot;Hello&quot;)
      }
      &quot;&quot;&quot;.trimIndent()

    val findings = MyRule(Config.empty)
                    .compileAndLintWithContext(env, code)
    // findings shouldHaveSize 0
  }
}
</pre><!----></div></div></div><p>:::</p><!-- TODO: ÌôúÏÑ±Ìôî --><p>This test allows us to follow a declarative approach for our rule and define all of its requirements. Moreover, it is a great source of documentation for our rule, as other developers can immediately see which code triggers this inspection and which should not.</p><p>If we try to run these tests, they will both fail. Let&#39;s open the <i class="vp-icon iconfont icon-kotlin" sizing="height"></i><code>MyRule.kt</code> and code our rule.</p><p>The <i class="vp-icon iconfont icon-kotlin" sizing="height"></i><code>MyRule.kt</code> file created by the template looks like this:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="MyRule.kt"><span>MyRule.kt</span></div><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">class</span> <span class="token function">MyRule</span><span class="token punctuation">(</span>config<span class="token operator">:</span> Config<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Rule</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">override</span> <span class="token keyword">val</span> issue <span class="token operator">=</span> <span class="token function">Issue</span><span class="token punctuation">(</span></span>
<span class="line">        javaClass<span class="token punctuation">.</span>simpleName<span class="token punctuation">,</span></span>
<span class="line">        Severity<span class="token punctuation">.</span>CodeSmell<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-literal singleline"><span class="token string">&quot;Custom Rule&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">        Debt<span class="token punctuation">.</span>FIVE_MINS<span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">visitClass</span><span class="token punctuation">(</span>klass<span class="token operator">:</span> KtClass<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Let&#39;s walk through the code. We start by extending an external class provided by detekt: our rule is a class called <code>MyRule</code>, which extends detekt&#39;s <code>Rule</code> class. The <code>Config</code> parameter we pass to the constructor is what we can use to access the configuration file.</p><p><code>Rule</code> is actually an abstract class and requires us to implement the <code>issue</code> property, which is a representation of the issue this rule is currently reporting; it contains the error message and information about the severity of the issue. Each rule can report one or more of these issues.</p><p>detekt performs code quality analysis and allows the Abstract Syntax Tree to be visited by overriding one of the various <code>visit*</code> methods. In the template, we implement the <code>visitClass</code> method that will allow each <code>class</code> declaration to be inspected.</p><p>As our rule is designed to inspect expressions, we need to implement the <code>visitDotQualifiedExpression</code> instead[^9]. To implement our rule, we&#39;ll have to implement the method as follows:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="MyRule.kt"><span>MyRule.kt</span></div><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">class</span> <span class="token function">MyRule</span><span class="token punctuation">(</span>config<span class="token operator">:</span> Config<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Rule</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">val</span> issue <span class="token operator">=</span> <span class="token comment">//...</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">visitDotQualifiedExpression</span><span class="token punctuation">(</span></span>
<span class="line">    expression<span class="token operator">:</span> KtDotQualifiedExpression</span>
<span class="line">  <span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">visitDotQualifiedExpression</span><span class="token punctuation">(</span>expression<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>expression<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;System.out.println&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">report</span><span class="token punctuation">(</span><span class="token function">CodeSmell</span><span class="token punctuation">(</span></span>
<span class="line">        issue<span class="token punctuation">,</span></span>
<span class="line">        Entity<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>expression<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-literal singleline"><span class="token string">&quot;Use Kotlin stdlib&#39;s println instead.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>This implementation of <code>visitDotQualifiedExpression</code> checks if the expression starts with <code>System.out.println</code>; if it does, it reports an issue for it and invokes the <code>report</code> function from detekt. This also allows you to attach an error message and information on the relevant line and column.</p><p>It&#39;s worth noting that the first statement of <code>visit‚Ä¶</code> is a call to the superclass implementation of this method. This is needed to make sure we don&#39;t break the visitor pattern and is generally good practice when using inheritance.</p><p>If you try to run all tests again, you will see that they pass the tests, thus verifying that our rule implementation is correct.</p><p>Once you get more experienced with writing rules, you&#39;ll probably notice how using TDD (Test-driven Development) is a great approach. You can declare the snippets of code you wish to be flagged and then code your rule so that all your tests are green.</p><h3 id="using-your-rule" tabindex="-1"><a class="header-anchor" href="#using-your-rule"><span>Using your rule</span></a></h3><p>Now that you‚Äôve written and tested your rule, the last part is distributing it and letting others use it.</p><p>Your rule should be published to a Maven Repository[^11] and consumed like any other dependency in a Gradle project, but you‚Äôll be using a <code>detektPlugin</code> dependency instead of an <code>implementation</code> dependency.</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="build.gradle.kt"><span>build.gradle.kt</span></div><div class="language-groovy line-numbers-mode" data-highlighter="prismjs" data-ext="groovy"><pre><code class="language-groovy"><span class="line">plugins <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">kotlin</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;jvm&quot;</span></span><span class="token punctuation">)</span> version <span class="token interpolation-string"><span class="token string">&quot;...&quot;</span></span></span>
<span class="line">    <span class="token function">id</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;io.gitlab.arturbosch.detekt&quot;</span></span><span class="token punctuation">)</span> version <span class="token interpolation-string"><span class="token string">&quot;...&quot;</span></span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">dependencies <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">detektPlugin</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;org.example:detekt-custom-rule:...&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Users will then have to activate your rule in their config file:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="config.yaml"><span>config.yaml</span></div><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token punctuation">...</span></span>
<span class="line"><span class="token key atrule">MyRuleSet</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">MyRule</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line"><span class="token punctuation">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>And they‚Äôll start seeing findings when they run detekt normally:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">./gradlew build</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># &gt; Task :example:detekt FAILED</span></span>
<span class="line"><span class="token comment"># /tmp/example/src/main/java/Main.kt:2:11: </span></span>
<span class="line"><span class="token comment">#   Use Kotlin stdlib&#39;s println instead. [MyRule]</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># [...]</span></span>
<span class="line"><span class="token comment"># BUILD FAILED in 470ms</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="rules-with-type-resolution" tabindex="-1"><a class="header-anchor" href="#rules-with-type-resolution"><span>Rules with type resolution</span></a></h3><p>This is a really simple rule that relies only on syntactic information as we treat code as just text. It&#39;s a good start and will cover most use cases, but a more precise way to perform these inspections would be to have a richer Abstract Syntax Tree which has type information. The current implementation does not ensure that the <code>System.out.println</code> you&#39;re invoking comes from the <code>java.lang</code> package and not from another <code>System</code> class the user created in their project.</p><p>To have access to richer Abstract Syntax trees, we would need to use a more advanced type of rule. These rules rely not on a single file but on the compile-time information for the entire project so that they can retrieve type information computed by the Kotlin compiler for every declaration and identifier. It&#39;s outside the scope of this book to deep dive into compiler topics or the PSI API as these are quite extensive and would probably require their own book to cover in detail.</p><p>You can find plenty of examples of more advanced rules in the detekt codebase, which can be used as a source of inspiration for your custom rules.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>In this chapter, we‚Äôve discovered what static analysers are and which types of analyses they can perform. We‚Äôve learned what the differences are between formatters, code quality analysers, data-flow analysers, and other types of analysers.</p><p>The Kotlin ecosystem is bursting with tools which offer all sorts of capabilities and can be integrated in the vast majority of projects. Some of these are first-party tools, like the Kotlin Compiler or IntelliJ IDEA, while others are community contributions, like detekt.</p><p>We‚Äôve also learned how you can easily integrate detekt as part of your project, and how you can use the detekt config file and the baseline feature to incrementally adopt it in your projects.</p><p>But the real power of static analysers comes from their extensibility, which is why this chapter has shown you how to write your own custom detekt rules.</p><p>[0^]: Here we oversimplify the unused variable inspection. There are a variety of cases where you need to keep a variable even if it&#39;s not accessed; for instance, <code>public</code> definitions in a library module can&#39;t be removed if never accessed. If you&#39;re keen to learn more about this inspection, check the <code>UnusedPrivateMember</code> inspection <a href="https://detekt.dev/docs/rules/style/#unusedprivatemember" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>page</a>. [1^]: You can read more about the history of the Lint tool on the <a href="https://en.wikipedia.org/wiki/Lint_(software)" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-wikipedia-w" sizing="height"></i>Lint (software) Wikipedia page</a> [3^]: Kotlin has two popular guidelines, <a href="https://kotlinlang.org/docs/coding-conventions.html" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-jetbrains" sizing="height"></i>JetBrain&#39;s Coding Convention</a> and <a href="https://developer.android.com/kotlin/style-guide" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>Google&#39;s Kotlin style guide</a>. [4^]: If you&#39;re curious about this type of inspection, check the <code>ForbiddenMethodCalls</code> inspection <a href="https://detekt.dev/docs/rules/style/#forbiddenmethodcall" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>source code</a>. [5^]: An interesting read is the <a href="https://kotlinlang.org/spec/control--and-data-flow-analysis.html" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-jetbrains" sizing="height"></i>Control- and data-flow analysis chapter</a> of the Kotlin language spec. [7^]: detekt already has such a rule called <code>ForbiddenMethodCalls</code>, which allows you to specify the methods you want to forbid. [8^]: You can find more information on the <code>DontDowncastCollectionTypes</code> rule on its dedicated <a href="https://detekt.dev/docs/rules/potential-bugs/#dontdowncastcollectiontypes" target="_blank" rel="noopener noreferrer">page</a> [9^]: For the sake of brevity, we won‚Äôt explain every API that PSI and detekt expose for running inspections, but let&#39;s clarify the <code>visitDotQualifiedExpression</code> method. A dot-qualified expression is, as the name suggests, an expression which has a dot in it (e.g.., a fully qualified method call). We&#39;re interested in finding <code>System.out.println</code> calls, which are not fully qualified method calls (as they would be <code>java.lang.System.out.println</code>) but they have a dot in them, so they are treated as dot-qualified expressions in the AST. [10^]: There is an <a href="https://youtrack.jetbrains.com/issue/KT-8087" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-jetbrains" sizing="height"></i>open issue</a> on JetBrains Issue Tracker about this specific problem. [11^]: You don&#39;t necessarily need to publish to a remote repository like Maven Central. While testing, you can use Maven Local, which publishes the rule on your local computer, or you can use an internal repository for your organization. [12^]: A common example of static analysers is spellcheckers. You probably use one daily when you write documents or emails. Similarly, a compiler also is a form of static analyser as it exposes warnings while it compiles your code. [13^]: Please consider this simplified snippet as an example. In reality, even if you don&#39;t simplify this snippet, the compiler will do so for you during compilation.</p><!-- TODO: add ARTICLE CARD --><a class="vp-card" href="https://chanhi2000.github.io/bookshelf/kt.academy/ak-static-analysis.html" target="_blank" style="background:rgba(243,139,49,0.2);"><img class="vp-card-logo" src="https://kt.academy/logo.png" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Static Code Analysers</div><hr><div class="vp-card-desc">All you need to know about Static Code Analysers and Detekt.</div></div></a></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/bookshelf/edit/main/src/kt.academy/ak-static-analysis.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/programming/java/articles/" aria-label="/programming/java/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/programming/java/articles/</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright ¬© 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><div class="vp-copyright">Copyright ¬© 2026 Nicola Corti </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BItykJLQ.js" defer></script>
  </body>
</html>
