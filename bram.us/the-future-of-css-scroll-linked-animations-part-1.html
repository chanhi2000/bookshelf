<!doctype html>
<html lang="en-US" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.99" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)","image":["https://bram.us/wordpress/wp-content/uploads/2021/02/css-scroll-linked-animations.png"],"datePublished":"2021-02-23T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"Bramus!","url":"https://bram.us/author/bramus/"}]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html"><meta property="og:site_name" content="üìöBookshelf"><meta property="og:title" content="The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)"><meta property="og:description" content="Article(s) > The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)"><meta property="og:type" content="article"><meta property="og:image" content="https://bram.us/wordpress/wp-content/uploads/2021/02/css-scroll-timeline-parallax-cover-to-sticky-header-short-10fps.gif"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://bram.us/wordpress/wp-content/uploads/2021/02/css-scroll-timeline-parallax-cover-to-sticky-header-short-10fps.gif"><meta name="twitter:image:alt" content="The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)"><meta property="article:author" content="Bramus!"><meta property="article:tag" content="css"><meta property="article:tag" content="bram.us"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2021-02-23T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1) | üìöBookshelf</title><meta name="description" content="Article(s) > The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)">
    <link rel="preload" href="/bookshelf/assets/style-Bhb-QcDa.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-Bhb-QcDa.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">üìöBookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="oddbird.net"><!--[--><img class="vp-icon" src="https://oddbird.net/safari-pinned-tab.svg" alt aria-hidden no-view sizing="both"><!--]-->oddbird.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/zeroheight.com/" aria-label="zeroheight.com"><!--[--><img class="vp-icon" src="https://zeroheight.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->zeroheight.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/typescript.tv/" aria-label="typescript.tv"><!--[--><img class="vp-icon" src="https://typescript.tv/_astro/android-chrome-192x192.BhQ8hcWh.png" alt aria-hidden no-view sizing="both"><!--]-->typescript.tv<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/bram.us/" aria-label="bram.us"><!--[--><img class="vp-icon" src="https://bram.us/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->bram.us<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/una.im/" aria-label="una.im"><!--[--><img class="vp-icon" src="https://una.im/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->una.im<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/joshwcomeau.com/" aria-label="joshwcomeau.com"><!--[--><img class="vp-icon" src="https://joshwcomeau.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->joshwcomeau.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tip.com/" aria-label="css-tip.com"><!--[--><img class="vp-icon" src="https://css-tip.com/img/fav.png" alt aria-hidden no-view sizing="both"><!--]-->css-tip.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/nerdy.dev/" aria-label="nerdy.dev"><!--[--><img class="vp-icon" src="https://nerdy.dev/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->nerdy.dev<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnkube.com/" aria-label="learnkube.com"><!--[--><img class="vp-icon" src="https://static.learnkube.com/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnkube.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/bookshelf" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><!----></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="https://bram.us/favicon.ico" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">bram.us</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2025</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2024</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2023</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2022</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2021</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/a-first-look-at-container-query-polyfill-a-polyfill-for-css-container-queries.html" aria-label="A first look at container-query-polyfill, a polyfill for CSS Container Queries"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A first look at container-query-polyfill, a polyfill for CSS Container Queries<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/the-future-of-css-cascade-layers-css-at-layer.html" aria-label="The Future of CSS: Cascade Layers (CSS @layer)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Future of CSS: Cascade Layers (CSS @layer)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/the-large-small-and-dynamic-viewports.html" aria-label="The Large, Small, and Dynamic Viewports"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Large, Small, and Dynamic Viewports<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/a-first-look-at-cqfill-a-polyfill-for-css-container-queries.html" aria-label="A first look at CQFill, a Polyfill for CSS Container Queries"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A first look at CQFill, a Polyfill for CSS Container Queries<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/css-container-queries-a-first-look-and-demo.html" aria-label="CSS Container Queries: A First Look + Demo"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS Container Queries: A First Look + Demo<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html" aria-label="The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2020</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2019</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2017</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2016</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="https://bram.us/wordpress/wp-content/uploads/2021/02/css-scroll-timeline-parallax-cover-to-sticky-header-short-10fps.gif" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon fa-brands fa-css3-alt" sizing="height"></i>The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)</h1><div class="page-info"><span class="page-author-info" aria-label="Authorüñä" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://bram.us/author/bramus/" target="_blank" rel="noopener noreferrer">Bramus!</a></span><span property="author" content="Bramus!"></span></span><!----><span class="page-date-info" aria-label="Writing DateüìÖ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2/23/21</span><meta property="datePublished" content="2021-02-23T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time‚åõ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 15 min</span><meta property="timeRequired" content="PT15M"></span><span class="page-category-info" aria-label="Categoryüåà" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color7" role>CSS</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="CSS,Article(s)"></span><span class="page-tag-info" aria-label="Tagüè∑" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color2" role>bram.us</span><span class="page-tag-item color2" role>css</span><!--]--><meta property="keywords" content="blog,bram.us,css"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"><span>The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1) Í¥ÄÎ†®</span></a></h1><a class="route-link vp-card" href="/bookshelf/programming/css/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="/bookshelf/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">CSS > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html#primer-scroll-linked-animations-vs-scroll-triggered-animations" class="router-link-active router-link-exact-active">Primer: Scroll-Linked Animations vs. Scroll-Triggered Animations</a></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html#your-first-scroll-linked-animation-progress-bar-demo" class="router-link-active router-link-exact-active">Your first Scroll-Linked Animation (Progress Bar Demo)</a></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html#tweaking-the-offsets-parallax-cover-demo" class="router-link-active router-link-exact-active">Tweaking the Offsets (Parallax Cover Demo)</a></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html#changing-the-scroll-orientation" class="router-link-active router-link-exact-active">Changing the Scroll Orientation</a></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html#changing-the-scroll-container-in-page-gallery-demo" class="router-link-active router-link-exact-active">Changing the Scroll Container (In-Page Gallery Demo)</a></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html#in-between-summary" class="router-link-active router-link-exact-active">In-Between Summary</a></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html#more-demos" class="router-link-active router-link-exact-active">More Demos</a></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html#in-closing" class="router-link-active router-link-exact-active">In Closing</a></li></ul></nav><hr><div class="vp-site-info" data-name="The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)"><a class="vp-site-info-navigator no-external-link-icon" title="The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)" href="https://bram.us/2021/02/23/the-future-of-css-scroll-linked-animations-part-1/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://bram.us/wordpress/wp-content/uploads/2021/02/css-scroll-timeline-parallax-cover-to-sticky-header-short-10fps.gif) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://bramu.us/favicon.ico" alt loading="lazy" no-view><div class="vp-site-info-name">The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)</div><div class="vp-site-info-desc">The ‚ÄúScroll-linked Animations Specification‚Äù is an upcoming addition to CSS that defines a way for creating animations that are linked to a scroll offset of a scroll container. Let&#39;s take a look at how it works and what results we can achieve with it.</div></div><!----></div><p>::: critical üö® UPDATE</p><p>The Scroll-Linked Animations Specification and its proposed syntax have undergone a major rewrite. This post details an older version of the syntax and has not been updated to reflect these changes.**</p><p>Do note that the concept of a Scroll-Linked Animation still stands, it‚Äôs only the syntax that has changed since writing this. Please refer to <a href="https://developer.chrome.com/articles/scroll-driven-animations/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-chrome" sizing="height"></i>developer.chrome.com/articles/scroll-driven-animations/</a> for an article with examples that use the updated syntax.</p><p>:::</p><div></div><p>The <a href="https://drafts.csswg.org/scroll-animations-1/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>Scroll-linked Animations Specification</a> is an upcoming addition to CSS that defines a way for creating animations that are linked to a scroll offset of a scroll container. Even though the specification is still in draft, and in no way finalized nor official, it already has experimental support in Chromium.</p><p>The past few weeks I‚Äôve been playing with the CSS <code>@scroll-timeline</code> at-rule and the <code>animation-timeline</code> CSS property this specification provides. By combining these two features with regular CSS Animations we can create Scroll-Linked Animations using only CSS ‚Äî not a single line of JavaScript in sight!</p><p>In this first part of this series we‚Äôll take a look at Scroll-Linked Animations between two absolute scroll-offsets, and how we can tweak them. In the second part of this series (<a class="route-link" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-2.html"><strong>published here</strong></a>) we‚Äôll cover how to create Scroll-Linked Animations based on the location of an element within the scroller.</p><div class="hint-container info"><p class="hint-container-title">Info</p><p>üí• To keep your primary Chrome install clean, I recommend you do not set this in Chrome Stable, but resort to Beta / Canary builds.</p><p>üëÄ If you don‚Äôt understand how to do this, or don‚Äôt feel safe doing this, fear not: This post also includes recordings and/or fallback versions using JavaScript for most of the demos.</p><p>üíÑ While the <a href="https://drafts.csswg.org/scroll-animations-1/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>Scroll-Linked Animations Specification</a> also describes a JavaScript interface, the main focus of this post will be its CSS counterpart. The JS alternatives won‚Äôt be covered in detail.</p></div><h3 id="primer-scroll-linked-animations-vs-scroll-triggered-animations" tabindex="-1"><a class="header-anchor" href="#primer-scroll-linked-animations-vs-scroll-triggered-animations"><span>Primer: Scroll-Linked Animations vs. Scroll-Triggered Animations</span></a></h3><p>Before we jump into the CSS code, there‚Äôs this difference that we need to make between Scroll-Linked Animations and Scroll-Triggered Animations</p><p><strong>Scroll-Linked Animations are animations are linked to the scroll offset of a scroll container.</strong> As you scroll back and forth the scroll container, you will see the animation timeline advance or rewind as you do so. If you stop scrolling, the animation will also stop.</p><p>Think of a progress bar shown on top of a page, where there is a direct link between the scroll progress and size of the progress bar. Hit the ‚èÆ and ‚è≠ buttons in the visualization below to see how it behaves.</p><div class="codepen-wrapper codepen-wvodbeV"><!----><span>See <a>Scroll-Linked Animations Visualization: Progressbar</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p><strong>Scroll-Triggered Animations are animations that are triggered when scrolling past a certain position.</strong> Once triggered, these animations start and finish on their own, independent of whether you keep scrolling or not.</p><p>Think of those typical ‚Äúcontent flies in as it enters the viewport‚Äù animations. Hit the ‚èÆ and ‚è≠ buttons in the visualization below to see how it behaves.</p><div class="codepen-wrapper codepen-WNojqop"><!----><span>See <a>Scroll-Triggered Animations Visualization: Fly-In Content</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><h3 id="your-first-scroll-linked-animation-progress-bar-demo" tabindex="-1"><a class="header-anchor" href="#your-first-scroll-linked-animation-progress-bar-demo"><span>Your first Scroll-Linked Animation <em>(Progress Bar Demo)</em></span></a></h3><p>Instead of getting technical straight away, let‚Äôs take a look at a Progress Bar that is implemented using Scroll-Linked Animations, and dissect it from there.</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-0" aria-selected="true">CSS <code>@scroll-timeline</code> Version</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-1" aria-selected="false">JS WAAPI + <code>ScrollTimeline</code> Version</button></div><!--[--><div class="vp-tab active" id="v-0" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">CSS <code>@scroll-timeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-WNGLpyV"><!----><span>See <a>Scroll-Linked Animations: Progress Bar (@scroll-timeline version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><div class="vp-tab" id="v-1" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">JS WAAPI + <code>ScrollTimeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-wvoqoxb"><!----><span>See <a>Scroll-Linked Animations: Progress Bar (WAAPI version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><!--]--></div><p>What you see there ‚Äî if your browser supports it ‚Äî is a scrollbar that progresses from 0 to 100% as you scroll down the page. <strong>All this is done using only CSS, and running in a non-blocking way on the compositor thread (e.g. ‚Äúoff main thread‚Äù)!</strong> ü§©</p><p>Apart from positioning and what not, the code that drives this demo is this little piece of CSS:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token comment">/* (1) Define Keyframes */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> adjust-progressbar</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* (2) Define a ScrollTimeline */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@scroll-timeline</span> progressbar-timeline</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* (3) Attach the Animation + set the ScrollTimeline as the driver for the Animation */</span></span>
<span class="line"><span class="token selector">#progressbar</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> 1s linear forwards adjust-progressbar<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> progressbar-timeline<span class="token punctuation">;</span> <span class="token comment">/* üëà THIS! */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We recognise 3 key components that we need to make it all work:</p><ol><li><a href="#an-animation">An Animation</a></li><li><a href="#the-scroll-timeline">A Scroll Timeline</a></li><li><a href="#linking-up-both">A way to link both</a></li></ol><h4 id="the-animation" tabindex="-1"><a class="header-anchor" href="#the-animation"><span>The Animation</span></a></h4><p>This is a <strong>a regular CSS Animation</strong>. In case of our progress bar it‚Äôs an animation that goes from zero width to full width.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> adjust-progressbar</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">#progressbar</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">transform-origin</span><span class="token punctuation">:</span> 0 50%<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> 1s linear forwards adjust-progressbar<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There‚Äôs a few things to note about this animation:</p><ul><li>To optimize this animation for the browser we don‚Äôt animate the <code>width</code> property, but fixate the <code>width</code> to <code>100vw</code> and animate <code>transform: scaleX(‚Ä¶);</code> instead. To make that work properly we have to set the <code>transform-origin</code> to the left edge of the element.</li><li>To prevent a FOUC we apply the start <code>scaleX(0);</code> transform directly onto the <code>#progressbar</code> element.</li><li>To make sure this animation remains in its end state when it has finished, we set <code>animation-fill-mode</code> to <code>forwards</code>.</li><li>The values for <code>animation-duration</code> (<code>1s</code>) and <code>animation-timing-function</code> (<code>linear</code>) look like they are chosen arbitrarily here, but they‚Äôre not. We‚Äôll dig into these further down.</li></ul><p>Now, if you implement this piece of CSS as-is, you‚Äôll see this animation run all by itself. This is because we have not created nor linked a Scroll Timeline yet, which follow next.</p><h4 id="the-scroll-timeline" tabindex="-1"><a class="header-anchor" href="#the-scroll-timeline"><span>The Scroll Timeline</span></a></h4><p>As we scroll through the document from top to bottom we want our animation to also go from start <em>(no visible progress bar)</em> to finish <em>(full-width progress bar)</em>. For this we need a <strong>Scroll Timeline</strong>. It is a type of timeline that can map scroll-progression of a scroll container to animation-progress of linked animation.</p><p>To define a ScrollTimeline in CSS, we can use the new <code>@scroll-timeline</code> at-rule, give it name, and configure it using <em>descriptors</em>:</p><ol><li><code>source</code></li><li><code>orientation</code></li><li><code>scroll-offsets</code></li></ol><p>For our Progress Bar our Scroll Timeline looks like this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@scroll-timeline</span> progress-timeline</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The created Scroll Timeline here has been given the name of <code>progress-timeline</code>, but it hasn‚Äôt been tweaked/configured. That‚Äôs not necessary either, as it will fall back to default values for <code>source</code>, <code>orientation</code>, and <code>scroll-offsets</code>.</p><p>By default a Scroll Timeline behaves as follows: as you scroll the document from top to bottom <em>(e.g. from <code>0%</code> to <code>100%</code> Scroll Progress)</em>, the linked animation will also advance from <code>0%</code> to <code>100%</code> Animation Progress ‚Ä¶ which is exactly what we need for a progress bar üôÇ</p><p>As our <code>animation-duration</code> is set to <code>1s</code> in step 1, our scroll-distance-to-animation-progress mapping will automatically look like this:</p><ul><li><code>0%</code> Scroll Progress equals <code>0s</code> Animation Progress.</li><li><code>100%</code> Scroll Progress equals <code>1s</code> Animation Progress.</li></ul><p><em>(All values in between are interpolated, so <code>50%</code> Scroll Progress will equal <code>0.5s</code> Animation Progress)</em></p><div class="hint-container note"><p class="hint-container-title">Update 2021.06.25</p><p>An earlier version of the Scroll-Linked Animations specification required you to define a <code>time-range</code> here. This descriptor has been scrapped, and the contents of this post have been updated to reflect that. You can still find traces of it in the demos though, but you can simply ignore it.</p></div><details class="hint-container details"><summary>ü§î If you‚Äôre curious about <code>time-range</code>, you can click open this box to know what it did and how it worked ‚Ä¶</summary><p>The <code>time-range</code> descriptor is of the CSS <code>&lt;time&gt;</code> Data Type. It does not represent the time of a clock, but it is a number that maps Scroll Progress (or Scroll Distance) to Animation Progress. It gives an answer to the question <em>‚ÄúHow much animation time should pass when we scroll from start to finish in the scroll container?‚Äù</em></p><p>As we have defined our <code>animation-duration</code> to be <code>1s</code> from start to finish, <strong>we want our <code>time-range</code> to reflect that same duration</strong>, namely <code>1s</code>: Scrolling from top to bottom <em>(e.g. from <code>0%</code> to <code>100%</code>)</em> should advance the animation by <code>1s</code>.</p><p>You can play with several combinations in this visualzation/tool:</p><div class="codepen-wrapper codepen-jOyaYPp"><!----><span>See <a>Scroll-Linked Animations: time-range helper</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div></details><div class="hint-container tip"><p class="hint-container-title">üî•</p><p>Always set <code>time-range</code> to the exact same time as the <code>animation-duration</code>, unless you have a very good reason not to.</p></div><h4 id="linking-up-both" tabindex="-1"><a class="header-anchor" href="#linking-up-both"><span>Linking up both</span></a></h4><p>To associate our <code>@scroll-timeline</code> with our CSS Animation we use the new <code>animation-timeline</code> CSS property, and have it refer to the timeline‚Äôs name.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">#progressbar</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> 1s linear forwards adjust-progressbar<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> progressbar-timeline<span class="token punctuation">;</span> <span class="token comment">/* üëà THIS! */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This is the part where our <code>animation-timing</code> value of <code>linear</code> comes into play: it enforces a 1-on-1 mapping between Scroll Progress and Animation Progress. If we were to set our timing to something like <code>ease-in</code> instead, we‚Äôd see our progress bar be too slow at the beginning and speed up towards the end as we scroll. This feels really weird to be honest.</p><div class="hint-container tip"><p class="hint-container-title">üî•</p><p>Always set <code>animation-timing-function</code> to <code>linear</code> when working with <code>@scroll-timeline</code>.</p></div><h3 id="tweaking-the-offsets-parallax-cover-demo" tabindex="-1"><a class="header-anchor" href="#tweaking-the-offsets-parallax-cover-demo"><span>Tweaking the Offsets <em>(Parallax Cover Demo)</em></span></a></h3><p>By default a <code>@scroll-timeline</code> will be linked to scrolling vertically from top to bottom across the document. But what if we our animation to start/stop when having scrolled for a specific <em>(~ fixed)</em> distance? This is where the <code>scroll-offsets</code> descriptor comes into play.</p><div class="hint-container note"><p class="hint-container-title">Update</p><p>üòµ As reader Patrick H Lauke <a href="https://x.com/patrick_h_lauke/status/1364171258305409027" target="_blank" rel="noopener noreferrer">points out (<i class="vp-icon fa-brands fa-x-twitter" sizing="height"></i><code>patrick_h_lauke</code>)</a> you might want to go easy with the type of animation shown below in case visitors request so, by respecting the setting of <a class="route-link" href="/bookshelf/css-tricks.com/introduction-reduced-motion-media-query.html"><strong><code>prefers-reduced-motion</code></strong></a>.</p></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-2" aria-selected="true">CSS <code>@scroll-timeline</code> Version</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-3" aria-selected="false">JS WAAPI + <code>ScrollTimeline</code> Version</button></div><!--[--><div class="vp-tab active" id="v-2" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">CSS <code>@scroll-timeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-oNzQbZE"><!----><span>See <a>Scroll-Linked Animations: Parallax Cover (@scroll-timeline version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><div class="vp-tab" id="v-3" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">JS WAAPI + <code>ScrollTimeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-ExNwzJg"><!----><span>See <a>Scroll-Linked Animations: Parallax Cover (JS WAAPI + ScrollTimeline version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><!--]--></div><p>In this example we have a full-page (<code>100vh</code>) parallax cover. For it to work correctly we want our animation to begin at the start of the document and to be finished after scrolling <code>100vh</code> into the document (instead of the default ‚Äú<code>100%</code> of the document‚Äù).</p><p>To make this happen we set our Scroll Offsets to <code>0</code> <em>(start)</em> and <code>100vh</code> <em>(end)</em>. The resulting <code>@scroll-timeline</code> definition looks like this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@scroll-timeline</span> parallax-header-timeline</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">scroll-offsets</span><span class="token punctuation">:</span> 0%<span class="token punctuation">,</span> 100vh<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can put any <code>&lt;length&gt;</code> or <code>&lt;percentage&gt;</code> Data Type in there.</p><div class="hint-container info"><p class="hint-container-title">‚òùÔ∏è</p><p>In an earlier version of the spec one had to define the Scroll Offsets using <code>start</code> and <code>end</code> descriptors.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@scroll-timeline</span> parallax-header-timeline</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">start</span><span class="token punctuation">:</span> 0%<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">end</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This is no longer the case, and one should now use the <code>scroll-offsets</code> descriptor instead.</p><p><strong>However, you might still see this older syntax in the demos as Chromium has this older version implemented and is in the process of migrating to the new <code>scroll-offsets</code> syntax</strong></p><a class="vp-card" href="https://issues.chromium.org/issues/40699228/" target="_blank" style="background:rgba(244,245,255,0.2);"><img class="vp-card-logo" src="https://gstatic.com/chrome-tracker/img/chromium.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">[ScrollTimeline] Support multiple scroll offset ranges [40699228] - Chromium</div><hr><div class="vp-card-desc">40699228</div></div></a></div><p>If you want, you can also put in more than two values, but note that your scroll to time mapping might become wonky. That‚Äôs because the set <code>animation-duration</code> will be chunked evenly across the number of <code>scroll-offsets</code>.</p><p>For example, with <code>scroll-offsets: 0vh, 80vh, 100vh;</code> and a <code>animation-duration</code> of <code>1s</code> for example, your scroll-time map will become this:</p><ul><li>At <code>0vh</code> your <code>animation-duration</code> will have advanced to <code>0s</code></li><li>At <code>80vh</code> your <code>animation-duration</code> will have advanced to <code>0.5s</code>, as that <code>80vh</code> is defined <em>‚Äúhalfway the array of values‚Äù</em></li><li>At <code>100vh</code> your <code>animation-duration</code> will have advanced to <code>1s</code></li></ul><div class="hint-container tip"><p class="hint-container-title">üî•</p><p>Always set two values for <code>scroll-offsets</code>, unless you have a specific reason not to.</p></div><div class="hint-container info"><p class="hint-container-title">‚òùÔ∏è</p><p>The <code>scroll-offsets</code> can accept more types of values, which we will cover further down this post.</p></div><h3 id="changing-the-scroll-orientation" tabindex="-1"><a class="header-anchor" href="#changing-the-scroll-orientation"><span>Changing the Scroll Orientation</span></a></h3><p>By default a <code>@scroll-timeline</code> will be linked to scrolling vertically from top to bottom across the document. Using the <code>orientation</code> descriptor we can change this to ‚Äî for example ‚Äî <code>horizontal</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@scroll-timeline</span> example</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">orientation</span><span class="token punctuation">:</span> horizontal<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Use of the <a class="route-link" href="/bookshelf/bram.us/css-logical-properties-and-values-the-next-step-of-css-evolution.html"><strong>logical values</strong></a> <code>inline</code> and <code>block</code> is also allowed. Finally, there‚Äôs also <code>auto</code>.</p><h3 id="changing-the-scroll-container-in-page-gallery-demo" tabindex="-1"><a class="header-anchor" href="#changing-the-scroll-container-in-page-gallery-demo"><span>Changing the Scroll Container <em>(In-Page Gallery Demo)</em></span></a></h3><p>By default a <code>@scroll-timeline</code> will be linked to scrolling vertically from top to bottom across the document. But what if we don‚Äôt want across the document, but inside a specific element? This is where the <code>source</code> descriptor comes into play.</p><p>Below is an example that contains two in-page image galleries/carousels, <a class="route-link" href="/bookshelf/bram.us/simple-scroll-snapping-carousel-flexbox-layout-grid-layout.html"><strong>implemented using scroll-snapping</strong></a>. Each of those have a progress bar attached. To drive these progress bars we need not want to respond to scroll progress in the document, but to scrolling in their own scroll container.</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-4" aria-selected="true">CSS <code>@scroll-timeline</code> Version</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-5" aria-selected="false">JS WAAPI + <code>ScrollTimeline</code> Version</button></div><!--[--><div class="vp-tab active" id="v-4" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">CSS <code>@scroll-timeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-dyOVXoe"><!----><span>See <a>Scroll-Linked Animations: In-Page Gallery (@scroll-timeline version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><div class="vp-tab" id="v-5" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">JS WAAPI + <code>ScrollTimeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-MWbEeEp"><!----><span>See <a>Scroll-Linked Animations: In-Page Gallery (WAAPI version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><!--]--></div><p>To define which scroll container a <code>@scroll-timeline</code> responds to, you need set the <code>source</code> descriptor, and have it target said element. To do so you can use the <code>selector()</code> function as its value. That function requires an <code>&lt;id-selector&gt;</code>, so you‚Äôll need to give your targeted element an <code>id</code> attribute value.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@scroll-timeline</span> example</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">source</span><span class="token punctuation">:</span> <span class="token function">selector</span><span class="token punctuation">(</span>#foo<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As we have two galleries, we need to define two <code>@scroll-timeline</code> instances and connect them to their proper progress bar. And since they are horizontally scrolling ones, we also need to set the <code>orientation</code> descriptor correctly. Our code eventually looks like this:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gallery<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gallery1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gallery__progress<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gallery1__progress<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gallery__scrollcontainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gallery1__scrollcontainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gallery__entry<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>‚Ä¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gallery__entry<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>‚Ä¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> progress</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* #gallery1 */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@scroll-timeline</span> gallery1__timeline</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">source</span><span class="token punctuation">:</span> <span class="token function">selector</span><span class="token punctuation">(</span>#gallery1__scrollcontainer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">orientation</span><span class="token punctuation">:</span> horizontal<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">#gallery1__progress</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* We have 2 photos, with the 1st visible, so we start at 1/2 */</span></span>
<span class="line">  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> 1s linear forwards progress<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> gallery1__timeline<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* #gallery2 */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@scroll-timeline</span> gallery2__timeline</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">source</span><span class="token punctuation">:</span> <span class="token function">selector</span><span class="token punctuation">(</span>#gallery2__scrollcontainer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">orientation</span><span class="token punctuation">:</span> horizontal<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">#gallery2__progress</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* We have 3 photos, with the 1st visible, so we start at 1/3 */</span></span>
<span class="line">  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0.333<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> 1s linear forwards progress<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> gallery2__timeline<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">üòñ</p><p>One thing I find pretty annoying when it comes to this <code>selector()</code> function is that you <strong>must</strong> pass an <code>id</code> into it. This can become pretty cumbersome: with 10 galleries on a page, you need to define 10 almost identical <code>@scroll-timeline</code>s in your code. Only difference between them: the <code>id</code> passed into <code>selector()</code>.</p><p>I consider this to be shortcoming of the specification, and have raised <a href="https://github.com/w3c/csswg-drafts/issues/5884" target="_blank" rel="noopener noreferrer">an issue (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>w3c/csswg-drafts</code>)</a> with the CSSWG: it would be handy if <code>selector()</code> could point to the current element being animated or would accept any selector. That way you can reuse one single <code>@scroll-timeline</code> on multiple elements.</p><p>Relevant CSS WG Issue: <a href="https://github.com/w3c/csswg-drafts/issues/5884" target="_blank" rel="noopener noreferrer">5884 (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>w3c/csswg-drafts</code>)</a></p></div><div class="hint-container info"><p class="hint-container-title">üí°</p><p>If you think you would be able to dynamically set the <code>&lt;id-selector&gt;</code> in <code>source</code> by means of CSS Custom Property, don‚Äôt bother: <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1175284#c4" target="_blank" rel="noopener noreferrer">CSS Variables cannot be used within descriptors</a>.</p></div><h3 id="in-between-summary" tabindex="-1"><a class="header-anchor" href="#in-between-summary"><span>In-Between Summary</span></a></h3><div class="hint-container info"><p class="hint-container-title">üìù</p><p>Before we continue with the really cool stuff that‚Äôs coming up, let‚Äôs summarize what we know so far.</p></div><p>A Scroll Timeline is an interface that lets us map Scroll Progress to Animation Progress. You can define it in CSS using <code>@scroll-timeline</code> with the following descriptors:</p><h4 id="source" tabindex="-1"><a class="header-anchor" href="#source"><span><code>source</code></span></a></h4><p>The scrollable element whose scrolling triggers the activation and drives the progress of the timeline.</p><h4 id="orientation" tabindex="-1"><a class="header-anchor" href="#orientation"><span><code>orientation</code></span></a></h4><p>The direction of scrolling which triggers the activation and drives the progress of the timeline.</p><h4 id="scroll-offsets" tabindex="-1"><a class="header-anchor" href="#scroll-offsets"><span><code>scroll-offsets</code></span></a></h4><p>An array of two or more scroll offsets that constitute the in-progress intervals in which the timeline is active.</p><p>Allowed values for the descriptors:</p><ul><li>By default the <code>source</code> is the document‚Äôs scrolling element <em>(value: <code>auto</code>)</em>, but you can also target an element using <code>selector(&lt;id-selector&gt;)</code></li><li>The <code>orientation</code> is <code>vertical</code> or <code>horizontal</code>. Using logical units <code>inline</code> and <code>block</code> is also possible. The initial value is <code>auto</code>.</li><li>Typically the entries in <code>scroll-offsets</code> are lengths or percentages, but we‚Äôll cover an extra variation in the next part</li></ul><p>To attach a <code>@scroll-timeline</code> to an animation, use the <code>animation-timeline</code> property.</p><div class="hint-container info"><p class="hint-container-title">üíÅ‚Äç‚ôÇÔ∏è</p><p>Like what you see so far? Happen to be conference or meetup organiser? Feel free to <a class="route-link" href="/bookshelf/bram.us/talks/"><strong>contact me to come speak at your event</strong></a>, with a talk covering the contents of this post.</p></div><h3 id="more-demos" tabindex="-1"><a class="header-anchor" href="#more-demos"><span>More Demos</span></a></h3><p>As I have been playing with CSS <code>@scroll-timeline</code> for nearly a month by now, I‚Äôve been making quite a lot of demos. Here‚Äôs a fine selection relevant for this first part of this series:</p><ol><li><a href="#more-demos--parallax-cover-to-sticky-header">Parallax Cover to Sticky Header Demo</a></li><li><a href="#more-demos--full-screen-panels-with-snap-points">Full Screen Panels with Snap Points Demo</a></li><li><a href="#more-demos--full-screen-panels-with-snap-points--revisited">Full Screen Panels with Snap Points Demo, With Navigation Controls</a></li></ol><h4 id="parallax-cover-to-sticky-header-demo" tabindex="-1"><a class="header-anchor" href="#parallax-cover-to-sticky-header-demo"><span>Parallax Cover to Sticky Header Demo</span></a></h4><p>Building further upon the Parallax Cover from earlier on, here‚Äôs a demo that converts a full page Cover Image to a Sticky Header.</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-6" aria-selected="true">CSS <code>@scroll-timeline</code> Version</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-7" aria-selected="false">JS WAAPI + <code>ScrollTimeline</code> Version</button></div><!--[--><div class="vp-tab active" id="v-6" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">CSS <code>@scroll-timeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-ExgOPRw"><!----><span>See <a>Scroll-Linked Animations: Parallax Cover to Sticky Header (@scroll-timeline Version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><div class="vp-tab" id="v-7" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">JS WAAPI + <code>ScrollTimeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-GRjPggQ"><!----><span>See <a>Scroll-Linked Animations: Parallax Cover to Sticky Header (WAAPI + ScrollTimeline Version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><!--]--></div><p>The <code>@scroll-timeline</code> is exactly the same as the Parallax Cover demo, only the animation is a bit different: the <code>color</code>, <code>font-size</code>, and <code>height</code> are also adjusted upon scrolling.</p><p>I couldn‚Äôt use <code>position: sticky;</code> here though, as resizing the cover would shrink down the entire height of the document, and therefore the animation would flicker. Instead I resorted to <code>position: fixed;</code> and added a <code>margin-top</code> of <code>100vh</code> to the text content so that it remains visually below the cover.</p><h4 id="full-screen-panels-with-snap-points-demo" tabindex="-1"><a class="header-anchor" href="#full-screen-panels-with-snap-points-demo"><span>Full Screen Panels with Snap Points Demo</span></a></h4><p>This is a small demo forked from <a href="https://codepen.io/argyleink/pen/XWdNYaY" target="_blank" rel="noopener noreferrer">this demo (<i class="vp-icon fa-brands fa-codepen" sizing="height"></i><code>argyleink</code>)</a> by <a href="https://twitter.com/argyleink" target="_blank" rel="noopener noreferrer">Adam Argyle (<i class="vp-icon fa-brands fa-x-twitter" sizing="height"></i><code>argyleink</code>)</a>, which put CSS <code>@scroll-timeline</code> on my radar <em>(thanks, Adam!)</em>. The page features a 4-panel full-page carousel with numbers that slide into view.</p><p>The demo has been adjusted to use CSS <code>@scroll-timeline</code> and <a href="https://bram.us/2021/01/14/css-mix-blend-mode-not-working-set-a-background-color/" target="_blank" rel="noopener noreferrer">mix-blend-mode: difference;</a>.</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-8" aria-selected="true">CSS <code>@scroll-timeline</code> Version</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-9" aria-selected="false">JS WAAPI + <code>ScrollTimeline</code> Version</button></div><!--[--><div class="vp-tab active" id="v-8" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">CSS <code>@scroll-timeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-QWKzpQe"><!----><span>See <a>Scroll-Linked Animations: Counter and Snap Points (@scroll-timeline version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><div class="vp-tab" id="v-9" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">JS WAAPI + <code>ScrollTimeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-PobKXRj"><!----><span>See <a>Scroll-Linked Animations: Counter and Snap Points (JS WAAPI + ScrollTimeline version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><!--]--></div><p>The <code>/ 4</code> suffix is <code>position: fixed;</code> on the page, and the <code>/</code> character inside spins around <code>1turn</code> per panel that you scroll. As there are 4 panels in total, we spin for a total of <code>3turn</code> from top to bottom of the scroll container.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@scroll-timeline</span> spin-slash</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">source</span><span class="token punctuation">:</span> <span class="token function">selector</span><span class="token punctuation">(</span>#main<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> rotato</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateZ</span><span class="token punctuation">(</span>3turn<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.slash</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> rotato 1s linear<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> spin-slash<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="full-screen-panels-with-snap-points-demo-with-navigation-controls" tabindex="-1"><a class="header-anchor" href="#full-screen-panels-with-snap-points-demo-with-navigation-controls"><span>Full Screen Panels with Snap Points Demo, With Navigation Controls</span></a></h4><p>This demo builds further upon the previous one and adds a navigation bar to it. The active indicator is powered by <code>@scroll-timeline</code>: as you scroll through <code>#main</code>, the active indicator moves to the correct navigation item.</p><p>There are two variants for you to check:</p><ol><li>There is one single active indicator shared amongst all navigation items.</li><li>Each navigation item has its own active indicator.</li></ol><p>I like how in this second example these indicators reflect the percentage each section is in view (or not).</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-10" aria-selected="true">v1, CSS <code>@scroll-timeline</code> Version</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-11" aria-selected="false">v2, CSS <code>@scroll-timeline</code> Version</button></div><!--[--><div class="vp-tab active" id="v-10" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">v1, CSS <code>@scroll-timeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-eYdxZoy"><!----><span>See <a>Scroll-Linked Animations: Counter and Snap Points with Navigation Controls [variant 1] (@scroll-timeline version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><div class="vp-tab" id="v-11" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">v2, CSS <code>@scroll-timeline</code> Version</div><!--[--><div class="codepen-wrapper codepen-yLaZJOp"><!----><span>See <a>Scroll-Linked Animations: Counter and Snap Points with Navigation Controls [variant 2] (@scroll-timeline version)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!--]--></div><!--]--></div><p>In the first version a line is injected underneath the navigation and its <code>left</code> position is adjusted using the same <code>@scroll-timeline</code> as the panels use.</p><p>In the second version each navigation item gets a line injected. The animation to show/hide the line is one shared animation for all items that does both the showing and the hiding:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> reveal-indicator</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">1%</span> <span class="token punctuation">{</span> <span class="token comment">/* We use 1% instead of 0% to prevent rounding/rendering glitches */</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">50%</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">99%</span> <span class="token punctuation">{</span>  <span class="token comment">/* We use 99% instead of 100% to prevent rounding/rendering glitches */</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now it gets tricky though: for each navigation item we create a different <code>@scroll-timeline</code> whose <code>scroll-offsets</code> and <code>time-range</code> vary.</p><ul><li>The default <code>time-range</code> is <code>4s</code></li><li>The first and last items only need half an animation though <em>(as you can‚Äôt scroll past them)</em> so their <code>time-range</code> is set to <code>2s</code></li><li>To fix the first item‚Äôs animation we use a negative <code>animation-delay</code> of <code>-2s</code> on the element itself. That way it‚Äôs animation will start ‚Äútoo soon‚Äù, and will already be at 50% (thus at <code>scaleX(1)</code>) on page load.</li></ul><h3 id="in-closing" tabindex="-1"><a class="header-anchor" href="#in-closing"><span>In Closing</span></a></h3><p>That‚Äôs it for the first part of this series! We‚Äôve covered how to create Scroll-Linked Animations between two absolute scroll-offsets, and how we can tweak our defined <code>@scroll-timeline</code>s.</p><figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/02/css-scroll-linked-animations.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>I hope I‚Äôve been able to get you excited for this possible future addition to CSS throughout this post. Although it still is in its very early stages, I‚Äôm confident this will become a CSS WG Recommendation one day üôÇ</p><p>I‚Äôm glad to see that the Chromium engineers are actively working on this experimental implementation, taking the time to respond to newly reported bugs. I hope that other browser vendors will follow suit soon. Relevant tracking bugs to flag/star/follow:</p><ul><li><a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1023424" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-chrome" sizing="height"></i>Chromium</a></li><li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1676780" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-firefox" sizing="height"></i>Firefox</a></li><li><a href="https://bugs.webkit.org/show_bug.cgi?id=222295" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-safari" sizing="height"></i>Safari</a></li></ul><div class="hint-container note"><p class="hint-container-title">Update 2021.03.04</p><p><a class="route-link" href="/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-2.html"><strong>Part 2 of this series got published. You can read it here.</strong></a></p><p>In part 2 we cover how to create Scroll-Linked Animations based on the location of an element within the scroller, as used in this demo:</p><div></div><p>Video Player</p></div><div class="hint-container info"><p class="hint-container-title">üóÉ</p><p>You can find all demos shown in this post over at CodePen, in a Collection <a href="https://codepen.io/collection/DkdaQK?grid_type=grid" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-codepen" sizing="height"></i>Scroll-Linked Animations: Part 1</a>. It‚Äôd be great if you could ‚ù§Ô∏è the collection and/or the demos you like.</p></div><!-- TODO: add ARTICLE CARD --><a class="vp-card" href="https://chanhi2000.github.io/bookshelf/bram.us/the-future-of-css-scroll-linked-animations-part-1.html" target="_blank" style="background:rgba(17,17,17,0.2);"><img class="vp-card-logo" src="https://bramu.us/favicon.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">The Future of CSS: Scroll-Linked Animations with @scroll-timeline (Part 1)</div><hr><div class="vp-card-desc">The ‚ÄúScroll-linked Animations Specification‚Äù is an upcoming addition to CSS that defines a way for creating animations that are linked to a scroll offset of a scroll container. Let's take a look at how it works and what results we can achieve with it.</div></div></a></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/bookshelf/edit/main/src/bram.us/the-future-of-css-scroll-linked-animations-part-1.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/programming/css/articles/" aria-label="/programming/css/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/programming/css/articles/</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright ¬© 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><div class="vp-copyright">Copyright ¬© 2026 Bramus! </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BItykJLQ.js" defer></script>
  </body>
</html>
