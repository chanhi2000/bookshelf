<!doctype html>
<html lang="en-US" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.99" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"The future of CSS: Higher Level Custom Properties to control multiple declarations","image":["https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png"],"datePublished":"2020-12-31T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"Bramus!","url":"https://bram.us/author/bramus/"}]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html"><meta property="og:site_name" content="üìöBookshelf"><meta property="og:title" content="The future of CSS: Higher Level Custom Properties to control multiple declarations"><meta property="og:description" content="Article(s) > The future of CSS: Higher Level Custom Properties to control multiple declarations"><meta property="og:type" content="article"><meta property="og:image" content="https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png"><meta name="twitter:image:alt" content="The future of CSS: Higher Level Custom Properties to control multiple declarations"><meta property="article:author" content="Bramus!"><meta property="article:tag" content="css"><meta property="article:tag" content="bram.us"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2020-12-31T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>The future of CSS: Higher Level Custom Properties to control multiple declarations | üìöBookshelf</title><meta name="description" content="Article(s) > The future of CSS: Higher Level Custom Properties to control multiple declarations">
    <link rel="preload" href="/bookshelf/assets/style-Bhb-QcDa.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-Bhb-QcDa.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">üìöBookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="oddbird.net"><!--[--><img class="vp-icon" src="https://oddbird.net/safari-pinned-tab.svg" alt aria-hidden no-view sizing="both"><!--]-->oddbird.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/zeroheight.com/" aria-label="zeroheight.com"><!--[--><img class="vp-icon" src="https://zeroheight.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->zeroheight.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/typescript.tv/" aria-label="typescript.tv"><!--[--><img class="vp-icon" src="https://typescript.tv/_astro/android-chrome-192x192.BhQ8hcWh.png" alt aria-hidden no-view sizing="both"><!--]-->typescript.tv<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/bram.us/" aria-label="bram.us"><!--[--><img class="vp-icon" src="https://bram.us/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->bram.us<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/una.im/" aria-label="una.im"><!--[--><img class="vp-icon" src="https://una.im/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->una.im<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/joshwcomeau.com/" aria-label="joshwcomeau.com"><!--[--><img class="vp-icon" src="https://joshwcomeau.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->joshwcomeau.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tip.com/" aria-label="css-tip.com"><!--[--><img class="vp-icon" src="https://css-tip.com/img/fav.png" alt aria-hidden no-view sizing="both"><!--]-->css-tip.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/nerdy.dev/" aria-label="nerdy.dev"><!--[--><img class="vp-icon" src="https://nerdy.dev/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->nerdy.dev<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnkube.com/" aria-label="learnkube.com"><!--[--><img class="vp-icon" src="https://static.learnkube.com/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnkube.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/bookshelf" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><!----></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="https://bram.us/favicon.ico" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">bram.us</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2025</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2024</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2023</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2022</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html" aria-label="The future of CSS: Higher Level Custom Properties to control multiple declarations"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The future of CSS: Higher Level Custom Properties to control multiple declarations<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/help-choose-the-syntax-for-css-nesting.html" aria-label="Help choose the syntax for CSS Nesting!"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Help choose the syntax for CSS Nesting!<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/css-type-grinding-casting-tokens-smmdetc-into-useful-values-aka-style-queries-without-style-queries-thanks-to-property.html" aria-label="CSS Type Grinding: Casting Tokens (sm|md|etc) into Useful Values (aka Style Queries without Style Queries thanks to @property)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS Type Grinding: Casting Tokens (sm|md|etc) into Useful Values (aka Style Queries without Style Queries thanks to @property)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/container-queries-style-queries.html" aria-label="Container Queries: Style Queries"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Container Queries: Style Queries<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/the-future-of-css-variable-units-powered-by-custom-properties.html" aria-label="The Future of CSS: Variable Units, powered by Custom Properties"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Future of CSS: Variable Units, powered by Custom Properties<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/the-css-cascade-a-deep-dive-2022-06-09-css-day.html" aria-label="The CSS Cascade: A Deep Dive (2022.06.09 @ CSS Day)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The CSS Cascade: A Deep Dive (2022.06.09 @ CSS Day)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/bram.us/detect-at-rule-support-with-the-at-rule-function.html" aria-label="The Future of CSS: Detect at-rule support with @supports at-rule(@keyword)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Future of CSS: Detect at-rule support with @supports at-rule(@keyword)<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2021</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2020</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2019</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2017</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2016</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon fa-brands fa-css3-alt" sizing="height"></i>The future of CSS: Higher Level Custom Properties to control multiple declarations</h1><div class="page-info"><span class="page-author-info" aria-label="Authorüñä" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://bram.us/author/bramus/" target="_blank" rel="noopener noreferrer">Bramus!</a></span><span property="author" content="Bramus!"></span></span><!----><span class="page-date-info" aria-label="Writing DateüìÖ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">12/31/20</span><meta property="datePublished" content="2020-12-31T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time‚åõ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 11 min</span><meta property="timeRequired" content="PT11M"></span><span class="page-category-info" aria-label="Categoryüåà" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color7" role>CSS</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="CSS,Article(s)"></span><span class="page-tag-info" aria-label="Tagüè∑" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color2" role>bram.us</span><span class="page-tag-item color2" role>css</span><!--]--><meta property="keywords" content="blog,bram.us,css"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"><span>The future of CSS: Higher Level Custom Properties to control multiple declarations Í¥ÄÎ†®</span></a></h1><a class="route-link vp-card" href="/bookshelf/programming/css/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="/bookshelf/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">CSS > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html#css-custom-properties-as-variables" class="router-link-active router-link-exact-active">CSS Custom Properties as Variables</a><ul><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html#the-guaranteed-invalid-value-hack" class="router-link-active router-link-exact-active">The Guaranteed-Invalid Value Hack</a></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html#the-space-toggle-trick" class="router-link-active router-link-exact-active">The Space Toggle Trick</a></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html#definition-and-example" class="router-link-active router-link-exact-active">Definition and Example</a></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html#issues-that-still-need-to-be-tackled" class="router-link-active router-link-exact-active">Issues that still need to be tackled</a></li></ul></li><li><a aria-current="page" href="/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html#in-closing" class="router-link-active router-link-exact-active"># In Closing</a></li></ul></nav><hr><div class="vp-site-info" data-name="The future of CSS: Higher Level Custom Properties to control multiple declarations"><a class="vp-site-info-navigator no-external-link-icon" title="The future of CSS: Higher Level Custom Properties to control multiple declarations" href="https://bram.us/2020/12/30/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://bramu.us/favicon.ico" alt loading="lazy" no-view><div class="vp-site-info-name">The future of CSS: Higher Level Custom Properties to control multiple declarations</div><div class="vp-site-info-desc">‚ÄúHigher Level Custom Properties‚Äù are Custom Properties that control multiple other CSS Properties. Although still a proposal it&#39;s worth having a look already as they&#39;re really exciting.</div></div><!----></div><figure><img src="https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>When using CSS Custom Properties we mainly use them directly as variables in calculations for other properties. Having one CSS Custom Property control a varying set of other properties ‚Äî such as both colors and numbers ‚Äî is not exactly possible. There are some hacky workarounds we can use, but these don‚Äôt cover all scenarios. Thankfully there‚Äôs a new idea popping up: Higher Level Custom Properties. Although still premature, these Higher Level Custom Properties would allow us to drop the hacks.</p><p>Let‚Äôs take a look at our current options, and how this <em>(possible)</em> future addition to the CSS spec ‚Äî along with the <code>@if</code> at-rule it introduces ‚Äî might look ‚Ä¶</p><hr><h2 id="css-custom-properties-as-variables" tabindex="-1"><a class="header-anchor" href="#css-custom-properties-as-variables"><span>CSS Custom Properties as Variables</span></a></h2><p>When working with CSS Custom Properties today, they are <em>mainly</em> used as CSS Variables. If you‚Äôve used them, you‚Äôre quite familiar with code like this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--square-size</span><span class="token punctuation">:</span> 2vw<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">--square-padding</span><span class="token punctuation">:</span> 0.25vw<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.square</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--square-size<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--square-padding<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1/1<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.square--big</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--square-size</span><span class="token punctuation">:</span> 16vw<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">--square-padding</span><span class="token punctuation">:</span> 1vw<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Using the <code>var()</code> function we create a CSS Variable which gets substituted for the value of the Custom Property it refers to.</p><p>E.g. The variable <code>var(--square-size)</code> will hold the value of the <code>--square-size</code> Custom Property ‚Äî namely <code>2vw</code> ‚Äî which is then set as the value for the <code>width</code> CSS property.</p><details class="hint-container details"><summary>ü§î CSS Custom Properties vs. CSS Variables ‚Äî Is there a difference?</summary><p>Yes there&#39;s <a class="route-link" href="/bookshelf/bram.us/css-custom-properties-are-not-variables.html"><strong>a difference</strong></a>:</p><ul><li>A <strong>CSS Custom Property</strong> is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like <code>--foo</code>. Just like with a normal property you can assign a value to it, e.g. <code>--foo: 200;</code>.</li><li>A <strong>CSS Variable</strong> is created when the <code>var()</code> function is used. When creating the CSS Variable <code>var(--my-prop)</code>, it will be replaced with the value of the <code>--my-prop</code> Custom Property it refers to, namely <code>200</code>.</li></ul><hr><h2 id="using-css-custom-properties-to-affect-multiple-css-declarations" tabindex="-1"><a class="header-anchor" href="#using-css-custom-properties-to-affect-multiple-css-declarations"><span>Using CSS Custom Properties to affect multiple CSS declarations</span></a></h2><p>In the example above we have two types of squares: regular sized ones and big ones. To differentiate between them we need to toggle the <code>.square--big</code> class. Toggling that class affects two CSS Custom Properties: both <code>--square-size</code> and <code>--square-padding</code> are altered.</p><p>But what if we wanted not to toggle a HTML class but a CSS Custom Property to do so? E.g. we want to toggle one CSS Custom Property, and have that automatically affect both <code>--square-size</code> and <code>--square-padding</code>.</p><p>As it stands today it‚Äôs not very straightforward to let one single CSS Custom Property affect multiple other CSS Properties, unless you resort to some hacky workarounds. Let‚Äôs take a look at the options we have today.</p><h3 id="binary-custom-properties" tabindex="-1"><a class="header-anchor" href="#binary-custom-properties"><span>Binary Custom Properties</span></a></h3><p>If all you‚Äôre setting is numeric values, you can <a class="route-link" href="/bookshelf/bram.us/conditions-for-css-calculations.html"><strong>use Binary CSS Custom Properties within calculations</strong></a>. You give these Binary Custom Properties the value of <code>0</code> or <code>1</code> and use them within your calculations. Think of these Binary Custom Properties like light switches: they can either be OFF/false (<code>0</code>) or ON/true (<code>1</code>).</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--is-big</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.square--big</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--is-big</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.square</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span></span>
<span class="line">    2vw * <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">/* Value to apply when --is-big is 0 (~false) */</span> +</span>
<span class="line">      16vw * <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span> <span class="token comment">/* Value to apply when --is-big is 1 (~true): */</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span></span>
<span class="line">    0.25vw * <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token comment">/* Value to apply when --is-big is 0 (~false) */</span> + 1vw * <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span></span>
<span class="line">      <span class="token comment">/* Value to apply when --is-big is 1 (~true): */</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1/1<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the example above the <code>--is-big</code> Custom Property acts as a binary toggle that controls the results of the <code>calc()</code> functions. In the case of <code>--is-big</code> having a value of <code>0</code> those functions will yield one specific value, while when <code>--is-big</code> is set to <code>1</code> it will yield another value.</p><details class="hint-container details"><summary>‚òùÔ∏è With some extra effort you can even perform Logical Operations (AND, NAND, OR, NOR, XOR, ‚Ä¶) using CSS Custom Properties!?</summary><p><a href="https://twitter.com/anatudor" target="_blank" rel="noopener noreferrer">Ana Tudor (<i class="vp-icon fa-brands fa-x-twitter" sizing="height"></i><code>anatudor</code>)</a> worked out the math for us in <a class="route-link" href="/bookshelf/bram.us/logical-operations-with-css-variables.html"><strong>Logical Operations with CSS Custom Properties</strong></a>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line">  <span class="token property">--j</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--k</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">element</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--notj</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--and</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--nand</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--or</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span><span class="token punctuation">)</span> * <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--nor</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span><span class="token punctuation">)</span> * <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--xor</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span> - <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span> * <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span> - <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ü§Ø</p></details></details><h3 id="the-guaranteed-invalid-value-hack" tabindex="-1"><a class="header-anchor" href="#the-guaranteed-invalid-value-hack"><span>The Guaranteed-Invalid Value Hack</span></a></h3><p>When you need to set things other than numeric values ‚Äî such as colors ‚Äî you can‚Äôt rely on a toggle that is either <code>0</code> or <code>1</code>, as performing calculations with colors is invalid.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.square</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* ‚ùå This won&#39;t work! ‚ùå */</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span></span>
<span class="line">    hotpink * <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    +</span>
<span class="line">    lime * <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The spec detailing <code>calc()</code> is clear on this:</p><div class="hint-container info"><p class="hint-container-title">CSS Values and Units Level 3: 8.1 Mathematical Expressions: <code>calc()</code> (<i class="vp-icon fas fa-globe" sizing="height"></i><code>drafts.csswg.org</code>)</p><blockquote><p>It can be used wherever <code>&lt;length&gt;</code>, <code>&lt;frequency&gt;</code>, <code>&lt;angle&gt;</code>, <code>&lt;time&gt;</code>, <code>&lt;percentage&gt;</code>, <code>&lt;number&gt;</code>, or <code>&lt;integer&gt;</code> values are allowed.</p></blockquote><a class="vp-card" href="https://drafts.csswg.org/css-values-3/#calc-notation/" target="_blank" style="background:rgba(118,168,248,0.2);"><img class="vp-card-logo" src="https://drafts.csswg.org/csslogo.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">CSS Values and Units Module Level 3</div><hr><div class="vp-card-desc">The calc() function allows a numeric CSS component value to be written as a mathematical expression using addition (+), subtraction (-), multiplication (*), and/or division (/).</div></div></a></div><p>What you can do however is use <a class="route-link" href="/bookshelf/css-tricks.com/the-css-custom-property-toggle-trick.html"><strong>The CSS Custom Property Toggle Trick</strong></a> by James0x57 ‚Äî which I like to call <em>‚ÄúThe Guaranteed-Invalid Value Hack‚Äù</em> ‚Äî where you <strong>set a Custom Property to the ‚Äúguaranteed-invalid value‚Äù of <code>initial</code> to force the <code>var()</code> function to use its fallback value</strong>:</p><div class="hint-container info"><p class="hint-container-title">CSS Custom Properties for Cascading Variables Module Level 1: 2.2. Guaranteed-Invalid Values (<i class="vp-icon fas fa-globe" sizing="height"></i><code>drafts.csswg.org</code>)</p><blockquote><p>If, for whatever reason, one wants to manually reset a variable to the guaranteed-invalid value, using the keyword <code>initial</code> will do this.</p></blockquote><a class="vp-card" href="https://drafts.csswg.org/css-variables-1/#guaranteed-invalid/" target="_blank" style="background:rgba(244,245,255,0.2);"><img class="vp-card-logo" src="https://drafts.csswg.org/csslogo.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">CSS Custom Properties for Cascading Variables Module Level 1</div><hr><div class="vp-card-desc">The initial value of a custom property is a guaranteed-invalid value. The guaranteed-invalid value is, well, guaranteed to be invalid. If it ever appears in a property value, then at computed value time that property becomes invalid at computed-value time.</div></div></a></div><p>In code it boils down to this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--my-var</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span> <span class="token comment">/* initial =&gt; var() will use the fallback value */</span></span>
<span class="line"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--my-var<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ~&gt; green */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--my-var</span><span class="token punctuation">:</span> hotpink<span class="token punctuation">;</span> <span class="token comment">/* Any value other than `initial` (even simply one space!) =&gt; var() will not use the fallback value */</span></span>
<span class="line"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--my-var<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ~&gt; hotpink */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>That means that you can flip the switch ON by setting a Custom Property to the value of <code>initial</code>. Here‚Äôs an example where the text will turn green and italic once <code>--is-checked</code> is flipped on:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">input[type=&quot;checkbox&quot;] + label</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--is-checked</span><span class="token punctuation">:</span> <span class="token punctuation">;</span> <span class="token comment">/* OFF */</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> none<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">font-style</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> italic<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">input[type=&quot;checkbox&quot;]:checked + label</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--is-checked</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span> <span class="token comment">/* ON */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A limitation of this approach however is that you can‚Äôt define <strong>several</strong> values to use in case <code>--is-checked</code> is in the OFF state. Say I want the text in the example above to be both <code>red</code> by default and with a border. Setting <code>--is-checked</code> to <code>red</code> will only get me halfway, as that value is only valid for the <code>color</code> property here.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">input[type=&quot;checkbox&quot;] + label</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--is-checked</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token comment">/* Default value to use */</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ‚úÖ Will be red by default */</span></span>
<span class="line">  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> none<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ‚ùå What about a default value for border? */</span></span>
<span class="line">  <span class="token property">font-style</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> italic<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ‚ùå What about a default value for font-style? */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="the-space-toggle-trick" tabindex="-1"><a class="header-anchor" href="#the-space-toggle-trick"><span>The Space Toggle Trick</span></a></h3><div class="hint-container note"><p class="hint-container-title">Update 2020.01.22</p><p>As James0x57 themselves <a class="route-link" href="/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html"><strong>pointed out in the comments below</strong></a>, the ‚ÄúCSS Custom Property Toggle Trick‚Äù <strong>can</strong> be used for this, but it takes some adjustments when compared to the implementation above. Here‚Äôs what James0x57 calls <a href="https://github.com/propjockey/css-sweeper#basics-of-space-toggle" target="_blank" rel="noopener noreferrer">the Space Toggle Trick (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>propjockey/css-sweeper</code>)</a>:</p><ul><li>Consider the value <em>(space)</em> to be the ON position, and the value of <code>initial</code> to be the OFF position.</li><li>Assign property values to new custom properties using the syntax <code>--value-to-use-if-custom-toggle-is-on: var(--my-custom-toggle) value;</code>, where you put the value to be used <strong>after</strong> the CSS Variable.</li></ul><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--toggler</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></span>
<span class="line"><span class="token property">--red-if-toggler</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--toggler<span class="token punctuation">)</span> red<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>To use the value, use the <code>var()</code> syntax as before <em>(e.g. adding a fallback value)</em>:</li></ul><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--red-if-toggler<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* will be green! */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>If you have more than one property than can affect a toggle, you can chain them up:</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="AND Logic"><span>AND Logic</span></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--red-if-togglersalltrue</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog1<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog2<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog3<span class="token punctuation">)</span> red<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="OR Logic"><span>OR Logic</span></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--red-if-anytogglertrue</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog1<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog2<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> red<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>So it boils down to a custom property being either a space ( ) or <code>initial</code>. ON or OFF. Depending on that you can get two values: one for when it‚Äôs ON, and one for when it‚Äôs OFF. It relies on CSS eating spaces (e.g. <code> green</code> becomes simply <code>green</code>) and CSS falling back to the fallback value of <code>var()</code> when the referred to custom property contains <code>initial</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--toggler</span><span class="token punctuation">:</span> <span class="token punctuation">;</span> <span class="token comment">/* Or initial */</span></span>
<span class="line"><span class="token property">--red-if-toggler</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--toggler<span class="token punctuation">)</span> red<span class="token punctuation">;</span></span>
<span class="line"><span class="token property">--green-if-no-toggler</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--toggler<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--red-if-toggler<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--green-if-no-toggler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here‚Äôs a pen that applies his technique, with some cleaned up property names:</p><div class="codepen-wrapper codepen-GRjPPBB"><!----><span>See <a>3. Binary Custom Properties + ‚ÄúThe CSS Custom Property Toggle Trick‚Äù (Renamed)</a> by <a href="https://codepen.io/bramus">bramus</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>Thanks for clarifying James0x57, as I only understood half of your hack before üòÖ</p><hr><h2 id="future-solution-higher-level-custom-properties" tabindex="-1"><a class="header-anchor" href="#future-solution-higher-level-custom-properties"><span>Future Solution: Higher Level Custom Properties</span></a></h2><p>So the problem is that, as it stands today, we can‚Äôt have one single CSS Custom Property affect a varying set of other CSS Properties, or at least not in an easy way. At <a href="https://w3.org/blog/CSS/2020/12/09/minutes-2020-12-09/" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-w3c" sizing="height"></i>the CSS WG Telecon from early December 2020</a> <a href="https://twitter.com/LeaVerou" target="_blank" rel="noopener noreferrer">Lea Verou (<i class="vp-icon fa-brands fa-x-twitter" sizing="height"></i><code>LeaVerou</code>)</a> proposed something called <a href="https://github.com/w3c/csswg-drafts/issues/5624" target="_blank" rel="noopener noreferrer">‚ÄúHigher Level Custom Properties‚Äù (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>w3c/csswg-drafts</code>)</a>, which would allow exactly that!</p><p>::: critical</p><p>Do note that this proposal is still in it‚Äôs very very early stages and <a href="https://github.com/w3c/csswg-drafts/issues/5624" target="_blank" rel="noopener noreferrer">part of an ongoing discussion (<i class="vp-icon iconfont icon-github" sizing="height"></i>`w3c/csswg-drafts)</a>. The CSS WG has merely expressed interest in this proposal, suggesting that it should be explored further. If if tends to be helpful and possible, only then work on a Working Draft will start. Right now it still is a concept.</p></div><h3 id="definition-and-example" tabindex="-1"><a class="header-anchor" href="#definition-and-example"><span>Definition and Example</span></a></h3><p>‚ÄúHigher Level Custom Properties‚Äù are Custom Properties that control a number of other CSS Properties. As <a href="https://github.com/w3c/csswg-drafts/issues/5624#issuecomment-746339609" target="_blank" rel="noopener noreferrer">the proposal stands right now (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>w3c/csswg-drafts</code>)</a> you use them in combination with a newly proposed <code>@if</code> at-rule, like so:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.square</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> 2vw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> 0.25vw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1/1<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@if</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--size<span class="token punctuation">)</span> = big<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> 16vw<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">padding</span><span class="token punctuation">:</span> 1vw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Unlike the Custom Properties we know today, a Higher Level Custom Property controls multiple declarations, way beyond simple variable substitution. In the example above we set our HLCP <code>--size</code> to have a value of <code>big</code>. This value isn‚Äôt used directly, but affects the other properties <code>width</code> and <code>padding</code>.</p><p>Using this HLCP also improves the meaning of our code. Setting <code>width: 16vw;</code> does not clearly express our intent, whereas setting <code>--size: big;</code> does.</p><div class="hint-container info"><p class="hint-container-title">üíÅ‚Äç‚ôÇÔ∏è</p><p>If you don‚Äôt like <code>@if</code> then please don‚Äôt discard the whole idea immediately, but focus on the problem it‚Äôs trying to fix here. Lea‚Äôs proposal is <strong>a</strong> possible solution, not <strong>the</strong> solution. Could be that ‚Äî in the end ‚Äî we end up with a totally different syntax.</p></div><h3 id="issues-that-still-need-to-be-tackled" tabindex="-1"><a class="header-anchor" href="#issues-that-still-need-to-be-tackled"><span>Issues that still need to be tackled</span></a></h3><p>Before you get too excited, there are still some cases that need to be taken care of. In a follow-up comment on the proposal, Lea <a href="https://github.com/w3c/csswg-drafts/issues/5624#issuecomment-746339609" target="_blank" rel="noopener noreferrer">documented some already identified issues (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>w3c/csswg-drafts</code>)</a>.</p><p>::: critical üö®</p><p>Note that these issues are blocking issues. As long as these aren‚Äôt resolved, HLCPs won‚Äôt happen.</p><p>:::</p><h4 id="partial-application" tabindex="-1"><a class="header-anchor" href="#partial-application"><span>Partial Application</span></a></h4><p>A first issue is a problem with the desugaring of <code>@if</code> and partial application. Behind the scenes a <code>@if</code> at-rule desugars to <a href="https://github.com/w3c/csswg-drafts/issues/5009#issuecomment-626072319" target="_blank" rel="noopener noreferrer">the still discussed <code>if()</code> function call (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>w3c/csswg-drafts</code>)</a>. The example above eventually becomes this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.square</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">if</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--size<span class="token punctuation">)</span> = big<span class="token punctuation">,</span> 16vw<span class="token punctuation">,</span> 2vw<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">if</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--size<span class="token punctuation">)</span> = big<span class="token punctuation">,</span> 1vw<span class="token punctuation">,</span> 0.25vw<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1/1<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This leads to no issue here, but it becomes quirky when comparing against percentages for example.</p><div class="hint-container tip"><p class="hint-container-title">e.g.</p><p>consider this</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.foo</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@if</span> <span class="token punctuation">(</span>1em &gt; 5%<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>which desugars to:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.foo</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">if</span><span class="token punctuation">(</span>1em &gt; 5%<span class="token punctuation">,</span> 400px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">if</span><span class="token punctuation">(</span>1em &gt; 5%<span class="token punctuation">,</span> 300px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now consider that an element that matches <code>.foo</code> is inside a <code>600px</code> by <code>400px</code> container and has a computed <code>font-size</code> of <code>25px</code>; This makes <code>1em &gt; 5%</code> evaluate to <code>false</code> on the <code>width</code> property and <code>true</code> on the <code>height</code> property, which would make the <code>@if</code> partially applied. We most definitely don‚Äôt want that.</p></div><p>There are some ideas floating around to fix this ‚Äî such as forcing percentages/lengths to always be compared against the <code>width</code> ‚Äî but that‚Äôs still a bit vague right now.</p><h4 id="cascading" tabindex="-1"><a class="header-anchor" href="#cascading"><span>Cascading</span></a></h4><p>Another issue that was pointed out is one on Cascading. I especially like this one, as it gives us a good insight in how CSS behaves and works:</p><div class="hint-container info"><p class="hint-container-title">Info</p><p>Inline conditionals will have the <a href="https://w3.org/TR/css-variables-1/#invalid-at-computed-value-time" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-w3c" sizing="height"></i>IACVT (Invalid At Computed Value Time)</a> behavior that we have come to know and love (?) from Custom Properties. Since <code>@if</code> will desugar to inline conditionals, it will also fall back to that, which may sometimes be surprising. This means that these two snippets are not equivalent:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.notice</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> palegoldenrod<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.notice</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* Desugars to background: if(var(--warning) = on, orange, unset); */</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@if</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--warning<span class="token punctuation">)</span> = on<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">background</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.notice</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* Desugars to background: if(var(--warning) = on, orange, palegoldenrod); */</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> palegoldenrod<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@if</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--warning<span class="token punctuation">)</span> = on<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">background</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>You can file <a href="https://w3.org/TR/css-variables-1/#invalid-at-computed-value-time" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-w3c" sizing="height"></i>IACVT (Invalid At Computed Value Time)</a> in the #TIL section there.</p><div class="hint-container info"><p class="hint-container-title">IACVT (Invalid At Computed Value Time) (<i class="vp-icon iconfont icon-w3c" sizing="height"></i><code>w3.org</code>)</p><blockquote><p>A declaration can be invalid at computed-value [‚Ä¶] if it uses a valid custom property, but the property value, after substituting its <code>var()</code> functions, is invalid. When this happens, the computed value of the property is either the property‚Äôs inherited value or its initial value [‚Ä¶].</p></blockquote></div><p>This explains why in the example below the background won‚Äôt be <code>red</code> but <em>(the default)</em> <code>transparent</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span> <span class="token property">--not-a-color</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--not-a-color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">üëâ</p><p>As <code>20px</code> is no valid <code>&lt;color&gt;</code> value, the last declaration will become <code>background-color: initial;</code>.</p></div><div class="hint-container info"><p class="hint-container-title">üí°</p><p>If we would have written <code>background-color: 20px</code> directly (e.g. without the use of Custom Properties), then that declaration would have simply been discarded due to being invalid, and we would have ended up with a <code>red</code> background.</p></div><hr><h2 id="in-closing" tabindex="-1"><a class="header-anchor" href="#in-closing"><span># In Closing</span></a></h2><p>The ‚ÄúHigher Level Custom Properties‚Äù idea by Lea Verou is one that quite excites me, as it solves an actual issue one can have in their code and would avoid having to use one of the nasty hacks.</p><p>There‚Äôs still a long way to go before we might actually see this land, yet as the CSS WG has expressed interest I‚Äôm hopeful that the already identified issues will be wrinkled out, and that work on an official spec can start.</p><p>If you have your own input on this subject, then I suggest to participate in <a href="https://github.com/w3c/csswg-drafts/issues/5624" target="_blank" rel="noopener noreferrer">the Higher Level Custom Properties discussion on GitHub (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>w3c/csswg-drafts</code>)</a>.</p><div class="hint-container info"><p class="hint-container-title">üìö</p><p>This post is part of a series called <strong>[custom-tax id=‚Äùserie‚Äù]</strong>. Latest posts in this series:</p><ul><li><a class="route-link" href="/bookshelf/bram.us/css-custom-functions-teaser.html"><strong>CSS Custom Functions are coming ‚Ä¶ and they are going to be a game changer!</strong></a> February 9, 2025</li><li><a class="route-link" href="/bookshelf/bram.us/the-future-of-css-construct-custom-idents-and-dashed-idents-with-ident.html"><strong>The Future of CSS: Construct <code>&lt;custom-ident&gt;</code> and <code>&lt;dashed-ident&gt;</code> values with <code>ident()</code></strong></a> December 18, 2024</li><li><a class="route-link" href="/bookshelf/bram.us/help-choose-the-syntax-for-css-nesting.html"><strong>Help choose the syntax for CSS Nesting!</strong></a> December 16, 2022</li><li><a class="route-link" href="/bookshelf/bram.us/the-future-of-css-variable-units-powered-by-custom-properties.html"><strong>The Future of CSS: Variable Units, powered by Custom Properties</strong></a> July 8, 2022</li><li><a class="route-link" href="/bookshelf/bram.us/scroll-linked-animations-with-the-web-animations-api-waapi-and-scrolltimeline.html"><strong>The Future of CSS: Scroll-Linked Animations with <code>@scroll-timeline</code> <em>(Part 4)</em></strong></a> November 24, 2021</li><li><a class="route-link" href="/bookshelf/bram.us/media-queries-level-4-media-query-range-contexts.html"><strong>Media Queries Level 4: Media Query Range Contexts <em>(Media Query Ranges)</em></strong></a> October 26, 2021</li></ul><a class="route-link vp-card" href="/bookshelf/bram.us/the-future-of-css-cascade-layers-css-at-layer.html" style="background:rgba(17,17,17,0.2);"><img class="vp-card-logo" src="https://bramu.us/favicon.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">The Future of CSS: Cascade Layers (CSS @layer)</div><hr><div class="vp-card-desc">When authoring CSS we have to carefully think about how we write and structure our code. Cascade Layers (CSS @layer) aim to ease this task.</div></div></a><ul><li><a class="route-link" href="/bookshelf/bram.us/practical-use-cases-for-scroll-linked-animations-with-css-scroll-timeline.html"><strong>The Future of CSS: Scroll-Linked Animations with <code>@scroll-timeline</code> <em>(Part 3)</em></strong></a> July 19, 2021</li></ul><a class="route-link vp-card" href="/bookshelf/bram.us/the-large-small-and-dynamic-viewports.html" style="background:rgba(17,17,17,0.2);"><img class="vp-card-logo" src="https://bramu.us/favicon.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">The Large, Small, and Dynamic Viewports</div><hr><div class="vp-card-desc">There are some changes being proposed regarding viewport units, finally solving that ‚Äù100vh in Safari on iOS‚Äù issue ‚Ä¶</div></div></a><ul><li><a class="route-link" href="/bookshelf/bram.us/create-a-color-theme-with-css-relative-color-syntax-css-color-mix-and-css-color-contrast.html"><strong>Create a color theme with CSS Relative Color Syntax, CSS <code>color-mix()</code>, and CSS <code>color-contrast()</code></strong></a> April 28, 2021</li></ul></div><!-- TODO: add ARTICLE CARD --><a class="vp-card" href="https://chanhi2000.github.io/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html" target="_blank" style="background:rgba(17,17,17,0.2);"><img class="vp-card-logo" src="https://bramu.us/favicon.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">The future of CSS: Higher Level Custom Properties to control multiple declarations</div><hr><div class="vp-card-desc">‚ÄúHigher Level Custom Properties‚Äù are Custom Properties that control multiple other CSS Properties. Although still a proposal it's worth having a look already as they're really exciting.</div></div></a></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/bookshelf/edit/main/src/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/programming/css/articles/" aria-label="/programming/css/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/programming/css/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/bram.us/help-choose-the-syntax-for-css-nesting.html" aria-label="Help choose the syntax for CSS Nesting!"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Help choose the syntax for CSS Nesting!<i class="vp-icon fa-brands fa-css3-alt" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright ¬© 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><div class="vp-copyright">Copyright ¬© 2026 Bramus! </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BItykJLQ.js" defer></script>
  </body>
</html>
