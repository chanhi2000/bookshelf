<!doctype html>
<html lang="ko-KR" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.99" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Intermediate RecyclerView Tutorial with Kotlin","image":["https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507091574-281x500.png =240x","https://koenig-media.raywenderlich.com/uploads/2017/09/Screenshot_20170925-222953-281x500.png =240x","https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507085951-281x500.png =240x","https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507091574-281x500.png =240x","https://koenig-media.raywenderlich.com/uploads/2017/12/opportunity-281x500.png =240x","https://koenig-media.raywenderlich.com/uploads/2017/10/mars4.gif =240x","https://koenig-media.raywenderlich.com/uploads/2017/10/mars5.gif =240x"],"datePublished":"2017-12-06T00:00:00.000Z","dateModified":null,"author":[]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html"><meta property="og:site_name" content="üìöBookshelf"><meta property="og:title" content="Intermediate RecyclerView Tutorial with Kotlin"><meta property="og:description" content="Article(s) > Intermediate RecyclerView Tutorial with Kotlin"><meta property="og:type" content="article"><meta property="og:image" content="https://koenig-media.raywenderlich.com/uploads/2017/12/RecyclerViewIntermediate-twitter.png"><meta property="og:locale" content="ko-KR"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://koenig-media.raywenderlich.com/uploads/2017/12/RecyclerViewIntermediate-twitter.png"><meta name="twitter:image:alt" content="Intermediate RecyclerView Tutorial with Kotlin"><meta property="article:tag" content="gradle"><meta property="article:tag" content="android"><meta property="article:tag" content="kotiln"><meta property="article:tag" content="java"><meta property="article:tag" content="kodeco.com"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2017-12-06T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>Intermediate RecyclerView Tutorial with Kotlin | üìöBookshelf</title><meta name="description" content="Article(s) > Intermediate RecyclerView Tutorial with Kotlin">
    <link rel="preload" href="/bookshelf/assets/style-Bhb-QcDa.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-Bhb-QcDa.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">üìöBookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="oddbird.net"><!--[--><img class="vp-icon" src="https://oddbird.net/safari-pinned-tab.svg" alt aria-hidden no-view sizing="both"><!--]-->oddbird.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/zeroheight.com/" aria-label="zeroheight.com"><!--[--><img class="vp-icon" src="https://zeroheight.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->zeroheight.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/typescript.tv/" aria-label="typescript.tv"><!--[--><img class="vp-icon" src="https://typescript.tv/_astro/android-chrome-192x192.BhQ8hcWh.png" alt aria-hidden no-view sizing="both"><!--]-->typescript.tv<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/bram.us/" aria-label="bram.us"><!--[--><img class="vp-icon" src="https://bram.us/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->bram.us<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/una.im/" aria-label="una.im"><!--[--><img class="vp-icon" src="https://una.im/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->una.im<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/joshwcomeau.com/" aria-label="joshwcomeau.com"><!--[--><img class="vp-icon" src="https://joshwcomeau.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->joshwcomeau.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tip.com/" aria-label="css-tip.com"><!--[--><img class="vp-icon" src="https://css-tip.com/img/fav.png" alt aria-hidden no-view sizing="both"><!--]-->css-tip.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/nerdy.dev/" aria-label="nerdy.dev"><!--[--><img class="vp-icon" src="https://nerdy.dev/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->nerdy.dev<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnkube.com/" aria-label="learnkube.com"><!--[--><img class="vp-icon" src="https://static.learnkube.com/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnkube.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/bookshelf" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><!----></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">kodeco.com</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/" aria-label="Kodeco (kodeco.com)"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->Kodeco (kodeco.com)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/523-augmented-reality-in-android-with-google-s-face-api.html" aria-label="Augmented Reality in Android with Google‚Äôs Face API"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Augmented Reality in Android with Google‚Äôs Face API<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/324-viewpager-tutorial-getting-started-in-kotlin.html" aria-label="ViewPager Tutorial - Getting Started in Kotlin"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->ViewPager Tutorial - Getting Started in Kotlin<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/853-couchbase-tutorial-for-android-getting-started.html" aria-label="Couchbase Tutorial for Android - Getting Started"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Couchbase Tutorial for Android - Getting Started<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html" aria-label="Intermediate RecyclerView Tutorial with Kotlin"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Intermediate RecyclerView Tutorial with Kotlin<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/262-dependency-injection-in-android-with-dagger-2-and-kotlin.html" aria-label="Dependency Injection in Android with Dagger 2 and Kotlin"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Dependency Injection in Android with Dagger 2 and Kotlin<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/254-getting-started-with-android-wear-with-kotlin.html" aria-label="Getting Started with Android Wear with Kotlin"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Getting Started with Android Wear with Kotlin<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/249-gradle-tutorial-for-android-getting-started.html" aria-label="Gradle Tutorial for Android - Getting Started"><!--[--><i class="vp-icon iconfont icon-gradle" sizing="both"></i><!--]-->Gradle Tutorial for Android - Getting Started<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/247-react-native-tutorial-building-android-apps-with-javascript.html" aria-label="React Native Tutorial - Building Android Apps with JavaScript"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->React Native Tutorial - Building Android Apps with JavaScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/240-android-accessibility-tutorial-getting-started.html" aria-label="Android Accessibility Tutorial: Getting Started"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Android Accessibility Tutorial: Getting Started<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/230-introduction-to-google-maps-api-for-android-with-kotlin.html" aria-label="Introduction to Google Maps API for Android with Kotlin"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Introduction to Google Maps API for Android with Kotlin<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/1144981-kotlin-for-android-an-introduction.html" aria-label="Kotlin For Android: An Introduction"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Kotlin For Android: An Introduction<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/6398124-swiftui-tutorial-for-ios-creating-charts.html" aria-label="SwiftUI Tutorial for iOS - Creating Charts"><!--[--><i class="vp-icon fa-brands fa-swift" sizing="both"></i><!--]-->SwiftUI Tutorial for iOS - Creating Charts<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/6334294-my-app-crashed-now-what.html" aria-label="My App Crashed, Now What?"><!--[--><i class="vp-icon fa-brands fa-swift" sizing="both"></i><!--]-->My App Crashed, Now What?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/6620276-sqlite-with-swift-tutorial-getting-started.html" aria-label="SQLite With Swift Tutorial: Getting Started"><!--[--><i class="vp-icon fa-brands fa-swift" sizing="both"></i><!--]-->SQLite With Swift Tutorial: Getting Started<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/6747815-uigesturerecognizer-tutorial-getting-started.html" aria-label="UIGestureRecognizer Tutorial: Getting Started"><!--[--><i class="vp-icon fa-brands fa-swift" sizing="both"></i><!--]-->UIGestureRecognizer Tutorial: Getting Started<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/6742901-protocol-oriented-programming-tutorial-in-swift-5-1-getting-started.html" aria-label="Protocol-Oriented Programming Tutorial in Swift 5.1: Getting Started"><!--[--><i class="vp-icon fa-brands fa-swift" sizing="both"></i><!--]-->Protocol-Oriented Programming Tutorial in Swift 5.1: Getting Started<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/7076593-cocoapods-tutorial-for-swift-getting-started.html" aria-label="CocoaPods Tutorial for Swift: Getting Started"><!--[--><i class="vp-icon fa-brands fa-swift" sizing="both"></i><!--]-->CocoaPods Tutorial for Swift: Getting Started<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/7181017-unsafe-swift-using-pointers-and-interacting-with-c.html" aria-label="Unsafe Swift: Using Pointers and Interacting With C"><!--[--><i class="vp-icon fa-brands fa-swift" sizing="both"></i><!--]-->Unsafe Swift: Using Pointers and Interacting With C<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/6827616-ios-accessibility-getting-started.html" aria-label="iOS Accessibility: Getting Started"><!--[--><i class="vp-icon fa-brands fa-swift" sizing="both"></i><!--]-->iOS Accessibility: Getting Started<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/6587213-alamofire-5-tutorial-for-ios-getting-started.html" aria-label="Alamofire 5 Tutorial for iOS: Getting Started"><!--[--><i class="vp-icon fa-brands fa-swift" sizing="both"></i><!--]-->Alamofire 5 Tutorial for iOS: Getting Started<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/30067669-documenting-kotlin-code-for-android-using-kdoc-and-dokka.html" aria-label="Documenting Kotlin Code for Android Using KDoc and Dokka"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Documenting Kotlin Code for Android Using KDoc and Dokka<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/kodeco.com/31290959-kotlin-sequences-getting-started.html" aria-label="Kotlin Sequences - Getting Started"><!--[--><i class="vp-icon iconfont icon-kotlin" sizing="both"></i><!--]-->Kotlin Sequences - Getting Started<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="https://koenig-media.raywenderlich.com/uploads/2017/12/RecyclerViewIntermediate-twitter.png" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon fa-brands fa-android" sizing="height"></i>Intermediate RecyclerView Tutorial with Kotlin</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="Writing DateüìÖ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">17. 12. 6.</span><meta property="datePublished" content="2017-12-06T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time‚åõ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 15 min</span><meta property="timeRequired" content="PT15M"></span><span class="page-category-info" aria-label="Categoryüåà" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color8" role>Java</span><span class="page-category-item color2" role>Kotlin</span><span class="page-category-item color0" role>Android</span><span class="page-category-item color2" role>Gradle</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="Java,Kotlin,Android,Gradle,Article(s)"></span><span class="page-tag-info" aria-label="Tagüè∑" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color1" role>kodeco.com</span><span class="page-tag-item color8" role>java</span><span class="page-tag-item color4" role>kotiln</span><span class="page-tag-item color3" role>android</span><span class="page-tag-item color4" role>gradle</span><!--]--><meta property="keywords" content="blog,kodeco.com,java,kotiln,android,gradle"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"><span>Intermediate RecyclerView Tutorial with Kotlin Í¥ÄÎ†®</span></a></h1><a class="route-link vp-card" href="/bookshelf/programming/java-android/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="https://chanhi2000.github.io/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Android > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#getting-started" class="router-link-active router-link-exact-active">Getting Started</a><ul><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#manifest" class="router-link-active router-link-exact-active">Manifest</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#string-data" class="router-link-active router-link-exact-active">String Data</a></li></ul></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#main-layout" class="router-link-active router-link-exact-active">Main Layout</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#viewholder" class="router-link-active router-link-exact-active">ViewHolder</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#adapter-layouts" class="router-link-active router-link-exact-active">Adapter Layouts</a><ul><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#header-style" class="router-link-active router-link-exact-active">Header Style</a></li></ul></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#data" class="router-link-active router-link-exact-active">Data</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#adapter" class="router-link-active router-link-exact-active">Adapter</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#section-headers" class="router-link-active router-link-exact-active">Section Headers</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#diffutil" class="router-link-active router-link-exact-active">DiffUtil</a><ul><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#additional-methods" class="router-link-active router-link-exact-active">Additional Methods</a></li></ul></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#retrofit" class="router-link-active router-link-exact-active">Retrofit</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#updating-the-main-ui" class="router-link-active router-link-exact-active">Updating the main UI</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#filtering" class="router-link-active router-link-exact-active">Filtering</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#itemdecorators" class="router-link-active router-link-exact-active">ItemDecorators</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#animations" class="router-link-active router-link-exact-active">Animations</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#swiping" class="router-link-active router-link-exact-active">Swiping</a></li><li><a aria-current="page" href="/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html#where-to-go-from-here" class="router-link-active router-link-exact-active">Where to go from here</a></li></ul></nav><hr><div class="vp-site-info" data-name="Intermediate RecyclerView Tutorial with Kotlin"><a class="vp-site-info-navigator no-external-link-icon" title="Intermediate RecyclerView Tutorial with Kotlin" href="https://kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://koenig-media.raywenderlich.com/uploads/2017/12/RecyclerViewIntermediate-twitter.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://assets.carolus.kodeco.com/assets/murakami/category-icons/category-user-interface-android-d049bddfca80caac9854127a21a7287890d0ad1cd10fc7d7cb6538dc0d8d76a0.svg" alt loading="lazy" no-view><div class="vp-site-info-name">Intermediate RecyclerView Tutorial with Kotlin</div><div class="vp-site-info-desc">In this RecyclerView tutorial you will learn how to build out intermediate techniques like swiping, animation and filtering in Kotlin.</div></div><!----></div><p>Have you ever wanted to go to Mars or just look out over Mars‚Äô horizon? We can‚Äôt send you there but we can give you the next best thing: an app with images from all the Mars rovers.</p><p>To show those images, we‚Äôll use one of Android‚Äôs most popular views: the <code>RecyclerView</code>.</p><p>The <code>RecyclerView</code> layout was introduced in the Lollipop support library and Android developers have been using it for awhile. It is one of the most useful layouts and gives you more flexibility compared to a <code>ListView</code> in a much more performant package.</p><p>However, you may not know all that you can do with it. In this tutorial, you‚Äôll see how to add sections, animations, dividers, and swipe gestures.</p><p>You should be familiar with the basics of using <code>ReyclerView</code>. If not, you can read an introduction to using <code>RecyclerView</code> <a href="https://raywenderlich.com/126528/android-recyclerview-tutorial" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>here</a>.</p><p>Here is a screenshot from the final version of our app:</p><p>![mars rover screenshot](https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507091574-281x500.png =240x)</p><p>Checkout those amazing Mars landscapes!</p><p>You‚Äôre going to continue with the NASA site used in the previous <code>RecyclerView</code> tutorial, but do things a bit differently. You‚Äôll be using an API that will return a list of Mars rover photos. Along with the <code>RecyclerView</code> of photos, there are two spinners to change the list of photos: one for rovers and the other for cameras.</p><hr><h2 id="getting-started" tabindex="-1"><a class="header-anchor" href="#getting-started"><span>Getting Started</span></a></h2><p>Download the starter project <a href="https://koenig-media.raywenderlich.com/uploads/2017/12/marsrovers-starter-1.zip" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-select" sizing="height"></i>here</a>. Open it up in Android Studio 3.0.1 or later.</p><p>Next, head to the NASA site (<a href="https://api.nasa.gov/index.html#apply-for-an-api-key" target="_blank" rel="noopener noreferrer">https://api.nasa.gov/index.html#apply-for-an-api-key</a>) and get an API key to use for the rover photos.</p><p>Build and run your app on an emulator or phone. You should see a default ‚ÄúHello World!‚Äù <strong>TextView</strong> in the center.</p><p>![screenshot](https://koenig-media.raywenderlich.com/uploads/2017/09/Screenshot_20170925-222953-281x500.png =240x)</p><h3 id="manifest" tabindex="-1"><a class="header-anchor" href="#manifest"><span>Manifest</span></a></h3><p>Add the following to your <i class="vp-icon fa-brands fa-android" sizing="height"></i>``AndroidManifest.xml` file before the application tag:</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This will allow you to get information from the NASA website. Note that this is not considered a ‚Äúdangerous‚Äù permission and the user will not be asked to approve it.</p><h3 id="string-data" tabindex="-1"><a class="header-anchor" href="#string-data"><span>String Data</span></a></h3><p>To populate the spinners on the main screen, you will need to add strings for the spinners to the <i class="vp-icon iconfont icon-code" sizing="height"></i><code>strings.xml</code> file. Open <i class="vp-icon iconfont icon-code" sizing="height"></i><code>strings.xml</code> in the <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>res/values</code> folder and add the following after the <code>app_name</code> string:</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>api_error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Problems getting Photos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rovers<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Rovers<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cameras<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Cameras<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string-array</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rovers<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Curiosity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Opportunity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Spirit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string-array</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string-array</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>camera_names<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Front Hazard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Rear Hazard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Navigation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Panoramic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Mast<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string-array</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string-array</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>camera_values<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>FHAZ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>RHAZ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>NAVCAM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>PANCAM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>MAST<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string-array</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="main-layout" tabindex="-1"><a class="header-anchor" href="#main-layout"><span>Main Layout</span></a></h2><p>You need to modify the main layout and add some code to the <code>MainActivity</code> class. Start out by replacing the layout in the <i class="vp-icon iconfont icon-code" sizing="height"></i><code>activity_main.xml</code> file.</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.constraint.ConstraintLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">xmlns:</span>app</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res-auto<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">tools:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.raywenderlich.marsrovers.MainActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.constraint.ConstraintLayout</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/control_layout<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintLeft_toLeftOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toTopOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/roverLabel<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/rovers<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toTopOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.v7.widget.AppCompatSpinner</span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/rovers<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toTopOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/cameraLabel<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/cameras<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/roverLabel<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.v7.widget.AppCompatSpinner</span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/cameras<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/rovers<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>android.support.constraint.ConstraintLayout</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.v7.widget.RecyclerView</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/recycler_view<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gone<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintBottom_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintLeft_toLeftOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/control_layout<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ProgressBar</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/progress<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>indeterminate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintBottom_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintLeft_toLeftOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/control_layout<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>android.support.constraint.ConstraintLayout</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This uses Android&#39;s new <code>ConstraintLayout</code> to add two rows of spinners, one for the Rover and one for the camera. There‚Äôs a <code>RecyclerView</code> below the spinners. Below the <code>RecyclerView</code> there is a <code>ProgressBar</code> that will spin while the data is loading.</p><p>Now, time to modify <i class="vp-icon iconfont icon-java" sizing="height"></i><code>MainActivity.kt</code>. In the <code>onCreate()</code> method, after the call to <code>setContentView</code>, add the following:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line">recycler_view<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE</span>
<span class="line">recycler_view<span class="token punctuation">.</span>layoutManager <span class="token operator">=</span> <span class="token function">LinearLayoutManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>When Android Studio gives you an error on <code>recycler_view</code>, put your cursor on <code>recycler_view</code> and hit <kbd>option</kbd>+<kbd>return</kbd> on Mac or <kbd>Alt</kbd>+<kbd>Enter</kbd> on PC and select <i class="vp-icon iconfont icon-select" sizing="height"></i><code>[Import]</code>. This uses the Kotlin Android Extensions to turn the <code>R.id.recycler_view</code> id into a <code>recycler_view</code> variable.</p><p>Now, run the app and you should see the following:</p><p>![mars rover screenshot](https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507085951-281x500.png =240x)</p><hr><h2 id="viewholder" tabindex="-1"><a class="header-anchor" href="#viewholder"><span>ViewHolder</span></a></h2><p>The <code>ViewHolder</code> class holds the inflated view, is created in a <code>RecyclerView.Adapter</code> in <code>onCreateViewHolder</code> and bound in <code>onBindViewHolder</code>.</p><p>Before <code>RecyclerView</code>, Android developers used <code>ListView</code> to achieve similar behavior. As <code>ListView</code> usage matured, developers started using the ‚Äúview holder‚Äù pattern and Google then made <code>ViewHolder</code> a key part of the <code>RecyclerView</code> API.</p><p>You‚Äôll be creating a special <code>ViewHolder</code> class that will allow you to handle text and image views without using <code>findViewById</code>. In this <code>DefaultViewHolder</code> class, you‚Äôll start by going through all of the child views and putting them in a map so that you can easily retrieve the view later. See the starter project for the full <code>DefaultViewHolder</code> class.</p><hr><h2 id="adapter-layouts" tabindex="-1"><a class="header-anchor" href="#adapter-layouts"><span>Adapter Layouts</span></a></h2><p>You need to create the two layouts that will be used in the adapter, one for the section headers, and one for the rows themselves. First, you‚Äôll add the header style needed for the header item layout.</p><h3 id="header-style" tabindex="-1"><a class="header-anchor" href="#header-style"><span>Header Style</span></a></h3><p>Open the <i class="vp-icon iconfont icon-code" sizing="height"></i><code>styles.xml</code> file in the values resource folder and add the following style that will be used in the <i class="vp-icon iconfont icon-code" sizing="height"></i><code>header_item.xml</code> file:</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android:textSize<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>16sp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android:textColor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>@android:color/holo_red_dark<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can use any color you‚Äôd like. To create the header, go to the <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>res/layout</code> folder. Right-click and choose <i class="vp-icon iconfont icon-select" sizing="height"></i><code>[New/Layout resource file]</code>. Name the file <i class="vp-icon iconfont icon-code" sizing="height"></i><code>header_item.xml</code>. You can leave the root element as suggested and then replace everything with the following:</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10dp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/header_text<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@style/header<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">tools:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Front Hazard<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This is just a <code>TextView</code> for the header text.</p><p>Next, right-click on the layout folder and create a new layout named <i class="vp-icon iconfont icon-code" sizing="height"></i><code>row_item.xml</code>. Again, leave the root element and replace with:</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageView</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/camera_image<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>adjustViewBounds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>scaleType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fitXY<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/date<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">tools:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10/07/2017<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This has an <code>ImageView</code> for the mars photo and a <code>TextView</code> for the date of the image below it.</p><hr><h2 id="data" tabindex="-1"><a class="header-anchor" href="#data"><span>Data</span></a></h2><p>You‚Äôll be populating the <code>RecyclerView.Adapter</code> using data from the NASA site: <a href="https://api.nasa.gov/api.html#MarsPhotos" target="_blank" rel="noopener noreferrer">https://api.nasa.gov/api.html#MarsPhotos</a>.</p><p>An easy way to test an API is to use the Postman Chrome extension or the Postman app <a href="https://www.getpostman.com/" target="_blank" rel="noopener noreferrer">https://www.getpostman.com</a>. Once you‚Äôve installed it, take the url <code>https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?sol=1000&amp;api_key=</code> and add your key to the end.</p><p>Hit the ‚ÄúSend‚Äù button in Postman and you‚Äôll see the returned JSON in the Response section. Notice how it returns an object that has 1 item named photos, which is an array of objects. Now, you‚Äôll create models to hold the data that comes back.</p><p>In Android Studio, navigate to the <code>com.raywenderlich.marsrovers</code> package. Right click and select <i class="vp-icon iconfont icon-select" sizing="height"></i><code>[New/Package]</code> to create a new package named <code>models</code>.</p><p>Next, right-click on the <code>models</code> package and select <i class="vp-icon iconfont icon-select" sizing="height"></i><code>[New/Kotlin File/Class]</code>. Name the file <code>Camera</code>, choose <code>Class</code> as the ‚ÄúKind‚Äù and replace the generated code with the following:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Camera</span><span class="token punctuation">(</span><span class="token keyword">val</span> id<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> rover_id<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">val</span> full_name<span class="token operator">:</span> String<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Notice that you are using the <code>data</code> keyword to have Kotlin create the getters and setters for you, and that the class doesn‚Äôt need a beginning or ending brace as there are no methods. The field names match the names of the fields in the JSON response returned from the NASA API endpoint. You could make the names more readable, but you‚Äôd have to add some annotations to do that. For now, just use the given names.</p><p>Next, right-click on the <code>models</code> package and create a new Kotlin class named <code>Photo</code> and replace with the following:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Photo</span><span class="token punctuation">(</span><span class="token keyword">val</span> id <span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">val</span> img_src <span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> earth_date<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> camera<span class="token operator">:</span> Camera<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Create another Kotlin class named <code>PhotoList</code>. The <code>PhotoList</code> class just holds a list of photos and is the root element of the JSON data:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">PhotoList</span><span class="token punctuation">(</span><span class="token keyword">val</span> photos<span class="token operator">:</span> List<span class="token operator">&lt;</span>Photo<span class="token operator">&gt;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Finally, create a <code>PhotoRow</code> class that will be used to indicate that a row is either a photo or a header. This way, you can just have a list of <code>PhotoRow</code> objects and check which type to show based on the value of the <code>RowType</code> enum. Create a new Kotlin file called <code>PhotoRow</code> in the <code>models</code> package and add the following:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">enum</span> <span class="token keyword">class</span> RowType <span class="token punctuation">{</span></span>
<span class="line">   PHOTO<span class="token punctuation">,</span></span>
<span class="line">   HEADER</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">PhotoRow</span><span class="token punctuation">(</span><span class="token keyword">var</span> type<span class="token operator">:</span> RowType<span class="token punctuation">,</span> <span class="token keyword">var</span> photo<span class="token operator">:</span> Photo<span class="token operator">?</span><span class="token punctuation">,</span> <span class="token keyword">var</span> header<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>type</code> property will distinguish between photos and headers. The row will have either a photo or a header string. Both the photo and header variables are nullable.</p><hr><h2 id="adapter" tabindex="-1"><a class="header-anchor" href="#adapter"><span>Adapter</span></a></h2><p>Your adapter will extend the <code>RecyclerView.Adapter</code> class and use <code>DefaultViewHolder</code>. Navigate to the <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>com.raywenderlich.marsrovers.recyclerview</code> package and add a new Kotlin class called <code>PhotoAdapter</code>.</p><p>The class will start out like so:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">class</span> <span class="token function">PhotoAdapter</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">var</span> photoList<span class="token operator">:</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span>Adapter<span class="token operator">&lt;</span>DefaultViewHolder<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Along with the passed in list of photos, create two more variables at the beginning of the class:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">var</span> filteredPhotos <span class="token operator">=</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">var</span> filtering <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>filterPhotos</code> list is used to hold photos for a specific camera, and the <code>filtering</code> flag will be true when the user is filtering.</p><p>There are three abstract methods of <code>RecyclerView.Adapter</code> that have to be implemented: <code>getItemCount</code>, <code>onCreateViewHolder</code>, and <code>onBindViewHolder</code>. You will also override the <code>getItemViewType</code> method to return different values for the header and photo row type.</p><p><code>getItemCount</code> returns the number of photos available. If filtering is on, return the size from the filtered list:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span></span>
<span class="line"> <span class="token keyword">if</span> <span class="token punctuation">(</span>filtering<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">     <span class="token keyword">return</span> filteredPhotos<span class="token punctuation">.</span>size</span>
<span class="line"> <span class="token punctuation">}</span></span>
<span class="line"> <span class="token keyword">return</span> photoList<span class="token punctuation">.</span>size</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>onBindViewHolder</code> is where you load the photo or set the header text.</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span>holder<span class="token operator">:</span> DefaultViewHolder<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">val</span> photoRow <span class="token operator">:</span> PhotoRow <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>filtering<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    filteredPhotos<span class="token punctuation">[</span>position<span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    photoList<span class="token punctuation">[</span>position<span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>photoRow<span class="token punctuation">.</span>type <span class="token operator">==</span> RowType<span class="token punctuation">.</span>PHOTO<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> photo <span class="token operator">=</span> photoRow<span class="token punctuation">.</span>photo</span>
<span class="line">    Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>holder<span class="token punctuation">.</span>itemView<span class="token punctuation">.</span>context<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>photo<span class="token operator">?</span><span class="token punctuation">.</span>img_src<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>holder<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>camera_image<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    photo<span class="token operator">?</span><span class="token punctuation">.</span>earth_date<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> holder<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>date<span class="token punctuation">,</span> it<span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    photoRow<span class="token punctuation">.</span>header<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> holder<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>header_text<span class="token punctuation">,</span> it<span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can see that you‚Äôre using <a href="https://github.com/bumptech/glide" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-github" sizing="height"></i><code>bumptech/glide</code></a> to load images into the <code>ImageView</code>. Glide seemed to work better for all of the Mars photos than <a href="http://square.github.io/picasso/" target="_blank" rel="noopener noreferrer">Picasso</a>, which was only able to load some of the images.</p><p><code>onCreateViewHolder</code> is where you inflate the layout and return the <strong>ViewHolder</strong>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> ViewGroup<span class="token punctuation">,</span> viewType<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> DefaultViewHolder <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">val</span> layoutInflater <span class="token operator">=</span> LayoutInflater<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>context<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">val</span> inflatedView <span class="token operator">:</span> View <span class="token operator">=</span> <span class="token keyword">when</span> <span class="token punctuation">(</span>viewType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    RowType<span class="token punctuation">.</span>PHOTO<span class="token punctuation">.</span>ordinal <span class="token operator">-&gt;</span> layoutInflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>row_item<span class="token punctuation">,</span> parent<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">else</span> <span class="token operator">-&gt;</span> layoutInflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>header_item<span class="token punctuation">,</span> parent<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token function">DefaultViewHolder</span><span class="token punctuation">(</span>inflatedView<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For the two methods <code>onCreateViewHolder</code> and <code>onBindViewHolder</code>, you need to distinguish between a header and photo row. You can do that by checking the PhotoRow‚Äôs type, as you‚Äôll see in the next section.</p><hr><h2 id="section-headers" tabindex="-1"><a class="header-anchor" href="#section-headers"><span>Section Headers</span></a></h2><p>To provide headers for rows, you just need to have different row types. This is done by letting the <code>RecyclerView</code> know what type to use for each row.</p><p>Override the <code>getItemViewType</code> method and return a different integer for each type. You will be returning two different types, one for the header and one for the photo. You can use the ordinal of the enum (so the returned values will be 0 and 1). Add the following method after <code>onCreateViewHolder</code>.</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getItemViewType</span><span class="token punctuation">(</span>position<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">=</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>filtering<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    filteredPhotos<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token punctuation">.</span>ordinal</span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    photoList<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token punctuation">.</span>ordinal</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Both <code>getItemCount</code> and <code>getItemViewType</code> need to take into account the filtering flags to use either the original <code>photoList</code> or the <code>filteredPhotos</code> list.</p><p>In <code>onCreateViewHolder</code>, you load in a row_item layout for photos and a head_item layout for the header. The <code>onBindViewHolder</code> checks the type and binds the appropriate items to the <strong>ViewHolder</strong>.</p><p>Now run the app to make sure it builds. Since you haven‚Äôt added the adapter to the <strong>RecyclerView</strong> yet, you won‚Äôt see anything quite yet, only the spinning ProgressBar.</p><hr><h2 id="diffutil" tabindex="-1"><a class="header-anchor" href="#diffutil"><span>DiffUtil</span></a></h2><p><code>DiffUtil</code> is a utility class from the <code>RecyclerView</code> support library used to calculate the difference between two lists and create the operations that will morph one list into another. It will be used by the <code>RecyclerView.Adapter</code> to trigger the optimal data change notifications that are used to animate the <strong>RecyclerView</strong>‚Äòs rows.</p><p>To use this method, you need to implement the <code>DiffUtil.Callback</code>. Add this to the end of the <code>PhotoAdapter</code> class:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">class</span> <span class="token function">PhotoRowDiffCallback</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">val</span> newRows <span class="token operator">:</span> List<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token keyword">private</span> <span class="token keyword">val</span> oldRows <span class="token operator">:</span> List<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">:</span> DiffUtil<span class="token punctuation">.</span><span class="token function">Callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">areItemsTheSame</span><span class="token punctuation">(</span>oldItemPosition<span class="token operator">:</span> Int<span class="token punctuation">,</span> newItemPosition<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> oldRow <span class="token operator">=</span> oldRows<span class="token punctuation">[</span>oldItemPosition<span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">val</span> newRow <span class="token operator">=</span> newRows<span class="token punctuation">[</span>newItemPosition<span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">return</span> oldRow<span class="token punctuation">.</span>type <span class="token operator">==</span> newRow<span class="token punctuation">.</span>type</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getOldListSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span> oldRows<span class="token punctuation">.</span>size</span>
<span class="line"></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getNewListSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span> newRows<span class="token punctuation">.</span>size</span>
<span class="line"></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">areContentsTheSame</span><span class="token punctuation">(</span>oldItemPosition<span class="token operator">:</span> Int<span class="token punctuation">,</span> newItemPosition<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> oldRow <span class="token operator">=</span> oldRows<span class="token punctuation">[</span>oldItemPosition<span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">val</span> newRow <span class="token operator">=</span> newRows<span class="token punctuation">[</span>newItemPosition<span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">return</span> oldRow <span class="token operator">==</span> newRow</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This class checks the items to see if they are the same type or have the same values. The <code>areItemsTheSame</code> method just checks the row type but the <code>areContentsTheSame</code> checks to see if the rows are equal.</p><h3 id="additional-methods" tabindex="-1"><a class="header-anchor" href="#additional-methods"><span>Additional Methods</span></a></h3><p>To update the photo list, you need to pass in a new list, calculate the difference between the two lists and clear the filter. Add the following methods after <code>getItemViewType</code> in <code>PhotoAdapter</code> to support clearing the filter list, use <code>DiffUtil</code> to tell the <strong>Adapter</strong> how to update the photo views, and remove rows:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">clearFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    filtering <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line">    filteredPhotos<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">fun</span> <span class="token function">updatePhotos</span><span class="token punctuation">(</span>photos <span class="token operator">:</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   DiffUtil<span class="token punctuation">.</span><span class="token function">calculateDiff</span><span class="token punctuation">(</span><span class="token function">PhotoRowDiffCallback</span><span class="token punctuation">(</span>photos<span class="token punctuation">,</span> photoList<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dispatchUpdatesTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span></span>
<span class="line">   photoList <span class="token operator">=</span> photos</span>
<span class="line">   <span class="token function">clearFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">fun</span> <span class="token function">removeRow</span><span class="token punctuation">(</span>row <span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token keyword">if</span> <span class="token punctuation">(</span>filtering<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       filteredPhotos<span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span></span>
<span class="line">   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">       photoList<span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line">   <span class="token function">notifyItemRemoved</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Notice the <code>notifyItemRemoved</code> method. That method will allow animations to occur for the rows around the deleted row because it tells <strong>RecyclerView</strong> exactly how the data in the adapter has changed. It‚Äôs best not to use <code>notifyDataSetChanged</code> for this case, as that does not provide <strong>RecyclerView</strong> with details about exactly what has changed.</p><hr><h2 id="retrofit" tabindex="-1"><a class="header-anchor" href="#retrofit"><span>Retrofit</span></a></h2><p>To get the data from NASA, you‚Äôll be using the <a href="http://square.github.io/retrofit/" target="_blank" rel="noopener noreferrer">Retrofit</a> and <a href="https://github.com/square/moshi" target="_blank" rel="noopener noreferrer">Moshi</a> libraries. You‚Äôll use Retrofit for downloading the data and Moshi for converting it from JSON to our models.</p><p>First, create a service interface. Create a new package named <strong>service</strong> and then right click to create a new Kotlin interface named <em><code>NasaApi</code></em>. Replace the code with the following:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">interface</span> NasaApi <span class="token punctuation">{</span></span>
<span class="line">   <span class="token annotation builtin">@GET</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;mars-photos/api/v1/rovers/{rover}/photos?sol=1000&amp;api_key=&lt;key&gt;&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">fun</span> <span class="token function">getPhotos</span><span class="token punctuation">(</span><span class="token annotation builtin">@Path</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;rover&quot;</span></span><span class="token punctuation">)</span> rover<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> Call<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Substitute your key from the NASA site for <code>&lt;key&gt;</code>. This sets up the method to get the list of Photos. The passed in rover string will be substitued for {rover}.</p><p>If you need to add an import for <code>Call</code>, be sure to use the one from the <code>retrofit2</code> package.</p><p>Next, you‚Äôll need to create the actual service. Your service should be a Singleton and in Kotlin, creating one is extremely easy.</p><p>Right click on the <code>service</code> package and select <i class="vp-icon iconfont icon-select" sizing="height"></i><code>[New/Kotlin File/Class]</code>, name it <code>NasaPhotos</code>, and change the <strong>Kind</strong> to <i class="vp-icon iconfont icon-select" sizing="height"></i><code>[Object]</code>. That‚Äôs it! You now have a Kotlin Singleton.</p><p>Create a variable named <code>service</code> that is used in the <code>getPhotos</code> method:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">object</span> NasaPhotos <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">val</span> service <span class="token operator">:</span> NasaApi</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>And then add an <code>init</code> method. This will create the instance of Retrofit, set Moshi as the JSON converter, and finally create the <code>service</code> object:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">init</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> retrofit <span class="token operator">=</span> Retrofit<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">       <span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;https://api.nasa.gov/&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">       <span class="token punctuation">.</span><span class="token function">addConverterFactory</span><span class="token punctuation">(</span>MoshiConverterFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">       <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    service <span class="token operator">=</span> retrofit<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>NasaApi<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then, create a new method to make the call for the photos:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">fun</span> <span class="token function">getPhotos</span><span class="token punctuation">(</span>rover<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> Call<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span> <span class="token operator">=</span> service<span class="token punctuation">.</span><span class="token function">getPhotos</span><span class="token punctuation">(</span>rover<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>You‚Äôre almost there. You just need to setup the spinners and the <strong>RecyclerView</strong> adapter, which you‚Äôll do next.</p><hr><h2 id="updating-the-main-ui" tabindex="-1"><a class="header-anchor" href="#updating-the-main-ui"><span>Updating the main UI</span></a></h2><p>It‚Äôs time to update <code>MainActivity</code> to setup the spinners and load some photos!</p><p>Add a few variables to hold the current rover string and the spinner positions, at the top of <code>MainActivity</code></p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">var</span> currentRover <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;curiosity&quot;</span></span></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">var</span> currentRoverPosition <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">var</span> currentCameraPosition <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Above the <code>MainActivity</code> class declaration add:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">val</span> TAG <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;MarsRover&quot;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The <code>TAG</code> will be used for logging errors.</p><p>Add the following below the <code>onCreate</code> method:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">setupSpinners</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token function">setupRoverSpinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token function">setupCameraSpinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">setupCameraSpinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token comment">// Camera spinner</span></span>
<span class="line">   <span class="token keyword">val</span> cameraStrings <span class="token operator">=</span> resources<span class="token punctuation">.</span><span class="token function">getStringArray</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>camera_values<span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">val</span> cameraAdapter <span class="token operator">=</span> ArrayAdapter<span class="token punctuation">.</span><span class="token function">createFromResource</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>camera_names<span class="token punctuation">,</span> android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_item<span class="token punctuation">)</span></span>
<span class="line">   cameraAdapter<span class="token punctuation">.</span><span class="token function">setDropDownViewResource</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_dropdown_item<span class="token punctuation">)</span></span>
<span class="line">   cameras<span class="token punctuation">.</span>adapter <span class="token operator">=</span> cameraAdapter</span>
<span class="line">   cameras<span class="token punctuation">.</span>onItemSelectedListener <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> AdapterView<span class="token punctuation">.</span><span class="token function">OnItemSelectedListener</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onNothingSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onItemSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> view<span class="token operator">:</span> View<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">,</span> id<span class="token operator">:</span> Long<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">           currentCameraPosition <span class="token operator">=</span> position</span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">setupRoverSpinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token comment">// Setup the spinners for selecting different rovers and cameras</span></span>
<span class="line">   <span class="token keyword">val</span> roverStrings <span class="token operator">=</span> resources<span class="token punctuation">.</span><span class="token function">getStringArray</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>rovers<span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">val</span> adapter <span class="token operator">=</span> ArrayAdapter<span class="token punctuation">.</span><span class="token function">createFromResource</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>rovers<span class="token punctuation">,</span> android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_item<span class="token punctuation">)</span></span>
<span class="line">   adapter<span class="token punctuation">.</span><span class="token function">setDropDownViewResource</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_dropdown_item<span class="token punctuation">)</span></span>
<span class="line">   rovers<span class="token punctuation">.</span>adapter <span class="token operator">=</span> adapter</span>
<span class="line">   rovers<span class="token punctuation">.</span>onItemSelectedListener <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> AdapterView<span class="token punctuation">.</span><span class="token function">OnItemSelectedListener</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onNothingSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onItemSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> view<span class="token operator">:</span> View<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">,</span> id<span class="token operator">:</span> Long<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">           <span class="token keyword">if</span> <span class="token punctuation">(</span>currentRoverPosition <span class="token operator">!=</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">               currentRover <span class="token operator">=</span> roverStrings<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">               <span class="token function">loadPhotos</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">           <span class="token punctuation">}</span></span>
<span class="line">           currentRoverPosition <span class="token operator">=</span> position</span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>These setup the spinners to hold the corresponding string arrays.</p><p>At the end of the <code>onCreate</code> method, add the following two lines that will setup the spinners and load the photos:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token function">setupSpinners</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">loadPhotos</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Next, you‚Äôll load and sort our photos. Add the following after <code>setupRoverSpinner</code> in the <code>MainActivity</code>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">loadPhotos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    progress<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE</span>
<span class="line">    recycler_view<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE</span>
<span class="line">    NasaPhotos<span class="token punctuation">.</span><span class="token function">getPhotos</span><span class="token punctuation">(</span>currentRover<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span> Callback<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span><span class="token operator">?</span><span class="token punctuation">,</span> t<span class="token operator">:</span> Throwable<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">           Snackbar<span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>recycler_view<span class="token punctuation">,</span> R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>api_error<span class="token punctuation">,</span> Snackbar<span class="token punctuation">.</span>LENGTH_LONG<span class="token punctuation">)</span></span>
<span class="line">           Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;Problems getting Photos with error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">t</span></span><span class="token string">.msg&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResponse</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span><span class="token operator">?</span><span class="token punctuation">,</span> response<span class="token operator">:</span> Response<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">           response<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> photoResponse <span class="token operator">-&gt;</span></span>
<span class="line">               <span class="token keyword">if</span> <span class="token punctuation">(</span>photoResponse<span class="token punctuation">.</span>isSuccessful<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                  <span class="token keyword">val</span> body <span class="token operator">=</span> photoResponse<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                  body<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span></span>
<span class="line">                     Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;Received </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">body<span class="token punctuation">.</span>photos<span class="token punctuation">.</span>size</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> photos&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                     <span class="token keyword">if</span> <span class="token punctuation">(</span>recycler_view<span class="token punctuation">.</span>adapter <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                        <span class="token keyword">val</span> adapter <span class="token operator">=</span> <span class="token function">PhotoAdapter</span><span class="token punctuation">(</span><span class="token function">sortPhotos</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">                        recycler_view<span class="token punctuation">.</span>adapter <span class="token operator">=</span> adapter</span>
<span class="line">                     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                        <span class="token punctuation">(</span>recycler_view<span class="token punctuation">.</span>adapter <span class="token keyword">as</span> PhotoAdapter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">updatePhotos</span><span class="token punctuation">(</span><span class="token function">sortPhotos</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">                     <span class="token punctuation">}</span></span>
<span class="line">                   <span class="token punctuation">}</span></span>
<span class="line">                   recycler_view<span class="token punctuation">.</span><span class="token function">scrollToPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">                   recycler_view<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE</span>
<span class="line">                   progress<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE</span>
<span class="line">               <span class="token punctuation">}</span></span>
<span class="line">           <span class="token punctuation">}</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line">   <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">fun</span> <span class="token function">sortPhotos</span><span class="token punctuation">(</span>photoList<span class="token operator">:</span> PhotoList<span class="token punctuation">)</span> <span class="token operator">:</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token keyword">val</span> map <span class="token operator">=</span> HashMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> ArrayList<span class="token operator">&lt;</span>Photo<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">for</span> <span class="token punctuation">(</span>photo <span class="token keyword">in</span> photoList<span class="token punctuation">.</span>photos<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token keyword">var</span> photos <span class="token operator">=</span> map<span class="token punctuation">[</span>photo<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>full_name<span class="token punctuation">]</span></span>
<span class="line">       <span class="token keyword">if</span> <span class="token punctuation">(</span>photos <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">           photos <span class="token operator">=</span> <span class="token function">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">           map<span class="token punctuation">[</span>photo<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>full_name<span class="token punctuation">]</span> <span class="token operator">=</span> photos</span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line">       photos<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>photo<span class="token punctuation">)</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line">   <span class="token keyword">val</span> newPhotos <span class="token operator">=</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token keyword">in</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       newPhotos<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">PhotoRow</span><span class="token punctuation">(</span>RowType<span class="token punctuation">.</span>HEADER<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">       value<span class="token punctuation">.</span><span class="token function">mapTo</span><span class="token punctuation">(</span>newPhotos<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">PhotoRow</span><span class="token punctuation">(</span>RowType<span class="token punctuation">.</span>PHOTO<span class="token punctuation">,</span> it<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line">   <span class="token keyword">return</span> newPhotos</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You‚Äôll have to import a few classes to get rid of the errors. Note that any of the imports that provide multiple options should use the ones in the <code>retrofit2</code> package.</p><p>In the <code>sortPhotos</code> method, you put the photos into sections arranged by camera.</p><p>Now it‚Äôs time to try it out. Build and run the app, and within about 10 or 20 seconds, you should see something like:</p><p>![mars rover screenshot](https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507091574-281x500.png =240x)</p><p>If you don‚Äôt see any images, make sure you have your personal key in the Retrofit <code>@GET</code> annotation.</p><p>You can choose different rovers from the spinner in the top right and different cameras from the spinner below the rover spinner but they won‚Äôt do anything until they are hooked up. Note also that not all rovers have images from all cameras.</p><hr><h2 id="filtering" tabindex="-1"><a class="header-anchor" href="#filtering"><span>Filtering</span></a></h2><p>In order to filter the list, add the filterCamera method to PhotoAdapter below <code>getItemViewType</code>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">fun</span> <span class="token function">filterCamera</span><span class="token punctuation">(</span>camera<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   filtering <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line">   <span class="token keyword">val</span> newPhotos <span class="token operator">=</span> photoList<span class="token punctuation">.</span><span class="token function">filter</span> <span class="token punctuation">{</span> photo <span class="token operator">-&gt;</span> photo<span class="token punctuation">.</span>type <span class="token operator">==</span> RowType<span class="token punctuation">.</span>PHOTO <span class="token operator">&amp;&amp;</span> photo<span class="token punctuation">.</span>photo<span class="token operator">?</span><span class="token punctuation">.</span>camera<span class="token operator">?</span><span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>camera<span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span></span>
<span class="line">   DiffUtil<span class="token punctuation">.</span><span class="token function">calculateDiff</span><span class="token punctuation">(</span><span class="token function">PhotoRowDiffCallback</span><span class="token punctuation">(</span>newPhotos<span class="token punctuation">,</span> photoList<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dispatchUpdatesTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span></span>
<span class="line">   filteredPhotos <span class="token operator">=</span> newPhotos</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now go back to your <code>MainActivity</code> and hook up the camera filtering. Add the following code to the beginning of the <code>OnItemSelectedListener.onItemSelected()</code> in the <code>setupCameraSpinner</code> method:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>recycler_view<span class="token punctuation">.</span>adapter <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> currentCameraPosition <span class="token operator">!=</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token punctuation">(</span>recycler_view<span class="token punctuation">.</span>adapter <span class="token keyword">as</span> PhotoAdapter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterCamera</span><span class="token punctuation">(</span>cameraStrings<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You pass in the camera string to filter on and create a new list with just those photos. You use Kotlin‚Äôs <code>filter</code> function on the collection and return a list of photos and has the given camera value.</p><p>![Now run the app and choose Opportunity as the new rover and you should see something like](https://koenig-media.raywenderlich.com/uploads/2017/12/opportunity-281x500.png =240x)</p><hr><h2 id="itemdecorators" tabindex="-1"><a class="header-anchor" href="#itemdecorators"><span>ItemDecorators</span></a></h2><p>Unlike <strong>ListView</strong>, <strong>RecyclerView</strong> does not come with any built-in dividers. Instead, <strong>RecyclerView</strong> allows you to add your own decorators.</p><p>The <strong>RecyclerView</strong> library comes with a <code>DividerItemDecoration</code> that can be used to put dividers between your rows. You can add a divider with this one line, which you should add to <code>onCreate()</code> in <code>MainActivity</code> after the line: <code>recycler_view.visibility = View.GONE</code>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line">recycler_view<span class="token punctuation">.</span><span class="token function">addItemDecoration</span><span class="token punctuation">(</span><span class="token function">DividerItemDecoration</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> DividerItemDecoration<span class="token punctuation">.</span>VERTICAL<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>You can see the divider after the photo date on the last photo in a section.</p><p>To create your own decorator, just subclass <code>ItemDecoration</code> and implement the <code>onDraw</code> and/or the <code>onDrawOver</code> methods.</p><hr><h2 id="animations" tabindex="-1"><a class="header-anchor" href="#animations"><span>Animations</span></a></h2><p>__RecyclerView__s allow animations for each row and provides built-in animations for adding and removing rows.</p><p>To show an animation for adding a row, make sure you use <code>notifyItemAdded(position)</code> instead of calling <code>notifyDataChanged()</code>. This lets the view know that just one row has been added and can animate that addition.</p><p>For deleting, call <code>notifyItemRemoved(position)</code>.</p><p>To animate the addition of each item, add the following method to <code>PhotoAdapter</code>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">setAnimation</span><span class="token punctuation">(</span>viewToAnimate<span class="token operator">:</span> View<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>viewToAnimate<span class="token punctuation">.</span>animation <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> animation <span class="token operator">=</span> AnimationUtils<span class="token punctuation">.</span><span class="token function">loadAnimation</span><span class="token punctuation">(</span>viewToAnimate<span class="token punctuation">.</span>context<span class="token punctuation">,</span> android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>anim<span class="token punctuation">.</span>slide_in_left<span class="token punctuation">)</span></span>
<span class="line">    viewToAnimate<span class="token punctuation">.</span>animation <span class="token operator">=</span> animation</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This will provide an animation where the row slides in from the left.</p><p>Then add:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token function">setAnimation</span><span class="token punctuation">(</span>holder<span class="token punctuation">.</span>itemView<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>as the last line in <code>onBindViewHolder</code>. Now try running again.</p><p>![The animation adds a nice dynamic effect to the presentation of the photos.](https://koenig-media.raywenderlich.com/uploads/2017/10/mars4.gif =240x)</p><hr><h2 id="swiping" tabindex="-1"><a class="header-anchor" href="#swiping"><span>Swiping</span></a></h2><p>Swiping is great way to let your user delete rows. You‚Äôre going to implement swiping in both the left and right direction to delete a row.</p><p><strong>RecyclerView</strong> uses an <code>ItemTouchHelper</code> class along with a swipe callback to handle the movement. The callback is simple and you will just call your adapter‚Äôs <code>removeRow</code> method in the <code>onSwiped</code> callback.</p><p>Open <i class="vp-icon iconfont icon-java" sizing="height"></i><code>MainActivity.kt</code> and add the following at the bottom of the class:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">class</span> <span class="token function">SwipeHandler</span><span class="token punctuation">(</span><span class="token keyword">val</span> adapter<span class="token operator">:</span> PhotoAdapter<span class="token punctuation">,</span> dragDirs <span class="token operator">:</span> Int<span class="token punctuation">,</span> swipeDirs <span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> ItemTouchHelper<span class="token punctuation">.</span><span class="token function">SimpleCallback</span><span class="token punctuation">(</span>dragDirs<span class="token punctuation">,</span> swipeDirs<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onMove</span><span class="token punctuation">(</span>recyclerView<span class="token operator">:</span> RecyclerView<span class="token operator">?</span><span class="token punctuation">,</span> viewHolder<span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span>ViewHolder<span class="token operator">?</span><span class="token punctuation">,</span> target<span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span>ViewHolder<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onSwiped</span><span class="token punctuation">(</span>viewHolder<span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span>ViewHolder<span class="token punctuation">,</span> direction<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    adapter<span class="token punctuation">.</span><span class="token function">removeRow</span><span class="token punctuation">(</span>viewHolder<span class="token punctuation">.</span>adapterPosition<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In <code>loadPhotos</code> you will find the following in the <code>onResponse</code> method:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>recycler_view<span class="token punctuation">.</span>adapter <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">val</span> adapter <span class="token operator">=</span> <span class="token function">PhotoAdapter</span><span class="token punctuation">(</span><span class="token function">sortPhotos</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  recycler_view<span class="token punctuation">.</span>adapter <span class="token operator">=</span> adapter</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Add the following after setting the <code>adapter</code> value:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">val</span> touchHandler <span class="token operator">=</span> <span class="token function">ItemTouchHelper</span><span class="token punctuation">(</span><span class="token function">SwipeHandler</span><span class="token punctuation">(</span>adapter<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ItemTouchHelper<span class="token punctuation">.</span>LEFT <span class="token operator">or</span> ItemTouchHelper<span class="token punctuation">.</span>RIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">touchHandler<span class="token punctuation">.</span><span class="token function">attachToRecyclerView</span><span class="token punctuation">(</span>recycler_view<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>![Run the app and try swiping left or right to delete a row.](https://koenig-media.raywenderlich.com/uploads/2017/10/mars5.gif =240x)</p><p>Awesome! You‚Äôre just deleting the row from the display in the <strong>RecyclerView</strong>. In another app you would likely delete the item from a database and/or make an API call to delete the corresponding item on a server.</p><hr><h2 id="where-to-go-from-here" tabindex="-1"><a class="header-anchor" href="#where-to-go-from-here"><span>Where to go from here</span></a></h2><p>You‚Äôve done a lot of work and now you know how to add animations, provide a swipe handler, add section headers, and use the <code>DiffUtil</code> class. Well done!</p><p>A great next step would be to eliminate the <code>PhotoRow</code> model class and <code>DefaultViewHolder</code> and get the project working with separate Header and Photo model objects and a dedicated <code>ViewHolder</code> for each.</p><p>The final project for this tutorial is available <a href="https://koenig-media.raywenderlich.com/uploads/2017/12/marsrovers-final-1.zip" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-file-zipper" sizing="height"></i>here</a>. In the final project, be sure to remember to set the API key in <i class="vp-icon iconfont icon-java" sizing="height"></i><code>NasaApi.kt</code>.</p><p>If you need more information on <code>RecyclerView</code>s, you can check out the following Android developer documentation:</p><ul><li><a href="https://developer.android.com/guide/topics/ui/layout/recyclerview?hl=ko" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-android" sizing="height"></i>Recyclerview Layouts</a></li><li><a href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.html" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-android" sizing="height"></i>RecyclerView Class</a></li><li><a href="https://developer.android.com/reference/android/support/v7/util/DiffUtil.html" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-android" sizing="height"></i>DiffUtil Class</a></li></ul><p>I hope you enjoyed this Intermediate RecyclerView tutorial, and if you have any questions or comments, please join the forum discussion below!</p><p>Go forward and make great animated <code>RecyclerViews</code>!</p></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/bookshelf/edit/main/src/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/programming/java-android/articles/" aria-label="/programming/java-android/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/programming/java-android/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/kodeco.com/262-dependency-injection-in-android-with-dagger-2-and-kotlin.html" aria-label="Dependency Injection in Android with Dagger 2 and Kotlin"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Dependency Injection in Android with Dagger 2 and Kotlin<i class="vp-icon fa-brands fa-android" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright ¬© 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><!----></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BItykJLQ.js" defer></script>
  </body>
</html>
