<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions","image":["https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg","https://miro.medium.com/v2/resize:fit:1400/1*SZbnT_ronQ2ryRiYWkgaug.png","https://miro.medium.com/v2/resize:fit:1400/1*9KrIRsVVNPax0XvIK2lvmw.png","https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mxEBoewfZQ9ebrxygxr2eQ.png"],"datePublished":"2025-02-12T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"Leo N"}]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html"><meta property="og:site_name" content="📚Bookshelf"><meta property="og:title" content="📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"><meta property="og:description" content="Article(s) > 📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"><meta property="og:type" content="article"><meta property="og:image" content="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg"><meta name="twitter:image:alt" content="📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"><meta property="article:author" content="Leo N"><meta property="article:tag" content="android"><meta property="article:tag" content="kotlin"><meta property="article:tag" content="java"><meta property="article:tag" content="droidcon.com"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2025-02-12T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions | 📚Bookshelf</title><meta name="description" content="Article(s) > 📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions">
    <link rel="preload" href="/bookshelf/assets/style-DmRYlEXZ.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-DmRYlEXZ.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">📚Bookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnk8s.io/" aria-label="learnk8s.io"><!--[--><img class="vp-icon" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnk8s.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/articles" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">droidcon.com</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2025</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/droidcon.com/room-setup-in-kotlin-multiplatform-kmp-with-koin.html" aria-label="Room setup in Kotlin Multiplatform (KMP) with Koin"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Room setup in Kotlin Multiplatform (KMP) with Koin<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/droidcon.com/designing-effective-ui-components-in-jetpack-compose.html" aria-label="Designing Effective UI Components in Jetpack Compose"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Designing Effective UI Components in Jetpack Compose<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/droidcon.com/creating-a-modern-bottom-navigation-bar-with-a-curved-cut-out-for-a-docked-floating-action-button-in-jetpack-compose.html" aria-label="Creating a Modern Bottom Navigation Bar with a Curved Cut-Out for a Docked/Floating Action Button in Jetpack Compose"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Creating a Modern Bottom Navigation Bar with a Curved Cut-Out for a Docked/Floating Action Button in Jetpack Compose<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/droidcon.com/a-more-flexible-checkbox-in-material3.html" aria-label="A more flexible Checkbox in Material3"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->A more flexible Checkbox in Material3<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html" aria-label="📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/droidcon.com/safeguarding-critical-operations-block-accidental-navigation-in-jetpack-compose.html" aria-label="Safeguarding Critical Operations: Block Accidental Navigation in Jetpack Compose"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Safeguarding Critical Operations: Block Accidental Navigation in Jetpack Compose<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/droidcon.com/outlinedurltextfield-in-jetpack-compose.html" aria-label="OutlinedUrlTextField in Jetpack Compose"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->OutlinedUrlTextField in Jetpack Compose<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/droidcon.com/automating-ui-model-generation-with-ksp.html" aria-label="Automating UI Model Generation With KSP"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Automating UI Model Generation With KSP<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2024</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/droidcon.com/dagger-anvil-learning-to-love-dependency-injection.html" aria-label="Dagger + Anvil: Learning to Love Dependency Injection"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Dagger + Anvil: Learning to Love Dependency Injection<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/droidcon.com/writing-swift-friendly-kotlin-multiplatform-apis-part-ix-flow.html" aria-label="Writing Swift-friendly Kotlin Multiplatform APIs — Part IX: Flow - droidcon"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Writing Swift-friendly Kotlin Multiplatform APIs — Part IX: Flow - droidcon<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/droidcon.com/introducing-iris-mock-an-easier-way-to-mock-network-calls-on-android.html" aria-label="Introducing Iris Mock: An easier way to mock network calls on Android"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->Introducing Iris Mock: An easier way to mock network calls on Android<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon fa-brands fa-android" sizing="height"></i>📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Leo N</span></span><span property="author" content="Leo N"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2/12/25</span><meta property="datePublished" content="2025-02-12T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 14 min</span><meta property="timeRequired" content="PT14M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color8" role>Java</span><span class="page-category-item color2" role>Kotlin</span><span class="page-category-item color0" role>Android</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="Java,Kotlin,Android,Article(s)"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color5" role>droidcon.com</span><span class="page-tag-item color8" role>java</span><span class="page-tag-item color0" role>kotlin</span><span class="page-tag-item color3" role>android</span><!--]--><meta property="keywords" content="blog,droidcon.com,java,kotlin,android"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-관련" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-관련"><span>📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions 관련</span></a></h1><a class="route-link vp-card" href="/bookshelf/programming/java-android/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="/bookshelf/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Android > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#📱-access-app-specific-files" class="router-link-active router-link-exact-active">📱 Access app-specific files</a><ul><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#scoped-storage-why-it-matters-in-android-10-🚀" class="router-link-active router-link-exact-active">Scoped Storage &amp; Why It Matters in Android 10+ 🚀</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#✅-what-scoped-storage-changes" class="router-link-active router-link-exact-active">✅ What Scoped Storage Changes</a></li></ul></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#what-is-androidfileprovider" class="router-link-active router-link-exact-active">What is AndroidFileProvider?</a><ul><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#📌-basic-implementation-offileprovider" class="router-link-active router-link-exact-active">📌 Basic Implementation ofFileProvider</a></li></ul></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#🆚fileproviderin-a-multi-module-android-project" class="router-link-active router-link-exact-active">🆚FileProviderin a Multi-Module Android Project?</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#📸-what-is-androidmedia-store" class="router-link-active router-link-exact-active">📸 What is AndroidMedia Store?</a><ul><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_1-query-media-files-images" class="router-link-active router-link-exact-active">1. Query Media Files (Images)</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_2-insert-a-new-image" class="router-link-active router-link-exact-active">2. Insert a New Image</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_3-delete-a-media-file" class="router-link-active router-link-exact-active">3. Delete a Media File</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_4-update-media-file-metadata" class="router-link-active router-link-exact-active">4. Update Media File Metadata</a></li></ul></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#🚨common-error-solution" class="router-link-active router-link-exact-active">🚨Common Error &amp; Solution</a><ul><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_1-securityexception-permission-denied" class="router-link-active router-link-exact-active">1. SecurityException: Permission Denied</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_2-file-not-found-exception" class="router-link-active router-link-exact-active">2. File Not Found Exception</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_3-image-not-appearing-in-gallery" class="router-link-active router-link-exact-active">3. Image Not Appearing in Gallery</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_4-fileuriexposedexception-android-7" class="router-link-active router-link-exact-active">4. FileUriExposedException (Android 7+)</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_5-android-authorities-not-matching" class="router-link-active router-link-exact-active">5. android:authorities Not Matching</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_6-permission-denied-when-opening-a-shared-file" class="router-link-active router-link-exact-active">6. Permission Denied When Opening a Shared File</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#_7-failed-to-find-configured-root-that-contains" class="router-link-active router-link-exact-active">7. Failed to find configured root that contains …</a></li></ul></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#📌-questions-answers" class="router-link-active router-link-exact-active">📌 Questions &amp; Answers</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#🎯-conclusion" class="router-link-active router-link-exact-active">🎯 Conclusion</a><ul><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#🔹-mediastore-scoped-storage-api" class="router-link-active router-link-exact-active">🔹 MediaStore (Scoped Storage API)</a></li><li><a aria-current="page" href="/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html#🔹fileprovider-for-secure-file-sharing" class="router-link-active router-link-exact-active">🔹FileProvider (For Secure File Sharing)</a></li></ul></li></ul></nav><hr><div class="vp-site-info" data-name="📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"><a class="vp-site-info-navigator no-external-link-icon" title="📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions" href="https://droidcon.com/2025/02/12/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt loading="lazy" no-view><div class="vp-site-info-name">📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions</div><div class="vp-site-info-desc">In the world of modern android development, Jetpack Compose has revolutionized UI building, making it more intuitive and efficient. But what if you need a simple function to download, save, and share images within your app? Whether you are building a social media app, a gallery viewer, or just need to hand images dynamically, this guide will walk you through the comparison between FileProvider and MediaStore as well as suggest some of interview questions. Now let’s go 🔥</div></div><!----></div><figure><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>In the world of modern android development,<strong>Jetpack Compose</strong> has revolutionized UI building, making it more intuitive and efficient. But what if you need a simple function to download, save, and share images within your app? Whether you are building a social media app, a gallery viewer, or just n2222eed to hand images dynamically,<strong>this guide will walk you through the</strong> comparison between<code>FileProvider</code>and<code>MediaStore</code>as well as suggest some of interview questions. Now let’s go 🔥</p><ul><li>📂 What is Android<code>FileProvider</code>?</li><li>🔄<code>FileProvider</code>in a Multi-Module Android Project?</li><li>📸 What is Android<code>Media Store</code>?</li><li>🚨Common Error &amp; Solution</li><li>📌 Questions &amp; Answers</li></ul><hr><h2 id="📱-access-app-specific-files" tabindex="-1"><a class="header-anchor" href="#📱-access-app-specific-files"><span>📱 Access app-specific files</span></a></h2><p>In many cases, your app creates files that other apps don’t need to access, or shouldn’t access. The system provides the following locations for storing such<em>app-specific</em>files:</p><ul><li>**Internal storage directories:**These directories include both a dedicated location for storing persistent files, and another location for storing cache data. The system prevents other apps from accessing these locations, and on Android 10 (API level 29) and higher, these locations are encrypted. These characteristics make these locations a good place to store sensitive data that only your app itself can access.</li><li>**External storage directories:**These directories include both a dedicated location for storing persistent files, and another location for storing cache data. Although it’s possible for another app to access these directories if that app has the proper permissions, the files stored in these directories are meant for use only by your app. If you specifically intend to create files that other apps should be able to access, your app should store these files in the<a href="https://developer.android.com/training/data-storage/shared" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>shared storage</a>part of external storage instead.</li></ul><div class="hint-container info"><p class="hint-container-title">Info</p><blockquote><p>When the user uninstalls your app, the files saved in app-specific storage are removed. Because of this behavior, you shouldn’t use this storage to save anything that the user expects to persist independently of your app. For example, if your app allows users to capture photos, the user would expect that they can access those photos even after they uninstall your app. So you should instead use shared storage to save those types of files to the appropriate<a href="https://developer.android.com/training/data-storage/shared/media" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>media collection</a>.</p></blockquote></div><h3 id="scoped-storage-why-it-matters-in-android-10-🚀" tabindex="-1"><a class="header-anchor" href="#scoped-storage-why-it-matters-in-android-10-🚀"><span>Scoped Storage &amp; Why It Matters in Android 10+ 🚀</span></a></h3><p>In<strong>Android 10 (API 29)<strong>and above, Google introduced</strong>Scoped Storage</strong>to improve app security and user privacy. This change<strong>restricts</strong>how apps can access files on external storage. and<strong>MediaStore</strong>is the recommended way to interact with media files.</p><p>Before<strong>Scoped Storage</strong>, apps could freely read/write to<code>Environment.getExternalStorageDirectory()</code>, but this<strong>posed security risks</strong>since apps could access files from other apps.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>If your app requests a storage-related permission at runtime, the user-facing dialog indicates that your app is requesting broad access to external storage, even when scoped storage is enabled.</p></div><h3 id="✅-what-scoped-storage-changes" tabindex="-1"><a class="header-anchor" href="#✅-what-scoped-storage-changes"><span>✅ What Scoped Storage Changes</span></a></h3><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-0" aria-selected="true">Limited File Access</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-1" aria-selected="false">FileProvider is Required for Sharing</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-2" aria-selected="false">Temporary Permissions for File Access</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-3" aria-selected="false">Media Store APIs for Public Files</button></div><!--[--><div class="vp-tab active" id="v-0" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Limited File Access</div><!--[--><ul><li>Apps can no longer<strong>freely access</strong>all files in external storage (<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>/sdcard/</code>).</li><li>Instead, apps can only access<strong>their own app-specific directories</strong>inside: <ul><li><i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Android/data/com.example.app/</code></li><li><i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Android/media/com.example.app/</code></li></ul></li></ul><!--]--></div><div class="vp-tab" id="v-1" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">FileProvider is Required for Sharing</div><!--[--><ul><li>Direct<code>file://</code> URIs are<strong>blocked</strong>(causes<code>FileUriExposedException</code>).</li><li>Apps must<strong>use</strong> <code>FileProvider.getUriForFile()</code>to share files.</li></ul><!--]--></div><div class="vp-tab" id="v-2" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Temporary Permissions for File Access</div><!--[--><ul><li>If an app wants to share a file (e.g., an image) with another app (WhatsApp, Gmail, etc.), it must use:</li></ul><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line">intent<span class="token punctuation">.</span><span class="token function">addFlags</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>FLAG_GRANT_READ_URI_PERMISSION<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>This grants temporary permission for the receiving app to read the file.</li></ul><!--]--></div><div class="vp-tab" id="v-3" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Media Store APIs for Public Files</div><!--[--><ul><li>Apps should use<code>MediaStore</code> <strong>APIs</strong>to read/write<strong>public</strong>files (e.g., Photos, Downloads).</li></ul><!--]--></div><!--]--></div><table><thead><tr><th style="text-align:right;">Feature</th><th>Android 10+ (Scoped Storage)</th><th>Android 9- (FileProvider)</th></tr></thead><tbody><tr><td style="text-align:right;">Where is image saved?</td><td>Pictures/ using MediaStore</td><td>Pictures/MyApp/ manually</td></tr><tr><td style="text-align:right;">Requires <code>WRITE_EXTERNAL_STORAGE</code>?</td><td>❌ No</td><td>✅ Yes (Android 9-)</td></tr><tr><td style="text-align:right;">How to share?</td><td>Direct Uri from MediaStore</td><td>FileProvider URI</td></tr><tr><td style="text-align:right;">Compatible with all apps?</td><td>✅ Yes (Gallery, WhatsApp, etc.)</td><td>✅ Yes (With FileProvider)</td></tr></tbody></table><!-- @import https://gist.github.com/nphausg/13bd2aff03585c4c9d8dfb7f9bf65fb0/raw/18a24c9a90263913f8ae02ff6c83e918996e83bf/scopedStorageVsLegacyStorage.md --><hr><h2 id="what-is-androidfileprovider" tabindex="-1"><a class="header-anchor" href="#what-is-androidfileprovider"><span>What is Android<code>FileProvider</code>?</span></a></h2><p><code>FileProvider</code>is a special subclass of<code>ContentProvider</code>in Android that allows you to securely share files between different applications without exposing the internal storage file paths. It provides a way to generate<code>content://</code>URIs instead of<code>file://</code> URIs, which prevents issues with the<strong>Scoped Storage</strong>and<strong>File URI Exposure Exception</strong>on modern Android versions.</p><ul><li>✅ Securely share files between apps.</li><li>✅ Prevent<code>FileUriExposedException</code>on Android 7.0+.</li><li>✅ Works with<strong>camera intents, sharing files via email, social media, …</strong></li><li>✅ Supports multiple modules in a project.</li></ul><h3 id="📌-basic-implementation-offileprovider" tabindex="-1"><a class="header-anchor" href="#📌-basic-implementation-offileprovider"><span>📌 Basic Implementation of<code>FileProvider</code></span></a></h3><h4 id="_1-specify-thefileproviderinandroidmanifest-xml" tabindex="-1"><a class="header-anchor" href="#_1-specify-thefileproviderinandroidmanifest-xml"><span>1. Specify the<code>FileProvider</code>in<i class="vp-icon fa-brands fa-android" sizing="height"></i><code>AndroidManifest.xml</code></span></a></h4><p>Defining a<a href="https://developer.android.com/reference/androidx/core/content/FileProvider" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i><code>FileProvider</code></a>for your app requires an entry in your manifest. This entry specifies the authority to use in generating content URIs, as well as the name of an XML file that specifies the directories your app can share.</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="AndroidManifest.xml"><span>AndroidManifest.xml</span></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>provider</span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>androidx.core.content.FileProvider<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>authorities</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${applicationId}.provider<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>exported</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>grantUriPermissions</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.support.FILE_PROVIDER_PATHS<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@xml/filepaths<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>provider</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h4 id="_2-specify-sharable-directoriesfilepaths-xmlinres-xml" tabindex="-1"><a class="header-anchor" href="#_2-specify-sharable-directoriesfilepaths-xmlinres-xml"><span>2. Specify sharable directories<i class="vp-icon iconfont icon-code" sizing="height"></i><code>filepaths.xml</code>in<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>res/xml/</code></span></a></h4><p>Once you have added the<code>FileProvider</code>to your app manifest, you need to specify the directories that contain the files you want to share. To specify the directories, start by creating the file<i class="vp-icon iconfont icon-code" sizing="height"></i><code>filepaths.xml</code>in the<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>res/xml/</code>subdirectory of your project. In this file, specify the directories by adding an XML element for each directory. The following snippet shows you an example of the contents of<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>res/xml/</code><i class="vp-icon iconfont icon-code" sizing="height"></i><code>filepaths.xml</code>. The snippet also demonstrates how to share a subdirectory of the<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>files/</code>directory in your internal storage area:</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"><span class="token comment">&lt;!-- Allow access to app-specific external storage --&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paths</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token comment">&lt;!-- 📂/storage/emulated/0/Android/data/{package_name}/**/images/--&gt;</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>external-files-path</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images<span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>files-path</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myimages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paths</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this example:</p><ul><li><code>external-files-path</code>: Refers to the app’s external storage</li><li><code>external-cache-path</code>: Refers to the app’s external cache directory</li><li><code>&lt;files-path&gt;</code>tag shares directories within the<i class="vp-icon fas fa-folder-ope" sizing="height"></i><code>files/</code>directory of your app’s internal storage. The<code>path</code>attribute shares the<i class="vp-icon fas fa-folder-ope" sizing="height"></i><code>images/</code>subdirectory of<i class="vp-icon fas fa-folder-ope" sizing="height"></i><code>files/</code>. The<code>name</code>attribute tells the<a href="https://developer.android.com/reference/androidx/core/content/FileProvider" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i><code>FileProvider</code></a>to add the path segment<code>myimages</code>to content URIs for files in the<i class="vp-icon fas fa-folder-ope" sizing="height"></i><code>files/images/</code>subdirectory.</li></ul><figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*SZbnT_ronQ2ryRiYWkgaug.png" alt="Example of using " tabindex="0" loading="lazy"><figcaption>Example of using <code>context.cacheDir</code></figcaption></figure><div class="hint-container note"><p class="hint-container-title">Note</p><p>The XML file is the only way you can specify the directories you want to share; you can’t programmatically add a directory.</p></div><h4 id="_3-define-thebuildconfig" tabindex="-1"><a class="header-anchor" href="#_3-define-thebuildconfig"><span>3. Define the<code>BuildConfig</code></span></a></h4><ul><li>BuildConfig</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="build.gradle.kts"><span>build.gradle.kts</span></div><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token function">buildConfigField</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;String&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;FILE_PROVIDER&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;\&quot;provider\&quot;&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><ul><li><code>FileProvider</code></li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="FileProvider.kt"><span>FileProvider.kt</span></div><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>content<span class="token punctuation">.</span>FileProvider <span class="token keyword">as</span> AndroidFileProvider</span>
<span class="line"></span>
<span class="line"><span class="token keyword">interface</span> FileProvider <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation builtin">@Throws</span><span class="token punctuation">(</span>Exception<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">fun</span> <span class="token function">getUri</span><span class="token punctuation">(</span>context<span class="token operator">:</span> Context<span class="token punctuation">,</span> file<span class="token operator">:</span> File<span class="token punctuation">)</span><span class="token operator">:</span> Uri<span class="token operator">?</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">val</span> authority <span class="token operator">=</span> <span class="token function">authority</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> AndroidFileProvider<span class="token punctuation">.</span><span class="token function">getUriForFile</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> authority<span class="token punctuation">,</span> file<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token operator">:</span> FileProvider <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">val</span> authority <span class="token operator">=</span> <span class="token punctuation">{</span> context<span class="token operator">:</span> Context <span class="token operator">-&gt;</span></span>
<span class="line">            <span class="token string-literal singleline"><span class="token string">&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">context<span class="token punctuation">.</span>applicationContext<span class="token punctuation">.</span>packageName</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">BuildConfig<span class="token punctuation">.</span>FILE_PROVIDER</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span></span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><hr><h2 id="🆚fileproviderin-a-multi-module-android-project" tabindex="-1"><a class="header-anchor" href="#🆚fileproviderin-a-multi-module-android-project"><span>🆚<code>FileProvider</code>in a Multi-Module Android Project?</span></a></h2><p>By default,<code>FileProvider</code>is tied to an<code>authority</code>(e.g.,<code>com.example.app.fileprovider</code>), which is unique per module. In a<strong>multi-module project</strong>, each module<strong>cannot define its own</strong> <code>FileProvider</code>with the same<code>authority</code>. Instead, follow these steps:</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-4" aria-selected="true">Approach 1</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-5" aria-selected="false">Approach 2</button></div><!--[--><div class="vp-tab active" id="v-4" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Approach 1</div><!--[--><p>Declare<code>FileProvider</code>in the <strong>App Module</strong></p><ul><li>Allow feature modules to access<code>FileProvider</code></li><li>Pass the<code>Context</code>of the main application to the modules.</li><li>Use<code>FileProvider.getUriForFile(...)</code>in the modules with the<strong>app’s authority</strong>(<code>com.example.app.fileprovider</code>).</li></ul><p><strong>Use Approach 1 (App Module) if:</strong></p><ul><li>Your project is small or medium-sized.</li><li>You don’t plan to reuse<code>FileProvider</code>in multiple apps.</li><li>Simplicity is more important than modularity.</li></ul><!--]--></div><div class="vp-tab" id="v-5" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Approach 2</div><!--[--><p>Create a <strong>Shared Module</strong> for <code>FileProvider</code></p><ul><li>Create a new module (e.g.,<code>foundation-io</code>).</li><li>Define the<code>FileProvider</code>in<code>foundation-io</code>and expose a method:</li><li>All modules will use this method to get the URI.</li></ul><p><strong>Use Approach 2 (Shared Module) if:</strong></p><ul><li>Your project is large, with multiple feature modules.</li><li>You want to<strong>decouple</strong><code>FileProvider</code>from the main app.</li><li>You might reuse the shared module in other projects.</li><li>Your team follows<strong>clean architecture and modularization</strong>best practices.</li></ul><!--]--></div><!--]--></div><div class="hint-container note"><p class="hint-container-title">Note</p><p>If you’re working on a<strong>large-scale project</strong>with multiple modules (e.g., a super app, SDK-based architecture),<strong>Approach 2 (Shared Module) is the best choice</strong>because it promotes<strong>scalability, reusability, and maintainability</strong>. However, if you<strong>just need quick file sharing in a single app</strong>,<strong>Approach 1 (App Module) is simpler and works fine.</strong></p></div><hr><h2 id="📸-what-is-androidmedia-store" tabindex="-1"><a class="header-anchor" href="#📸-what-is-androidmedia-store"><span>📸 What is Android<code>Media Store</code>?</span></a></h2><p>The contract between the media provider and applications. Contains definitions for the supported URIs and columns. The media provider provides an indexed collection of common media types, such as<a href="https://developer.android.com/reference/android/provider/MediaStore.Audio" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>Audio</a>,<a href="https://developer.android.com/reference/android/provider/MediaStore.Video" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>Video</a>, and<a href="https://developer.android.com/reference/android/provider/MediaStore.Images" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>Images</a>, from any attached storage devices. Each collection is organized based on the primary MIME type of the underlying content; for example,<code>image/*</code>content is indexed under<a href="https://developer.android.com/reference/android/provider/MediaStore.Images" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>Images</a>. The<a href="https://developer.android.com/reference/android/provider/MediaStore.Files" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>Files</a>collection provides a broad view across all collections, and does not filter by MIME type.</p><h3 id="_1-query-media-files-images" tabindex="-1"><a class="header-anchor" href="#_1-query-media-files-images"><span>1. Query Media Files (Images)</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getAllImages</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Uri</span> collection <span class="token operator">=</span> <span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">EXTERNAL_CONTENT_URI</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> projection <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span>_ID<span class="token punctuation">,</span></span>
<span class="line">            <span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DISPLAY_NAME</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">Cursor</span> cursor <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span></span>
<span class="line">            collection<span class="token punctuation">,</span></span>
<span class="line">            projection<span class="token punctuation">,</span></span>
<span class="line">            <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DATE_ADDED</span> <span class="token operator">+</span> <span class="token string">&quot; DESC&quot;</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>cursor <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">while</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">moveToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">int</span> id <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">getColumnIndexOrThrow</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span>_ID<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">String</span> name <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">getColumnIndexOrThrow</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DISPLAY_NAME</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token class-name">Uri</span> imageUri <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">withAppendedPath</span><span class="token punctuation">(</span>collection<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MediaStore&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Image: &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, URI: &quot;</span> <span class="token operator">+</span> imageUri<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        cursor<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-insert-a-new-image" tabindex="-1"><a class="header-anchor" href="#_2-insert-a-new-image"><span>2. Insert a New Image</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token class-name">Uri</span> <span class="token function">saveImageToGallery</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Bitmap</span> bitmap<span class="token punctuation">,</span> <span class="token class-name">String</span> filename<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DISPLAY_NAME</span><span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">MIME_TYPE</span><span class="token punctuation">,</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">RELATIVE_PATH</span><span class="token punctuation">,</span> <span class="token string">&quot;Pictures/MyApp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">Uri</span> imageUri <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">EXTERNAL_CONTENT_URI</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">OutputStream</span> outputStream <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openOutputStream</span><span class="token punctuation">(</span>imageUri<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        bitmap<span class="token punctuation">.</span><span class="token function">compress</span><span class="token punctuation">(</span><span class="token class-name">Bitmap<span class="token punctuation">.</span>CompressFormat</span><span class="token punctuation">.</span><span class="token constant">PNG</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> outputStream<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        outputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> imageUri<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*9KrIRsVVNPax0XvIK2lvmw.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container note"><p class="hint-container-title">Note</p><ul><li>The<code>RELATIVE_PATH</code>specifies where the image is stored (<code>Pictures/MyApp</code>).</li><li>No<strong>WRITE_EXTERNAL_STORAGE</strong>permission needed from<strong>Android 10+</strong>.</li></ul></div><h3 id="_3-delete-a-media-file" tabindex="-1"><a class="header-anchor" href="#_3-delete-a-media-file"><span>3. Delete a Media File</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">deleteImage</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Uri</span> uri<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> deleted <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> deleted <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container important"><p class="hint-container-title">🔹 Permissions Needed</p><ul><li><strong>Android 10+</strong>: No storage permission required, as long as using<code>MediaStore</code>.</li><li><strong>Android 9 and below</strong>: Requires<code>WRITE_EXTERNAL_STORAGE</code>permission.</li></ul></div><h3 id="_4-update-media-file-metadata" tabindex="-1"><a class="header-anchor" href="#_4-update-media-file-metadata"><span>4. Update Media File Metadata</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateMediaDetails</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Uri</span> uri<span class="token punctuation">,</span> <span class="token class-name">String</span> newTitle<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DISPLAY_NAME</span><span class="token punctuation">,</span> newTitle<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> values<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The system automatically scans an external storage volume and adds media files to the following well-defined collections:</p><ul><li>**Images,**including photographs and screenshots, which are stored in the<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>DCIM/</code>and<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Pictures/</code>directories. The system adds these files to the<a href="https://developer.android.com/reference/android/provider/MediaStore.Images" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i><code>MediaStore.Images</code></a>table.</li><li>**Videos,**which are stored in the<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>DCIM/</code>,<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Movies/</code>, and<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Pictures/</code>directories. The system adds these files to the<a href="https://developer.android.com/reference/android/provider/MediaStore.Video" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i><code>MediaStore.Video</code></a>table.</li><li>**Audio files,**which are stored in the<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Alarms/</code>,<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Audiobooks/</code>,<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Music/</code>,<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Notifications/</code>,<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Podcasts/</code>, and<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Ringtones/</code>directories. Additionally, the system recognizes audio playlists that are in the<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Music/</code>or<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Movies/</code>directories as well as voice recordings that are in the<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Recordings/</code>directory. The system adds these files to the<a href="https://developer.android.com/reference/android/provider/MediaStore.Audio" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i><code>MediaStore.Audio</code></a>table.<em>The <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>Recordings/</code> directory isn’t available on Android 11 (API level 30) and lower.</em></li><li>**Downloaded files,**which are stored in the<code>Download/</code>directory. On devices that run Android 10 (API level 29) and higher, these files are stored in the<a href="https://developer.android.com/reference/android/provider/MediaStore.Downloads" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i><code>MediaStore.Downloads</code></a>table.<em>This table isn’t available on Android 9 (API level 28) and lower.</em></li></ul><hr><h2 id="🚨common-error-solution" tabindex="-1"><a class="header-anchor" href="#🚨common-error-solution"><span>🚨Common Error &amp; Solution</span></a></h2><h3 id="_1-securityexception-permission-denied" tabindex="-1"><a class="header-anchor" href="#_1-securityexception-permission-denied"><span>1. <code>SecurityException</code>: Permission Denied</span></a></h3><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">java.lang.SecurityException: Permission Denial: writing Uri content://media/external/images/media from pid=12345, uid=10085 requires android.permission.WRITE_EXTERNAL_STORAGE</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-6" aria-selected="true">Cause</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-7" aria-selected="false">Solution</button></div><!--[--><div class="vp-tab active" id="v-6" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Cause</div><!--[--><ul><li>Your app is targeting<strong>Android 10+<strong>and trying to write to shared storage</strong>without using MediaStore</strong>.</li><li>You did not request<strong>WRITE_EXTERNAL_STORAGE</strong>(Android 9 and below).</li></ul><!--]--></div><div class="vp-tab" id="v-7" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Solution</div><!--[--><ul><li>✅ Use<strong>MediaStore</strong>API for Android 10+ instead of direct file paths.</li><li>✅<strong>No permission required</strong>for public media directories on Android 11+.</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DISPLAY_NAME</span><span class="token punctuation">,</span> <span class="token string">&quot;my_image.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">MIME_TYPE</span><span class="token punctuation">,</span> <span class="token string">&quot;image/jpeg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">RELATIVE_PATH</span><span class="token punctuation">,</span> <span class="token class-name">Environment</span><span class="token punctuation">.</span><span class="token constant">DIRECTORY_PICTURES</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">Uri</span> uri <span class="token operator">=</span> <span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">EXTERNAL_CONTENT_URI</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="_2-file-not-found-exception" tabindex="-1"><a class="header-anchor" href="#_2-file-not-found-exception"><span>2. File Not Found Exception</span></a></h3><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">java.io.FileNotFoundException: open failed: ENOENT (No such file or directory)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-8" aria-selected="true">Cause</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-9" aria-selected="false">Solution</button></div><!--[--><div class="vp-tab active" id="v-8" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Cause</div><!--[--><ul><li>The<strong>file path is incorrect</strong>or does not exist.</li><li>You are<strong>trying to access a file before it has been saved</strong>.</li></ul><!--]--></div><div class="vp-tab" id="v-9" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Solution</div><!--[--><ul><li>✅<strong>Verify the file exists</strong>before accessing it.</li><li>✅ Ensure you have<strong>write permissions</strong>if using direct storage access.</li></ul><!--]--></div><!--]--></div><h3 id="_3-image-not-appearing-in-gallery" tabindex="-1"><a class="header-anchor" href="#_3-image-not-appearing-in-gallery"><span>3. Image Not Appearing in Gallery</span></a></h3><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-10" aria-selected="true">Cause</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-11" aria-selected="false">Solution</button></div><!--[--><div class="vp-tab active" id="v-10" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Cause</div><!--[--><p>Media file is saved, but<strong>not indexed by <code>MediaScanner</code></strong>.</p><!--]--></div><div class="vp-tab" id="v-11" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Solution</div><!--[--><p>✅<strong>Manually scan the file</strong>after saving.</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">MediaScannerConnection</span><span class="token punctuation">.</span><span class="token function">scanFile</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>file<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;image/jpeg&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span>path<span class="token punctuation">,</span> uri<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MediaScanner&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;File Scanned: &quot;</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="_4-fileuriexposedexception-android-7" tabindex="-1"><a class="header-anchor" href="#_4-fileuriexposedexception-android-7"><span>4. <code>FileUriExposedException</code> (Android 7+)</span></a></h3><p><strong>Direct file paths (<code>file://</code>) are not allowed</strong>for sharing files across apps in Android 7+.</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">android.os.FileUriExposedException: file:///storage/emulated/0/my_file.pdf exposed beyond app through ClipData.Item.getUri()</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-12" aria-selected="true">Solution</button></div><!--[--><div class="vp-tab active" id="v-12" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Solution</div><!--[--><p>✅ Use<strong>FileProvider</strong>to generate a<strong>content URI</strong>instead.</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">Uri</span> uri <span class="token operator">=</span> <span class="token class-name">FileProvider</span><span class="token punctuation">.</span><span class="token function">getUriForFile</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.fileprovider&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">ACTION_VIEW</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">intent<span class="token punctuation">.</span><span class="token function">setDataAndType</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> <span class="token string">&quot;application/pdf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">intent<span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">FLAG_GRANT_READ_URI_PERMISSION</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="_5-android-authorities-not-matching" tabindex="-1"><a class="header-anchor" href="#_5-android-authorities-not-matching"><span>5. <code>android:authorities</code> Not Matching</span></a></h3><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">java.lang.IllegalArgumentException: Couldn&#39;t find meta-data for provider with authority com.example.wrong.fileprovider</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-13" aria-selected="true">Cause</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-14" aria-selected="false">Solution</button></div><!--[--><div class="vp-tab active" id="v-13" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Cause</div><!--[--><p>The**authority name in <i class="vp-icon fa-brands fa-android" sizing="height"></i><code>AndroidManifest.xml</code>**does not match the one used in<code>FileProvider.getUriForFile()</code>.</p><!--]--></div><div class="vp-tab" id="v-14" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Solution</div><!--[--><p>✅ Ensure the<code>android:authorities</code>in<i class="vp-icon fa-brands fa-android" sizing="height"></i><code>AndroidManifest.xml</code>matches exactly.</p><!--]--></div><!--]--></div><h3 id="_6-permission-denied-when-opening-a-shared-file" tabindex="-1"><a class="header-anchor" href="#_6-permission-denied-when-opening-a-shared-file"><span>6. Permission Denied When Opening a Shared File</span></a></h3><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">java.lang.SecurityException: Permission Denial: reading Uri content://com.example.myapp.fileprovider/my_files/test.pdf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-15" aria-selected="true">Cause</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-16" aria-selected="false">Solution</button></div><!--[--><div class="vp-tab active" id="v-15" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Cause</div><!--[--><p>The receiving app<strong>does not have permission</strong>to read the file.</p><!--]--></div><div class="vp-tab" id="v-16" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Solution</div><!--[--><p>✅<strong>Grant temporary read permissions</strong>when sharing a file.</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line">intent<span class="token punctuation">.</span><span class="token function">addFlags</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">FLAG_GRANT_READ_URI_PERMISSION</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="_7-failed-to-find-configured-root-that-contains" tabindex="-1"><a class="header-anchor" href="#_7-failed-to-find-configured-root-that-contains"><span>7. Failed to find configured root that contains …</span></a></h3><figure><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mxEBoewfZQ9ebrxygxr2eQ.png" alt="&lt;VPIcon icon=&quot;fas fa-folder-open&quot;/&gt;" tabindex="0" loading="lazy"><figcaption><i class="vp-icon fas fa-folder-open" sizing="height"></i><code>/storage/emulated/0/Pictures/..</code></figcaption></figure><p>The error**“Failed to find configured root that contains…”<strong>usually occurs when trying to share a file</strong>without proper FileProvider configuration**. In<strong>Android 7.0 (API 24) and above</strong>, direct<code>file://</code>URIs cannot be shared between apps due to security restrictions. Instead, you need to use a<code>content://</code>URI via<code>FileProvider</code>.</p><ul><li>Inside the<code>&lt;application&gt;</code> tag:</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="AndroidManifest.xml"><span>AndroidManifest.xml</span></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>provider</span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>androidx.core.content.FileProvider<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>authorities</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${applicationId}.provider<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>exported</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>grantUriPermissions</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.support.FILE_PROVIDER_PATHS<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@xml/file_paths<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>provider</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ul><li><i class="vp-icon iconfont icon-code" sizing="height"></i><code>file_paths.xml</code></li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="file_paths.xml"><span>file_paths.xml</span></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paths</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token comment">&lt;!-- Allow access to app-specific external storage --&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>external-files-path</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pictures<span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Pictures/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paths</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ul><li><strong>Code</strong></li></ul><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token comment">// App-specific external storage</span></span>
<span class="line"><span class="token keyword">val</span> picturesDir <span class="token operator">=</span> <span class="token function">File</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getExternalFilesDir</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;Pictures&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">picturesDir<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Ensure the directory exists</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="📌-questions-answers" tabindex="-1"><a class="header-anchor" href="#📌-questions-answers"><span>📌 Questions &amp; Answers</span></a></h2><details class="hint-container details"><summary>1. What is <code>MediaStore</code> in Android?</summary><p><code>MediaStore</code> is an API that provides structured access to<strong>media files</strong>(images, videos, audio) stored on<strong>external storage</strong>. It allows querying, inserting, and updating media files<strong>without requiring direct file path access</strong>.</p></details><details class="hint-container details"><summary>2. How much space does your data require?</summary><p>Internal storage has limited space for app-specific data. Use other types of storage if you need to save a substantial amount of data.</p></details><details class="hint-container details"><summary>3. How reliable does data access need to be?</summary><p>If your app’s basic functionality requires certain data, such as when your app is starting up, place the data within internal storage directory or a database. App-specific files that are stored in external storage aren’t always accessible because some devices allow users to remove a physical device that corresponds to external storage.</p></details><details class="hint-container details"><summary>4. What are the advantages of using <code>MediaStore</code> over File API?</summary><p>✅<strong>No storage permission required</strong>(Android 10+).<br> ✅<strong>Works with scoped storage</strong>(File API does not).<br> ✅<strong>Structured access</strong>to media files.<br> ✅<strong>Auto indexing</strong>by the system.</p></details><details class="hint-container details"><summary>5. What is <code>FileProvider</code> in Android?</summary><p><code>FileProvider</code> is a<strong>content provider</strong>(<code>ContentProvider</code>) that allows<strong>secure file sharing</strong>between apps using<code>content://</code>URIs instead of<code>file://</code> paths.</p></details><details class="hint-container details"><summary>6. Should the data be private to your app?</summary><p>When storing sensitive data — data that shouldn’t be accessible from any other app — use internal storage, preferences, or a database. Internal storage has the added benefit of the data being hidden from users.</p></details><details class="hint-container details"><summary>7. What is Scoped Storage in Android?</summary><p>Scoped Storage (introduced in Android 10)<strong>restricts</strong>direct access to shared storage and requires apps to use<code>MediaStore</code>or<code>FileProvider</code>.</p></details><details class="hint-container details"><summary>8. How do you access files in Scoped Storage?</summary><ul><li>**For media files:**Use<code>MediaStore</code> API</li><li>**For app-specific files:**Use<code>getExternalFilesDir()</code></li><li>**For file sharing:**Use<code>FileProvider</code></li></ul><p>To give users more control over their files and limit file clutter, Android 10 introduced a new storage paradigm for apps called<a href="https://developer.android.com/training/data-storage#scoped-storage" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>scoped storage</a>. Scoped storage changes the way apps store and access files on a device’s external storage. To help you migrate your app to support scoped storage, follow the best practices for common storage use cases that are outlined in this guide. The use cases are organized into two categories:<a href="https://developer.android.com/training/data-storage/use-cases#handle-media-files" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>handling media files</a>and<a href="https://developer.android.com/training/data-storage/use-cases#handle-non-media-files" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-android" sizing="height"></i>handling non-media files</a>.</p></details><hr><h2 id="🎯-conclusion" tabindex="-1"><a class="header-anchor" href="#🎯-conclusion"><span>🎯 Conclusion</span></a></h2><p>By leveraging<strong>Jetpack Compose</strong>,<code>FileProvider</code>, and Kotlin, we can easily<strong>download, store, and share images</strong>in an Android app. This approach ensures smooth performance, proper file handling, and seamless sharing across different applications. Whether you are working on an image-heavy app or simply adding a sharing feature, mastering these techniques will enhance your development workflow 🚀💡</p><h3 id="🔹-mediastore-scoped-storage-api" tabindex="-1"><a class="header-anchor" href="#🔹-mediastore-scoped-storage-api"><span>🔹 <code>MediaStore</code> (Scoped Storage API)</span></a></h3><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-17" aria-selected="true">Purpose</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-18" aria-selected="false">Use Cases</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-19" aria-selected="false">Advantages</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-20" aria-selected="false">Disadvantages</button></div><!--[--><div class="vp-tab active" id="v-17" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Purpose</div><!--[--><ul><li><code>MediaStore</code>is part of the<strong>Scoped Storage</strong>model introduced in<strong>Android 10 (API 29)</strong>.</li><li>It provides access to<strong>public media files</strong>(e.g., images, videos, and audio) stored in shared storage, without needing<code>READ_EXTERNAL_STORAGE</code>or<code>WRITE_EXTERNAL_STORAGE</code>permissions (from Android 11 onwards).</li></ul><!--]--></div><div class="vp-tab" id="v-18" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Use Cases</div><!--[--><ul><li>Saving media files (images, videos, audio) in<strong>public directories</strong>(e.g.,<code>Pictures/</code>,<code>Movies/</code>).</li><li>Querying and managing media content using the<code>ContentResolver</code>API.</li><li>Ensuring compliance with<strong>Scoped Storage</strong>, as direct file path access is restricted.</li></ul><!--]--></div><div class="vp-tab" id="v-19" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Advantages</div><!--[--><ul><li>✅ No need for storage permissions (from Android 11+).</li><li>✅ Works with<strong>Scoped Storage</strong>, avoiding direct file access.</li><li>✅ Provides a<strong>content URI</strong>, making it safer for media handling.</li><li>✅ Compatible with<code>MediaScanner</code>for indexing media files.</li></ul><!--]--></div><div class="vp-tab" id="v-20" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Disadvantages</div><!--[--><ul><li>❌ Cannot store<strong>non-media files</strong>(e.g., PDFs, ZIPs).</li><li>❌ Requires<strong>querying APIs</strong>(instead of direct file access)</li><li>❌ Files are<strong>not private</strong>— they’re accessible to all apps with read access to shared storage.</li></ul><!--]--></div><!--]--></div><h3 id="🔹fileprovider-for-secure-file-sharing" tabindex="-1"><a class="header-anchor" href="#🔹fileprovider-for-secure-file-sharing"><span>🔹FileProvider (For Secure File Sharing)</span></a></h3><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-21" aria-selected="true">Purpose</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-22" aria-selected="false">Use Cases</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-23" aria-selected="false">Advantages</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-24" aria-selected="false">Disadvantages</button></div><!--[--><div class="vp-tab active" id="v-21" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Purpose</div><!--[--><ul><li><code>FileProvider</code>is a special<code>ContentProvider</code>that allows an app to<strong>share private files</strong>securely with other apps using a<strong>content URI</strong>, rather than exposing raw file paths.</li></ul><!--]--></div><div class="vp-tab" id="v-22" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Use Cases</div><!--[--><ul><li>Sharing**files (PDFs, images, videos, etc.)**with other apps (e.g., email, social media, or messaging apps).</li><li>Providing a secure way to expose<strong>app-private storage files</strong>(inside<i class="vp-icon fas fa-folder-open" sizing="height"></i><code>data/data/&lt;package&gt;/files</code>).</li><li>Granting<strong>temporary read/write access</strong>to specific files.</li></ul><!--]--></div><div class="vp-tab" id="v-23" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Advantages</div><!--[--><ul><li>✅<strong>Secure file sharing</strong>(avoids exposing raw file paths).</li><li>✅ Supports<strong>any file type</strong>, not just media files.</li><li>✅ Provides<strong>temporary access permissions</strong>using<code>FLAG_GRANT_READ_URI_PERMISSION</code>.</li><li>✅ Works with<strong>intent-based sharing</strong>(e.g.,<code>Intent.ACTION_SEND</code>).</li></ul><!--]--></div><div class="vp-tab" id="v-24" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Disadvantages</div><!--[--><ul><li>❌ Requires defining a<strong>FileProvider in AndroidManifest.xml</strong>.</li><li>❌ Needs<strong>XML configuration</strong>for file paths.</li><li>❌<strong>More complex setup</strong>compared to direct file sharing.</li></ul><!--]--></div><!--]--></div><div class="vp-site-info" data-name="Access app-specific files | App data and files | Android Developers"><a class="vp-site-info-navigator no-external-link-icon" title="Access app-specific files | App data and files | Android Developers" href="https://developer.android.com/training/data-storage/app-specific/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://developer.android.com/static/images/social/android-developers.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg" alt loading="lazy" no-view><div class="vp-site-info-name">Access app-specific files | App data and files | Android Developers</div><div class="vp-site-info-desc">In many cases, your app creates files that other apps don&#39;t need to access, or shouldn&#39;t access. The system provides the following locations for storing such app-specific files:</div></div><!----></div><div class="vp-site-info" data-name="Overview of shared storage | App data and files | Android Developers"><a class="vp-site-info-navigator no-external-link-icon" title="Overview of shared storage | App data and files | Android Developers" href="https://developer.android.com/training/data-storage/shared/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://developer.android.com/static/images/social/android-developers.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg" alt loading="lazy" no-view><div class="vp-site-info-name">Overview of shared storage | App data and files | Android Developers</div><div class="vp-site-info-desc">Use shared storage for user data that can or should be accessible to other apps and saved even if the user uninstalls your app.</div></div><!----></div><div class="vp-site-info" data-name="Setting up file sharing | App data and files | Android Developers"><a class="vp-site-info-navigator no-external-link-icon" title="Setting up file sharing | App data and files | Android Developers" href="https://developer.android.com/training/secure-file-sharing/setup-sharing/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://developer.android.com/static/images/social/android-developers.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg" alt loading="lazy" no-view><div class="vp-site-info-name">Setting up file sharing | App data and files | Android Developers</div><div class="vp-site-info-desc">To securely offer a file from your app to another app, you need to configure your app to offer a secure handle to the file, in the form of a content URI. The Android</div></div><!----></div><div class="vp-site-info" data-name="Retrieving file information | App data and files | Android Developers"><a class="vp-site-info-navigator no-external-link-icon" title="Retrieving file information | App data and files | Android Developers" href="https://developer.android.com/training/secure-file-sharing/retrieve-info/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://developer.android.com/static/images/social/android-developers.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg" alt loading="lazy" no-view><div class="vp-site-info-name">Retrieving file information | App data and files | Android Developers</div><div class="vp-site-info-desc">Before a client app tries to work with a file for which it has a content URI, the app can request information about the file from the server app, including the file&#39;s data type and file size. The da</div></div><!----></div><div class="vp-site-info" data-name="Data and file storage overview | App data and files | Android Developers"><a class="vp-site-info-navigator no-external-link-icon" title="Data and file storage overview | App data and files | Android Developers" href="https://developer.android.com/training/data-storage/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://developer.android.com/static/images/training/data-storage/room_architecture.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg" alt loading="lazy" no-view><div class="vp-site-info-name">Data and file storage overview | App data and files | Android Developers</div><div class="vp-site-info-desc">Android uses a file system that&#39;s similar to disk-based file systems on other platforms. The system provides several options for you to save your app data:</div></div><!----></div><div class="vp-site-info" data-name="View on-device files with Device Explorer | Android Studio | Android Developers"><a class="vp-site-info-navigator no-external-link-icon" title="View on-device files with Device Explorer | Android Studio | Android Developers" href="https://developer.android.com/studio/debug/device-file-explorer/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://developer.android.com/static/images/social/android-developers.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg" alt loading="lazy" no-view><div class="vp-site-info-name">View on-device files with Device Explorer | Android Studio | Android Developers</div><div class="vp-site-info-desc">Learn how to view, copy, and delete files on an Android device with the Device Explorer.</div></div><!----></div><div class="vp-site-info" data-name="Send simple data to other apps | App data and files | Android Developers"><a class="vp-site-info-navigator no-external-link-icon" title="Send simple data to other apps | App data and files | Android Developers" href="https://developer.android.com/training/sharing/send/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://developer.android.com/static/images/social/android-developers.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg" alt loading="lazy" no-view><div class="vp-site-info-name">Send simple data to other apps | App data and files | Android Developers</div><div class="vp-site-info-desc">When you construct an intent, you must specify the action you want the intent to &#39;trigger.&#39; Android defines several actions, including ACTION_SEND which, as you can probably guess, indicates that the intent is sending data from one activity …</div></div><!----></div><div class="hint-container info"><p class="hint-container-title">Info</p><p>This article is previously published on <a href="https://proandroiddev.com/android-comparing-fileprovider-vs-mediastore-top-interview-questions-b2d2cf570e8c" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-medium" sizing="height"></i><code>proandroiddev</code></a></p><div class="vp-site-info" data-name="📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"><a class="vp-site-info-navigator no-external-link-icon" title="📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions" href="https://proandroiddev.com/android-comparing-fileprovider-vs-mediastore-top-interview-questions-b2d2cf570e8c/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://miro.medium.com/v2/resize:fit:1024/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://miro.medium.com/v2/resize:fill:256:256/1*A8VytPZQhvUf_MG6hm_Dlw.png" alt loading="lazy" no-view><div class="vp-site-info-name">📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions</div><div class="vp-site-info-desc">In the world of modern android development, Jetpack Compose has revolutionized UI building, making it more intuitive and efficient. But…</div></div><!----></div></div><!-- TODO: add ARTICLE CARD --><a class="vp-card" href="https://chanhi2000.github.io/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html" target="_blank" style="background:rgba(4,20,221,0.2);"><img class="vp-card-logo" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">📸 Android: Comparing FileProvider vs. MediaStore + Top Interview Questions</div><hr><div class="vp-card-desc">In the world of modern android development, Jetpack Compose has revolutionized UI building, making it more intuitive and efficient. But what if you need a simple function to download, save, and share images within your app? Whether you are building a social media app, a gallery viewer, or just need to hand images dynamically, this guide will walk you through the comparison between FileProvider and MediaStore as well as suggest some of interview questions. Now let’s go 🔥</div></div></a></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/articles/edit/main/src/droidcon.com/📸-android-comparing-fileprovider-vs-mediastore-top-interview-questions.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/programming/java-android/articles/" aria-label="/programming/java-android/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/programming/java-android/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/droidcon.com/safeguarding-critical-operations-block-accidental-navigation-in-jetpack-compose.html" aria-label="Safeguarding Critical Operations: Block Accidental Navigation in Jetpack Compose"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Safeguarding Critical Operations: Block Accidental Navigation in Jetpack Compose<i class="vp-icon fa-brands fa-android" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright © 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><div class="vp-copyright">Copyright © 2025 Leo N </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BVguHYKu.js" defer></script>
  </body>
</html>
