import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as s,f as e,b as r,a as v,t as b,n as u,g as d,w as t,e as a,r as i,o as y}from"./app-BVguHYKu.js";const f="/bookshelf/assets/image/blog.logrocket.com/react-hooks-state-management/banner.png",w={},R={id:"frontmatter-title-관련",tabindex:"-1"},x={class:"header-anchor",href:"#frontmatter-title-관련"},j={class:"table-of-contents"},H={href:"https://reactjs.org/docs/hooks-reference.html",target:"_blank",rel:"noopener noreferrer"},T={href:"https://reactjs.org/docs/hooks-intro.html",target:"_blank",rel:"noopener noreferrer"},S={href:"https://reactjs.org/docs/hooks-reference.html#usecontext",target:"_blank",rel:"noopener noreferrer"};function A(k,n){const c=i("VPCard"),o=i("router-link"),m=i("SiteInfo"),l=i("VPIcon"),p=i("RouteLink");return y(),g("div",null,[s("h1",R,[s("a",x,[s("span",null,b(k.$frontmatter.title)+" 관련",1)])]),e(c,u(d({title:"React.js > Article(s)",desc:"Article(s)",link:"/programming/js-react/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",j,[s("ul",null,[s("li",null,[e(o,{to:"#why-use-react-hooks-for-shared-state-management"},{default:t(()=>n[0]||(n[0]=[a("Why use React Hooks for shared state management?")])),_:1,__:[0]})]),s("li",null,[e(o,{to:"#what-is-usereducer"},{default:t(()=>n[1]||(n[1]=[a("What is useReducer?")])),_:1,__:[1]})]),s("li",null,[e(o,{to:"#how-the-usereducer-hook-works"},{default:t(()=>n[2]||(n[2]=[a("How the useReducer Hook works")])),_:1,__:[2]}),s("ul",null,[s("li",null,[e(o,{to:"#initialstate"},{default:t(()=>n[3]||(n[3]=[a("initialState")])),_:1,__:[3]})]),s("li",null,[e(o,{to:"#the-reducer-function"},{default:t(()=>n[4]||(n[4]=[a("The reducer function")])),_:1,__:[4]})]),s("li",null,[e(o,{to:"#dispatching-an-action"},{default:t(()=>n[5]||(n[5]=[a("Dispatching an action")])),_:1,__:[5]})])])]),s("li",null,[e(o,{to:"#using-react-hooks-to-share-state-between-components"},{default:t(()=>n[6]||(n[6]=[a("Using React Hooks to share state between components")])),_:1,__:[6]})]),s("li",null,[e(o,{to:"#limitations-to-using-react-hooks-for-state-management"},{default:t(()=>n[7]||(n[7]=[a("Limitations to using React Hooks for state management")])),_:1,__:[7]}),s("ul",null,[s("li",null,[e(o,{to:"#store-limitations"},{default:t(()=>n[8]||(n[8]=[a("Store limitations")])),_:1,__:[8]})]),s("li",null,[e(o,{to:"#extensibility"},{default:t(()=>n[9]||(n[9]=[a("Extensibility")])),_:1,__:[9]})])])]),s("li",null,[e(o,{to:"#conclusion"},{default:t(()=>n[10]||(n[10]=[a("Conclusion")])),_:1,__:[10]})])])]),n[43]||(n[43]=s("hr",null,null,-1)),e(m,{name:"Using React Hooks for state management",desc:"Using the useReducer Hook for state management in React enables you to share state between components without Redux.",url:"https://blog.logrocket.com/react-hooks-state-management",logo:"/assets/image/blog.logrocket.com/favicon.png",preview:"/assets/image/blog.logrocket.com/react-hooks-state-management/banner.png"}),n[44]||(n[44]=s("div",{class:"hint-container note"},[s("p",{class:"hint-container-title"},"Editor’s note"),s("p",null,"This React Hooks state management tutorial was last updated on 25 May 2021.")],-1)),n[45]||(n[45]=s("figure",null,[s("img",{src:f,alt:"Using React Hooks for State Management Without Redux",tabindex:"0",loading:"lazy"}),s("figcaption",null,"Using React Hooks for State Management Without Redux")],-1)),s("p",null,[n[13]||(n[13]=a("The ")),s("a",H,[e(l,{icon:"fa-brands fa-react"}),n[11]||(n[11]=a("React Hooks API"))]),n[14]||(n[14]=a(" has introduced a whole new way of writing and thinking about React apps. One of my favorite React Hooks is ")),e(p,{to:"/blog.logrocket.com/react-usereducer-hook-ultimate-guide.html"},{default:t(()=>n[12]||(n[12]=[s("strong",null,[s("code",null,"useReducer")],-1)])),_:1,__:[12]}),n[15]||(n[15]=a(", which you can use to share states between components."))]),n[46]||(n[46]=s("p",null,[a("In this tutorial, we’ll show you how to handle complex state updates in React using the "),s("code",null,"useReducer"),a(" Hook.")],-1)),n[47]||(n[47]=s("hr",null,null,-1)),n[48]||(n[48]=s("h2",{id:"why-use-react-hooks-for-shared-state-management",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#why-use-react-hooks-for-shared-state-management"},[s("span",null,"Why use React Hooks for shared state management?")])],-1)),n[49]||(n[49]=s("p",null,"Managing state in React, particularly in large apps, used to involve pulling in third-party libraries such as Redux and MobX. These third-party tools made it easier to update your application’s state in a more predictable and fine-grained way, but they usually came with extra overhead and a steep learning curve.",-1)),s("p",null,[n[18]||(n[18]=a("Thanks to ")),n[19]||(n[19]=s("code",null,"useReducer",-1)),n[20]||(n[20]=a(", one of the ")),e(p,{to:"/blog.logrocket.com/create-your-own-custom-react-hooks.html"},{default:t(()=>n[16]||(n[16]=[s("strong",null,"custom Hooks",-1)])),_:1,__:[16]}),n[21]||(n[21]=a(" introduced with ")),s("a",T,[e(l,{icon:"fa-brands fa-react"}),n[17]||(n[17]=a("React v16.8"))]),n[22]||(n[22]=a(", you can now reap the benefits of using third-party libraries without the extra packages and learning curve — OK, maybe just a tiny curve."))]),n[50]||(n[50]=s("p",null,"By the end of this tutorial, you’ll be able to manage and share your application’s state in a predictable manner with React Hooks.",-1)),s("p",null,[n[26]||(n[26]=a("Before we begin, I’d like to state that I don’t mean to bash other state management methods or packages such as ")),e(p,{to:"/blog.logrocket.com/understanding-redux-tutorial-examples.html"},{default:t(()=>n[23]||(n[23]=[s("strong",null,"Redux",-1)])),_:1,__:[23]}),n[27]||(n[27]=a(", ")),e(p,{to:"/blog.logrocket.com/introduction-to-mobx-with-react.html"},{default:t(()=>n[24]||(n[24]=[s("strong",null,"MobX",-1)])),_:1,__:[24]}),n[28]||(n[28]=a(", ")),n[29]||(n[29]=s("a",{href:"https://blog.logrocket.com/simple-state-management-react-recoil.md",target:"_blank",rel:"noopener noreferrer"},[s("strong",null,"Recoil")],-1)),n[30]||(n[30]=a(", ")),e(p,{to:"/blog.logrocket.com/managing-react-state-zustand.html"},{default:t(()=>n[25]||(n[25]=[s("strong",null,"Zustand",-1)])),_:1,__:[25]}),n[31]||(n[31]=a(", etc. Each solution has its strengths and shines in certain use cases. The aim of this tutorial is to demonstrate how to use React Hooks for state management and help you understand how the ")),n[32]||(n[32]=s("code",null,"useReducer",-1)),n[33]||(n[33]=a(" Hook works so you can add it to your toolbox."))]),n[51]||(n[51]=r(`<hr><h2 id="what-is-usereducer" tabindex="-1"><a class="header-anchor" href="#what-is-usereducer"><span>What is <code>useReducer</code>?</span></a></h2><p>Before we get into how to use <code>useReducer</code> to manage shared state in React, let’s deconstruct it so we can understand it better.</p><p>The <code>useReducer</code> Hook allows you to update parts of your React component’s state when certain actions are dispatched. The process is very similar to how Redux works: <code>useReducer</code> takes in a reducer function and an initial state as arguments and then provides a state variable and a dispatch function, which enables you to update the state.</p><p>If you’re familiar with how Redux updates the store through reducers and actions, then you already know how <code>useReducer</code> works.</p><hr><h2 id="how-the-usereducer-hook-works" tabindex="-1"><a class="header-anchor" href="#how-the-usereducer-hook-works"><span>How the <code>useReducer</code> Hook works</span></a></h2><p><code>useReducer</code> requires two things to work: an initial state and a reducer function. We’ll see how they look below and then explain in detail what each is used for.</p><p>Consider the following snippet of code:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token comment">// we have to define the initial state of the component&#39;s state</span></span>
<span class="line"><span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// this function will determine how the state is updated</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;INCREMENT&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;DECREMENT&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;REPLACE&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> action<span class="token punctuation">.</span>newCount <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;RESET&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> state</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// inside your component, initialize your state like so</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the code snippet above, we defined an initial state for our component — a reducer function that updates that state depending on the action dispatched — and we initialized the state for our component on line 21. If you’ve never worked with Redux, below is a breakdown of how the process works.</p><h3 id="initialstate" tabindex="-1"><a class="header-anchor" href="#initialstate"><span><code>initialState</code></span></a></h3><p>The <code>initialState</code> variable is the default value of our component’s state when it gets mounted for the first time.</p><h3 id="the-reducer-function" tabindex="-1"><a class="header-anchor" href="#the-reducer-function"><span>The reducer function</span></a></h3><p>We want to update our component’s state when certain actions occur. This function takes care of specifying what the state should contain depending on an action. It returns an object, which is then used to replace the state.</p><p>The reducer function takes in two arguments: <code>state</code> and <code>action</code>.</p><ul><li><code>state</code> is your application’s current state</li><li><code>action</code> is an object that contains details of the action currently happening. It usually contains a <code>type:</code> that denotes what the action is. <code>action</code> can also contain more data, which is usually the new value to be updated in the state</li></ul><p>An action may look like this:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> replaceAction <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;REPLACE&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">newCount</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Looking back at our reducer function, we can see a switch statement checking the value of <code>action.type</code>. If we had passed <code>replaceAction</code> as the current action to our reducer, the reducer would return an object <code>{ count: 42 }</code>, which would then be used to replace the component’s state.</p><h3 id="dispatching-an-action" tabindex="-1"><a class="header-anchor" href="#dispatching-an-action"><span>Dispatching an action</span></a></h3><p>We know what a reducer is now and how it determines the next state for your component through actions being dispatched. How, though, do we dispatch such an action?</p><p>Go back to the code snippet and check line 21. You’ll notice that <code>useReducer</code> returns two values in an array. The first one is the state object, and the second one is a function called <code>dispatch</code>. This is what we use to dispatch an action.</p><p>For instance, if we wanted to dispatch <code>replaceAction</code> defined above, we’d do this:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token function">dispatch</span><span class="token punctuation">(</span>replaceAction<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// or</span></span>
<span class="line"></span>
<span class="line"><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;REPLACE&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">newCount</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dispatch is nothing more than a function, and since functions in JavaScript are first-class citizens, we can pass them around to other components through props. This simple fact is the reason why you can use <code>useReducer</code> to replace Redux in your application.</p><hr><h2 id="using-react-hooks-to-share-state-between-components" tabindex="-1"><a class="header-anchor" href="#using-react-hooks-to-share-state-between-components"><span>Using React Hooks to share state between components</span></a></h2><p>When you use React Hooks to share state between components, you eliminate the need to use Redux. In this section, we’ll show you how to do React state management without Redux.</p><p>Now that you know how to dispatch an action to update a component’s state, let’s look at a scenario where the root component’s state acts as the replacement for the Redux store.</p><p>First, we’ll define the initial state of our store:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">permissions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">isAuthenticating</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">authError</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now our reducer function:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;AUTH_BEGIN&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token operator">...</span>state<span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">isAuthenticating</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;AUTH_SUCCESS&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">isAuthenticating</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">user</span><span class="token operator">:</span> action<span class="token punctuation">.</span>user<span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">permissions</span><span class="token operator">:</span> action<span class="token punctuation">.</span>permissions</span>
<span class="line">        <span class="token literal-property property">authError</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;AUTH_FAILURE&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">isAuthenticating</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">permissions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">        <span class="token literal-property property">authError</span><span class="token operator">:</span> action<span class="token punctuation">.</span>error<span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> state</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And, finally, our root component. This is going to hold the store and pass the required data and the dispatch function down to the components that need them. This will allow the children components to read from and update the store as required.</p><p>Let’s see how it looks in code:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>store<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">React.Fragment</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Navbar</span></span> <span class="token attr-name">user</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">.</span>user<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LoginPage</span></span> <span class="token attr-name">store</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span></span> <span class="token attr-name">dispatch</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dispatch<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Dashboard</span></span> <span class="token attr-name">user</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">.</span>user<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SettingsPage</span></span> <span class="token attr-name">permissions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">.</span>permissions<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">React.Fragment</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We have <code>App</code> set up to handle the store, and this is where we pass the store values down to the children components. If we were using Redux, we’d have had to use <code>Provider</code> to wrap all the components, create a separate store, and then for each component that needs to connect to the store, wrap them in a HOC with <code>connect</code>.</p><p>With this approach, however, we can bypass using all that boilerplate and just pass in the store values directly to the components as props. We could have as many stores, reducers, <code>initialStates</code>, etc. as is required without having to bring in Redux.</p><p>OK, let’s write a login function, call it from the <code>&lt;LoginPage /&gt;</code> component, and watch how the store gets updated.</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">loginRequest</span><span class="token punctuation">(</span><span class="token parameter">userDetails<span class="token punctuation">,</span> dispatch</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;AUTH_BEGIN&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> permissions <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> userDetails<span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;AUTH_SUCCESS&#39;</span><span class="token punctuation">,</span> user<span class="token punctuation">,</span> permissions <span class="token punctuation">}</span><span class="token punctuation">)</span> </span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;AUTH_FAILURE&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">error</span><span class="token operator">:</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And we’d use it like this in the <code>LoginPage</code> component:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">function</span> <span class="token function">LoginPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// ...omitted for brevity</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">handleFormSubmit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">await</span> <span class="token function">loginRequest</span><span class="token punctuation">(</span>userDetails<span class="token punctuation">,</span> props<span class="token punctuation">.</span>dispatch<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> authError <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">.</span>store</span>
<span class="line">    authError</span>
<span class="line">      <span class="token operator">?</span> <span class="token function">handleErrors</span><span class="token punctuation">(</span>authError<span class="token punctuation">)</span></span>
<span class="line">      <span class="token operator">:</span> <span class="token function">handleSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token comment">// ...omitted for brevity</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We’ve now been able to update a store variable that is being read from several other components. These components get the new value of <code>user</code> and <code>permissions</code> as soon as the reducer returns the new state determined by the action.</p>`,44)),s("p",null,[n[36]||(n[36]=a("This is a very modular way to share dynamic data between different components while still keeping the code relatively simple and free from boilerplate. You could improve on this further by using the ")),s("a",S,[e(l,{icon:"fa-brands fa-react"}),n[34]||(n[34]=s("code",null,"useContext",-1)),n[35]||(n[35]=a(" Hook"))]),n[37]||(n[37]=a(" to make the store and dispatch function available to all components without having to manually pass it down by hand."))]),n[52]||(n[52]=r(`<hr><h2 id="limitations-to-using-react-hooks-for-state-management" tabindex="-1"><a class="header-anchor" href="#limitations-to-using-react-hooks-for-state-management"><span>Limitations to using React Hooks for state management</span></a></h2><p>There are some rather important limitations to <code>useReducer</code> that we need to talk about if we’re being objective. These limitations are what may hinder you from managing all your application’s state with <code>useReducer</code>.</p><h3 id="store-limitations" tabindex="-1"><a class="header-anchor" href="#store-limitations"><span>Store limitations</span></a></h3><p>Your store is not truly global. Redux’s implementation of a global store means that the store itself isn’t tied to any component; it’s separate from your app.</p><p>The state you get from <code>useReducer</code> is component-dependent, along with its dispatch function. This makes it impossible to use the dispatch from one <code>useReducer</code> call on a different reducer. For instance, take these two separate stores and their dispatch functions:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>notificationStore<span class="token punctuation">,</span> dispatch1<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>initialState<span class="token punctuation">,</span> notificationReducer<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>authStore<span class="token punctuation">,</span> dispatch2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>initialState<span class="token punctuation">,</span> authReducer<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Because of the dependence of the dispatch function on the <code>useReducer</code> call that returned it, you can’t use <code>dispatch1</code> to trigger state updates in <code>authStore</code>, nor can you use <code>dispatch2</code> to trigger state updates in <code>notificationStore</code>.</p><p>This limitation means you have to manually keep track of which dispatch function belongs to which reducer, and it may ultimately result in more bloat. As of the time of writing this article, there is no known way to combine dispatch functions or reducers.</p><h3 id="extensibility" tabindex="-1"><a class="header-anchor" href="#extensibility"><span>Extensibility</span></a></h3><p>One of my favorite features of Redux is how extensible it is. For instance, you can add a logger middleware that logs all the actions dispatched, and you can use the Chrome extension to view your store and even diff changes between dispatches.</p><p>These are all things that you’d give up if you decide to replace Redux with <code>useReducer</code>. Or you could implement these yourself, but you’d be reintroducing the boilerplate that Redux brings with it.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2>`,14)),s("p",null,[n[39]||(n[39]=a("The ")),n[40]||(n[40]=s("code",null,"useReducer",-1)),n[41]||(n[41]=a(" Hook is a nice addition to the React library. It allows for a more predictable and organized way to update your component’s state and, to an extent, when ")),e(p,{to:"/blog.logrocket.com/react-hooks-vs-redux-hooks-context-replace-redux.html"},{default:t(()=>n[38]||(n[38]=[s("strong",null,[a("coupled with "),s("code",null,"useContext")],-1)])),_:1,__:[38]}),n[42]||(n[42]=a(", makes sharing data between components a bit easier."))]),n[53]||(n[53]=s("p",null,[s("code",null,"useReducer"),a(" has its shortcomings, too, which we discussed above. If you find a way to get around them, please let me know in the comments.")],-1)),v(" TODO: add ARTICLE CARD "),e(c,u(d({title:"Using React Hooks for state management",desc:"Using the useReducer Hook for state management in React enables you to share state between components without Redux.",link:"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/react-hooks-state-management.html",logo:"/assets/image/blog.logrocket.com/favicon.png",background:"rgba(112,76,182,0.2)"})),null,16)])}const C=h(w,[["render",A]]),I=JSON.parse('{"path":"/blog.logrocket.com/react-hooks-state-management.html","title":"Using React Hooks for state management","lang":"en-US","frontmatter":{"lang":"en-US","title":"Using React Hooks for state management","description":"Article(s) > Using React Hooks for state management","icon":"fa-brands fa-react","category":["Node.js","React.js","Article(s)"],"tag":["blog","blog.logrocket.com","node","nodejs","node-js","react","reactjs","react-js"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Using React Hooks for state management\\",\\"image\\":[\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-hooks-state-management/banner.png\\"],\\"datePublished\\":\\"2021-05-11T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ovie Okeh\\",\\"url\\":\\"https://blog.logrocket.com/author/ovieokeh/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/react-hooks-state-management.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"Using React Hooks for state management"}],["meta",{"property":"og:description","content":"Article(s) > Using React Hooks for state management"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-hooks-state-management/banner.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-hooks-state-management/banner.png"}],["meta",{"name":"twitter:image:alt","content":"Using React Hooks for state management"}],["meta",{"property":"article:author","content":"Ovie Okeh"}],["meta",{"property":"article:tag","content":"react-js"}],["meta",{"property":"article:tag","content":"reactjs"}],["meta",{"property":"article:tag","content":"react"}],["meta",{"property":"article:tag","content":"node-js"}],["meta",{"property":"article:tag","content":"nodejs"}],["meta",{"property":"article:tag","content":"node"}],["meta",{"property":"article:tag","content":"blog.logrocket.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2021-05-11T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Using React Hooks for state management"},{"property":"og:description","content":"Using React Hooks for state management"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/react-hooks-state-management.html"}]],"prev":"/programming/js-react/articles/README.md","date":"2021-05-11T00:00:00.000Z","isOriginal":false,"author":[{"name":"Ovie Okeh","url":"https://blog.logrocket.com/author/ovieokeh/"}],"cover":"/assets/image/blog.logrocket.com/react-hooks-state-management/banner.png"},"git":{},"readingTime":{"minutes":6.74,"words":2022},"filePathRelative":"blog.logrocket.com/react-hooks-state-management.md","copyright":{"author":"Ovie Okeh"}}');export{C as comp,I as data};
