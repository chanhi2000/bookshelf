import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as b,d as s,f as t,b as i,a as w,t as h,n as m,g as v,w as p,e as a,r as l,o as f}from"./app-BItykJLQ.js";const y={},S={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},T={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},x={class:"table-of-contents"},C={href:"https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API",target:"_blank",rel:"noopener noreferrer"},I={href:"https://aerotwist.com/blog/flip-your-animations/",target:"_blank",rel:"noopener noreferrer"},A={href:"https://developer.chrome.com/docs/web-platform/view-transitions/same-document",target:"_blank",rel:"noopener noreferrer"},j={class:"hint-container note"},P={href:"https://developer.chrome.com/docs/web-platform/view-transitions/same-document#not-a-polyfill",target:"_blank",rel:"noopener noreferrer"},V={class:"hint-container tip"},q={href:"https://developer.mozilla.org/en-US/docs/Web/CSS/view-transition-class",target:"_blank",rel:"noopener noreferrer"},D={href:"https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-reduced-motion",target:"_blank",rel:"noopener noreferrer"},U={href:"https://cydstumpel.github.io/view-transitions/css-day/",target:"_blank",rel:"noopener noreferrer"},L={href:"https://conffab.com/presentation/css-tried-to-come-for-my-job-a-practical-guide-to-view-transitions-for-creative-developers/?gl=T4jnT1uwe51o",target:"_blank",rel:"noopener noreferrer"},R={href:"https://github.com/w3c/csswg-drafts/issues/12630",target:"_blank",rel:"noopener noreferrer"},B={href:"https://developer.mozilla.org/en-US/docs/Web/CSS/@view-transition",target:"_blank",rel:"noopener noreferrer"};function M(r,n){const u=l("VPCard"),o=l("router-link"),k=l("SiteInfo"),e=l("VPIcon"),c=l("VidStack"),d=l("CodePen");return f(),b("div",null,[s("h1",S,[s("a",T,[s("span",null,h(r.$frontmatter.title)+" ê´€ë ¨",1)])]),t(u,m(v({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",x,[s("ul",null,[s("li",null,[t(o,{to:"#anatomy-of-a-view-transition"},{default:p(()=>[...n[0]||(n[0]=[a("Anatomy of a view transition",-1)])]),_:1})]),s("li",null,[t(o,{to:"#debugging-view-transitions"},{default:p(()=>[...n[1]||(n[1]=[a("Debugging view transitions",-1)])]),_:1})]),s("li",null,[t(o,{to:"#unique-view-transition-names-and-match-element"},{default:p(()=>[...n[2]||(n[2]=[a("Unique view transition names and match-element",-1)])]),_:1})]),s("li",null,[t(o,{to:"#setting-up-your-project-for-view-transitions"},{default:p(()=>[...n[3]||(n[3]=[a("Setting up your project for view transitions",-1)])]),_:1})]),s("li",null,[t(o,{to:"#good-defaults-and-best-practices"},{default:p(()=>[...n[4]||(n[4]=[a("Good defaults and best practices",-1)])]),_:1})]),s("li",null,[t(o,{to:"#taking-full-advantage-of-the-view-transition-api"},{default:p(()=>[...n[5]||(n[5]=[a("Taking full advantage of the View Transition API",-1)])]),_:1}),s("ul",null,[s("li",null,[t(o,{to:"#browser-compatibility"},{default:p(()=>[...n[6]||(n[6]=[a("Browser compatibility",-1)])]),_:1})])])])])]),n[58]||(n[58]=s("hr",null,null,-1)),t(k,{name:"Start implementing view transitions on your websites today",desc:"Browser support for view transitions is rocketing and there's not many better out there to help you understand how to implement them than Cyd Stumpel.",url:"https://piccalil.li/blog/start-implementing-view-transitions-on-your-websites-today/",logo:"https://piccalil.li/favicons/favicon.ico",preview:"https://api.urlbox.io/v1/ln9ptArKXobLRpDQ/a9b431b0454aad8eb7ff21ee5c44d7e1712131ee14794c1f1a133435765e3109/png?url=https://piccalil.li/og/start-implementing-view-transitions-on-your-websites-today/&width=1024&height=526&retina=true"}),s("p",null,[n[8]||(n[8]=a("The ",-1)),s("a",C,[t(e,{icon:"fa-brands fa-firefox"}),n[7]||(n[7]=a("View Transition API",-1))]),n[9]||(n[9]=a(" allows us to animate between two states with relative ease. I say relative ease, but view transitions can get quite complicated ",-1)),n[10]||(n[10]=s("em",null,"fast",-1)),n[11]||(n[11]=a(".",-1))]),n[59]||(n[59]=i(`<p>A view transition can be called in two ways; if you add a tiny bit of CSS, a view transition is initiated on every page change, or you can initiate it manually with JavaScript.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@view-transition</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">navigation</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SPAs and most frameworks require you to call view transitions for page transitions manually, through JavaScript. If you donâ€™t mess with the browserâ€™s native routing you can use this CSS approach.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">startViewTransition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  document<span class="token punctuation">.</span><span class="token function">startViewTransition</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// If view transitions are supported we call a</span></span>
<span class="line">    <span class="token comment">// function encased in a viewTransition</span></span>
<span class="line">    <span class="token function">filterItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// If view transitions are not supported we still</span></span>
<span class="line">  <span class="token comment">// call the filter function</span></span>
<span class="line">  <span class="token function">filterItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4)),s("p",null,[n[13]||(n[13]=a("When a view transition is initiated it creates two snapshots; one of the current state, and one the future state. The view transition then compares the position, sizing and rotation of the two snapshots and, finally creates a keyframe animation. Itâ€™s pretty much how the ",-1)),s("a",I,[t(e,{icon:"fas fa-globe"}),n[12]||(n[12]=a("FLIP",-1))]),n[14]||(n[14]=a(" animation technique works, but CSS does all the heavy lifting, even if JavaScript initiates the view transition.",-1))]),n[60]||(n[60]=i(`<p>Those snapshots end up in a view transition pseudo element, and by default only a snapshot of the root (HTML) element is created, but you can add more items to the pseudo element by adding <code>view-transition-name</code>s to elements.</p><hr><h2 id="anatomy-of-a-view-transition" tabindex="-1"><a class="header-anchor" href="#anatomy-of-a-view-transition"><span>Anatomy of a view transition</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">::view-transition</span>
<span class="line">  ::view-transition-group(root)</span>
<span class="line">    ::view-transition-image-pair(root)</span>
<span class="line">      ::view-transition-old(root)</span>
<span class="line">      ::view-transition-new(root)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Every named view transition gets its own group. Every group has a view-transition-image-pair <em>and</em> a view-transition-old and/or view-transition-new pseudo element.</p><ul><li>The view transition group is where the custom matrix animation is added to animate to the new stateâ€™s position, rotation and size.</li><li>The view transition image pair is used to isolate the mix-blend-mode animation thatâ€™s on the <code>view-transition-old</code> and <code>view-transition-new</code> states by default.</li><li>The <code>view-transition-old</code> and <code>view-transition-new</code> states represent the old and new state of the named element.</li></ul><p>The snapshots are no longer HTML because itâ€™s a non interactive snapshot of the element as it <em>was</em> when it was captured by the initiation of the view transition. Adding CSS to the view transition selector to change font size or colour, for example, or trying to change the content with JavaScript during the view transition doesnâ€™t work.</p><hr><h2 id="debugging-view-transitions" tabindex="-1"><a class="header-anchor" href="#debugging-view-transitions"><span>Debugging view transitions</span></a></h2><p>You can debug your view transitions with the Animations Drawer in the Chrome Dev Tools, this drawer allows you to slow down animations and even to pause animations, which really gives you some time to inspect whatâ€™s going on.</p><p>Use <kbd>CMD</kbd>+<kbd>Shift</kbd>+<kbd>p</kbd> in the dev tools and type animations to open up the Animations Drawer. For Windows users, switch <kbd>CMD</kbd> with <kbd>CTRL</kbd>.</p><figure><img src="https://piccalilli.imgix.net/images/blog/vt-debugger.png?auto=format&amp;w=1500" alt="The animations drawer as described above" tabindex="0" loading="lazy"><figcaption>The animations drawer as described above</figcaption></figure><hr><h2 id="unique-view-transition-names-and-match-element" tabindex="-1"><a class="header-anchor" href="#unique-view-transition-names-and-match-element"><span>Unique view transition names and match-element</span></a></h2><p>Adding an element to the view transition pseudo element is easy: give it a unique name with <code>view-transition-name</code>.</p>`,15)),s("p",null,[n[16]||(n[16]=a("For ",-1)),s("a",A,[t(e,{icon:"fa-brands fa-chrome"}),n[15]||(n[15]=a("Same Document View Transitions",-1))]),n[17]||(n[17]=a(" you can set the view-transition name to ",-1)),n[18]||(n[18]=s("code",null,"match-element",-1)),n[19]||(n[19]=a(", but if you animate between pages you have to manually add unique view transition names to the elements on both pages.",-1))]),n[61]||(n[61]=i(`<hr><h2 id="setting-up-your-project-for-view-transitions" tabindex="-1"><a class="header-anchor" href="#setting-up-your-project-for-view-transitions"><span>Setting up your project for view transitions</span></a></h2><p>View transitions can be used to animate filtering, sorting, add to cart, page transitions, and much more, but when you start doing multiple view transitions triggered by different elements and different user interactions, itâ€™s going to be hard to see the forest through the trees.</p><p>View Transition Types are the answer here, you can add types through JavaScript when you call a view transition:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>startViewTransition<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  document<span class="token punctuation">.</span><span class="token function">startViewTransition</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token function-variable function">update</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">filterItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">types</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;filter&#39;</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">filterItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5)),s("div",j,[n[23]||(n[23]=s("p",{class:"hint-container-title"},"Note",-1)),s("p",null,[n[21]||(n[21]=a("I recently found out that the first Chrome versions that supported view transitions, do not support View Transition Types which breaks the entire view transition ðŸ¥². Bramus van Damme sent me this ",-1)),s("a",P,[t(e,{icon:"fa-brands fa-chrome"}),n[20]||(n[20]=a("try-catch function",-1))]),n[22]||(n[22]=a(" you could use to catch that. But you could also opt to use data attributes on the HTML tag instead.",-1))])]),n[62]||(n[62]=i(`<p>The types are added as a pseudo-class <code>:active-view-transition-type(filter)</code> that you can use to encase your specific styles for that interaction. This is very helpful if you want to have different animations on filter and page transition for example.</p><p>For specific page transitions between overview and detail pages we can also add a view transition type, but itâ€™s a little more complicated because we currently need to use JavaScript to watch for the <code>pagereveal</code> event and check the from and entry url. Page reveal is called when a user navigates to a new page.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>A little bird told we might be able to do this directly from CSS soon!</p></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;pagereveal&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>viewTransition<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// set a default transition type, you could also leave this empty</span></span>
<span class="line">    <span class="token keyword">let</span> transitionType <span class="token operator">=</span> <span class="token string">&#39;normal&#39;</span></span>
<span class="line">    <span class="token comment">// check if navigation activation is defined and use it to get</span></span>
<span class="line">    <span class="token comment">// from and to url:</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>navigation<span class="token operator">?.</span>activation<span class="token operator">?.</span>from <span class="token operator">&amp;&amp;</span> navigation<span class="token operator">?.</span>activation<span class="token operator">?.</span>entry<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      transitionType <span class="token operator">=</span> <span class="token function">determineTransitionType</span><span class="token punctuation">(</span>navigation<span class="token punctuation">.</span>activation<span class="token punctuation">.</span>from<span class="token punctuation">,</span> navigation<span class="token punctuation">.</span>activation<span class="token punctuation">.</span>entry<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    e<span class="token punctuation">.</span>viewTransition<span class="token punctuation">.</span>types<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>transitionType<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">determineTransitionType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">from<span class="token punctuation">,</span> to</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> currentUrl <span class="token operator">=</span> from<span class="token operator">?.</span>url <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>from<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span></span>
<span class="line">  <span class="token keyword">const</span> targetUrl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>url<span class="token punctuation">)</span></span>
<span class="line">  <span class="token comment">// get paths:</span></span>
<span class="line">  <span class="token keyword">let</span> currentPath <span class="token operator">=</span> currentUrl<span class="token punctuation">.</span>pathname</span>
<span class="line">  <span class="token keyword">let</span> targetPath <span class="token operator">=</span> targetUrl<span class="token punctuation">.</span>pathname</span>
<span class="line">    <span class="token keyword">const</span> fromType <span class="token operator">=</span> <span class="token function">getPageType</span><span class="token punctuation">(</span>currentPath<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> toType <span class="token operator">=</span> <span class="token function">getPageType</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>fromType<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-to-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>toType<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">getPageType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// remove first /</span></span>
<span class="line">  path <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token comment">// Split path into segments (/blog/view-transitions would be</span></span>
<span class="line">  <span class="token comment">// split in &#39;blog&#39; and &#39;view-transitions&#39; f.e.)</span></span>
<span class="line">  <span class="token keyword">const</span> segments <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>firstSegment<span class="token punctuation">,</span> secondSegment<span class="token punctuation">]</span> <span class="token operator">=</span> segments</span>
<span class="line"></span>
<span class="line">  <span class="token keyword">switch</span> <span class="token punctuation">(</span>firstSegment<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token string">&#39;home&#39;</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;work&#39;</span><span class="token operator">:</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;blog&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> secondSegment</span>
<span class="line">        <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>firstSegment<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-detail</span><span class="token template-punctuation string">\`</span></span></span>
<span class="line">        <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>firstSegment<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-overview</span><span class="token template-punctuation string">\`</span></span></span>
<span class="line">    <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token string">&#39;normal&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Going from <code>/work/</code> to <code>/work/piccalilli</code> would return <code>work-overview-to-work-detail</code> as a view transition type.</p><hr><h2 id="good-defaults-and-best-practices" tabindex="-1"><a class="header-anchor" href="#good-defaults-and-best-practices"><span>Good defaults and best practices</span></a></h2><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>View transitions run on CSS keyframes, adding some default styling can make your animations more sturdy.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">::view-transition-group(*),</span>
<span class="line">::view-transition-old(*),</span>
<span class="line">::view-transition-new(*)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">animation-duration</span><span class="token punctuation">:</span> 0.6s<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">animation-fill-mode</span><span class="token punctuation">:</span> forwards<span class="token punctuation">;</span> <span class="token comment">/* important if you mix durations */</span></span>
<span class="line">    <span class="token property">animation-timing-function</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--default-ease<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>This will give your animations the same base duration, fill mode and ease.</p>`,9)),s("div",V,[n[31]||(n[31]=s("p",{class:"hint-container-title"},"Tips",-1)),s("p",null,[n[25]||(n[25]=a("Use ",-1)),s("a",q,[t(e,{icon:"fa-brands fa-firefox"}),n[24]||(n[24]=s("code",null,"view-transition-class",-1))]),n[26]||(n[26]=a(" to be able to style multiple items at once, and set all custom animations ",-1)),n[27]||(n[27]=s("strong",null,"without",-1)),n[28]||(n[28]=a(" using the ",-1)),n[29]||(n[29]=s("code",null,"animation",-1)),n[30]||(n[30]=a(" shorthand so you donâ€™t override any of your defaults without meaning to.",-1))]),n[32]||(n[32]=i(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">::view-transition-old(.work-item)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* animation: scale-out 0.4s; &lt; ðŸ‘Ž this will override</span>
<span class="line">       your fill-mode and ease */</span></span>
<span class="line">    <span class="token property">animation-name</span><span class="token punctuation">:</span> scale-out<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">animation-duration</span><span class="token punctuation">:</span> 0.4s<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1))]),n[63]||(n[63]=i(`<div class="hint-container tip"><p class="hint-container-title">Tips</p><p>While a long animation might <em>look</em> cool, it will probably be very annoying to your users because the page will be blocked from interaction until the full animation is done.</p><p>Also, set your unique view transition names inline on your HTML with a CSS variable.</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>work-item<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">--vt</span><span class="token punctuation">:</span> work-item-1</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token comment">&lt;!-- [...] --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.work-item</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> no-preference<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">view-transition-name</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--vt<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token property">view-transition-class</span><span class="token punctuation">:</span> work-item<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This approach has several advantages:</p><ul><li>Itâ€™s easier to create unique view transition names, especially if youâ€™re using a CMS or framework, using an id or index value in the name.</li><li>It keeps your HTML from looking like a framework boilerplate like Tailwind because <code>--vt</code> is nice and short</li><li>If you have multiple view transition types you can conditionally add the items to the pseudo element easier.</li></ul><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">html:active-view-transition-type(filter)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">.work-item</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> no-preference<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">view-transition-name</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--vt<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token property">view-transition-class</span><span class="token punctuation">:</span> work-item<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>If you want to add all view transition names at once you can use an attribute selector:</li></ul><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">[style*=&quot;--vt&quot;]</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> no-preference<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">view-transition-name</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--vt<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="hint-container note"><p class="hint-container-title">FYI</p><p>Users with vestibular disorders can get sick from all of that slick movement on your website, so make sure youâ€™re mindful of that.</p></div>`,2)),s("p",null,[n[34]||(n[34]=a("The best thing to do is encase all your ",-1)),n[35]||(n[35]=s("code",null,"view-transition-name",-1)),n[36]||(n[36]=a(" declarations in a ",-1)),s("a",D,[t(e,{icon:"fa-brands fa-firefox"}),n[33]||(n[33]=a("prefers reduced motion",-1))]),n[37]||(n[37]=a(" media query set to ",-1)),n[38]||(n[38]=s("code",null,"no-preference",-1)),n[39]||(n[39]=a(" which will default all view-transitions back to just cross-fading the root element.",-1))]),n[64]||(n[64]=i(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> no-preference<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">view-transition-name</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--vt<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="taking-full-advantage-of-the-view-transition-api" tabindex="-1"><a class="header-anchor" href="#taking-full-advantage-of-the-view-transition-api"><span>Taking full advantage of the View Transition API</span></a></h2><p>As I mentioned earlier, view transition groups consist of a <code>view-transition-image-pair</code> which has either <code>view-transition-old</code>, <code>view-transition-new</code> or both. Whether there is an old and/or a new state depends on if the named view-transition element exists in the old state and the new state.</p><p>In practice this means that for animations that change the order, like sorting, items will have an old and a new state, because they exist in the old state <strong>and</strong> the new state.</p>`,5)),t(c,{src:"https://iframe.mediadelivery.net/e629e4aa-df9e-4c80-89d0-8f4c3ea50a86"}),n[65]||(n[65]=s("p",null,[a("During the view transition, by default, the "),s("code",null,"view-transition-old"),a(" pseudo element crossfades into the "),s("code",null,"view-transition-new"),a(" state, represented by the red and green rectangle respectively.")],-1)),n[66]||(n[66]=s("p",null,[a("If you filter items out, those items will only have a "),s("code",null,"view-transition-old"),a(" state because they do not exist in the new state:")],-1)),t(c,{src:"youtube/blob:https://iframe.mediadelivery.net/5c1c90d9-6b90-4240-94ae-3fc9a714b9a8"}),n[67]||(n[67]=s("p",null,[a("In the same way, if filters add items back in, they will only have a "),s("code",null,"view-transition-new"),a(" state because they did not exist in the old state:")],-1)),t(c,{src:"blob:https://iframe.mediadelivery.net/cd97cc36-35c4-447e-9d3c-c502fe707ff1"}),n[68]||(n[68]=i(`<p>With CSS we can check if <code>view-transition-old</code> or <code>view-transition-new</code> is an only child using the <code>:only-child</code> pseudo-class, allowing us to create in-and-out animations for them.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">::view-transition-old(work-item):only-child</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">animation-name</span><span class="token punctuation">:</span> animate-out<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">animation-duration</span><span class="token punctuation">:</span> 0.3s<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">::view-transition-new(work-item):only-child</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">animation-name</span><span class="token punctuation">:</span> animate-in<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">animation-duration</span><span class="token punctuation">:</span> 0.3s<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Try out this demo. When you apply sorting, the in-and-out animations are not triggered but when you filter they are!</p>`,3)),t(d,{user:"Sidstumple","slug-hash":"ByyJqmy",title:"View transitions sorting and filtering","default-tab":["css","result"],theme:r.dark},null,8,["theme"]),s("p",null,[n[45]||(n[45]=a("This is pretty cool for filtering, but also when you want to transition from an overview to a detail page or back like I did ",-1)),s("a",U,[t(e,{icon:"fas fa-globe"}),n[40]||(n[40]=a("for this website I created",-1))]),n[46]||(n[46]=a(" for my ",-1)),s("a",L,[t(e,{icon:"fas fa-globe"}),n[41]||(n[41]=a("CSS Day Talk",-1))]),n[47]||(n[47]=a(". In this talk I also mentioned weâ€™re currently not able to use ",-1)),n[48]||(n[48]=s("code",null,":has",-1)),n[49]||(n[49]=a(" to check if a group has both view-transition-old and -new elements, because this would allow us to set a higher ",-1)),n[50]||(n[50]=s("code",null,"z-index",-1)),n[51]||(n[51]=a(" on items that have both, and push them in front of the other elements. But complaining on a stage helps because thatâ€™s now ",-1)),s("a",R,[n[42]||(n[42]=a("been added as an issue (",-1)),t(e,{icon:"iconfont icon-github"}),n[43]||(n[43]=s("code",null,"w3c/csswg-drafts",-1)),n[44]||(n[44]=a(")",-1))]),n[52]||(n[52]=a("!",-1))]),n[69]||(n[69]=s("h3",{id:"browser-compatibility",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#browser-compatibility"},[s("span",null,"Browser compatibility")])],-1)),n[70]||(n[70]=s("p",null,"With the release of Firefox 144, the View Transition API has now been implemented in all the â€˜big browsersâ€™ ðŸ¥³.",-1)),n[71]||(n[71]=s("p",null,"Unfortunately, though, Firefox currently only supports same-document view transitions, not transitions between pages (also known cross-document view transitions).",-1)),s("p",null,[n[54]||(n[54]=a("If you want to follow along when they ",-1)),n[55]||(n[55]=s("strong",null,"will",-1)),n[56]||(n[56]=a(" support that, you can check ",-1)),s("a",B,[t(e,{icon:"fa-brands fa-firefox"}),n[53]||(n[53]=a("MDN",-1))]),n[57]||(n[57]=a(" or this handy CodePen that the Chrome team created.",-1))]),t(d,{user:"piccalilli","slug-hash":"EaPbbgx",title:"View Transitions Feature Explorer","default-tab":["css","result"],theme:r.dark},null,8,["theme"]),n[72]||(n[72]=s("hr",null,null,-1)),w(" TODO: add ARTICLE CARD "),t(u,m(v({title:"Start implementing view transitions on your websites today",desc:"Browser support for view transitions is rocketing and there's not many better out there to help you understand how to implement them than Cyd Stumpel.",link:"https://chanhi2000.github.io/bookshelf/piccalil.li/start-implementing-view-transitions-on-your-websites-today.html",logo:"https://piccalil.li/favicons/favicon.ico",background:"rgba(253,208,0,0.2)"})),null,16)])}const z=g(y,[["render",M]]),N=JSON.parse('{"path":"/piccalil.li/start-implementing-view-transitions-on-your-websites-today.html","title":"Start implementing view transitions on your websites today","lang":"en-US","frontmatter":{"lang":"en-US","title":"Start implementing view transitions on your websites today","description":"Article(s) > Start implementing view transitions on your websites today","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","piccalil.li","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Start implementing view transitions on your websites today\\",\\"image\\":[\\"https://piccalilli.imgix.net/images/blog/vt-debugger.png?auto=format&w=1500\\"],\\"datePublished\\":\\"2025-10-28T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Cyd Stumpel\\",\\"url\\":\\"https://piccalil.li/author/cyd-stumpel\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/piccalil.li/start-implementing-view-transitions-on-your-websites-today.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"Start implementing view transitions on your websites today"}],["meta",{"property":"og:description","content":"Article(s) > Start implementing view transitions on your websites today"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://api.urlbox.io/v1/ln9ptArKXobLRpDQ/a9b431b0454aad8eb7ff21ee5c44d7e1712131ee14794c1f1a133435765e3109/png?url=https://piccalil.li/og/start-implementing-view-transitions-on-your-websites-today/&width=1024&height=526&retina=true"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://api.urlbox.io/v1/ln9ptArKXobLRpDQ/a9b431b0454aad8eb7ff21ee5c44d7e1712131ee14794c1f1a133435765e3109/png?url=https://piccalil.li/og/start-implementing-view-transitions-on-your-websites-today/&width=1024&height=526&retina=true"}],["meta",{"name":"twitter:image:alt","content":"Start implementing view transitions on your websites today"}],["meta",{"property":"article:author","content":"Cyd Stumpel"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"piccalil.li"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-10-28T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Start implementing view transitions on your websites today"},{"property":"og:description","content":"Start implementing view transitions on your websites today"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/piccalil.li/start-implementing-view-transitions-on-your-websites-today/.html"}]],"prev":"/programming/css/articles/README.md","date":"2025-10-28T00:00:00.000Z","isOriginal":false,"author":[{"name":"Cyd Stumpel","url":"https://piccalil.li/author/cyd-stumpel"}],"cover":"https://api.urlbox.io/v1/ln9ptArKXobLRpDQ/a9b431b0454aad8eb7ff21ee5c44d7e1712131ee14794c1f1a133435765e3109/png?url=https://piccalil.li/og/start-implementing-view-transitions-on-your-websites-today/&width=1024&height=526&retina=true"},"git":{},"readingTime":{"minutes":7.61,"words":2283},"filePathRelative":"piccalil.li/start-implementing-view-transitions-on-your-websites-today.md","copyright":{"author":"Cyd Stumpel"}}');export{z as comp,N as data};
