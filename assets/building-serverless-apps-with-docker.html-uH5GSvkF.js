import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as m,d as t,f as n,b as g,a as k,t as f,n as p,g as c,w as a,e as o,r as s,o as v}from"./app-BVguHYKu.js";const w={},b={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},y={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},D={class:"table-of-contents"},T={href:"https://github.com/docker/example-voting-app",target:"_blank",rel:"noopener noreferrer"},x={href:"https://github.com/bfirsh/serverless-docker",target:"_blank",rel:"noopener noreferrer"};function P(d,e){const i=s("VPCard"),r=s("router-link"),u=s("SiteInfo"),l=s("VPIcon");return v(),m("div",null,[t("h1",b,[t("a",y,[t("span",null,f(d.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),n(i,p(c({title:"Docker > Article(s)",desc:"Article(s)",link:"/devops/docker/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),t("nav",D,[t("ul",null,[t("li",null,[n(r,{to:"#from-servers-to-serverless"},{default:a(()=>e[0]||(e[0]=[o("From servers to serverless")])),_:1,__:[0]})]),t("li",null,[n(r,{to:"#so-what-can-we-do-with-this"},{default:a(()=>e[1]||(e[1]=[o("So what can we do with this?")])),_:1,__:[1]})]),t("li",null,[n(r,{to:"#what-s-next"},{default:a(()=>e[2]||(e[2]=[o("What‚Äôs next")])),_:1,__:[2]})])])]),e[12]||(e[12]=t("hr",null,null,-1)),n(u,{name:"Building serverless apps with DockerDocker",desc:"Learn from Docker experts to simplify and advance your app development and management with Docker. Stay up to date on Docker events and new version",url:"https://docker.com/blog/building-serverless-apps-with-docker",logo:"https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png",preview:"https://docker.com/app/uploads/Picture1.png"}),e[13]||(e[13]=t("p",null,"Every now and then, there are waves of technology that threaten to make the previous generation of technology obsolete. There has been a lot of talk about a technique called ‚Äúserverless‚Äù for writing apps. The idea is to deploy your application as a series of functions, which are called on-demand when they need to be run. You don‚Äôt need to worry about managing servers, and these functions scale as much as you need, because they are called on-demand and run on a cluster.",-1)),e[14]||(e[14]=t("p",null,[o("But serverless doesn‚Äôt mean there is no Docker -in fact, Docker "),t("em",null,"is"),o(" serverless. You can use Docker to containerize these functions, then run them on-demand on a Swarm. Serverless is a technique for building distributed apps and Docker is the perfect platform for building them on.")],-1)),e[15]||(e[15]=t("hr",null,null,-1)),e[16]||(e[16]=t("h2",{id:"from-servers-to-serverless",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#from-servers-to-serverless"},[t("span",null,"From servers to serverless")])],-1)),t("p",null,[e[6]||(e[6]=o("So how might we write applications like this? Let‚Äôs take our example ")),t("a",T,[e[3]||(e[3]=o("a voting application consisting of 5 services (")),n(l,{icon:"iconfont icon-github"}),e[4]||(e[4]=t("code",null,"docker/example-voting-app",-1)),e[5]||(e[5]=o(")"))]),e[7]||(e[7]=o(":"))]),e[17]||(e[17]=g(`<figure><img src="https://docker.com/app/uploads/Picture1.png" alt="Picture1" tabindex="0" loading="lazy"><figcaption>Picture1</figcaption></figure><p>This consists of:</p><ul><li>Two web frontends</li><li>A worker for processing votes in the background</li><li>A message queue for processing votes</li><li>A database</li></ul><p>The background processing of votes is a very easy target for conversion to a serverless architecture. In the voting app, we can run a bit of code like this to run the background task:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">import</span> dockerrun</span>
<span class="line">client <span class="token operator">=</span> dockerrun<span class="token punctuation">.</span><span class="token function">from_env</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">client<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;bfirsh/serverless-record-vote-task&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>voter_id<span class="token punctuation">,</span> vote<span class="token punctuation">]</span><span class="token punctuation">,</span> detach<span class="token operator">=</span>True<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The worker and message queue can be replaced with a Docker container that is run on-demand on a Swarm, automatically scaling to demand.</p><p>We can even eliminate the web frontends. We can replace them with Docker containers that serve up a single HTTP request, triggered by a lightweight HTTP server that spins up Docker containers for each HTTP request. The heavy lifting has now moved the long-running HTTP server to Docker containers that run on-demand, so they can automatically scale to handle load.</p><p>Our new architecture looks something like this:</p><figure><img src="https://docker.com/app/uploads/Picture2.png" alt="Picture2" tabindex="0" loading="lazy"><figcaption>Picture2</figcaption></figure><p>The red blocks are the continually running services and the green blocks are Docker containers that are run on-demand. This application has fewer long-running services that need managing, and by its very nature scales up automatically in response to demand (up to the size of your Swarm!).</p><hr><h2 id="so-what-can-we-do-with-this" tabindex="-1"><a class="header-anchor" href="#so-what-can-we-do-with-this"><span>So what can we do with this?</span></a></h2><p>There are three useful techniques here which you can use in your apps:</p><ol><li>Run functions in your code as on-demand Docker containers</li><li>Use a Swarm to run these on a cluster</li><li>Run containers from containers, by passing a Docker API socket</li></ol><p>With the combination of these techniques, this opens up loads of possibilities about how you can architect your applications. Running background work is a great example of something that works well, but a whole load of other things are possible too, for example:</p><ul><li>Launching a container to serve user-facing HTTP requests is probably not practical due to the latency. However -you could write a load balancer which knew how to auto-scale its own web frontends by running containers on a Swarm.</li><li>A MongoDB container which could introspect the structure of a Swarm and launch the correct shards and replicas.</li></ul><hr><h2 id="what-s-next" tabindex="-1"><a class="header-anchor" href="#what-s-next"><span>What‚Äôs next</span></a></h2><p>We‚Äôve got all these radically new tools and abstractions for building apps, and we‚Äôve barely scratched the surface of what is possible with them. We‚Äôre still building applications like we have servers that stick around for a long time, not for the future where we have Swarms that can run code on-demand anywhere in your infrastructure.</p><p>This hopefully gives you some ideas about what you can build, but we also need your help. We have all the fundamentals to be able to start building these applications, but its still in its infrancy -we need better tooling, libraries, example apps, documentation, and so on.</p>`,20)),t("p",null,[t("a",x,[e[8]||(e[8]=o("This GitHub repository has links off to tools, libraries, examples, and blog posts. (")),n(l,{icon:"iconfont icon-github"}),e[9]||(e[9]=t("code",null,"bfirsh/serverless-docker",-1)),e[10]||(e[10]=o(")"))]),e[11]||(e[11]=o(" Head over there if you want to learn more, and please contribute any links you have there so we can start working together on this."))]),e[18]||(e[18]=t("p",null,"Get involved, and happy hacking!",-1)),k(" TODO: add ARTICLE CARD "),n(i,p(c({title:"Building serverless apps with DockerDocker",desc:"Learn from Docker experts to simplify and advance your app development and management with Docker. Stay up to date on Docker events and new version",link:"https://chanhi2000.github.io/bookshelf/docker.com/building-serverless-apps-with-docker.html",logo:"https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png",background:"rgba(29,99,237,0.2)"})),null,16)])}const A=h(w,[["render",P]]),q=JSON.parse('{"path":"/docker.com/building-serverless-apps-with-docker.html","title":"Building serverless apps with DockerDocker","lang":"en-US","frontmatter":{"lang":"en-US","title":"Building serverless apps with DockerDocker","description":"Article(s) > Building serverless apps with DockerDocker","icon":"fa-brands fa-docker","category":["DevOps","Docker","Article(s)"],"tag":["blog","docker.com","devops","docker"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Building serverless apps with DockerDocker\\",\\"image\\":[\\"https://docker.com/app/uploads/Picture1.png\\",\\"https://docker.com/app/uploads/Picture2.png\\"],\\"datePublished\\":\\"2016-06-22T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ben Firshman\\",\\"url\\":\\"https://docker.com/author/bfirshman/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/docker.com/building-serverless-apps-with-docker.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Building serverless apps with DockerDocker"}],["meta",{"property":"og:description","content":"Article(s) > Building serverless apps with DockerDocker"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://docker.com/app/uploads/Picture1.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://docker.com/app/uploads/Picture1.png"}],["meta",{"name":"twitter:image:alt","content":"Building serverless apps with DockerDocker"}],["meta",{"property":"article:author","content":"Ben Firshman"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:tag","content":"docker.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2016-06-22T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Building serverless apps with DockerDocker"},{"property":"og:description","content":"Building serverless apps with DockerDocker"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/docker.com/building-serverless-apps-with-docker.html"}]],"prev":"/devops/docker/articles/README.md","date":"2016-06-22T00:00:00.000Z","isOriginal":false,"author":[{"name":"Ben Firshman","url":"https://docker.com/author/bfirshman/"}],"cover":"https://docker.com/app/uploads/Picture1.png"},"git":{},"readingTime":{"minutes":3.07,"words":920},"filePathRelative":"docker.com/building-serverless-apps-with-docker.md","copyright":{"author":"Ben Firshman"}}');export{A as comp,q as data};
