import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as b,d as n,f as a,b as k,a as g,t as h,n as p,g as d,w as r,e as s,r as i,o as v}from"./app-BItykJLQ.js";const y={},f={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},D={class:"table-of-contents"},A={class:"hint-container note"},x={href:"https://x.com/frazelledazzell",target:"_blank",rel:"noopener noreferrer"},R={href:"https://x.com/docker",target:"_blank",rel:"noopener noreferrer"},S={href:"https://github.com/docker/docker/tree/master/contrib/builder",target:"_blank",rel:"noopener noreferrer"},N={href:"https://github.com/docker/docker/blob/master/hack/make/build-deb",target:"_blank",rel:"noopener noreferrer"},O={href:"https://github.com/docker/docker/blob/master/hack/make/build-rpm",target:"_blank",rel:"noopener noreferrer"},E={href:"https://github.com/docker/docker/blob/master/hack/make/release-deb",target:"_blank",rel:"noopener noreferrer"},Y={href:"https://github.com/docker/docker/blob/master/hack/make/release-rpm",target:"_blank",rel:"noopener noreferrer"};function j(c,e){const l=i("VPCard"),o=i("router-link"),u=i("SiteInfo"),t=i("VPIcon");return v(),b("div",null,[n("h1",f,[n("a",w,[n("span",null,h(c.$frontmatter.title)+" ê´€ë ¨",1)])]),a(l,p(d({title:"Docker > Article(s)",desc:"Article(s)",link:"/devops/docker/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",D,[n("ul",null,[n("li",null,[a(o,{to:"#dynamic-binaries"},{default:r(()=>[...e[0]||(e[0]=[s("Dynamic Binaries",-1)])]),_:1})]),n("li",null,[a(o,{to:"#updating-apt-sources"},{default:r(()=>[...e[1]||(e[1]=[s("Updating Apt Sources",-1)])]),_:1})]),n("li",null,[a(o,{to:"#rpms-and-yum"},{default:r(()=>[...e[2]||(e[2]=[s("RPMs and Yum",-1)])]),_:1})]),n("li",null,[a(o,{to:"#how-it-all-works"},{default:r(()=>[...e[3]||(e[3]=[s("How It All Works",-1)])]),_:1})])])]),e[37]||(e[37]=n("hr",null,null,-1)),a(u,{name:"New Apt and Yum ReposDocker",desc:"Learn from Docker experts to simplify and advance your app development and management with Docker. Stay up to date on Docker events and new version",url:"https://docker.com/blog/new-apt-and-yum-repos",logo:"https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png",preview:"https://docker.com/app/uploads/2015/07/oprah_binary.jpg"}),n("div",A,[e[12]||(e[12]=n("p",{class:"hint-container-title"},"Note",-1)),n("p",null,[e[10]||(e[10]=s("written by ",-1)),n("a",x,[e[4]||(e[4]=s("Jessie Frazelle (",-1)),a(t,{icon:"fa-brands fa-x-twitter"}),e[5]||(e[5]=n("code",null,"frazelledazzell",-1)),e[6]||(e[6]=s(")",-1))]),e[11]||(e[11]=s(", Core Maintainer at ",-1)),n("a",R,[e[7]||(e[7]=s("Docker, Inc. (",-1)),a(t,{icon:"fa-brands fa-x-twitter"}),e[8]||(e[8]=n("code",null,"docker",-1)),e[9]||(e[9]=s(")",-1))])])]),e[38]||(e[38]=k(`<div class="hint-container info"><p class="hint-container-title">TLDR;</p><ol><li>UPDATE your Docker apt repo source list if you want to be able to get the latest Docker</li><li>We have a yum repo FINALLY for rpms</li><li>EVERYONE GETS A DYNAMIC BINARY</li></ol></div><p>Today, we are super excited to announce that we have created and deployed new apt and yum repos for installing Docker. No longer will you ~<code>apt-get install lxc-docker</code>~, a super confusing name considering we no longer use lxc as the default backend for Docker out of the box. Letâ€™s take a deep dive into the awesomeness that is the new repos.</p><hr><h2 id="dynamic-binaries" tabindex="-1"><a class="header-anchor" href="#dynamic-binaries"><span>Dynamic Binaries</span></a></h2><p>The old Docker deb installed a fully static Docker binary. This was the simplest way to make Docker installable on a variety of different OS versions without having to deal with dependencies. For those who use Devicemapper as a storage driver, this will allow udev sync to work properly.</p><p>Well now everyone gets a dynamic binary!</p><figure><img src="https://docker.com/app/uploads/2015/07/oprah_binary.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h2 id="updating-apt-sources" tabindex="-1"><a class="header-anchor" href="#updating-apt-sources"><span>Updating Apt Sources</span></a></h2><p>We urge everyone to update their apt sources to the new format. We will NOT be pushing new versions to the old apt repository.<br> We decided not to support two distinct apt repositories forever, hopefully you can understand this decision.</p><p>Docker 1.7.1 is already available on the new apt repository, which will ensure a seamless migration.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># add the new gpg key</span></span>
<span class="line">apt-key adv <span class="token parameter variable">--keyserver</span> hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D</span>
<span class="line"></span>
<span class="line"><span class="token comment"># edit your /etc/apt/sources.list.d/docker.list</span></span>
<span class="line"><span class="token function">vim</span> /etc/apt/sources.list.d/docker.list</span>
<span class="line"></span>
<span class="line"><span class="token comment"># remove the contents and replace with the following depending on your os and version:</span></span>
<span class="line">deb debian-wheezy main          <span class="token comment"># Debian Wheezy</span></span>
<span class="line">deb debian-jessie main          <span class="token comment"># Debian Jessie</span></span>
<span class="line">deb debian-stretch main         <span class="token comment"># Debian Stretch/Sid</span></span>
<span class="line">deb ubuntu-precise main         <span class="token comment"># Ubuntu Precise</span></span>
<span class="line">deb ubuntu-trusty main          <span class="token comment"># Ubuntu Trusty</span></span>
<span class="line">deb ubuntu-utopic main          <span class="token comment"># Ubuntu Utopic</span></span>
<span class="line">deb ubuntu-vivid main           <span class="token comment"># Ubuntu Vivid</span></span>
<span class="line">deb ubuntu-wily main            <span class="token comment"># Ubuntu Wily</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>After your source file is updated run the following:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">apt-get</span> update</span>
<span class="line"><span class="token function">apt-get</span> purge lxc-docker*       <span class="token comment"># remove the old</span></span>
<span class="line"><span class="token function">apt-get</span> <span class="token function">install</span> docker-engine   <span class="token comment"># install the new</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now you are all set. When you run <code>apt-get upgrade</code> in the future it will hit the new apt repo.</p><hr><h2 id="rpms-and-yum" tabindex="-1"><a class="header-anchor" href="#rpms-and-yum"><span>RPMs and Yum</span></a></h2><p>A huge pain point for people using CentOS, Fedora, or RHEL was having to install the package for docker that is maintained by the distribution itself. Not that there was anything wrong with those packages, but now you can rest assured you will get the latest, greatest Docker installed on your host from our yum repository.</p><p>You can easily add our yum repository and install the new docker-engine package by running:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-sSL</span> https://get.docker.com/ <span class="token operator">|</span> <span class="token function">sh</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>OR if you would like to add it yourself find the url for your specific OS version below and run the following script:</p><ul><li>CentOS 6 &amp; RHEL 6</li><li>CentOS 7 &amp; RHEL 7</li><li>Fedora 20</li><li>Fedora 21</li><li>Fedora 22</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># replace https://yum.dockerproject.org/repo/main/$OS/$OS_VERSION below with your specific OS versions url from above</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">cat</span> <span class="token operator">&gt;</span>/etc/yum.repos.d/docker.repo <span class="token operator">&lt;&lt;-</span><span class="token string">EOF</span>
<span class="line">[dockerrepo]</span>
<span class="line">name=Docker Repository</span>
<span class="line">baseurl=https://yum.dockerproject.org/repo/main/<span class="token variable">$OS</span>/<span class="token variable">$OS_VERSION</span></span>
<span class="line">enabled=1</span>
<span class="line">gpgcheck=1</span>
<span class="line">gpgkey=https://yum.dockerproject.org/gpg</span>
<span class="line">EOF</span></span>
<span class="line"></span>
<span class="line">yum <span class="token function">install</span> docker-engine</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="how-it-all-works" tabindex="-1"><a class="header-anchor" href="#how-it-all-works"><span>How It All Works</span></a></h2><p>The new repos have versions for all different Debian, Ubuntu, Fedora, CentOS, and Oracle Linux distros. Youâ€™re probably thinking: â€˜that is a lot of debs and rpms to maintainâ€™. It is, but we made it as simple as possible by using Docker to build them.</p><p>Each rpm and deb is built inside a Docker container thatâ€™s base is the specific distro version. Itâ€™s super convenient and a great way to also always be testing Docker.</p><p>If you are interested in the actual code used for this, check out:</p>`,29)),n("p",null,[e[28]||(e[28]=s("â€¢ ",-1)),n("a",S,[e[13]||(e[13]=s("the Dockerfiles for these images (",-1)),a(t,{icon:"iconfont icon-github"}),e[14]||(e[14]=n("code",null,"docker/docker",-1)),e[15]||(e[15]=s(")",-1))]),e[29]||(e[29]=n("br",null,null,-1)),e[30]||(e[30]=s(" â€¢",-1)),n("a",N,[e[16]||(e[16]=s("the code for the deb builds (",-1)),a(t,{icon:"iconfont icon-github"}),e[17]||(e[17]=n("code",null,"docker/docker",-1)),e[18]||(e[18]=s(")",-1))]),e[31]||(e[31]=n("br",null,null,-1)),e[32]||(e[32]=s(" â€¢",-1)),n("a",O,[e[19]||(e[19]=s("rpm builds (",-1)),a(t,{icon:"iconfont icon-github"}),e[20]||(e[20]=n("code",null,"docker/docker",-1)),e[21]||(e[21]=s(")",-1))]),e[33]||(e[33]=n("br",null,null,-1)),e[34]||(e[34]=s(" â€¢",-1)),n("a",E,[e[22]||(e[22]=s("deb release (",-1)),a(t,{icon:"iconfont icon-github"}),e[23]||(e[23]=n("code",null,"docker/docker",-1)),e[24]||(e[24]=s(")",-1))]),e[35]||(e[35]=n("br",null,null,-1)),e[36]||(e[36]=s(" â€¢",-1)),n("a",Y,[e[25]||(e[25]=s("rpm release (",-1)),a(t,{icon:"iconfont icon-github"}),e[26]||(e[26]=n("code",null,"docker/docker",-1)),e[27]||(e[27]=s(")",-1))])]),g(" TODO: add ARTICLE CARD "),a(l,p(d({title:"New Apt and Yum ReposDocker",desc:"Learn from Docker experts to simplify and advance your app development and management with Docker. Stay up to date on Docker events and new version",link:"https://chanhi2000.github.io/bookshelf/docker.com/new-apt-and-yum-repos.html",logo:"https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png",background:"rgba(29,99,237,0.2)"})),null,16)])}const T=m(y,[["render",j]]),z=JSON.parse('{"path":"/docker.com/new-apt-and-yum-repos.html","title":"New Apt and Yum ReposDocker","lang":"en-US","frontmatter":{"lang":"en-US","title":"New Apt and Yum ReposDocker","description":"Article(s) > New Apt and Yum ReposDocker","icon":"fa-brands fa-docker","category":["DevOps","Docker","Article(s)"],"tag":["blog","docker.com","devops","docker"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"New Apt and Yum ReposDocker\\",\\"image\\":[\\"https://docker.com/app/uploads/2015/07/oprah_binary.jpg\\"],\\"datePublished\\":\\"2015-07-23T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jessie Frazelle\\",\\"url\\":\\"https://docker.com/author/jess/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/docker.com/new-apt-and-yum-repos.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"New Apt and Yum ReposDocker"}],["meta",{"property":"og:description","content":"Article(s) > New Apt and Yum ReposDocker"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://docker.com/app/uploads/2015/07/oprah_binary.jpg"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://docker.com/app/uploads/2015/07/oprah_binary.jpg"}],["meta",{"name":"twitter:image:alt","content":"New Apt and Yum ReposDocker"}],["meta",{"property":"article:author","content":"Jessie Frazelle"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:tag","content":"docker.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2015-07-23T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > New Apt and Yum ReposDocker"},{"property":"og:description","content":"New Apt and Yum ReposDocker"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/docker.com/new-apt-and-yum-repos.html"}]],"prev":"/devops/docker/articles/README.md","date":"2015-07-23T00:00:00.000Z","isOriginal":false,"author":[{"name":"Jessie Frazelle","url":"https://docker.com/author/jess/"}],"cover":"https://docker.com/app/uploads/2015/07/oprah_binary.jpg"},"git":{},"readingTime":{"minutes":3.07,"words":920},"filePathRelative":"docker.com/new-apt-and-yum-repos.md","copyright":{"author":"Jessie Frazelle"}}');export{T as comp,z as data};
