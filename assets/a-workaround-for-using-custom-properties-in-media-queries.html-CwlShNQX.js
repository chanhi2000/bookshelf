import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as b,d as s,f as e,b as p,a as g,t as f,n as d,g as m,w as o,e as a,r as l,o as y}from"./app-BItykJLQ.js";const w={},q={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},x={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},z={class:"table-of-contents"},T={class:"hint-container info"},A={class:"hint-container-title"},I={href:"https://matuzo.at/blog/2023/100daysof-day80",target:"_blank",rel:"noopener noreferrer"},C={href:"https://drafts.csswg.org/css-sizing-3/#min-size-properties",target:"_blank",rel:"noopener noreferrer"},S={href:"https://caniuse.com/css-container-queries-style",target:"_blank",rel:"noopener noreferrer"},P={href:"https://github.com/w3c/csswg-drafts/issues/2463",target:"_blank",rel:"noopener noreferrer"},M={href:"https://bram.us/2024/10/06/feature-detect-style-queries-support-in-css/",target:"_blank",rel:"noopener noreferrer"},R={href:"https://drafts.csswg.org/css-conditional-5/#style-range",target:"_blank",rel:"noopener noreferrer"},D={class:"hint-container note"},Y={href:"https://codepen.io/matuzo/pen/OPMPYXw",target:"_blank",rel:"noopener noreferrer"};function V(r,n){const u=l("VPCard"),i=l("router-link"),k=l("SiteInfo"),t=l("VPIcon"),v=l("RouteLink"),c=l("CodePen");return y(),b("div",null,[s("h1",q,[s("a",x,[s("span",null,f(r.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),e(u,d(m({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",z,[s("ul",null,[s("li",null,[e(i,{to:"#breakdown"},{default:o(()=>[...n[0]||(n[0]=[a("Breakdown",-1)])]),_:1})]),s("li",null,[e(i,{to:"#performance"},{default:o(()=>[...n[1]||(n[1]=[a("Performance",-1)])]),_:1})]),s("li",null,[e(i,{to:"#downsides"},{default:o(()=>[...n[2]||(n[2]=[a("Downsides",-1)])]),_:1}),s("ul",null,[s("li",null,[e(i,{to:"#browser-support"},{default:o(()=>[...n[3]||(n[3]=[a("Browser Support",-1)])]),_:1})]),s("li",null,[e(i,{to:"#verbosity"},{default:o(()=>[...n[4]||(n[4]=[a("Verbosity",-1)])]),_:1})]),s("li",null,[e(i,{to:"#container-queries"},{default:o(()=>[...n[5]||(n[5]=[a("Container queries",-1)])]),_:1})])])]),s("li",null,[e(i,{to:"#wrapping-up"},{default:o(()=>[...n[6]||(n[6]=[a("Wrapping up",-1)])]),_:1})])])]),n[48]||(n[48]=s("hr",null,null,-1)),e(k,{name:"A workaround for using custom properties in media queries",desc:"One of the most frustrating aspects of media queries is that we can‚Äôt use custom properties with them. This often results in hard-coded values in otherwise, highly configurable codebases. Manuel has a novel approach to get around this.",url:"https://piccalil.li/blog/a-workaround-for-using-custom-properties-in-media-queries",logo:"https://piccalil.li/favicons/favicon.ico",preview:"https://api.urlbox.io/v1/ln9ptArKXobLRpDQ/22903c4f9b1e988a020cac979af3868f577731a42c442b5e0a5be84b2ce6fa62/png?url=https://piccalil.li/og/a-workaround-for-using-custom-properties-in-media-queries/&width=1024&height=526&retina=true"}),n[49]||(n[49]=p(`<p>I‚Äôm a big fan of custom properties and I use them almost everywhere. One of the places where I‚Äôd love to use them, but can‚Äôt, is with media queries. The following code won‚Äôt work in any browser.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--breakpoint-s</span><span class="token punctuation">:</span> 480px<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--breakpoint-s<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* do something */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <a href="https://w3.org/TR/css-variables-1/#using-variables" target="_blank" rel="noopener noreferrer">Custom Properties specification</a> explains:</p>`,3)),s("div",T,[s("p",A,[n[7]||(n[7]=a("3. Using Cascading Variables: the var() notation (",-1)),e(t,{icon:"iconfont icon-w3c"}),n[8]||(n[8]=s("code",null,"w3.org",-1)),n[9]||(n[9]=a(")",-1))]),n[10]||(n[10]=s("blockquote",null,[s("p",null,[a("The "),s("code",null,"var()"),a(" function can be used in place of any part of a value in any property on an element. "),s("strong",null,[a("The "),s("code",null,"var()"),a(" function can not be used as property names, selectors, or anything else besides property values.")]),a(" (Doing so usually produces invalid syntax, or else a value whose meaning has no connection to the variable.)")])],-1)),e(u,d(m({title:"CSS Custom Properties for Cascading Variables Module Level 1",desc:"The value of a custom property can be substituted into the value of another property with the var() function. The syntax of var() is:",link:"https://w3.org/TR/css-variables-1/#using-variables/",logo:"https://w3.org/favicon.ico",background:"rgba(0,90,156,0.2)"})),null,16)]),s("p",null,[n[12]||(n[12]=a("That‚Äôs unfortunate, but I recently found a workaround that I‚Äôd love to share with you. Instead of using a media query, you can use a ",-1)),s("a",I,[e(t,{icon:"fas fa-globe"}),n[11]||(n[11]=a("container style query",-1))]),n[13]||(n[13]=a(".",-1))]),n[50]||(n[50]=p(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@property</span> --inline-size-s</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;length-percentage&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">initial-value</span><span class="token punctuation">:</span> 100vi<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--breakpoint-s</span><span class="token punctuation">:</span> 48em<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--inline-size-s</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--breakpoint-s<span class="token punctuation">)</span><span class="token punctuation">,</span> 100vi<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">body</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--bg-color<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">--bg-color</span><span class="token punctuation">:</span> <span class="token function">oklch</span><span class="token punctuation">(</span>0.94 0.01 99<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@container</span> <span class="token function">style</span><span class="token punctuation">(</span><span class="token property">--inline-size-s</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--breakpoint-s<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--bg-color</span><span class="token punctuation">:</span> <span class="token function">oklch</span><span class="token punctuation">(</span>0.87 0.21 95.82<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">Reminder</p><p>A <code>vi</code> unit represents the size of the viewport‚Äôs inline axis, which by default equals <code>vw</code> in left to right languages.</p></div><p>Let me guide you through the steps I took to come up with this solution.</p><hr><h2 id="breakdown" tabindex="-1"><a class="header-anchor" href="#breakdown"><span>Breakdown</span></a></h2><p>The first step is to define a custom property for the breakpoint. Then, query the viewport‚Äôs width and check whether it matches or exceeds the breakpoint. As already teased with the title of this article, you have to use container style queries for that, rather than media queries. Container style queries enable you to check whether a container has a specific property and computed value assigned.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--breakpoint-s</span><span class="token punctuation">:</span> 48em<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--inline-size-s</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@container</span> <span class="token function">style</span><span class="token punctuation">(</span><span class="token property">--inline-size-s</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--breakpoint-s<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">body</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--bg-color</span><span class="token punctuation">:</span> <span class="token function">oklch</span><span class="token punctuation">(</span>0.87 0.21 95.82<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That looks good but it doesn‚Äôt work for two reasons.</p><p>You‚Äôre comparing two strings: does ‚Äú48em‚Äù match ‚Äú100vi‚Äù? That, of course, will never be true. What you actually want to do is compare the computed values of two lengths. Using the <code>@property</code> at-rule you can define an explicit type for your custom properties.</p>`,9)),s("p",null,[n[17]||(n[17]=a("From the ",-1)),s("a",C,[e(t,{icon:"fas fa-globe"}),n[14]||(n[14]=a("specification for the ",-1)),n[15]||(n[15]=s("code",null,"min-width",-1)),n[16]||(n[16]=a(" property",-1))]),n[18]||(n[18]=a(", we know that its value can be a ",-1)),n[19]||(n[19]=s("code",null,"<length-percentage>",-1)),n[20]||(n[20]=a(", so you can use that for the ",-1)),n[21]||(n[21]=s("code",null,"syntax",-1)),n[22]||(n[22]=a(" property, which defines the types. You also have to provide an initial value; ",-1)),n[23]||(n[23]=s("code",null,"100vi",-1)),n[24]||(n[24]=a(" is a good default for our wannabe media queries.",-1))]),s("p",null,[n[26]||(n[26]=a("The property should also be ",-1)),e(v,{to:"/piccalil.li/css-inheritance.html"},{default:o(()=>[...n[25]||(n[25]=[s("strong",null,"inheritable",-1)])]),_:1}),n[27]||(n[27]=a(", so you set ",-1)),n[28]||(n[28]=s("code",null,"inherits",-1)),n[29]||(n[29]=a(" accordingly.",-1))]),n[51]||(n[51]=p(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@property</span> --inline-size-s</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;length-percentage&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">initial-value</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">FYI</p><p>You can also register the second custom property (<code>--breakpoint-s</code>), but it‚Äôs not required, as in a container style query it‚Äôs sufficient if one of the two values has a specific type.</p></div><p>Your query now works, but only if the viewport width is <strong>exactly</strong> 48em (roughly 768px, depending on the user‚Äôs preferred root font size).</p><p>You want it to work at <strong>at least</strong> 48em, though. The problem there is that if the computed value of <code>--inline-size-s</code> exceeds 48em it can‚Äôt match your breakpoint <code>--breakpoint-s</code>. That‚Äôs why you want <code>--inline-size-s</code> to match the viewport width but only until it reaches 48em. You can use the <code>min()</code> function for that. It takes the smaller of the provided values.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--breakpoint-s</span><span class="token punctuation">:</span> 48em<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--inline-size-s</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--breakpoint-s<span class="token punctuation">)</span><span class="token punctuation">,</span> 100vi<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>--inline-size-s</code> matches 100vi as long as the computed value of 100vi is lower than 48em. Otherwise, it matches 48em.</p><div class="hint-container note"><p class="hint-container-title">FYI</p><p>If you want to query the <code>max-inline-size</code> instead of the <code>min-inline-size</code>, use the <code>max()</code> function.</p></div><p>Here‚Äôs the whole snippet.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@property</span> --inline-size-s</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;length-percentage&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">initial-value</span><span class="token punctuation">:</span> 100vi<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--breakpoint-s</span><span class="token punctuation">:</span> 48em<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--inline-size-s</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--breakpoint-s<span class="token punctuation">)</span><span class="token punctuation">,</span> 100vi<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">body</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--bg-color<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">--bg-color</span><span class="token punctuation">:</span> <span class="token function">oklch</span><span class="token punctuation">(</span>0.94 0.01 99<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@container</span> <span class="token function">style</span><span class="token punctuation">(</span><span class="token property">--inline-size-s</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--breakpoint-s<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--bg-color</span><span class="token punctuation">:</span> <span class="token function">oklch</span><span class="token punctuation">(</span>0.87 0.21 95.82<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Tip</p><p>Toggle the CSS panel to see the effect</p></div>`,10)),e(c,{user:"matuzo","slug-hash":"PwZwgwb",title:"A workaround for using custom properties in media queries (Demo 1)","default-tab":["css","result"],theme:r.dark},null,8,["theme"]),n[52]||(n[52]=p('<div class="hint-container note"><p class="hint-container-title">FYI</p><p>Depending on the screen size of the device you‚Äôre reading this article on, the background colour of the demos will be yellow or light grey. It‚Äôs best to view these demos on a large screen so that you can compare results at different viewport sizes.</p></div><hr><h2 id="performance" tabindex="-1"><a class="header-anchor" href="#performance"><span>Performance</span></a></h2><p>You may wonder if there are any performance issues. I haven‚Äôt tested this solution on a large scale, but I can‚Äôt imagine so. Unlike container size queries, which query the size of the query container‚Äôs <a href="https://w3.org/TR/css-display-3/#principal-box" target="_blank" rel="noopener noreferrer">principal box,</a> container style queries only query computed values of its container. That is much safer and harmless in terms of performance, which is also one of the reasons why every element is a style container by default. In the following demo, you can even change the breakpoint on the fly using a range slider.</p>',4)),e(c,{user:"matuzo","slug-hash":"MYKYRJP",title:"A workaround for using custom properties in media queries (Demo 2)","default-tab":["css","result"],theme:r.dark},null,8,["theme"]),n[53]||(n[53]=s("hr",null,null,-1)),n[54]||(n[54]=s("h2",{id:"downsides",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#downsides"},[s("span",null,"Downsides")])],-1)),n[55]||(n[55]=s("p",null,"That‚Äôs a great solution to a problem probably many of us had, but there are also some downsides.",-1)),n[56]||(n[56]=s("h3",{id:"browser-support",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#browser-support"},[s("span",null,"Browser Support")])],-1)),s("p",null,[n[35]||(n[35]=a("Container style queries are ",-1)),s("a",S,[e(t,{icon:"iconfont icon-caniuse"}),n[30]||(n[30]=a("currently not supported by Firefox",-1))]),n[36]||(n[36]=a(", at the time of writing, but I‚Äôve heard from trustworthy sources that they‚Äôre being prioritised. Unfortunately, there isn‚Äôt a great way to progressively enhance this solution because there‚Äôs ",-1)),s("a",P,[n[31]||(n[31]=a("no feature detection for at-rules in CSS (",-1)),e(t,{icon:"iconfont icon-github"}),n[32]||(n[32]=s("code",null,"w3c/csswg-drafts",-1)),n[33]||(n[33]=a(")",-1))]),n[37]||(n[37]=a(". If you really want to make it work, read ",-1)),s("a",M,[e(t,{icon:"fas fa-globe"}),n[34]||(n[34]=a("this post by Bramus",-1))]),n[38]||(n[38]=a(".",-1))]),n[57]||(n[57]=p(`<h3 id="verbosity" tabindex="-1"><a class="header-anchor" href="#verbosity"><span>Verbosity</span></a></h3><p>That isn‚Äôt really an issue, but it‚Äôs annoying that for every breakpoint, you need two custom properties, and you have to register one of them.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@property</span> --inline-size-s</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;length-percentage&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">initial-value</span><span class="token punctuation">:</span> 100vi<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@property</span> --inline-size-m</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;length-percentage&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">initial-value</span><span class="token punctuation">:</span> 100vi<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--breakpoint-s</span><span class="token punctuation">:</span> 48em<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--inline-size-s</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--breakpoint-s<span class="token punctuation">)</span><span class="token punctuation">,</span> 100vi<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">--breakpoint-m</span><span class="token punctuation">:</span> 64em<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--inline-size-m</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--breakpoint-m<span class="token punctuation">)</span><span class="token punctuation">,</span> 100vi<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3)),s("p",null,[n[40]||(n[40]=a("That will change when browsers start supporting ",-1)),s("a",R,[e(t,{icon:"fas fa-globe"}),n[39]||(n[39]=a("style ranges",-1))]),n[41]||(n[41]=a(".",-1))]),n[58]||(n[58]=p(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@container</span> <span class="token function">style</span><span class="token punctuation">(</span>100vi &lt;= --inline-size-s<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* The rest of your CSS */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="container-queries" tabindex="-1"><a class="header-anchor" href="#container-queries"><span>Container queries</span></a></h3><p>With this solution, you can only query the viewport, not a container. If you write <code>min(var(--breakpoint-s), 100cqi)</code>, the 100cqi doesn‚Äôt refer to the style container but to a parent container. So, the only way to make it work would be to wrap the style container in another inline-size container.</p>`,3)),e(c,{user:"matuzo","slug-hash":"OPMPYXw",title:"A workaround for using custom properties in media queries (Demo 3)","default-tab":["css","result"],theme:r.dark},null,8,["theme"]),s("div",D,[n[47]||(n[47]=s("p",{class:"hint-container-title"},"FYI",-1)),s("p",null,[n[45]||(n[45]=a("You probably see that the background colour of the container is still light grey. If you open the ",-1)),s("a",Y,[n[42]||(n[42]=a("CodePen in a new tab (",-1)),e(t,{icon:"fa-brands fa-codepen"}),n[43]||(n[43]=s("code",null,"matuzo",-1)),n[44]||(n[44]=a(")",-1))]),n[46]||(n[46]=a(" or window with a large enough viewport, the background colour turns yellow. That‚Äôs because your custom media query only kicks in when the container has a minimum width of 768px, not the viewport.",-1))])]),n[59]||(n[59]=p('<hr><h2 id="wrapping-up" tabindex="-1"><a class="header-anchor" href="#wrapping-up"><span>Wrapping up</span></a></h2><p>I love this solution. Not just because it solves a problem I recently had, but also because it showcases the power of modern CSS features like <code>@container</code>, <code>@property</code> or <code>min()</code> really well.</p><p>Browser support may be a topic for you <em>right now</em>, but hopefully, it will soon be a thing of the past.</p><hr>',5)),g(" TODO: add ARTICLE CARD "),e(u,d(m({title:"A workaround for using custom properties in media queries",desc:"One of the most frustrating aspects of media queries is that we can‚Äôt use custom properties with them. This often results in hard-coded values in otherwise, highly configurable codebases. Manuel has a novel approach to get around this.",link:"https://chanhi2000.github.io/bookshelf/piccalil.li/a-workaround-for-using-custom-properties-in-media-queries.html",logo:"https://piccalil.li/favicons/favicon.ico",background:"rgba(253,208,0,0.2)"})),null,16)])}const L=h(w,[["render",V]]),O=JSON.parse('{"path":"/piccalil.li/a-workaround-for-using-custom-properties-in-media-queries.html","title":"A workaround for using custom properties in media queries","lang":"en-US","frontmatter":{"lang":"en-US","title":"A workaround for using custom properties in media queries","description":"Article(s) > A workaround for using custom properties in media queries","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","piccalil.li","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"A workaround for using custom properties in media queries\\",\\"image\\":[\\"https://api.urlbox.io/v1/ln9ptArKXobLRpDQ/22903c4f9b1e988a020cac979af3868f577731a42c442b5e0a5be84b2ce6fa62/png?url=https://piccalil.li/og/a-workaround-for-using-custom-properties-in-media-queries/&width=1024&height=526&retina=true\\"],\\"datePublished\\":\\"2025-09-25T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Manuel Matuzoviƒá\\",\\"url\\":\\"https://piccalil.li/author/manuel-matuzovi\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/piccalil.li/a-workaround-for-using-custom-properties-in-media-queries.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"A workaround for using custom properties in media queries"}],["meta",{"property":"og:description","content":"Article(s) > A workaround for using custom properties in media queries"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://api.urlbox.io/v1/ln9ptArKXobLRpDQ/22903c4f9b1e988a020cac979af3868f577731a42c442b5e0a5be84b2ce6fa62/png?url=https://piccalil.li/og/a-workaround-for-using-custom-properties-in-media-queries/&width=1024&height=526&retina=true"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://api.urlbox.io/v1/ln9ptArKXobLRpDQ/22903c4f9b1e988a020cac979af3868f577731a42c442b5e0a5be84b2ce6fa62/png?url=https://piccalil.li/og/a-workaround-for-using-custom-properties-in-media-queries/&width=1024&height=526&retina=true"}],["meta",{"name":"twitter:image:alt","content":"A workaround for using custom properties in media queries"}],["meta",{"property":"article:author","content":"Manuel Matuzoviƒá"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"piccalil.li"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-09-25T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > A workaround for using custom properties in media queries"},{"property":"og:description","content":"A workaround for using custom properties in media queries"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/piccalil.li/a-workaround-for-using-custom-properties-in-media-queries.html"}]],"prev":"/programming/css/articles/README.md","date":"2025-09-25T00:00:00.000Z","isOriginal":false,"author":[{"name":"Manuel Matuzoviƒá","url":"https://piccalil.li/author/manuel-matuzovi"}],"cover":"https://api.urlbox.io/v1/ln9ptArKXobLRpDQ/22903c4f9b1e988a020cac979af3868f577731a42c442b5e0a5be84b2ce6fa62/png?url=https://piccalil.li/og/a-workaround-for-using-custom-properties-in-media-queries/&width=1024&height=526&retina=true"},"git":{},"readingTime":{"minutes":5.84,"words":1752},"filePathRelative":"piccalil.li/a-workaround-for-using-custom-properties-in-media-queries.md","copyright":{"author":"Manuel Matuzoviƒá"}}');export{L as comp,O as data};
