import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as t,f as n,b as p,t as v,n as f,g as y,w as a,e as i,r as s,o as b}from"./app-BItykJLQ.js";const w={},A={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},k={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},S={class:"table-of-contents"},j={href:"https://jimmybogard.com/vertical-slice-architecture",target:"_blank",rel:"noopener noreferrer"},E={href:"https://github.com/jbogard/MediatR",target:"_blank",rel:"noopener noreferrer"},P={href:"https://github.com/AutoMapper/AutoMapper",target:"_blank",rel:"noopener noreferrer"},x={href:"https://deviq.com/design-patterns/repr-design-pattern",target:"_blank",rel:"noopener noreferrer"},V={href:"https://youtu.be/msjnfdeDCmo",target:"_blank",rel:"noopener noreferrer"},R={href:"https://youtu.be/msjnfdeDCmo",target:"_blank",rel:"noopener noreferrer"};function T(u,e){const d=s("VPCard"),o=s("router-link"),c=s("SiteInfo"),l=s("RouteLink"),r=s("VPIcon"),m=s("VidStack");return b(),g("div",null,[t("h1",A,[t("a",k,[t("span",null,v(u.$frontmatter.title)+" ê´€ë ¨",1)])]),n(d,f(y({title:"C# > Article(s)",desc:"Article(s)",link:"/programming/cs/articles/README.md",logo:"https://chanhi2000.github.io/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),t("nav",S,[t("ul",null,[t("li",null,[n(o,{to:"#the-problem-with-layered-architectures"},{default:a(()=>[...e[0]||(e[0]=[i("The Problem With Layered Architectures",-1)])]),_:1})]),t("li",null,[n(o,{to:"#what-is-vertical-slice-architecture"},{default:a(()=>[...e[1]||(e[1]=[i("What is Vertical Slice Architecture?",-1)])]),_:1})]),t("li",null,[n(o,{to:"#implementing-vertical-slices"},{default:a(()=>[...e[2]||(e[2]=[i("Implementing Vertical Slices",-1)])]),_:1})]),t("li",null,[n(o,{to:"#solution-structure-with-repr-pattern"},{default:a(()=>[...e[3]||(e[3]=[i("Solution Structure With REPR Pattern",-1)])]),_:1})]),t("li",null,[n(o,{to:"#next-steps"},{default:a(()=>[...e[4]||(e[4]=[i("Next Steps",-1)])]),_:1})])])]),e[33]||(e[33]=t("hr",null,null,-1)),n(c,{name:"Vertical Slice Architecture",desc:"Layered architectures are the foundation of many software systems. However, layered architectures organize the system around technical layers. And the cohesion between layers is low. What if you wanted to organize the system around features instead? This is where Vertical Slice Architecture comes in.",url:"https://milanjovanovic.tech/blog/vertical-slice-architecture/",logo:"https://milanjovanovic.tech/profile_favicon.png",preview:"https://milanjovanovic.tech/blog-covers/mnw_062.png"}),e[34]||(e[34]=t("p",null,"Layered architectures are the foundation of many software systems. However, layered architectures organize the system around technical layers. And the cohesion between layers is low.",-1)),e[35]||(e[35]=t("p",null,"What if you wanted to organize the system around features instead?",-1)),e[36]||(e[36]=t("p",null,"Minimize coupling between unrelated features and maximize coupling in a single feature.",-1)),e[37]||(e[37]=t("p",null,[i("Today I want to talk about "),t("strong",null,"Vertical Slice Architecture"),i(", which does precisely that.")],-1)),e[38]||(e[38]=t("hr",null,null,-1)),e[39]||(e[39]=t("h2",{id:"the-problem-with-layered-architectures",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#the-problem-with-layered-architectures"},[t("span",null,"The Problem With Layered Architectures")])],-1)),e[40]||(e[40]=t("p",null,"Layered architectures organize the software system into layers or tiers. Each of the layers is typically one project in your solution. Some of the popular implementations are N-tier architecture or Clean architecture.",-1)),t("p",null,[e[6]||(e[6]=i("Layered architectures focus on separating the concerns of the various components. This makes it easier to understand and maintain the software system. And there are many benefits of ",-1)),n(l,{to:"/milanjovanovic.tech/clean-architecture-and-the-benefits-of-structured-software-design.html"},{default:a(()=>[...e[5]||(e[5]=[t("strong",null,"structured software design,",-1)])]),_:1}),e[7]||(e[7]=i(" such as maintainability, flexibility, and loose coupling.",-1))]),e[41]||(e[41]=p('<figure><img src="https://milanjovanovic.tech/blogs/mnw_062/clean_architecture.png?imwidth=3840" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>However, layered architectures also impose constraints or rigid rules on your system. The direction of dependencies between layers is pre-determined.</p><p>For example, in Clean Architecture:</p><ul><li>Domain should have no dependencies</li><li>Application layer can reference the Domain</li><li>Infrastructure can reference both Application and Domain</li><li>Presentation can reference both Application and Domain</li></ul><p>You end up having high coupling inside a layer and low coupling between layers. This doesn&#39;t mean layered architectures are bad. But it does mean you will have many abstractions between individual layers. And more abstractions mean increased complexity because there are more components to maintain.</p><hr><h2 id="what-is-vertical-slice-architecture" tabindex="-1"><a class="header-anchor" href="#what-is-vertical-slice-architecture"><span>What is Vertical Slice Architecture?</span></a></h2>',7)),t("p",null,[e[15]||(e[15]=i("I first heard about ",-1)),t("a",j,[n(r,{icon:"fas fa-globe"}),e[8]||(e[8]=i("Vertical Slice Architecture",-1))]),e[16]||(e[16]=i(" from Jimmy Bogard. He's also the creator of some popular open-source libraries like ",-1)),t("a",E,[e[9]||(e[9]=i("MediatR (",-1)),n(r,{icon:"iconfont icon-github"}),e[10]||(e[10]=t("code",null,"jbogard/MediatR",-1)),e[11]||(e[11]=i(")",-1))]),e[17]||(e[17]=i(" and ",-1)),t("a",P,[e[12]||(e[12]=i("Automapper. (",-1)),n(r,{icon:"iconfont icon-github"}),e[13]||(e[13]=t("code",null,"AutoMapper/AutoMapper",-1)),e[14]||(e[14]=i(")",-1))])]),e[42]||(e[42]=p('<p>Vertical Slice Architecture was born from the pain of working with layered architectures. They force you to make changes in many different layers to implement a feature.</p><p>Let&#39;s imagine what adding a new feature looks like in a layered architecture:</p><ul><li>Updating the domain model</li><li>Modifying validation logic</li><li>Creating a use case with MediatR</li><li>Exposing an API endpoint from a controller</li></ul><p>The cohesion is low because you are creating many files in different layers.</p><p>Vertical slices take a different approach:</p><blockquote><p>Minimize coupling between slices, and maximize coupling in a slice.</p></blockquote><p>Here&#39;s how you can visualize vertical slices:</p><figure><img src="https://milanjovanovic.tech/blogs/mnw_062/vertical_slice_architecture.png?imwidth=3840" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>All the files for a single use case are grouped inside one folder. So, the cohesion for a single use case is very high. This simplifies the development experience. It&#39;s easy to find all the relevant components for each feature since they are close together.</p><hr><h2 id="implementing-vertical-slices" tabindex="-1"><a class="header-anchor" href="#implementing-vertical-slices"><span>Implementing Vertical Slices</span></a></h2>',11)),t("p",null,[e[19]||(e[19]=i("If you're building an API, the system already breaks down into commands (POST/PUT/DELETE) and queries (GET). By splitting the requests into commands and queries, you're getting the benefits of the ",-1)),n(l,{to:"/milanjovanovic.tech/cqrs-pattern-with-mediatr.html"},{default:a(()=>[...e[18]||(e[18]=[t("strong",null,"CQRS pattern.",-1)])]),_:1})]),e[43]||(e[43]=t("p",null,"Vertical slices narrowly focus on a single feature. This allows you to treat each use case separately and tailor the implementation to the specific requirements. One vertical slice can use EF Core to implement a GET request. Another vertical slice can use Dapper with raw SQL queries.",-1)),e[44]||(e[44]=t("figure",null,[t("img",{src:"https://milanjovanovic.tech/blogs/mnw_062/vertical_slices.png?imwidth=3840",alt:"",tabindex:"0",loading:"lazy"}),t("figcaption")],-1)),e[45]||(e[45]=t("p",null,"Another benefit of implementing vertical slices like this is:",-1)),e[46]||(e[46]=t("blockquote",null,[t("p",null,"New features only add code, you're not changing shared code and worrying about side effects.")],-1)),t("p",null,[e[21]||(e[21]=i("However, vertical slices have their own set of challenges. Because you are implementing much of the business logic inside a single use case, you need to be able to spot code smells. As the use case grows, it can end up doing too much. You will have to refactor the code by ",-1)),n(l,{to:"/milanjovanovic.tech/refactoring-from-an-anemic-domain-model-to-a-rich-domain-model.html"},{default:a(()=>[...e[20]||(e[20]=[t("strong",null,"pushing logic to the domain.",-1)])]),_:1})]),e[47]||(e[47]=t("hr",null,null,-1)),e[48]||(e[48]=t("h2",{id:"solution-structure-with-repr-pattern",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#solution-structure-with-repr-pattern"},[t("span",null,"Solution Structure With REPR Pattern")])],-1)),t("p",null,[e[23]||(e[23]=i("Layered architectures, such as Clean architecture, organize the solution across layers. This results in a ",-1)),n(l,{to:"/milanjovanovic.tech/clean-architecture-folder-structure.html"},{default:a(()=>[...e[22]||(e[22]=[t("strong",null,"folder structure grouped by technical concerns.",-1)])]),_:1})]),e[49]||(e[49]=t("p",null,"Vertical slice architecture, on the other hand, organizes the code around features or use cases.",-1)),t("p",null,[e[25]||(e[25]=i("An interesting approach to structuring APIs around features is using the ",-1)),t("a",x,[n(r,{icon:"fas fa-globe"}),e[24]||(e[24]=i("REPR pattern",-1))]),e[26]||(e[26]=i(". It stands for Request-EndPoint-Response. This aligns perfectly with the idea of vertical slices. You can achieve this with the MediatR library, for example.",-1))]),e[50]||(e[50]=p(`<p>The REPR pattern defines that web API endpoints should have three components:</p><ul><li>Request</li><li>Endpoint</li><li>Response</li></ul><p>Here&#39;s an example solution structure in .NET. You&#39;ll notice the <code>Features</code> folder, which contains the vertical slices. Each vertical slice implements one API request (or use case).</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">ğŸ”— RunTracker.API</span>
<span class="line">|__ ğŸ“ Database</span>
<span class="line">|__ ğŸ“ Entities</span>
<span class="line">    |__ #ï¸âƒ£ Activity.cs</span>
<span class="line">    |__ #ï¸âƒ£ Workout.cs</span>
<span class="line">    |__ #ï¸âƒ£ ...</span>
<span class="line">|__ ğŸ“ Features</span>
<span class="line">    |__ ğŸ“ Activities</span>
<span class="line">        |__ ğŸ“ GetActivity</span>
<span class="line">            |__ #ï¸âƒ£ ActivityResponse.cs</span>
<span class="line">            |__ #ï¸âƒ£ GetActivityEndpoint.cs</span>
<span class="line">            |__ #ï¸âƒ£ GetActivityQuery.cs</span>
<span class="line">            |__ #ï¸âƒ£ GetActivityQueryHandler.cs</span>
<span class="line">        |__ ğŸ“ CreateActivity</span>
<span class="line">            |__ #ï¸âƒ£ CreateActivity.cs</span>
<span class="line">                |__ #ï¸âƒ£ CreateActivity.Command.cs</span>
<span class="line">                |__ #ï¸âƒ£ CreateActivity.Endpoint.cs</span>
<span class="line">                |__ #ï¸âƒ£ CreateActivity.Handler.cs</span>
<span class="line">                |__ #ï¸âƒ£ CreateActivity.Validator.cs</span>
<span class="line">    |__ ğŸ“ Workouts</span>
<span class="line">    |__ ğŸ“ ...</span>
<span class="line">|__ ğŸ“ Middleware</span>
<span class="line">|__ ğŸ“„ appsettings.json</span>
<span class="line">|__ ğŸ“„ appsettings.Development.json</span>
<span class="line">|__ #ï¸âƒ£ Program.cs</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A few more libraries for implementing the REPR pattern:</p>`,5)),n(c,{name:"FastEndpoints/FastEndpoints",desc:"A light-weight REST API development framework for ASP.NET 6 and newer.",url:"https://github.com/FastEndpoints/FastEndpoints",logo:"https://avatars.githubusercontent.com/u/110555157?s=48&v=4",preview:"https://repository-images.githubusercontent.com/407023726/46f843f5-afe9-4452-9ad8-e4a9c1d11039"}),n(c,{name:"ardalis/ApiEndpoints",desc:"A project for supporting API Endpoints in ASP.NET Core web applications.",url:"https://github.com/ardalis/ApiEndpoints",logo:"https://avatars.githubusercontent.com/u/782127?s=48&v=4",preview:"https://repository-images.githubusercontent.com/239233346/db8fdc80-4e75-11ea-8bd7-308d2c10bb72"}),e[51]||(e[51]=t("hr",null,null,-1)),e[52]||(e[52]=t("h2",{id:"next-steps",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#next-steps"},[t("span",null,"Next Steps")])],-1)),e[53]||(e[53]=t("p",null,"Some of you may not like the idea of grouping all the files related to a feature in a single folder.",-1)),t("p",null,[e[28]||(e[28]=i("However, there's a lot of value in grouping by features in general. You don't have to implement vertical slices. But you can apply this concept to your domain by grouping files around aggregates, for example. This is the approach I show in ",-1)),n(l,{to:"/milanjovanovic.tech/pragmatic-clean-architecture/"},{default:a(()=>[...e[27]||(e[27]=[t("strong",null,"Pragmatic Clean Architecture.",-1)])]),_:1})]),t("p",null,[e[31]||(e[31]=i("I made a video about ",-1)),t("a",V,[n(r,{icon:"fa-brands fa-youtube"}),e[29]||(e[29]=t("strong",null,"Vertical Slice Architecture,",-1))]),e[32]||(e[32]=i(" showing how to implement the concepts discussed in today's issue. Check it out ",-1)),t("a",R,[n(r,{icon:"fa-brands fa-youtube"}),e[30]||(e[30]=t("strong",null,"here.",-1))])]),n(m,{src:"youtube/msjnfdeDCmo"}),e[54]||(e[54]=t("p",null,"Thanks for reading, and stay awesome!",-1))])}const M=h(w,[["render",T]]),_=JSON.parse('{"path":"/milanjovanovic.tech/vertical-slice-architecture.html","title":"Vertical Slice Architecture","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Vertical Slice Architecture","description":"Article(s) > Vertical Slice Architecture","icon":"iconfont icon-csharp","category":["C#","DotNet","Article(s)"],"tag":["blog","milanjovanovic.tech","cs","c#","csharp","dotnet"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Vertical Slice Architecture\\",\\"image\\":[\\"https://milanjovanovic.tech/blogs/mnw_062/clean_architecture.png?imwidth=3840\\",\\"https://milanjovanovic.tech/blogs/mnw_062/vertical_slice_architecture.png?imwidth=3840\\",\\"https://milanjovanovic.tech/blogs/mnw_062/vertical_slices.png?imwidth=3840\\"],\\"datePublished\\":\\"2023-11-04T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Milan JovanoviÄ‡\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/vertical-slice-architecture.html"}],["meta",{"property":"og:site_name","content":"ğŸ“šBookshelf"}],["meta",{"property":"og:title","content":"Vertical Slice Architecture"}],["meta",{"property":"og:description","content":"Article(s) > Vertical Slice Architecture"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://milanjovanovic.tech/blog-covers/mnw_062.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://milanjovanovic.tech/blog-covers/mnw_062.png"}],["meta",{"name":"twitter:image:alt","content":"Vertical Slice Architecture"}],["meta",{"property":"article:author","content":"Milan JovanoviÄ‡"}],["meta",{"property":"article:tag","content":"dotnet"}],["meta",{"property":"article:tag","content":"csharp"}],["meta",{"property":"article:tag","content":"c#"}],["meta",{"property":"article:tag","content":"cs"}],["meta",{"property":"article:tag","content":"milanjovanovic.tech"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2023-11-04T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Vertical Slice Architecture"},{"property":"og:description","content":"Vertical Slice Architecture"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/vertical-slice-architecture.html"}]],"prev":"/programming/cs/articles/README.md","date":"2023-11-04T00:00:00.000Z","isOriginal":false,"author":"Milan JovanoviÄ‡","cover":"https://milanjovanovic.tech/blog-covers/mnw_062.png"},"git":{},"readingTime":{"minutes":3.96,"words":1187},"filePathRelative":"milanjovanovic.tech/vertical-slice-architecture.md","copyright":{"author":"Milan JovanoviÄ‡"}}');export{M as comp,_ as data};
