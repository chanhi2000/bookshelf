import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as t,f as a,b as l,a as k,t as w,n as r,g as c,e as s,w as v,r as e,o as f}from"./app-BItykJLQ.js";const y={},b={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},S={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},T={href:"https://caniuse.com/view-transitions",target:"_blank",rel:"noopener noreferrer"};function C(o,n){const p=e("VPCard"),u=e("SiteInfo"),d=e("RouteLink"),i=e("CodePen"),m=e("VPIcon");return f(),g("div",null,[t("h1",b,[t("a",S,[t("span",null,w(o.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),a(p,r(c({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n[6]||(n[6]=t("nav",{class:"table-of-contents"},[t("ul")],-1)),n[7]||(n[7]=t("hr",null,null,-1)),a(u,{name:"Fanout with Grid and View Transitions",desc:"Imagine transitioning a bunch of items all set into ONE cell of a grid, then each having a unique animation when they move from that cell into where they would naturally fall on that same grid.",url:"https://frontendmasters.com/blog/fanout-with-grid-and-view-transitions/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/4184"}),t("p",null,[n[1]||(n[1]=s("I got a little nerdsniped by Preethi‚Äôs post ",-1)),a(d,{to:"/frontendmasters.com/css-fan-out-with-grid-and-property.html"},{default:v(()=>[...n[0]||(n[0]=[t("strong",null,[s("CSS Fan Out with Grid and "),t("code",null,"@property")],-1)])]),_:1}),n[2]||(n[2]=s(" the other day. I like the idea of a opening a menu of items where the layout is powered by CSS grid. Then it collapses back into just one cell of the grid. You can even animate the grid columns/rows themselves to pull this off, as Preethi demonstrated. If you know how many columns/rows you want, you can animate that number up and down.",-1))]),n[8]||(n[8]=l("<p>I found the animations just a <em>bit</em> less smooth than I‚Äôd like to see, generally. The smoothness depends on lots of factors, like how many columns/rows there are, how long the duration is, and how big those columns/rows are. But imagine 3 rows collapsing to 1 over a full second. Since what is being animated is an <em>integer.</em> The best that can do is have two keyframes (3 to 2, 2 to 1) at 500ms each. It will not feel smooth. Preethi smoothed it over by animating the heights of items too, but the column/rows changes can‚Äôt be smoothed over (there can never be 1.5 rows, for example).</p><p>My mind went right to View Transitions. Particularly the ‚Äúsame page‚Äù style of View Transitions you can call with the JavaScript API <code>document.startViewTransition</code>. With it, we actually don‚Äôt even need CSS transitions/animations <em>at all.</em> Weird right?! We just alter the DOM (by changing a class and letting CSS do it‚Äôs thing) <em>inside</em> a <code>startViewTransition</code> function, and the browser will automatically tween any elements with unique <code>view-transition-name</code> values.</p><p>Here‚Äôs me re-creating a similar layout to the fan out navigation in Preethi‚Äôs article:</p>",3)),a(i,{user:"chriscoyier","slug-hash":"ExqZPNJ",title:"Fan Out 2","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),n[9]||(n[9]=l("<p>Above, the <code>#grid</code> uses CSS grid to make an 1-column 7-row grid. By default <em>all</em> items are placed in the 4th grid row, making a ‚Äúclosed‚Äù state. When the <code>open</code> class is applied to the grid, the <code>grid-row</code> is replaced with <code>auto</code> letting them fall to where they normally would in the grid (the ‚Äúfan out‚Äù). The item in the middle position is just styled differently to look and act as a toggle.</p><p>Here‚Äôs a video if you‚Äôre on a device that doesn‚Äôt support View Transitions</p><p>In that above example, the space the grid occupies is the same in both states, but that wouldn‚Äôt need to be the case. If you want to alter the grid columns/rows, thus changing the dimensions and nature of the grid, then view transition between those states, you can absolutely do that too.</p><p>There really is no limit to what you want to do with the grid in the open and closed state. You don‚Äôt even have to think of the ‚Äústates‚Äù in that way, although I do find it satisfying myself. Here‚Äôs many <em>more</em> items laid out on a grid with both columns and rows:</p>",4)),a(i,{user:"chriscoyier","slug-hash":"PoMbmGy",title:"Fan Out","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),n[10]||(n[10]=l(`<p>When I was poking around with that demo, it felt it was just <em>begging</em> for ‚Äústaggered transitions‚Äù, that is, animations that occur with a slight time delay between each element. I‚Äôm eyeing up future CSS that looks like it‚Äôs going to help with this, but we can actually do it now even using the view transitions we already have.</p><p>I used Pug to create the HTML because it‚Äôs so repetitive and a processor can help abstract that and make it easier to update, but ultimately the HTML is like this:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>grid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">view-transition-name</span><span class="token punctuation">:</span> item-0</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">view-transition-name</span><span class="token punctuation">:</span> item-1</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">view-transition-name</span><span class="token punctuation">:</span> item-2</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">&lt;!-- ... --&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We can target each one of those items with unique view-transition-specific CSS and apply the <code>animation-delay</code> there. I used a Sass loop for the same reason as above, but ultimately the CSS looks like:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">::view-transition-group(item-0)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation-delay</span><span class="token punctuation">:</span> 0s<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">::view-transition-group(item-1)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation-delay</span><span class="token punctuation">:</span> 0.01s<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">::view-transition-group(item-2)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation-delay</span><span class="token punctuation">:</span> 0.02s<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">/* ... */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That ends up like this:</p>`,6)),a(i,{user:"chriscoyier","slug-hash":"JjgEVgd",title:"Fan Out with Staggering","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),n[11]||(n[11]=t("p",null,"I find that terribly pleasing.",-1)),n[12]||(n[12]=t("p",null,"Again I‚Äôm leaving the entire grid in place here rather than changing the amount or size of any of the columns/rows. But you could, and it wouldn‚Äôt be terribly different. It might actually be smart so the ‚Äúclosed‚Äù state isn‚Äôt taking up as much space in the flow.",-1)),t("p",null,[n[4]||(n[4]=s("Again if a browser doesn‚Äôt ",-1)),t("a",T,[a(m,{icon:"fas fa-globe"}),n[3]||(n[3]=s("support",-1))]),n[5]||(n[5]=s(" this kind of view transition (Firefox, at the time of writing), it doesn‚Äôt matter, it will still toggle open and closed just fine, just without animation.",-1))]),k(" TODO: add ARTICLE CARD "),a(p,r(c({title:"Fanout with Grid and View Transitions",desc:"Imagine transitioning a bunch of items all set into ONE cell of a grid, then each having a unique animation when they move from that cell into where they would naturally fall on that same grid.",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/fanout-with-grid-and-view-transitions.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)])}const I=h(y,[["render",C]]),P=JSON.parse('{"path":"/frontendmasters.com/fanout-with-grid-and-view-transitions.html","title":"Fanout with Grid and View Transitions","lang":"en-US","frontmatter":{"lang":"en-US","title":"Fanout with Grid and View Transitions","description":"Article(s) > Fanout with Grid and View Transitions","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","frontendmasters.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Fanout with Grid and View Transitions\\",\\"image\\":[\\"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/4184\\"],\\"datePublished\\":\\"2024-10-14T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Chris Coyier\\",\\"url\\":\\"https://frontendmasters.com/blog/author/chriscoyier/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/fanout-with-grid-and-view-transitions.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Fanout with Grid and View Transitions"}],["meta",{"property":"og:description","content":"Article(s) > Fanout with Grid and View Transitions"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/4184"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/4184"}],["meta",{"name":"twitter:image:alt","content":"Fanout with Grid and View Transitions"}],["meta",{"property":"article:author","content":"Chris Coyier"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2024-10-14T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Fanout with Grid and View Transitions"},{"property":"og:description","content":"Fanout with Grid and View Transitions"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/fanout-with-grid-and-view-transitions.html"}]],"prev":"/programming/css/articles/README.md","date":"2024-10-14T00:00:00.000Z","isOriginal":false,"author":[{"name":"Chris Coyier","url":"https://frontendmasters.com/blog/author/chriscoyier/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/4184"},"git":{},"readingTime":{"minutes":3.62,"words":1086},"filePathRelative":"frontendmasters.com/fanout-with-grid-and-view-transitions.md","copyright":{"author":"Chris Coyier"}}');export{I as comp,P as data};
