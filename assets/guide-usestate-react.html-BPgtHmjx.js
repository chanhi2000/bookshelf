import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as f,d as s,f as t,b as o,a as k,t as y,n as m,g as v,w as e,e as a,r as i,o as w}from"./app-BVguHYKu.js";const j="/bookshelf/assets/image/blog.logrocket.com/guide-usestate-react/banner.png",x={},S={id:"frontmatter-title-관련",tabindex:"-1"},q={class:"header-anchor",href:"#frontmatter-title-관련"},R={class:"table-of-contents"},M={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes",target:"_blank",rel:"noopener noreferrer"},A={href:"https://legacy.reactjs.org/docs/react-component.html",target:"_blank",rel:"noopener noreferrer"},H={href:"https://beta.reactjs.org/learn/lifecycle-of-reactive-effects",target:"_blank",rel:"noopener noreferrer"},I={href:"https://beta.reactjs.org/reference/react/Component#alternatives",target:"_blank",rel:"noopener noreferrer"},U={href:"https://stackoverflow.com/questions/54625831/how-to-sync-props-to-state-using-react-hooks-setstate",target:"_blank",rel:"noopener noreferrer"},T={href:"https://codesandbox.io/p/sandbox/7z31woqo9q?from-embed",target:"_blank",rel:"noopener noreferrer"},O={href:"https://codesandbox.io/p/sandbox/v0n08rw547?from-embed",target:"_blank",rel:"noopener noreferrer"},C={href:"https://reactjs.org/docs/state-and-lifecycle.html#state-updates-are-merged",target:"_blank",rel:"noopener noreferrer"},F={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is#Description",target:"_blank",rel:"noopener noreferrer"},E={href:"https://codesandbox.io/p/sandbox/50n0py0p6k?from-embed",target:"_blank",rel:"noopener noreferrer"},J={href:"https://codesandbox.io/p/sandbox/qqp8qp9zzq?from-embed",target:"_blank",rel:"noopener noreferrer"},L={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign",target:"_blank",rel:"noopener noreferrer"},W={href:"https://codesandbox.io/p/sandbox/usestate-05-qpykz?from-embed",target:"_blank",rel:"noopener noreferrer"},z={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax",target:"_blank",rel:"noopener noreferrer"},D={href:"https://stackoverflow.com/questions/43421704/why-is-a-spread-element-unsuitable-for-copying-multidimensional-arrays",target:"_blank",rel:"noopener noreferrer"},P={href:"https://reactjs.org/docs/hooks-faq.html#should-i-use-one-or-many-state-variables",target:"_blank",rel:"noopener noreferrer"},V={href:"https://legacy.reactjs.org/warnings/invalid-hook-call-warning.html",target:"_blank",rel:"noopener noreferrer"},Z={href:"https://github.com/facebook/react/blob/fd557d453d37eab29eca18f0507750ab2093669d/packages/react-reconciler/src/ReactFiberHooks.js",target:"_blank",rel:"noopener noreferrer"},N={href:"https://npmjs.com/package/eslint-plugin-react-hooks",target:"_blank",rel:"noopener noreferrer"};function B(g,n){const r=i("VPCard"),l=i("router-link"),d=i("SiteInfo"),b=i("VidStack"),p=i("VPIcon"),c=i("RouteLink"),u=i("SandPack");return w(),f("div",null,[s("h1",S,[s("a",q,[s("span",null,y(g.$frontmatter.title)+" 관련",1)])]),t(r,m(v({title:"React.js > Article(s)",desc:"Article(s)",link:"/programming/js-react/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",R,[s("ul",null,[s("li",null,[t(l,{to:"#react-class-and-functional-components"},{default:e(()=>n[0]||(n[0]=[a("React class and functional components")])),_:1,__:[0]}),s("ul",null,[s("li",null,[t(l,{to:"#class-components"},{default:e(()=>n[1]||(n[1]=[a("Class components")])),_:1,__:[1]})]),s("li",null,[t(l,{to:"#functional-components"},{default:e(()=>n[2]||(n[2]=[a("Functional components")])),_:1,__:[2]})])])]),s("li",null,[t(l,{to:"#what-does-usestate-do"},{default:e(()=>n[3]||(n[3]=[a("What does useState do?")])),_:1,__:[3]})]),s("li",null,[t(l,{to:"#what-can-usestate-hold"},{default:e(()=>n[4]||(n[4]=[a("What can useState hold?")])),_:1,__:[4]})]),s("li",null,[t(l,{to:"#updating-objects-and-arrays-in-usestate"},{default:e(()=>n[5]||(n[5]=[a("Updating objects and arrays in useState")])),_:1,__:[5]})]),s("li",null,[t(l,{to:"#declaring-state-in-react"},{default:e(()=>n[6]||(n[6]=[a("Declaring state in React")])),_:1,__:[6]})]),s("li",null,[t(l,{to:"#using-react-hooks-to-update-the-state"},{default:e(()=>n[7]||(n[7]=[a("Using React Hooks to update the state")])),_:1,__:[7]})]),s("li",null,[t(l,{to:"#implementing-an-object-as-a-state-variable-with-usestate-hook"},{default:e(()=>n[8]||(n[8]=[a("Implementing an object as a state variable with useState Hook")])),_:1,__:[8]}),s("ul",null,[s("li",null,[t(l,{to:"#how-to-update-state-in-a-nested-object-in-react-with-hooks"},{default:e(()=>n[9]||(n[9]=[a("How to update state in a nested object in React with Hooks")])),_:1,__:[9]})])])]),s("li",null,[t(l,{to:"#managing-react-state-multiple-variables-vs-one-state-object"},{default:e(()=>n[10]||(n[10]=[a("Managing React state: Multiple variables vs. One state object")])),_:1,__:[10]})]),s("li",null,[t(l,{to:"#rules-for-using-usestate"},{default:e(()=>n[11]||(n[11]=[a("Rules for using useState")])),_:1,__:[11]})]),s("li",null,[t(l,{to:"#usestate-vs-useeffect-react-hooks"},{default:e(()=>n[12]||(n[12]=[a("useState vs. useEffect React Hooks")])),_:1,__:[12]}),s("ul",null,[s("li",null,[t(l,{to:"#usestate"},{default:e(()=>n[13]||(n[13]=[a("useState")])),_:1,__:[13]})]),s("li",null,[t(l,{to:"#useeffect"},{default:e(()=>n[14]||(n[14]=[a("useEffect")])),_:1,__:[14]})])])]),s("li",null,[t(l,{to:"#understanding-the-usereducer-hook"},{default:e(()=>n[15]||(n[15]=[a("Understanding the useReducer Hook")])),_:1,__:[15]})]),s("li",null,[t(l,{to:"#key-points-to-remember-about-the-usestate-react-hook"},{default:e(()=>n[16]||(n[16]=[a("Key points to remember about the useState React Hook")])),_:1,__:[16]})])])]),n[146]||(n[146]=s("hr",null,null,-1)),t(d,{name:"useState in React: A complete guide",desc:"React useState allows you to add state to functional components, returning an array with two values: current state and a function to update it.",url:"https://blog.logrocket.com/guide-usestate-react",logo:"/assets/image/blog.logrocket.com/favicon.png",preview:"/assets/image/blog.logrocket.com/guide-usestate-react/banner.png"}),n[147]||(n[147]=o('<div class="hint-container note"><p class="hint-container-title">Editor’s note</p><p>This React <code>useState</code> Hook tutorial was last reviewed and updated on 8 October 2024.</p></div><figure><img src="'+j+`" alt="UseState In React: A Complete Guide" tabindex="0" loading="lazy"><figcaption>UseState In React: A Complete Guide</figcaption></figure><p>In React, the <code>useState</code> Hook allows you to add state to functional components. <code>useState</code> returns an array with two values: the current state and a function to update it.</p><p>The Hook takes an initial state value as an argument and returns an updated state value whenever the <code>setter</code> function is called. It can be used like this:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialValue<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Here, the <code>initialValue</code> is the value you want to start with and <code>state</code> is the current state value that can be used in your component. The <code>setState</code> function can be used to update the <code>state</code>, triggering a re-render of your component.</p><p>The <code>useState</code> Hook in React is the equivalent of <code>this.state</code>/<code>this.setSate</code> for functional components.</p><p>For a visual guide to <code>useState</code>, check out the video tutorial below:</p>`,8)),t(b,{src:"youtube/4qVNaohzDWU"}),n[148]||(n[148]=s("hr",null,null,-1)),n[149]||(n[149]=s("h2",{id:"react-class-and-functional-components",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#react-class-and-functional-components"},[s("span",null,"React class and functional components")])],-1)),n[150]||(n[150]=s("p",null,"In React, there are two types of components:",-1)),n[151]||(n[151]=s("h3",{id:"class-components",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#class-components"},[s("span",null,"Class components")])],-1)),s("p",null,[s("a",M,[t(p,{icon:"fa-brands fa-firefox"}),n[17]||(n[17]=a("ES6 classes"))]),n[20]||(n[20]=a(" that extend the built-in ")),s("a",A,[t(p,{icon:"fa-brands fa-react"}),n[18]||(n[18]=s("code",null,"Component",-1))]),n[21]||(n[21]=a(" and ")),s("a",H,[t(p,{icon:"fa-brands fa-react"}),n[19]||(n[19]=s("code",null,"lifecycle",-1))]),n[22]||(n[22]=a(" methods:"))]),n[152]||(n[152]=o(`<div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Message</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* ... */</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),s("blockquote",null,[s("p",null,[n[24]||(n[24]=s("strong",null,"N.B.",-1)),n[25]||(n[25]=a(", the React team recommends defining components as functions instead of classes. Here’s a ")),s("a",I,[t(p,{icon:"fa-brands fa-react"}),n[23]||(n[23]=a("migration guide"))]),n[26]||(n[26]=a("."))])]),n[153]||(n[153]=o(`<h3 id="functional-components" tabindex="-1"><a class="header-anchor" href="#functional-components"><span>Functional components</span></a></h3><p>Functions that accept arguments as the properties of the component and return valid JSX, as shown below:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">function</span> <span class="token function">Message</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// Or as an arrow function </span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3)),s("p",null,[n[28]||(n[28]=a("As you can see, there are no state or lifecycle methods. However, as of React v16.8, we can use Hooks. ")),t(c,{to:"/blog.logrocket.com/react-hooks-cheat-sheet-solutions-common-problems.html"},{default:e(()=>n[27]||(n[27]=[s("strong",null,"React Hooks",-1)])),_:1,__:[27]}),n[29]||(n[29]=a(', which tend to start with "')),n[30]||(n[30]=s("code",null,"use",-1)),n[31]||(n[31]=a('" are functions that add state variables to functional components and instrument the lifecycle methods of classes.'))]),n[154]||(n[154]=o('<hr><h2 id="what-does-usestate-do" tabindex="-1"><a class="header-anchor" href="#what-does-usestate-do"><span>What does <code>useState</code> do?</span></a></h2><p><code>useState</code> allows you to add state to function components. Calling <code>React.useState</code> inside a function component generates a single piece of state associated with that component.</p><p>Whereas the state in a class is always an object, with Hooks, the state can be any type. Each piece of state holds a single value: an <code>object</code>, an <code>array</code>, a <code>Boolean</code>, or any other type you can imagine.</p>',4)),s("p",null,[n[33]||(n[33]=a("So, when should you use the ")),n[34]||(n[34]=s("code",null,"useState",-1)),n[35]||(n[35]=a(" Hook? It’s beneficial for managing local component state, but for larger projects, additional ")),t(c,{to:"/blog.logrocket.com/guide-choosing-right-react-state-management-solution.html"},{default:e(()=>n[32]||(n[32]=[s("strong",null,"state management solutions",-1)])),_:1,__:[32]}),n[36]||(n[36]=a(" may be necessary."))]),n[155]||(n[155]=o('<hr><h2 id="what-can-usestate-hold" tabindex="-1"><a class="header-anchor" href="#what-can-usestate-hold"><span>What can <code>useState</code> hold?</span></a></h2><p>In React, <code>useState</code> can store any type of value, whereas the state in a class component is limited to being an object. This includes primitive data types like <code>string</code>, <code>number</code>, and <code>Boolean</code>, as well as complex data types such as <code>array</code>, <code>object</code>, and <code>function</code>. It can even cover custom data types like class instances.</p><p>Basically, anything that can be stored in a JavaScript variable can be stored in a state managed by <code>useState</code>.</p><hr><h2 id="updating-objects-and-arrays-in-usestate" tabindex="-1"><a class="header-anchor" href="#updating-objects-and-arrays-in-usestate"><span>Updating objects and arrays in <code>useState</code></span></a></h2>',6)),s("p",null,[n[38]||(n[38]=a("Never directly modify an object or array stored in ")),n[39]||(n[39]=s("code",null,"useState",-1)),n[40]||(n[40]=a(". Instead, you should create a new updated version of the object or array and call ")),t(c,{to:"/blog.logrocket.com/using-setstate-react-components.html"},{default:e(()=>n[37]||(n[37]=[s("strong",null,[s("code",null,"setState")],-1)])),_:1,__:[37]}),n[41]||(n[41]=a(" with the new version:"))]),n[156]||(n[156]=o(`<div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token comment">// Objects</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Jane&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">updateAge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> state<span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Arrays</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>array<span class="token punctuation">,</span> setArray<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">addItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">setArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>array<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">removeItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">setArray</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="declaring-state-in-react" tabindex="-1"><a class="header-anchor" href="#declaring-state-in-react"><span>Declaring state in React</span></a></h2><p><code>useState</code> is a named export from <code>react</code>. To use it, you can write <code>React.useState</code> or import it by writing <code>useState</code>:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The <code>state</code> object can be declared in a class and allows you to declare more than one state variable, as shown below:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Message</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>However, unlike the <code>state</code> object, the <code>useState</code> Hook allows you to declare only one state variable (of any type) at a time, like this:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> messageState <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> listState <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>useState</code> takes the initial value of the state variable as an argument, and you can pass it directly, as shown in the previous example. You can also use a function to <a href="https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52/" target="_blank" rel="noopener noreferrer">lazily initialize</a> the variable. This is useful when the initial state is the result of an expensive computation:</p>`,10)),k(" TODO: /blog.logrocket.com/lazy-loading-components-in-react-16-6.md "),n[157]||(n[157]=o(`<div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> messageState <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">expensiveComputation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The initial value will be assigned only on the initial render. If it’s a function, it will be executed only on the initial render. In subsequent renders (due to a change of state in the component or a parent component), the argument of the <code>useState</code> Hook will be ignored, and the current value will be retrieved.</p>`,2)),s("p",null,[n[43]||(n[43]=a("It is important to note that if you want to update the state based on new properties the component receives, using ")),n[44]||(n[44]=s("code",null,"useState",-1)),n[45]||(n[45]=a(" alone won’t work. This is because ")),n[46]||(n[46]=s("code",null,"useState",-1)),n[47]||(n[47]=a(" only uses its initial argument the first time — not each time the property changes. ")),s("a",U,[t(p,{icon:"fa-brands fa-stack-overflow"}),n[42]||(n[42]=a("Check this out"))]),n[48]||(n[48]=a(" for the correct way to handle this. It’s demonstrated here:"))]),n[158]||(n[158]=o(`<div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> messageState <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>But <code>useState</code> doesn’t return just a variable, as the previous examples imply. It returns an array, where the first element is the state variable and the second element is a function to update the value of the variable:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> messageState <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> message <span class="token operator">=</span> messageState<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Contains &#39;&#39;</span></span>
<span class="line">  <span class="token keyword">const</span> setMessage <span class="token operator">=</span> messageState<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// It&#39;s a function</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Usually, you’ll use array destructuring to simplify the code shown above like this:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This way, you can use the state variable in the functional component like any other variable:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>But, why does <code>useState</code> return an array? This is because, compared to an object, an array is more flexible and easy to use. If the method returned an object with a fixed set of properties, you wouldn’t be able to assign custom names easily.</p><p>Instead, you’d have to do something like this (assuming the properties of the object are <code>state</code> and <code>setState</code>):</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token comment">// Without using object destructuring</span></span>
<span class="line"><span class="token keyword">const</span> messageState <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> message <span class="token operator">=</span> messageState<span class="token punctuation">.</span>state<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> setMessage <span class="token operator">=</span> messageState<span class="token punctuation">;</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment">// Using object destructuring</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">state</span><span class="token operator">:</span> message<span class="token punctuation">,</span> <span class="token literal-property property">setState</span><span class="token operator">:</span> setMessage <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">state</span><span class="token operator">:</span> list<span class="token punctuation">,</span> <span class="token literal-property property">setState</span><span class="token operator">:</span> setList <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="using-react-hooks-to-update-the-state" tabindex="-1"><a class="header-anchor" href="#using-react-hooks-to-update-the-state"><span>Using React Hooks to update the state</span></a></h2><p>The second element returned by <code>useState</code> is a function that takes a new value to update the state variable. Here’s an example that uses a <code>text</code> box to update the state variable on every change:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span></span>
<span class="line">        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span></span>
<span class="line">        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Enter a message<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span></span>
<span class="line">      <span class="token punctuation">/&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14)),s("p",null,[n[50]||(n[50]=a("You can try this on ")),s("a",T,[t(p,{icon:"iconfont icon-codesandbox"}),n[49]||(n[49]=a("Code Sandbox here"))]),n[51]||(n[51]=a("."))]),t(u,{rtl:"",theme:"dark",title:"eh3rrera%20%2F%20Drafts%20%2F%20useState%2001%20",template:"react",files:"eJxNUEFugzAQ/MrIJ5AiuLeAVFU99tIe6x4s2BAqsC17iRIh/l5DDORgaXdnPDO7k8jfrM3+vHgR3WCNY3yRqvmECaOnb1ZMmHF2ZoAUboGkeJVa6siWIss933vyWe19xOi2Yg2d1dgzPsl71RJKJCnKCpPUQG20Z/wMD+wETxx5v4G4eSdSSJGuooAjHp1GstRA0XTX6lGGptN25K0D+G6plILpFvIe46vqRyqnaDofgO1VTRfTN+TCtw/N5KAQec8KRr9flG6DSNinekqdUMbKtcTZapLu4vkR0u5laDw7o9tqD1OEO66TnZ5v/CLfdl1OMYcn5n/YL4vl",options:"eJyrrgUAAXUA+Q==",customSetup:"eJyrrgUAAXUA+Q=="}),n[159]||(n[159]=o(`<p>However, this update function doesn’t update the value right away. Instead, it enqueues the update operation. Then, after re-rendering the component, the argument of <code>useState</code> will be ignored, and this function will return the most recent value.</p><p>When updating state based on its previous value, you need to pass a function to the <code>setter</code> function that updates the state. This function receives the previous state value as an argument and returns the new state value, as shown below:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span></span>
<span class="line">        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span></span>
<span class="line">        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Enter some letters<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">const</span> val <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span></span>
<span class="line">          <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prev <span class="token operator">+</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>
<span class="line">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3)),s("blockquote",null,[s("p",null,[n[53]||(n[53]=a("You can try this on ")),s("a",O,[t(p,{icon:"iconfont icon-codesandbox"}),n[52]||(n[52]=a("Code Sandbox here"))]),n[54]||(n[54]=a("."))])]),t(u,{rtl:"",theme:"dark",title:"eh3rrera%20%2F%20Drafts%20%2F%20useState%2002%20",template:"react",files:"eJxFkc1uwyAQhF9lxMlRI/vexpGqqsde2mPpATkbJ5UNCNZRIsvvnvUvSIhdZtjlg14V797n/1G9qmvrXWB8k6l4jx5dpB82TBhwDq6FVmGUtHrTVtvFrVVeRH40FPMqxkWj+6Sd6Gy6hvFFMZqaUCLboTyi1xaonI2M33bW9ojEi+9PjGvvTCutdlNRIBB3wSIbY+Bwut6OcyjJ1fqO1wzgh6dSK6a73Ddt30zTUdkvTYck+MZUdHHNiYIc+7RMAdG1hIZYYgFLXmc/LsbWUkeQFpp1zFTSRhgoZxNq4nzqKgzJlmAzH+g2lpnWl/HoLjkHbHcsEqvfQkkiB2fr48Z0kO+YdjZ7sfoPxfpk44sOMtXwBIRhnnE=",options:"eJyrrgUAAXUA+Q==",customSetup:"eJyrrgUAAXUA+Q=="}),n[160]||(n[160]=s("hr",null,null,-1)),n[161]||(n[161]=s("h2",{id:"implementing-an-object-as-a-state-variable-with-usestate-hook",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#implementing-an-object-as-a-state-variable-with-usestate-hook"},[s("span",null,[a("Implementing an object as a state variable with "),s("code",null,"useState"),a(" Hook")])])],-1)),n[162]||(n[162]=s("p",null,"There are two things you need to keep in mind about updates when using objects:",-1)),s("ul",null,[s("li",null,[n[56]||(n[56]=a("The importance of ")),t(c,{to:"/blog.logrocket.com/immutability-react-should-you-mutate-objects.html"},{default:e(()=>n[55]||(n[55]=[s("strong",null,"immutability",-1)])),_:1,__:[55]})]),s("li",null,[n[60]||(n[60]=a("The fact that the setter returned by ")),n[61]||(n[61]=s("code",null,"useState",-1)),n[62]||(n[62]=a(" doesn’t ")),s("a",C,[t(p,{icon:"fa-brands fa-react"}),n[57]||(n[57]=a("merge objects like ")),n[58]||(n[58]=s("code",null,"setState()",-1)),n[59]||(n[59]=a(" does"))]),n[63]||(n[63]=a(" in class components"))])]),s("p",null,[n[65]||(n[65]=a("Regarding the first point; if you use the same value as the current state to update the state (React uses ")),s("a",F,[t(p,{icon:"fa-brands fa-firefox"}),n[64]||(n[64]=s("code",null,"Object.is()",-1))]),n[66]||(n[66]=a(" for comparing), React won’t trigger a re-render."))]),s("p",null,[n[68]||(n[68]=a("When working with objects, it’s easy to make the ")),t(c,{to:"/blog.logrocket.com/avoiding-common-mistakes-in-react-hooks.html"},{default:e(()=>n[67]||(n[67]=[s("strong",null,"following mistake",-1)])),_:1,__:[67]}),n[69]||(n[69]=a(":"))]),n[163]||(n[163]=o(`<div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>messageObj<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span></span>
<span class="line">        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>messageObj<span class="token punctuation">.</span>message<span class="token punctuation">}</span></span></span>
<span class="line">        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Enter a message<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          messageObj<span class="token punctuation">.</span>message <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span></span>
<span class="line">          <span class="token function">setMessage</span><span class="token punctuation">(</span>messageObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Doesn&#39;t work</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>
<span class="line">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>messageObj<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),s("blockquote",null,[s("p",null,[n[71]||(n[71]=a("Here’s the ")),s("a",E,[t(p,{icon:"iconfont icon-codesandbox"}),n[70]||(n[70]=a("Code Sandbox"))]),n[72]||(n[72]=a("."))])]),t(u,{rtl:"",theme:"dark",title:"eh3rrera%20%2F%20Drafts%20%2F%20useState%2003%20",template:"react",files:"eJxtUcFqwzAM/ZWHL0uhxPe2KYxtxzHYjvMOXqqm7VLb2ErXEvLvc9MkHmwGg+T3JL0nt0LeO5cfgliI/dFZz3glXfIcLZpAb6yZ0GHr7RFK+CukxFIZZQa2ErkMfKkp5GUIA0bnHtvQVjc145lC0BWhQDZDsUarDFBaExjvxxv28nmYIxAP1I/IHcdnLQbSIk5TAt2sHwJ44sYbZNcYWG32p/UtjMneuIbHDOCLo0IJpnPUn55Pum6oaJOIfAi7xHG1Lmln6w352OHJMHnoUdLvZtY87LSpYr9odXA5nr8TokPKWfuKOO9lRFOJn1aRpdLZElLi0VIwd4xv679SSTcplmkJbgpjEthbU63/M7uKX9iDU6UcS1dyXOt16128ovsBq5+xxA==",options:"eJyrrgUAAXUA+Q==",customSetup:"eJyrrgUAAXUA+Q=="}),n[164]||(n[164]=o(`<p>Instead of creating a new object, the above example mutates the existing state object. To React, that’s the same object. To make it work, we must create a new object, just like we discussed earlier:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line">onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> newMessageObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">setMessage</span><span class="token punctuation">(</span>newMessageObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Now it works</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This leads us to the second important point you need to remember: when you update a state variable, unlike <code>this.setState</code> in a class component, the function returned by <code>useState</code> does not automatically merge update objects — it replaces them.</p><p>Following the previous example, if we add another property to the message object (<code>id</code>) as shown below:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>messageObj<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span></span>
<span class="line">        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>messageObj<span class="token punctuation">.</span>message<span class="token punctuation">}</span></span></span>
<span class="line">        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Enter a message<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">const</span> newMessageObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">          <span class="token function">setMessage</span><span class="token punctuation">(</span>newMessageObj<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>
<span class="line">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token punctuation">{</span>messageObj<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token plain-text"> : </span><span class="token punctuation">{</span>messageObj<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And we only update the <code>message</code> property like in the above example, React will replace the original <code>{ message: &#39;&#39;, id: 1 }</code> state object with the object used in the <code>onChange</code> event, which only contains the <code>message</code> property:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;message entered&#39;</span> <span class="token punctuation">}</span> <span class="token comment">// id property is lost</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,7)),s("blockquote",null,[s("p",null,[n[74]||(n[74]=a("You can see how the ")),n[75]||(n[75]=s("code",null,"id",-1)),n[76]||(n[76]=a(" property is lost ")),s("a",J,[t(p,{icon:"iconfont icon-codesandbox"}),n[73]||(n[73]=a("here on Code Sandbox"))]),n[77]||(n[77]=a("."))])]),t(u,{rtl:"",theme:"dark",title:"eh3rrera%20%2F%20Drafts%20%2F%20useState%2004%20",template:"react",files:"eJxlkstugzAQRX/lyisiRaBuCUSqqi6rSu2y7sKFCSEitmUPaSLEv9ckEIjq1bw8M+fanUierY0PXqSiPlrjGB+kCl6jQ+vpkxUTeuycOUIKN6Sk2Egt9VgtRZx4vjTk48L7MUfna66knWobxht5rypCjmiFfItOaqAw2jO+jrfc+89hDU88ln6H2ml81GEsSsM0KdaoyxRP6FfXWYAjbp1GNNhAVtan7c0MTq1ty5MH8MVSLgXTOWDM4ZNqWsq7eZd4NPu5xjaqoL1pSnKhw6tmclDTZstmRr/sla5Cv0A8wk7nBq3pd+QMowLpApBiVq4ijq8roQ+I8+1Zn+ihxWqDJAmqwDpjyfEFtUdj/AK8v5Mkszj2bgbHszO6WkSApSB12acPgf8KZeEjPPTIkmlClkyvMjzaQCX6Py68xmE=",options:"eJyrrgUAAXUA+Q==",customSetup:"eJyrrgUAAXUA+Q=="}),n[165]||(n[165]=o(`<p>You can replicate the behavior of <code>setState()</code> by using the function argument that contains the object to be replaced and the object spread syntax:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line">onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> val <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token parameter">prevState</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>prevState<span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> val <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2)),s("p",null,[n[79]||(n[79]=a("The ")),n[80]||(n[80]=s("code",null,"...prevState",-1)),n[81]||(n[81]=a(" part will get all of the properties of the object, and the ")),n[82]||(n[82]=s("code",null,"message: val",-1)),n[83]||(n[83]=a(" part will overwrite the ")),n[84]||(n[84]=s("code",null,"message",-1)),n[85]||(n[85]=a(" property. This will have the same result as using ")),s("a",L,[t(p,{icon:"fa-brands fa-firefox"}),n[78]||(n[78]=s("code",null,"Object.assign()",-1))]),n[86]||(n[86]=a(" (just remember to create a new object):"))]),n[166]||(n[166]=o(`<div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line">onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> val <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token parameter">prevState</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> prevState<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> val <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),s("blockquote",null,[s("p",null,[n[88]||(n[88]=a("Try it here on ")),s("a",W,[t(p,{icon:"iconfont icon-codesandbox"}),n[87]||(n[87]=a("Code Sandbox"))]),n[89]||(n[89]=a("."))])]),t(u,{rtl:"",theme:"dark",title:"eh3rrera%20%2F%20Drafts%20%2F%20useState%2005%20",template:"react",files:"eJxlUstugzAQ/JWRT0RCRr1SiBRVPVaV2mPpwYUNISUG2UuaCPHvNYRXFJ92veOZnV23ItjVtTxaEYriVFeG8UEqZR8tGkufrJjQYW+qExJh+lIinhOd6BGdCBlYvpZkZWrtWKPLUMtor5qS8UbWqpwQw9sg3qJNNJBW2jK+Trfa+8/RhyUeod8OO8l7LUZQ6NQS4aPIQjyh2wxagCFujIbXx0CUFeftLXRJoeuGpwzga01xIpguzsZyfVZlQ3G79CLHsFswdalSOlRlRsYxvGomAzV1tiar9MtB6dzxebTYnc7NthN0DkmyMjmxHPSdmwW2jMLzakPnYRKPbLP5FlLKGegvE+uVujtqIAimZ84qpSyVtUWuvbbzseJYzX1g2Tz3L3elrfBXmV+7Jh2WMSfz2IJlE/UcusSyqXS+ugHW0y+yLry7eFxH5H7dHUcUTApRMH2BvqnevOj+AWtK40Q=",options:"eJyrrgUAAXUA+Q==",customSetup:"eJyrrgUAAXUA+Q=="}),n[167]||(n[167]=o(`<p>However, the spread syntax simplifies this operation, and it also works with arrays. Basically, when applied to an array, the spread syntax removes the brackets so you can create another one with the values of the original array:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">[</span> </span>
<span class="line">  <span class="token operator">...</span><span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;c&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> </span>
<span class="line">  <span class="token string">&#39;d&#39;</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment">// Is equivalent to</span></span>
<span class="line"><span class="token punctuation">[</span></span>
<span class="line">  <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;c&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;d&#39;</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here’s an example that shows how to use <code>useState</code> with arrays:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">MessageList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>messageList<span class="token punctuation">,</span> setMessageList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span></span>
<span class="line">        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span></span>
<span class="line">        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Enter a message<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token function">setMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>
<span class="line">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span></span>
<span class="line">        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Add<span class="token punctuation">&quot;</span></span></span>
<span class="line">        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token function">setMessageList</span><span class="token punctuation">(</span><span class="token punctuation">[</span></span>
<span class="line">            <span class="token operator">...</span>messageList<span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">              <span class="token comment">// Use the current size as ID (needed to iterate the list later)</span></span>
<span class="line">              <span class="token literal-property property">id</span><span class="token operator">:</span> messageList<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">              <span class="token literal-property property">message</span><span class="token operator">:</span> message<span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">          <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">          <span class="token comment">// Clear the text box</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>
<span class="line">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token punctuation">{</span>messageList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span></span>
<span class="line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>m<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>m<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You have to be careful when applying the spread syntax to multi-dimensional arrays because it only performs a shallow copy, meaning nested arrays won’t be fully copied and will still reference the original data.</p><h3 id="how-to-update-state-in-a-nested-object-in-react-with-hooks" tabindex="-1"><a class="header-anchor" href="#how-to-update-state-in-a-nested-object-in-react-with-hooks"><span>How to update state in a nested object in React with Hooks</span></a></h3><p>In JavaScript, multi-dimensional arrays are arrays within arrays, as shown below:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;value1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;value2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;value3&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;value4&#39;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You could use them to group all your state variables in one place. However, for that purpose, it would be better to use nested objects like this:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;row1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;key1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;key2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&quot;row2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;key3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value3&quot;</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;key4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value4&quot;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10)),s("p",null,[n[92]||(n[92]=a("But, the problem when working with multi-dimensional arrays and nested objects is that ")),n[93]||(n[93]=s("code",null,"Object.assign",-1)),n[94]||(n[94]=a(" and the spread syntax will create a ")),t(c,{to:"/blog.logrocket.com/copy-objects-in-javascript-complete-guide.html#shallow-copy:~:text=Structured%20cloning-,Shallow%20copy,-A%20shallow%20copy"},{default:e(()=>n[90]||(n[90]=[s("strong",null,"shallow copy",-1)])),_:1,__:[90]}),n[95]||(n[95]=a(" instead of a ")),t(c,{to:"/blog.logrocket.com/copy-objects-in-javascript-complete-guide.html#shallow-copy:~:text=disrupt%20our%20program.-,Deep%20copy,-A%20deep%20copy"},{default:e(()=>n[91]||(n[91]=[s("strong",null,"deep copy",-1)])),_:1,__:[91]}),n[96]||(n[96]=a("."))]),s("p",null,[n[98]||(n[98]=a("From the ")),s("a",z,[t(p,{icon:"fa-brands fa-firefox"}),n[97]||(n[97]=a("spread syntax documentation"))]),n[99]||(n[99]=a(":"))]),n[168]||(n[168]=o(`<div class="hint-container note"><p class="hint-container-title">Note</p><p>Spread syntax effectively goes one level deep while copying an array. Therefore, it may be unsuitable for copying multi-dimensional arrays, as the following example shows. (The same is true with <code>Object.assign()</code> and the spread syntax.)</p></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">b<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  1</span></span>
<span class="line"><span class="token comment">//  Array &#39;a&#39; is affected as well: [[], [2], [3]]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2)),s("p",null,[n[101]||(n[101]=a("This ")),s("a",D,[t(p,{icon:"fa-brands fa-stack-overflow"}),n[100]||(n[100]=a("Stack Overflow query"))]),n[102]||(n[102]=a(" offers good explanations for the above example, but the important point is that when using nested objects, we can’t just use the spread syntax to update the state object. For example, consider the following state object:"))]),n[169]||(n[169]=o(`<div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>messageObj<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The following code snippets show some incorrect ways to update the <code>text</code> field:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token comment">// Wrong</span></span>
<span class="line"><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>prevState<span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;My message&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token comment">// Wrong</span></span>
<span class="line"><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>prevState<span class="token punctuation">.</span>message<span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;My message&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token comment">// Wrong</span></span>
<span class="line"><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>prevState<span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;My message&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To properly update the <code>text</code> field, we need to create a new object that includes all fields and nested objects from the original object:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token comment">// Correct</span></span>
<span class="line"><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token operator">...</span>prevState<span class="token punctuation">,</span>             <span class="token comment">// copy all other field/objects</span></span>
<span class="line">  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token comment">// recreate the object that contains the field to update</span></span>
<span class="line">    <span class="token operator">...</span>prevState<span class="token punctuation">.</span>message<span class="token punctuation">,</span>   <span class="token comment">// copy all the fields of the object</span></span>
<span class="line">    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;My message&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// overwrite the value of the field to update</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the same way, here’s how you’d update the <code>author</code> field of the <code>state</code> object:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token comment">// Correct</span></span>
<span class="line"><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">&quot;Joe&quot;</span><span class="token punctuation">,</span>            <span class="token comment">// overwrite the value of the field to update</span></span>
<span class="line">  <span class="token operator">...</span>prevState<span class="token punctuation">.</span>message<span class="token punctuation">,</span>     <span class="token comment">// copy all other field/objects</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>However, this is assuming the <code>message</code> object doesn’t change. If it does change, you’d have to update the object this way:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token comment">// Correct</span></span>
<span class="line"><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">&quot;Joe&quot;</span><span class="token punctuation">,</span>            <span class="token comment">// update the value of the field</span></span>
<span class="line">  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token comment">// recreate the object that contains the field to update</span></span>
<span class="line">    <span class="token operator">...</span>prevState<span class="token punctuation">.</span>message<span class="token punctuation">,</span>   <span class="token comment">// copy all the fields of the object</span></span>
<span class="line">    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;My message&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// overwrite the value of the field to update</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="managing-react-state-multiple-variables-vs-one-state-object" tabindex="-1"><a class="header-anchor" href="#managing-react-state-multiple-variables-vs-one-state-object"><span>Managing React state: Multiple variables vs. One state object</span></a></h2><p>When working with multiple fields or values as the state of your application, you have the option of organizing the state using multiple state variables:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>id<span class="token punctuation">,</span> setId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>author<span class="token punctuation">,</span> setAuthor<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//Or an object state variable:</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>messageObj<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>However, you have to be careful when using state objects with a complex structure (nested objects). Consider this example:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>messageObj<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token punctuation">{</span> </span>
<span class="line">      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">fName</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">lName</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span> </span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you have to update a specific field nested deep in the object, you’ll have to copy all the other objects along with the key-value pairs of the object that contains that specific field:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token operator">...</span>prevState<span class="token punctuation">.</span>input<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token operator">...</span>prevState<span class="token punctuation">.</span>input<span class="token punctuation">.</span>message<span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;My message&quot;</span> </span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17)),s("p",null,[n[105]||(n[105]=a("In some cases, ")),t(c,{to:"/blog.logrocket.com/methods-for-deep-cloning-objects-in-javascript.html"},{default:e(()=>n[103]||(n[103]=[s("strong",null,"cloning deeply nested objects",-1)])),_:1,__:[103]}),n[106]||(n[106]=a(" can be expensive because ")),t(c,{to:"/blog.logrocket.com/how-when-to-force-react-component-re-render.html"},{default:e(()=>n[104]||(n[104]=[s("strong",null,"React may re-render",-1)])),_:1,__:[104]}),n[107]||(n[107]=a(" parts of your applications that depend on fields that haven’t even changed."))]),s("p",null,[n[109]||(n[109]=a("For this reason, the first thing you need to consider is trying to flatten your state object(s). In particular, the React documentation recommends ")),s("a",P,[t(p,{icon:"fa-brands fa-react"}),n[108]||(n[108]=a("splitting the state into multiple state variables"))]),n[110]||(n[110]=a(" based on which values tend to change together."))]),s("p",null,[n[112]||(n[112]=a("If this is not possible, the recommendation is to use libraries that help you work with immutable objects, such as ")),t(c,{to:"/blog.logrocket.com/immer-and-immutable-js-how-do-they-compare.html"},{default:e(()=>n[111]||(n[111]=[s("strong",null,"Immutable.js or Immer",-1)])),_:1,__:[111]}),n[113]||(n[113]=a("."))]),n[170]||(n[170]=o(`<hr><h2 id="rules-for-using-usestate" tabindex="-1"><a class="header-anchor" href="#rules-for-using-usestate"><span>Rules for using <code>useState</code></span></a></h2><p><code>useState</code> abides by the same rules that all React Hooks follow:</p><ul><li>Only call hooks at the top level</li><li>Only call hooks from React functions</li></ul><p>The second rule is easy to follow. Don’t use <code>useState</code> in a class component:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Or regular JavaScript functions (not called inside a functional component):</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">function</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> messageState <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> messageState<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8)),s("p",null,[s("a",V,[t(p,{icon:"fa-brands fa-react"}),n[114]||(n[114]=a("You’ll get an error."))]),n[115]||(n[115]=a(" The first rule means that even inside functional components, you shouldn’t call ")),n[116]||(n[116]=s("code",null,"useState",-1)),n[117]||(n[117]=a(" in loops, conditions, or nested functions because React relies on the order in which ")),n[118]||(n[118]=s("code",null,"useState",-1)),n[119]||(n[119]=a(" functions are called to get the correct value for a particular state variable."))]),s("p",null,[n[121]||(n[121]=a("In that regard, the most common mistake is to wrap ")),n[122]||(n[122]=s("code",null,"useState",-1)),n[123]||(n[123]=a(" calls in a ")),t(c,{to:"/blog.logrocket.com/react-conditional-rendering-9-methods.html"},{default:e(()=>n[120]||(n[120]=[s("strong",null,"conditional statement",-1)])),_:1,__:[120]}),n[124]||(n[124]=a(" (they won’t be executed all the time):"))]),n[171]||(n[171]=o(`<div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// Sometimes it will be executed, making the order of the useState calls change</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">setMessage</span><span class="token punctuation">(</span>aMessage<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>list<span class="token punctuation">,</span> setList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">setList</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A functional component can have many calls to <code>useState</code> or other Hooks. Each Hook is stored in a list, and there’s a variable that keeps track of the currently executed Hook.</p><p>When <code>useState</code> is executed, the state of the current Hook is read (or initialized during the first render), and then, the variable is changed to point to the next Hook. That’s why it is important to always maintain the Hook calls in the same order. Otherwise, a value belonging to another state variable could be returned.</p><p>In general terms, here’s a step-by-step example of how React handles and tracks state changes in functional components when using the <code>useState</code> Hook:</p><ol><li>React initializes the list of Hooks and the variable that keeps track of the current Hook</li><li>React calls your component for the first time</li><li>React finds a call to <code>useState</code>, creates a new Hook object (with the initial state), changes the current Hook variable to point to this object, adds the object to the Hooks list, and returns the array with the initial state and the function to update it</li><li>React finds another call to <code>useState</code> and repeats the actions of the previous step, storing a new Hook object and changing the current Hook variable</li><li>The component state changes</li><li>React sends the state update operation (performed by the function returned by <code>useState</code>) to a queue to be processed</li><li>React determines it needs to re-render the component</li><li>React resets the current Hook variable and calls your component</li><li>React finds a call to <code>useState</code>, but this time, because there’s already a Hook at the first position of the list of Hooks, it just changes the current Hook variable and returns the array with the current state, and the function to update it</li><li>React finds another call to <code>useState</code> and because a Hook exists in the second position, once again, it just changes the current Hook variable and returns the array with the current state and the function to update it</li></ol>`,5)),s("p",null,[n[129]||(n[129]=a("If you like to read code, refer to the ")),s("a",Z,[n[125]||(n[125]=s("code",null,"ReactFiberHooks",-1)),n[126]||(n[126]=a(" (")),t(p,{icon:"iconfont icon-github"}),n[127]||(n[127]=s("code",null,"facebook/react",-1)),n[128]||(n[128]=a(")"))]),n[130]||(n[130]=a(" class to learn how Hooks work under the hood."))]),t(d,{name:"react/packages/react-reconciler/src/ReactFiberHooks.js at fd557d453d37eab29eca18f0507750ab2093669d · facebook/react",desc:"The library for web and native user interfaces.",url:"https://github.com/facebook/react/blob/fd557d453d37eab29eca18f0507750ab2093669d/packages/react-reconciler/src/ReactFiberHooks.js/",logo:"https://github.githubassets.com/favicons/favicon-dark.svg",preview:"https://opengraph.githubassets.com/3d6ec153b5a836513f184160f2fb5eef298de54d90717f99ff87e5661a8bff53/facebook/react"}),n[172]||(n[172]=o(`<hr><h2 id="usestate-vs-useeffect-react-hooks" tabindex="-1"><a class="header-anchor" href="#usestate-vs-useeffect-react-hooks"><span><code>useState</code> vs. <code>useEffect</code> React Hooks</span></a></h2><p><code>useState</code> and <code>useEffect</code> allow you to manage state and side effects in your functional components. However, they serve different purposes and should be used in different ways:</p><h3 id="usestate" tabindex="-1"><a class="header-anchor" href="#usestate"><span><code>useState</code></span></a></h3><ul><li>Allows you to add state to your functional component</li><li>Returns an array with two values: the current state and a setter function for updating the state</li><li>Used for managing state that needs to be updated and re-rendered based on user interactions or other events in the component</li></ul><h3 id="useeffect" tabindex="-1"><a class="header-anchor" href="#useeffect"><span><code>useEffect</code></span></a></h3><ul><li>Used to manage side effects in functional components. A side effect is any operation that impacts the component outside of its render, such as making an API call or setting up a timer</li><li>Used to manage side effects that need to run after every render of the component or perform any cleanup when the component unmounts</li></ul><p>For example, consider a component that fetches data from an API and displays it in a list:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span> setData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;https://api.example.com/data&gt;&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this example, the <code>useEffect</code> Hook is used to make an API call and update the <code>data</code> state whenever the component is rendered. The Hook takes a <code>callback</code> function as an argument, which will be executed after every render of the component. The second argument to <code>useEffect</code> is an array of dependencies, which determines when the effect should run. In this case, the empty array means that the effect will only run once when the component is mounted.</p><hr><h2 id="understanding-the-usereducer-hook" tabindex="-1"><a class="header-anchor" href="#understanding-the-usereducer-hook"><span>Understanding the <code>useReducer</code> Hook</span></a></h2>`,12)),s("p",null,[n[132]||(n[132]=a("For advanced use cases, you can use the ")),t(c,{to:"/blog.logrocket.com/react-usereducer-hook-ultimate-guide.html"},{default:e(()=>n[131]||(n[131]=[s("strong",null,[s("code",null,"useReducer"),a(" Hook")],-1)])),_:1,__:[131]}),n[133]||(n[133]=a(" as an alternative to ")),n[134]||(n[134]=s("code",null,"useState",-1)),n[135]||(n[135]=a(". This is especially useful when you have complex state logic that uses multiple sub-values or when a state depends on the previous one."))]),n[173]||(n[173]=s("hr",null,null,-1)),n[174]||(n[174]=s("h2",{id:"key-points-to-remember-about-the-usestate-react-hook",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#key-points-to-remember-about-the-usestate-react-hook"},[s("span",null,[a("Key points to remember about the "),s("code",null,"useState"),a(" React Hook")])])],-1)),s("ul",null,[n[142]||(n[142]=s("li",null,"The update function doesn’t update the value right away",-1)),n[143]||(n[143]=s("li",null,[a("If you use the previous value to update state, you must pass a function that receives the previous value and returns an updated value, for example, "),s("code",null,"setMessage(previousVal => previousVal + currentVal)")],-1)),n[144]||(n[144]=s("li",null,"If you use the same value as the current state to update the state, React won’t trigger a re-render",-1)),n[145]||(n[145]=s("li",null,[a("Unlike "),s("code",null,"this.setState"),a(" in class components, "),s("code",null,"useState"),a(" doesn’t merge objects when the state is updated; it replaces them")],-1)),s("li",null,[n[139]||(n[139]=s("code",null,"useState",-1)),n[140]||(n[140]=a(" follows the same rules that all Hooks do. In particular, pay attention to the order in which these functions are called (there’s an ")),s("a",N,[n[136]||(n[136]=a("ESLint plugin (")),t(p,{icon:"fa-brands fa-npm"}),n[137]||(n[137]=s("code",null,"eslint-plugin-react-hooks",-1)),n[138]||(n[138]=a(")"))]),n[141]||(n[141]=a(" that will help you enforce these rules)"))])]),k(" TODO: add ARTICLE CARD "),t(r,m(v({title:"useState in React: A complete guide",desc:"React useState allows you to add state to functional components, returning an array with two values: current state and a function to update it.",link:"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/guide-usestate-react.html",logo:"/assets/image/blog.logrocket.com/favicon.png",background:"rgba(112,76,182,0.2)"})),null,16)])}const X=h(x,[["render",B]]),Q=JSON.parse('{"path":"/blog.logrocket.com/guide-usestate-react.html","title":"useState in React: A complete guide","lang":"en-US","frontmatter":{"lang":"en-US","title":"useState in React: A complete guide","description":"Article(s) > useState in React: A complete guide","icon":"fa-brands fa-react","category":["Node.js","React.js","Article(s)"],"tag":["blog","blog.logrocket.com","node","nodejs","node-js","react","reactjs","react-js"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"useState in React: A complete guide\\",\\"image\\":[\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/guide-usestate-react/banner.png\\"],\\"datePublished\\":\\"2024-10-08T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Esteban Herrera\\",\\"url\\":\\"https://blog.logrocket.com/author/ehrrera/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/guide-usestate-react.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"useState in React: A complete guide"}],["meta",{"property":"og:description","content":"Article(s) > useState in React: A complete guide"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/guide-usestate-react/banner.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/guide-usestate-react/banner.png"}],["meta",{"name":"twitter:image:alt","content":"useState in React: A complete guide"}],["meta",{"property":"article:author","content":"Esteban Herrera"}],["meta",{"property":"article:tag","content":"react-js"}],["meta",{"property":"article:tag","content":"reactjs"}],["meta",{"property":"article:tag","content":"react"}],["meta",{"property":"article:tag","content":"node-js"}],["meta",{"property":"article:tag","content":"nodejs"}],["meta",{"property":"article:tag","content":"node"}],["meta",{"property":"article:tag","content":"blog.logrocket.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2024-10-08T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > useState in React: A complete guide"},{"property":"og:description","content":"useState in React: A complete guide"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/guide-usestate-react.html"}]],"prev":"/programming/js-react/articles/README.md","date":"2024-10-08T00:00:00.000Z","isOriginal":false,"author":[{"name":"Esteban Herrera","url":"https://blog.logrocket.com/author/ehrrera/"}],"cover":"/assets/image/blog.logrocket.com/guide-usestate-react/banner.png"},"git":{},"readingTime":{"minutes":14.65,"words":4394},"filePathRelative":"blog.logrocket.com/guide-usestate-react.md","copyright":{"author":"Esteban Herrera"}}');export{X as comp,Q as data};
