import{_ as b}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,d as s,f as t,b as l,a as r,t as g,n as d,g as k,w as e,e as a,r as i,o as f}from"./app-BVguHYKu.js";const y="/bookshelf/assets/image/blog.logrocket.com/axios-vs-fetch-best-http-requests/banner.jpg",w={},x={id:"frontmatter-title-관련",tabindex:"-1"},q={class:"header-anchor",href:"#frontmatter-title-관련"},A={class:"table-of-contents"},j={href:"https://blog.logrocket.com/author/rosariodechiara/",target:"_blank",rel:"noopener noreferrer"},T={href:"https://developer.mozilla.org/en-US/docs/Web/API/Response/json",target:"_blank",rel:"noopener noreferrer"},P={href:"https://github.com/axios/axios#response-schema",target:"_blank",rel:"noopener noreferrer"},H={href:"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest",target:"_blank",rel:"noopener noreferrer"},S={href:"https://caniuse.com/fetch",target:"_blank",rel:"noopener noreferrer"},I={href:"https://github.com/JakeChampion/fetch",target:"_blank",rel:"noopener noreferrer"},R={href:"https://github.com/rikmms/progress-bar-4-axios/",target:"_blank",rel:"noopener noreferrer"},O={href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin",target:"_blank",rel:"noopener noreferrer"},C={href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/OPTIONS",target:"_blank",rel:"noopener noreferrer"};function N(m,n){const u=i("VPCard"),p=i("router-link"),v=i("SiteInfo"),o=i("VPIcon"),c=i("RouteLink");return f(),h("div",null,[s("h1",x,[s("a",q,[s("span",null,g(m.$frontmatter.title)+" 관련",1)])]),t(u,d(k({title:"Axios > Article(s)",desc:"Article(s)",link:"/programming/js-axios/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",A,[s("ul",null,[s("li",null,[t(p,{to:"#is-axios-better-than-fetch"},{default:e(()=>n[0]||(n[0]=[a("Is Axios better than fetch()?")])),_:1,__:[0]})]),s("li",null,[t(p,{to:"#understanding-the-basic-syntax-of-axios-and-fetch"},{default:e(()=>n[1]||(n[1]=[a("Understanding the basic syntax of Axios and fetch()")])),_:1,__:[1]})]),s("li",null,[t(p,{to:"#backward-compatibility"},{default:e(()=>n[2]||(n[2]=[a("Backward compatibility")])),_:1,__:[2]})]),s("li",null,[t(p,{to:"#response-timeouts-in-axios-vs-fetch"},{default:e(()=>n[3]||(n[3]=[a("Response timeouts in Axios vs. fetch()")])),_:1,__:[3]})]),s("li",null,[t(p,{to:"#automatic-json-data-transformation"},{default:e(()=>n[4]||(n[4]=[a("Automatic JSON data transformation")])),_:1,__:[4]})]),s("li",null,[t(p,{to:"#http-interceptors"},{default:e(()=>n[5]||(n[5]=[a("HTTP interceptors")])),_:1,__:[5]})]),s("li",null,[t(p,{to:"#download-progress-with-axios-vs-fetch"},{default:e(()=>n[6]||(n[6]=[a("Download progress with Axios vs. fetch()")])),_:1,__:[6]})]),s("li",null,[t(p,{to:"#making-simultaneous-requests"},{default:e(()=>n[7]||(n[7]=[a("Making simultaneous requests")])),_:1,__:[7]})]),s("li",null,[t(p,{to:"#how-to-configure-cors"},{default:e(()=>n[8]||(n[8]=[a("How to configure CORS")])),_:1,__:[8]})]),s("li",null,[t(p,{to:"#effectively-handling-responses"},{default:e(()=>n[9]||(n[9]=[a("Effectively handling responses")])),_:1,__:[9]})]),s("li",null,[t(p,{to:"#conclusion"},{default:e(()=>n[10]||(n[10]=[a("Conclusion")])),_:1,__:[10]})])])]),n[85]||(n[85]=s("hr",null,null,-1)),t(v,{name:"Axios vs. fetch(): Which is best for making HTTP requests?",desc:"Compare the Axios library and the fetch() API for HTTP requests, including error handling, CORS management, and response parsing.",url:"https://blog.logrocket.com/axios-vs-fetch-best-http-requests",logo:"/assets/image/blog.logrocket.com/favicon.png",preview:"/assets/image/blog.logrocket.com/axios-vs-fetch-best-http-requests/banner.jpg"}),n[86]||(n[86]=s("p",null,"::: Editor’s note",-1)),s("p",null,[n[12]||(n[12]=a("This Axios vs. ")),n[13]||(n[13]=s("code",null,"fetch()",-1)),n[14]||(n[14]=a(" article was last reviewed and updated by ")),s("a",j,[t(o,{icon:"fas fa-globe"}),n[11]||(n[11]=a("Rosario De Chiara"))]),n[15]||(n[15]=a(" on 21 November 2024."))]),n[87]||(n[87]=s("p",null,":::",-1)),n[88]||(n[88]=s("hr",null,null,-1)),n[89]||(n[89]=s("h2",{id:"is-axios-better-than-fetch",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#is-axios-better-than-fetch"},[s("span",null,[a("Is Axios better than "),s("code",null,"fetch()"),a("?")])])],-1)),n[90]||(n[90]=s("figure",null,[s("img",{src:y,alt:"Axios Or Fetch(): Which Should You Use?",tabindex:"0",loading:"lazy"}),s("figcaption",null,"Axios Or Fetch(): Which Should You Use?")],-1)),s("p",null,[n[17]||(n[17]=a("In the article “")),t(c,{to:"/blog.logrocket.com/http-requests-axios.html"},{default:e(()=>n[16]||(n[16]=[s("strong",null,"How to make HTTP requests like a pro with Axios",-1)])),_:1,__:[16]}),n[18]||(n[18]=a(",” I discussed the benefits of using the Axios library."))]),n[91]||(n[91]=s("p",null,[a("However, Axios isn’t always the ideal solution for making HTTP requests. A popular alternative to Axios for handling HTTP/GET/POST/etc. requests in JavaScript is the native "),s("code",null,"fetch()"),a(" API. Understanding these technologies’ strengths, differences, and use cases is crucial for modern web development.")],-1)),n[92]||(n[92]=s("p",null,"Here are some differences worth noting between the two solutions:",-1)),s("table",null,[n[31]||(n[31]=s("thead",null,[s("tr",null,[s("th",null,"Characteristic"),s("th",null,[s("code",null,"fetch()"),a(" API")]),s("th",null,"Axios library")])],-1)),s("tbody",null,[n[24]||(n[24]=s("tr",null,[s("td",null,"Origin"),s("td",null,"Native JavaScript API"),s("td",null,"Third-party library")],-1)),n[25]||(n[25]=s("tr",null,[s("td",null,"Installation"),s("td",null,"Natively available to browsers and Node.js v18+"),s("td",null,"Requires npm install")],-1)),n[26]||(n[26]=s("tr",null,[s("td",null,"JSON parsing (see code below)"),s("td",null,[a("Manual (need to use "),s("code",null,".json()"),a(")")]),s("td",null,"Automatic")],-1)),n[27]||(n[27]=s("tr",null,[s("td",null,"Error handling"),s("td",null,"Minimal (only network errors)"),s("td",null,"Comprehensive")],-1)),s("tr",null,[n[22]||(n[22]=s("td",null,"Request interceptors",-1)),s("td",null,[n[20]||(n[20]=a("Not available (see ")),t(c,{to:"/blog.logrocket.com/intercepting-javascript-fetch-api-requests-responses.html"},{default:e(()=>n[19]||(n[19]=[s("strong",null,[a("this article to implement them in "),s("code",null,"fetch()")],-1)])),_:1,__:[19]}),n[21]||(n[21]=a(")"))]),n[23]||(n[23]=s("td",null,"Available",-1))]),n[28]||(n[28]=s("tr",null,[s("td",null,"Request cancellation (see code below)"),s("td",null,"Requires AbortController"),s("td",null,"Built-in method")],-1)),n[29]||(n[29]=s("tr",null,[s("td",null,"Response transformation"),s("td",null,"Manual"),s("td",null,"Automatic")],-1)),n[30]||(n[30]=s("tr",null,[s("td",null,"Platform support"),s("td",null,"Once browser-only but now available in Node.js v18+"),s("td",null,"Browser and Node.js")],-1))])]),n[93]||(n[93]=s("p",null,[a("Some developers prefer Axios over built-in APIs for their ease of use. But many overestimate the need for such a library. The "),s("code",null,"fetch()"),a(" API is perfectly capable of reproducing the key features of Axios, and it has the added advantage of being readily available in all modern browsers.")],-1)),n[94]||(n[94]=s("p",null,[a("In this article, we’ll compare "),s("code",null,"fetch()"),a(" and Axios to see how they can be used to perform different tasks. At the end of the article, you should have a better understanding of both APIs.")],-1)),n[95]||(n[95]=s("hr",null,null,-1)),n[96]||(n[96]=s("h2",{id:"understanding-the-basic-syntax-of-axios-and-fetch",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#understanding-the-basic-syntax-of-axios-and-fetch"},[s("span",null,[a("Understanding the basic syntax of Axios and "),s("code",null,"fetch()")])])],-1)),s("p",null,[n[33]||(n[33]=a("Before we delve into more advanced features of Axios, let’s compare its basic syntax to ")),n[34]||(n[34]=s("code",null,"fetch()",-1)),n[35]||(n[35]=a(".")),n[36]||(n[36]=s("br",null,null,-1)),n[37]||(n[37]=a(" Here’s how you can use ")),t(c,{to:"/blog.logrocket.com/how-to-use-axios-post-requests.html"},{default:e(()=>n[32]||(n[32]=[s("strong",null,[a("Axios to send a "),s("code",null,"POST"),a(" request")],-1)])),_:1,__:[32]}),n[38]||(n[38]=a(" with custom headers to a URL. Axios automatically converts the data to JSON, so you don’t have to:"))]),n[97]||(n[97]=l(`<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// axios</span></span>
<span class="line"><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">&#39;https://jsonplaceholder.typicode.com/posts&#39;</span></span>
<span class="line"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">axios</span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">Accept</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token string-property property">&quot;Content-Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json;charset=UTF-8&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now compare this code to the <code>fetch()</code> version, which produces the same result:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// fetch()</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">&quot;https://jsonplaceholder.typicode.com/todos&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">Accept</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;Content-Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json;charset=UTF-8&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Notice that:</p>`,4)),s("ul",null,[n[51]||(n[51]=s("li",null,[a("To send data, "),s("code",null,"fetch()"),a(" uses the "),s("code",null,"body"),a(" property for a post request to send data to the endpoint, while Axios uses the "),s("code",null,"data"),a(" property")],-1)),n[52]||(n[52]=s("li",null,[a("The data in "),s("code",null,"fetch()"),a(" is transformed into a string using the "),s("code",null,"JSON.stringify"),a(" method")],-1)),s("li",null,[n[41]||(n[41]=a("Axios automatically transforms the data returned from the server, but with ")),n[42]||(n[42]=s("code",null,"fetch()",-1)),n[43]||(n[43]=a(" you have to call the ")),s("a",T,[t(o,{icon:"fa-brands fa-firefox"}),n[39]||(n[39]=s("code",null,"response.json",-1)),n[40]||(n[40]=a(" method to parse the data to a JavaScript object"))])]),s("li",null,[n[47]||(n[47]=a("With Axios, the data response provided by the server can be accessed within the ")),s("a",P,[n[44]||(n[44]=a("data object (")),t(o,{icon:"iconfont icon-github"}),n[45]||(n[45]=s("code",null,"axios/axios",-1)),n[46]||(n[46]=a(")"))]),n[48]||(n[48]=a(", while for the ")),n[49]||(n[49]=s("code",null,"fetch()",-1)),n[50]||(n[50]=a(" method, the final data can be named any variable"))]),n[53]||(n[53]=s("li",null,[a("Axios and "),s("code",null,"fetch()"),a(" handle headers in the same way")],-1))]),n[98]||(n[98]=s("hr",null,null,-1)),n[99]||(n[99]=s("h2",{id:"backward-compatibility",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#backward-compatibility"},[s("span",null,"Backward compatibility")])],-1)),s("p",null,[n[56]||(n[56]=a("One of the main selling points of Axios is its wide browser support. Even old browsers like IE11 can run Axios without any issues. This is because it uses ")),s("a",H,[t(o,{icon:"fa-brands fa-firefox"}),n[54]||(n[54]=s("code",null,"XMLHttpRequest",-1))]),n[57]||(n[57]=a(" under the hood. ")),n[58]||(n[58]=s("code",null,"fetch()",-1)),n[59]||(n[59]=a(", on the other hand, only supports Chrome 42+, Firefox 39+, Edge 14+, and Safari 10.1+ (you can see the full compatibility table on ")),s("a",S,[t(o,{icon:"fas fa-globe"}),n[55]||(n[55]=a("CanIUse.com"))]),n[60]||(n[60]=a(")."))]),s("p",null,[n[66]||(n[66]=a("If your only reason for using Axios is backward compatibility, you don’t need an HTTP library. Instead, you can ")),s("a",I,[n[61]||(n[61]=a("use ")),n[62]||(n[62]=s("code",null,"fetch()",-1)),n[63]||(n[63]=a(" with a polyfill (")),t(o,{icon:"iconfont icon-github"}),n[64]||(n[64]=s("code",null,"JakeChampion/fetch",-1)),n[65]||(n[65]=a(")"))]),n[67]||(n[67]=a(" to implement similar functionality on web browsers that don’t support ")),n[68]||(n[68]=s("code",null,"fetch()",-1)),n[69]||(n[69]=a("."))]),n[100]||(n[100]=l(`<p>To use the <code>fetch()</code> polyfill, install it via the npm command like so:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> <span class="token function">install</span> whatwg-fetch <span class="token parameter variable">--save</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then, you can make requests like this:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token string">&#39;whatwg-fetch&#39;</span></span>
<span class="line">window<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Keep in mind that you might also need a promise polyfill in some old browsers.</p><hr><h2 id="response-timeouts-in-axios-vs-fetch" tabindex="-1"><a class="header-anchor" href="#response-timeouts-in-axios-vs-fetch"><span>Response timeouts in Axios vs. <code>fetch()</code></span></a></h2><p>The simplicity of setting a timeout in Axios is one of the reasons some developers prefer it to <code>fetch()</code>. In Axios, you can use the optional <code>timeout</code> property in the config object to set the number of milliseconds before the request is aborted.</p><p>Here’s an example:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">4000</span><span class="token punctuation">,</span>    <span class="token comment">// 4 seconds timeout</span></span>
<span class="line">  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&#39;David&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">&#39;Pollock&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* handle the response */</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;timeout exceeded&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>fetch()</code> provides similar functionality through the <code>AbortController</code> interface. However, it’s not as simple as the Axios version:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">signal</span><span class="token operator">:</span> controller<span class="token punctuation">.</span>signal<span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&#39;David&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">&#39;Pollock&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span>  </span>
<span class="line"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> timeoutId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> controller<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* handle the response */</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;timeout exceeded&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here, we created an <code>AbortController</code> object using the <code>AbortController.abort()</code> constructor, which allows us to abort the request later. <code>Signal</code> is a read-only property of <code>AbortController</code>, providing a means to communicate with a request or abort it. If the server doesn’t respond in less than four seconds, <code>controller.abort()</code> is called, and the operation is terminated.</p><hr><h2 id="automatic-json-data-transformation" tabindex="-1"><a class="header-anchor" href="#automatic-json-data-transformation"><span>Automatic JSON data transformation</span></a></h2><p>As we saw earlier, Axios automatically stringifies the data when sending requests (though you can override the default behavior and define a different transformation mechanism). When using <code>fetch()</code>, however, you’d have to do it manually.</p><p>Compare the two below:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// axios</span></span>
<span class="line">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.github.com/orgs/axios&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// fetch()</span></span>
<span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.github.com/orgs/axios&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// one extra step</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> </span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Automatic data transformation is a nice feature, but again, it’s not something you can’t do with <code>fetch()</code>.</p><hr><h2 id="http-interceptors" tabindex="-1"><a class="header-anchor" href="#http-interceptors"><span>HTTP interceptors</span></a></h2><p>One of Axios’s key features is its ability to intercept HTTP requests. HTTP interceptors come in handy when you need to examine or change HTTP requests from your application to the server or vice versa (e.g., logging, authentication, or retrying a failed HTTP request).</p><p>With interceptors, you won’t have to write separate code for each HTTP request. HTTP interceptors are helpful when you want to set a global strategy for how you handle requests and responses.</p><p>Here’s how you can declare a request interceptor in Axios:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// log a message before any HTTP request is sent</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Request was sent&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> config<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// sent a GET request</span></span>
<span class="line">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.github.com/users/sideshowbarker&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this code, the <code>axios.interceptors.request.use()</code> method is used to define code to be run before an HTTP request is sent. Also, <code>axios.interceptors.response.use()</code> can be used to intercept the response from the server. Let’s say there is a network error; using the response interceptors, you can retry that same request using interceptors.</p><p>By default, <code>fetch()</code> doesn’t provide a way to intercept requests, but it’s not hard to come up with a workaround. You can overwrite the global <code>fetch()</code> method and define your interceptor, like this:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">fetch <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">originalFetch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arguments</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">originalFetch</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Request was sent&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>fetch<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.github.com/orgs/axios&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="download-progress-with-axios-vs-fetch" tabindex="-1"><a class="header-anchor" href="#download-progress-with-axios-vs-fetch"><span>Download progress with Axios vs. <code>fetch()</code></span></a></h2><p>Progress indicators are very useful when loading large assets, especially for users with slow internet. Previously, JavaScript programmers used the <code>XMLHttpRequest.onprogress</code> callback handler to implement progress indicators.</p><p>The <a href="https://blog.logrocket.com/patterns-for-data-fetching-in-react-981ced7e5c56/#:~:text=these%20alternative%20implementations.-,Using%20the%20Fetch%20API,-I%E2%80%99ve%20used%20Fetch" target="_blank" rel="noopener noreferrer"><strong>Fetch API</strong></a> doesn’t have an <code>onprogress</code> handler. Instead, it provides an instance of <code>ReadableStream</code> via the body property of the response object.</p>`,32)),r(" END: /blog.logrocket.com/patterns-for-data-fetching-in-react.md "),n[101]||(n[101]=l(`<p>The following example illustrates the use of <code>ReadableStream</code> to provide users with immediate feedback during image download:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="index.html"><span>index.html</span></div><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token comment">&lt;!-- Wherever you html is --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>progress<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>progress<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="script.js"><span>script.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token string">&#39;use strict&#39;</span></span>
<span class="line"><span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;progress&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://fetch-progress.anthum.com/30kbps/images/sunrise-baseline.jpg&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">+</span> <span class="token string">&#39; &#39;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// ensure ReadableStream is supported</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&#39;ReadableStream not yet supported in this browser.&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// store the size of the entity-body, in bytes</span></span>
<span class="line">    <span class="token keyword">const</span> contentLength <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;content-length&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// ensure contentLength is available</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>contentLength<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Content-Length response header unavailable&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// parse the integer into a base-10 number</span></span>
<span class="line">    <span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>contentLength<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">let</span> loaded <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span></span>
<span class="line">      <span class="token comment">// create and return a readable stream</span></span>
<span class="line">      <span class="token keyword">new</span> <span class="token class-name">ReadableStream</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">start</span><span class="token punctuation">(</span><span class="token parameter">controller</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">const</span> reader <span class="token operator">=</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">getReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">          <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">          <span class="token keyword">function</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> done<span class="token punctuation">,</span> value <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">              <span class="token keyword">if</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                controller<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line">              <span class="token punctuation">}</span></span>
<span class="line">              loaded <span class="token operator">+=</span> value<span class="token punctuation">.</span>byteLength<span class="token punctuation">;</span></span>
<span class="line">              <span class="token function">progress</span><span class="token punctuation">(</span><span class="token punctuation">{</span> loaded<span class="token punctuation">,</span> total <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">              controller<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">              <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">              console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">              controller<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span></span>
<span class="line">    <span class="token comment">// construct a blob from the data</span></span>
<span class="line">    response<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// insert the downloaded image into the page</span></span>
<span class="line">    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">progress</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> loaded<span class="token punctuation">,</span> total <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>loaded <span class="token operator">/</span> total <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;%&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,3)),s("p",null,[n[73]||(n[73]=a("Implementing a progress indicator in Axios is simpler, especially if you use the ")),s("a",R,[n[70]||(n[70]=a("Axios Progress Bar (")),t(o,{icon:"iconfont icon-github"}),n[71]||(n[71]=s("code",null,"rikmms/progress-bar-4-axios",-1)),n[72]||(n[72]=a(")"))]),n[74]||(n[74]=a(" module. First, you need to include the following style and scripts:"))]),n[102]||(n[102]=l(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="index.html"><span>index.html</span></div><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token comment">&lt;!-- the head of your HTML --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.rawgit.com/rikmms/progress-bar-4-axios/0a3acf92/dist/nprogress.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token comment">&lt;!-- the body of your HTML --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>Get Resource<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/axios/dist/axios.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.rawgit.com/rikmms/progress-bar-4-axios/0a3acf92/dist/index.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment">&lt;!-- add the following to customize the style --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"></span>
<span class="line"><span class="token selector">#nprogress .bar</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> red <span class="token important">!important</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">#nprogress .peg</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 10px red<span class="token punctuation">,</span> 0 0 5px red <span class="token important">!important</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">#nprogress .spinner-icon</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">border-top-color</span><span class="token punctuation">:</span> red <span class="token important">!important</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border-left-color</span><span class="token punctuation">:</span> red <span class="token important">!important</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Then you can implement the progress bar like this:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line">  <span class="token function">loadProgressBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token keyword">function</span> <span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">getRequest</span><span class="token punctuation">(</span></span>
<span class="line">      <span class="token string">&quot;https://fetch-progress.anthum.com/30kbps/images/sunrise-baseline.jpg&quot;</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token keyword">function</span> <span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    axios</span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">responseType</span><span class="token operator">:</span> <span class="token string">&quot;blob&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span> reader<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span>    </span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This code uses the <code>FileReader</code> API to asynchronously read the downloaded image. The <code>readAsDataURL</code> method returns the image’s data as a Base64-encoded string, which is then inserted into the <code>src</code> attribute of the <code>img</code> tag to display the image.</p><hr><h2 id="making-simultaneous-requests" tabindex="-1"><a class="header-anchor" href="#making-simultaneous-requests"><span>Making simultaneous requests</span></a></h2><p>To make multiple, simultaneous requests, Axios provides the <code>axios.all()</code> method. Simply pass an array of requests to this method, then use <code>axios.spread()</code> to assign the properties of the response array to separate variables:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span></span>
<span class="line">  axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.github.com/users/iliakan&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.github.com/users/taylorotwell&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">spread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">obj1<span class="token punctuation">,</span> obj2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// Both requests are now complete</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>data<span class="token punctuation">.</span>login <span class="token operator">+</span> <span class="token string">&#39; has &#39;</span> <span class="token operator">+</span> obj1<span class="token punctuation">.</span>data<span class="token punctuation">.</span>public_repos <span class="token operator">+</span> <span class="token string">&#39; public repos on GitHub&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>data<span class="token punctuation">.</span>login <span class="token operator">+</span> <span class="token string">&#39; has &#39;</span> <span class="token operator">+</span> obj2<span class="token punctuation">.</span>data<span class="token punctuation">.</span>public_repos <span class="token operator">+</span> <span class="token string">&#39; public repos on GitHub&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can achieve the same result by using the built-in <code>Promise.all()</code> method. Pass all fetch requests as an array to <code>Promise.all()</code>. Next, handle the response by using an <code>async</code> function, like this:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span></span>
<span class="line">  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.github.com/users/iliakan&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.github.com/users/taylorotwell&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>res1<span class="token punctuation">,</span> res2<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">await</span> res1<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">await</span> res2<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>login <span class="token operator">+</span> <span class="token string">&#39; has &#39;</span> <span class="token operator">+</span> a<span class="token punctuation">.</span>public_repos <span class="token operator">+</span> <span class="token string">&#39; public repos on GitHub&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>login <span class="token operator">+</span> <span class="token string">&#39; has &#39;</span> <span class="token operator">+</span> b<span class="token punctuation">.</span>public_repos <span class="token operator">+</span> <span class="token string">&#39; public repos on GitHub&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="how-to-configure-cors" tabindex="-1"><a class="header-anchor" href="#how-to-configure-cors"><span>How to configure CORS</span></a></h2>`,12)),s("p",null,[t(c,{to:"/blog.logrocket.com/the-ultimate-guide-to-enabling-cross-origin-resource-sharing-cors.html"},{default:e(()=>n[75]||(n[75]=[s("strong",null,"Cross-Origin Resource Sharing (CORS)",-1)])),_:1,__:[75]}),n[76]||(n[76]=a(" is a mechanism available in HTTP to enable a server to permit the loading of its resources from any origins other than itself. For example, you need CORS when you want to pull data from external APIs that are public or authorized."))]),n[103]||(n[103]=s("p",null,[a("If the CORS mechanism is not properly enabled on the server, any request from a different server — regardless of whether or not it is made with Axios or "),s("code",null,"fetch()"),a(" — will receive the "),s("code",null,"No Access-Control-Header-Present"),a(" error.")],-1)),s("p",null,[n[78]||(n[78]=a("To properly handle CORS, the first step is to configure the server, which depends on your environment/server. Once the server has been properly configured, it will automatically include the ")),n[79]||(n[79]=s("code",null,"Access-Control-Allow-Origin",-1)),n[80]||(n[80]=a(" header in response to all requests (")),s("a",O,[t(o,{icon:"fa-brands fa-firefox"}),n[77]||(n[77]=a("see the documentation for more information"))]),n[81]||(n[81]=a(")."))]),n[104]||(n[104]=s("p",null,[a("A common error, in both Axios and "),s("code",null,"fetch()"),a(", is to add the "),s("code",null,"Access-Control-Allow-Origin"),a(" to the request — this is a response parameter and is used by the server to specify the permitted access control for the origin.")],-1)),s("p",null,[n[83]||(n[83]=a("Another aspect to be aware of, when you add the headers to your Axios request, is that the request is handled differently: the browser performs a preflight request before the actual request and this preflight request is an ")),s("a",C,[t(o,{icon:"fa-brands fa-firefox"}),n[82]||(n[82]=s("code",null,"OPTIONS",-1))]),n[84]||(n[84]=a(" request that verifies if CORS is honored and if the actual request is safe to send the real request."))]),n[105]||(n[105]=l(`<hr><h2 id="effectively-handling-responses" tabindex="-1"><a class="header-anchor" href="#effectively-handling-responses"><span>Effectively handling responses</span></a></h2><p>Response management is a critical part of every application invoking an API. In this section, we will briefly look at the two aspects of it: getting the error code and manipulating response data.</p><p>Error management is different in Axios and <code>fetch()</code>. Specifically, <code>fetch()</code> doesn’t automatically reject the <code>promise</code> in the event of server-side errors, such as HTTP 404 or 500 status codes. This means that these errors don’t trigger the <code>.catch()</code> block, unlike in Axios where such responses would typically be considered exceptions.</p><p>Instead, <code>fetch()</code> will resolve the <code>promise</code> normally with the <code>ok</code> status in the response set to <code>false</code>. The call to <code>fetch()</code> will only fail on network failures or if anything has prevented the request from completing.</p><p>In the following code, you can see how to handle errors in <code>fetch()</code>:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Error on the response (5xx, 4xx)</span></span>
<span class="line">    <span class="token keyword">switch</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">case</span> <span class="token number">400</span><span class="token operator">:</span> <span class="token comment">/* Handle */</span> <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">case</span> <span class="token number">401</span><span class="token operator">:</span> <span class="token comment">/* Handle */</span> <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">case</span> <span class="token number">404</span><span class="token operator">:</span> <span class="token comment">/* Handle */</span> <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">case</span> <span class="token number">500</span><span class="token operator">:</span> <span class="token comment">/* Handle */</span> <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// Here the response can be properly handled</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// Error on the request (Network error)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Meanwhile, in Axios, you can discriminate all errors in a proper <code>catch</code> block as shown in the following example:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// Here the response can be properly handled</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Error on the response (5xx, 4xx)</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span>request<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Error on the request (Network error)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Once the request has been served with a proper response without any errors, you can handle the response payload that will be accessible by using two different mechanisms.</p><p>In <code>fetch()</code>, the request/response payload is accessible in the <code>body</code> field and must be stringified, while in Axios it is in the <code>data</code> field as a proper JavaScript object. This difference is captured in the following, stripped-down examples:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"> <span class="token comment">// Using Fetch API</span></span>
<span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;...&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Error:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Using Axios</span></span>
<span class="line">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;...&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Error:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The key difference in <code>fetch()</code> lies in the use of the <code>.json()</code> method. Despite the name, this method does not produce JSON but instead, it will take JSON as an input and parse it to produce a JavaScript object.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>Axios provides an easy-to-use API in a compact package for most HTTP communication needs. However, if you prefer to stick with native APIs, nothing is stopping you from implementing Axios features.</p><p>As discussed in this article, it’s possible to reproduce the key features of the Axios library using the <code>fetch()</code> method provided by web browsers. Whether it’s worth loading a client HTTP API depends on whether you’re comfortable working with built-in APIs.</p>`,17)),r(" TODO: add ARTICLE CARD "),t(u,d(k({title:"Axios vs. fetch(): Which is best for making HTTP requests?",desc:"Compare the Axios library and the fetch() API for HTTP requests, including error handling, CORS management, and response parsing.",link:"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/axios-vs-fetch-best-http-requests.html",logo:"/assets/image/blog.logrocket.com/favicon.png",background:"rgba(112,76,182,0.2)"})),null,16)])}const F=b(w,[["render",N]]),W=JSON.parse('{"path":"/blog.logrocket.com/axios-vs-fetch-best-http-requests.html","title":"Axios vs. fetch(): Which is best for making HTTP requests?","lang":"en-US","frontmatter":{"lang":"en-US","title":"Axios vs. fetch(): Which is best for making HTTP requests?","description":"Article(s) > Axios vs. fetch(): Which is best for making HTTP requests?","icon":"iconfont icon-axios","category":["Node.js","Axios","Article(s)"],"tag":["blog","blog.logrocket.com","node","nodejs","node-js","axios"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Axios vs. fetch(): Which is best for making HTTP requests?\\",\\"image\\":[\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/axios-vs-fetch-best-http-requests/banner.jpg\\"],\\"datePublished\\":\\"2024-11-21T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Faraz Kelhini\\",\\"url\\":\\"https://blog.logrocket.com/author/farazkelhini/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/axios-vs-fetch-best-http-requests.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"Axios vs. fetch(): Which is best for making HTTP requests?"}],["meta",{"property":"og:description","content":"Article(s) > Axios vs. fetch(): Which is best for making HTTP requests?"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/axios-vs-fetch-best-http-requests/banner.jpg"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/axios-vs-fetch-best-http-requests/banner.jpg"}],["meta",{"name":"twitter:image:alt","content":"Axios vs. fetch(): Which is best for making HTTP requests?"}],["meta",{"property":"article:author","content":"Faraz Kelhini"}],["meta",{"property":"article:tag","content":"axios"}],["meta",{"property":"article:tag","content":"node-js"}],["meta",{"property":"article:tag","content":"nodejs"}],["meta",{"property":"article:tag","content":"node"}],["meta",{"property":"article:tag","content":"blog.logrocket.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2024-11-21T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Axios vs. fetch(): Which is best for making HTTP requests?"},{"property":"og:description","content":"Axios vs. fetch(): Which is best for making HTTP requests?"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/axios-vs-fetch-best-http-requests.html"}]],"prev":"/programming/js-axios/articles/README.md","date":"2024-11-21T00:00:00.000Z","isOriginal":false,"author":[{"name":"Faraz Kelhini","url":"https://blog.logrocket.com/author/farazkelhini/"}],"cover":"/assets/image/blog.logrocket.com/axios-vs-fetch-best-http-requests/banner.jpg"},"git":{},"readingTime":{"minutes":9.64,"words":2891},"filePathRelative":"blog.logrocket.com/axios-vs-fetch-best-http-requests.md","copyright":{"author":"Faraz Kelhini"}}');export{F as comp,W as data};
