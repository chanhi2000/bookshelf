import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as b,d as s,f as t,b as p,a as v,t as y,n as u,g as d,w as o,e as a,r,o as f}from"./app-BVguHYKu.js";const h="/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png",w="/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/project-structure-1.png",q="/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/storybook-ui-new-browser-tab-1.png",j="/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/green-ticks-tests-passed-1.png",x={},S={id:"frontmatter-title-관련",tabindex:"-1"},R={class:"header-anchor",href:"#frontmatter-title-관련"},T={class:"table-of-contents"},C={href:"https://nodejs.org/en",target:"_blank",rel:"noopener noreferrer"},I={id:"add-index-ts",tabindex:"-1"},A={class:"header-anchor",href:"#add-index-ts"},P={href:"https://rollupjs.org/introduction/",target:"_blank",rel:"noopener noreferrer"},z={id:"multiple-index-ts-files",tabindex:"-1"},B={class:"header-anchor",href:"#multiple-index-ts-files"},N={href:"https://github.com/sunnyy02/smart-ui",target:"_blank",rel:"noopener noreferrer"};function E(m,n){const c=r("VPCard"),i=r("router-link"),e=r("VPIcon"),k=r("SiteInfo"),l=r("RouteLink");return f(),b("div",null,[s("h1",S,[s("a",R,[s("span",null,y(m.$frontmatter.title)+" 관련",1)])]),t(c,u(d({title:"React.js > Article(s)",desc:"Article(s)",link:"/programming/js-react/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",T,[s("ul",null,[s("li",null,[t(i,{to:"#setting-up-the-development-environment"},{default:o(()=>n[0]||(n[0]=[a("Setting up the development environment")])),_:1,__:[0]})]),s("li",null,[t(i,{to:"#initializing-a-react-project-with-typescript"},{default:o(()=>n[1]||(n[1]=[a("Initializing a React project with TypeScript")])),_:1,__:[1]})]),s("li",null,[t(i,{to:"#building-the-react-component-library"},{default:o(()=>n[2]||(n[2]=[a("Building the React component library")])),_:1,__:[2]})]),s("li",null,[t(i,{to:"#directory-structure"},{default:o(()=>n[3]||(n[3]=[a("Directory structure")])),_:1,__:[3]})]),s("li",null,[t(i,{to:"#component-library-naming-conventions"},{default:o(()=>n[4]||(n[4]=[a("Component library naming conventions")])),_:1,__:[4]})]),s("li",null,[t(i,{to:"#creating-a-new-component-library-in-react"},{default:o(()=>n[5]||(n[5]=[a("Creating a new component library in React")])),_:1,__:[5]})]),s("li",null,[t(i,{to:"#create-the-skeleton-structure-of-the-component-library"},{default:o(()=>n[6]||(n[6]=[a("Create the skeleton structure of the component library")])),_:1,__:[6]})]),s("li",null,[t(i,{to:"#create-a-smartrating-component"},{default:o(()=>n[7]||(n[7]=[a("Create a SmartRating component")])),_:1,__:[7]})]),s("li",null,[t(i,{to:"#add-index-ts"},{default:o(()=>[n[8]||(n[8]=a("Add ")),t(e,{icon:"iconfont icon-typescript"}),n[9]||(n[9]=a("index.ts"))]),_:1,__:[8,9]})]),s("li",null,[t(i,{to:"#rollup-for-bundling-and-packaging-the-component-library"},{default:o(()=>n[10]||(n[10]=[a("Rollup for bundling and packaging the component library")])),_:1,__:[10]})]),s("li",null,[t(i,{to:"#adding-css-support-in-rollup-for-component-styling"},{default:o(()=>n[11]||(n[11]=[a("Adding CSS support in Rollup for component styling")])),_:1,__:[11]})]),s("li",null,[t(i,{to:"#leveraging-typescript-for-type-safety"},{default:o(()=>n[12]||(n[12]=[a("Leveraging TypeScript for type safety")])),_:1,__:[12]})]),s("li",null,[t(i,{to:"#integrating-storybook-into-our-library"},{default:o(()=>n[13]||(n[13]=[a("Integrating Storybook into our library")])),_:1,__:[13]}),s("ul",null,[s("li",null,[t(i,{to:"#setting-up-storybook"},{default:o(()=>n[14]||(n[14]=[a("Setting up Storybook")])),_:1,__:[14]})]),s("li",null,[t(i,{to:"#create-a-story-for-the-smartrating-component"},{default:o(()=>n[15]||(n[15]=[a("Create a story for the SmartRating component")])),_:1,__:[15]})])])]),s("li",null,[t(i,{to:"#testing-with-jest-and-react-testing-library"},{default:o(()=>n[16]||(n[16]=[a("Testing with Jest and React Testing Library")])),_:1,__:[16]})]),s("li",null,[t(i,{to:"#building-and-managing-the-component-library"},{default:o(()=>n[17]||(n[17]=[a("Building and managing the component library")])),_:1,__:[17]}),s("ul",null,[s("li",null,[t(i,{to:"#dependency-management"},{default:o(()=>n[18]||(n[18]=[a("Dependency management")])),_:1,__:[18]})]),s("li",null,[t(i,{to:"#multiple-index-ts-files"},{default:o(()=>[n[19]||(n[19]=a("Multiple ")),t(e,{icon:"iconfont icon-typescript"}),n[20]||(n[20]=a("index.ts files"))]),_:1,__:[19,20]})])])]),s("li",null,[t(i,{to:"#packaging-and-publishing-your-component-library-to-npm"},{default:o(()=>n[21]||(n[21]=[a("Packaging and publishing your component library to npm")])),_:1,__:[21]}),s("ul",null,[s("li",null,[t(i,{to:"#update-version"},{default:o(()=>n[22]||(n[22]=[a("Update version")])),_:1,__:[22]})]),s("li",null,[t(i,{to:"#login-and-publish-to-npm"},{default:o(()=>n[23]||(n[23]=[a("Login and publish to npm")])),_:1,__:[23]})])])]),s("li",null,[t(i,{to:"#conclusion"},{default:o(()=>n[24]||(n[24]=[a("Conclusion")])),_:1,__:[24]})])])]),n[212]||(n[212]=s("hr",null,null,-1)),t(k,{name:"How to build a component library with React and TypeScript",desc:"In this article, we’ll learn what a component library is and how to build a custom component library using React and TypeScript.",url:"https://blog.logrocket.com/build-component-library-react-typescript",logo:"/assets/image/blog.logrocket.com/favicon.png",preview:"/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png"}),n[213]||(n[213]=p('<div class="hint-container note"><p class="hint-container-title">Editor’s note</p><p>This article was last reviewed and updated on 23 October 2024.</p></div><figure><img src="'+h+'" alt="How To Build A Component Library With React And TypeScript" tabindex="0" loading="lazy"><figcaption>How To Build A Component Library With React And TypeScript</figcaption></figure><p>React has become a top choice for building web applications. It enables us to easily build reusable UI components. Creating your own React component consists of the following steps:</p><ul><li><strong>Set up your React project</strong>: If you don’t already have one, create a new React project</li><li><strong>Create a component file</strong>: Inside your project, create a <code>Components</code> folder, then add a new <code>.js</code> or <code>.jsx</code> file for your component (e.g., <code>MyComponent.jsx</code>)</li><li><strong>Define your component</strong>: Write a function that returns JSX to define your component’s structure. Use <code>export default</code> to make it accessible to other files in the project</li><li><strong>Import and use your component</strong>: Import your component into another file, such as <code>App.js</code>, and add it to your JSX to display it on the screen</li></ul><p>Incorporating TypeScript alongside React brings type safety to your codebase, enhancing both code quality and developer productivity.</p><p>Creating a component library, a collection of pre-built, reusable UI elements, enables efficient development by providing a shared set of components that can be used across multiple projects. When built with React and TypeScript, a library gains flexibility and scalability, while avoiding common pitfalls thanks to the added type safety.</p><p>In this article, we’ll guide you through building a custom React component library with TypeScript, covering essential steps such as:</p><ul><li>Component creation</li><li>TypeScript integration</li><li>Component visualization with Storybook</li><li>Testing strategies for a robust library</li></ul><p>This approach will help you create a maintainable, reusable library that can evolve alongside your projects.</p><hr><h2 id="setting-up-the-development-environment" tabindex="-1"><a class="header-anchor" href="#setting-up-the-development-environment"><span>Setting up the development environment</span></a></h2><p>Before we start, let’s ensure our development environment is set up for success. Here are the prerequisites:</p>',12)),s("ul",null,[s("li",null,[n[26]||(n[26]=s("strong",null,"Node.js and npm",-1)),n[27]||(n[27]=a(": Download and install the latest Node LTS version on the local machine from ")),s("a",C,[t(e,{icon:"fa-brands fa-node"}),n[25]||(n[25]=a("nodejs.org"))]),n[28]||(n[28]=a(". After installation, run the following command to check the Node and npm versions:"))])]),n[214]||(n[214]=p(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">node</span> <span class="token parameter variable">-v</span></span>
<span class="line"><span class="token function">npm</span> <span class="token parameter variable">-v</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Code editor</strong>: Choose a code editor that fits your preference. For this tutorial, we’ll assume you’re using Visual Studio Code</li></ul><hr><h2 id="initializing-a-react-project-with-typescript" tabindex="-1"><a class="header-anchor" href="#initializing-a-react-project-with-typescript"><span>Initializing a React project with TypeScript</span></a></h2>`,4)),s("p",null,[n[30]||(n[30]=a("We can use ")),n[31]||(n[31]=s("code",null,"create-react-app",-1)),n[32]||(n[32]=a(" with the TypeScript template to initiate a new React project. ")),t(l,{to:"/blog.logrocket.com/getting-started-with-create-react-app.html"},{default:o(()=>n[29]||(n[29]=[s("strong",null,[s("code",null,"create-react-app"),a(" is a command-line tool")],-1)])),_:1,__:[29]}),n[33]||(n[33]=a("` that sets up a new React application with a predefined project structure and build configurations."))]),n[215]||(n[215]=p(`<p>Open a terminal and run the following command to create a new React app with the TypeScript template:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># create a new React project with the TypeScript template</span></span>
<span class="line">npx create-react-app smart-ui <span class="token parameter variable">--template</span> typescript</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The above command initializes a new React application by creating a new project structure, setting up essential configurations, and installing dependencies for a smooth development experience.</p><hr><h2 id="building-the-react-component-library" tabindex="-1"><a class="header-anchor" href="#building-the-react-component-library"><span>Building the React component library</span></a></h2><p>When designing the architecture of our component library, it is essential to consider these best practices:</p><ul><li><strong>Single responsibility principle (SRP)</strong>: Each component should have a single, well-defined responsibility. Avoid creating monolithic components that handle too many tasks. This principle promotes reusability and makes components easier to understand and maintain</li><li><strong>Separation of concerns</strong>: Separation of concerns is the principle of dividing a program into distinct sections, each addressing a specific functionality aspect. When designing a component library, we should consider separate concerns such as logic, styling, and presentation</li></ul><hr><h2 id="directory-structure" tabindex="-1"><a class="header-anchor" href="#directory-structure"><span>Directory structure</span></a></h2><p>Following the above design practices, we will use a nested folder structure for better organization. As shown below, we group different components into different directories. In each component directory, we use separate files for the component’s logic, styling, and testing concerns:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="file structure"><span>file structure</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">src/</span>
<span class="line">  ├── components/</span>
<span class="line">      ├── Button/</span>
<span class="line">          ├── Button.tsx</span>
<span class="line">          ├── Button.css</span>
<span class="line">          ├── Button.test.ts</span>
<span class="line">          └── ...</span>
<span class="line">      ├── Header/</span>
<span class="line">          ├── Header.tsx</span>
<span class="line">          ├── Header.css</span>
<span class="line">          ├── Header.test.ts</span>
<span class="line">          └── ...</span>
<span class="line">      └── ...</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><hr><h2 id="component-library-naming-conventions" tabindex="-1"><a class="header-anchor" href="#component-library-naming-conventions"><span>Component library naming conventions</span></a></h2><p>We must adopt consistent naming conventions for our component library. The key is to choose clear and descriptive names that reflect the component’s purpose. Below are some guidelines to follow:</p><ul><li><strong>Use PascalCase</strong>: Adopt PascalCase when naming our component class and file names. This convention capitalizes the first letter of each word, and there are no spaces or underscores</li><li><strong>Prefix for uniqueness</strong>: Add a prefix to the component names to ensure uniqueness, especially if the library might be used in projects alongside other libraries</li><li><strong>Prefer full words</strong>: Use full words instead of acronyms to avoid ambiguous meanings</li></ul><hr><h2 id="creating-a-new-component-library-in-react" tabindex="-1"><a class="header-anchor" href="#creating-a-new-component-library-in-react"><span>Creating a new component library in React</span></a></h2><p>Now, let’s create our first component library: <code>smart-ui</code>. We will also add a new <code>SmartRating</code> component in the library.</p><p>In the previous section, we used <code>create-react-app</code> to create a skeleton of a React application. It is a good starter for a regular React app, but many of the artifacts are not necessary for a React component library.</p><p>We can clean the previously generated project assets or create a new component library from scratch. In the article, we will start from scratch.</p><hr><h2 id="create-the-skeleton-structure-of-the-component-library" tabindex="-1"><a class="header-anchor" href="#create-the-skeleton-structure-of-the-component-library"><span>Create the skeleton structure of the component library</span></a></h2>`,22)),s("p",null,[n[34]||(n[34]=a("Firstly, we create a new folder and a ")),t(e,{icon:"iconfont icon-json"}),n[35]||(n[35]=s("code",null,"package.json",-1)),n[36]||(n[36]=a(" file by running the following command:"))]),n[216]||(n[216]=p(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># create a new folder</span></span>
<span class="line"><span class="token function">mkdir</span> smart-ui</span>
<span class="line"></span>
<span class="line"><span class="token comment"># init a package.json</span></span>
<span class="line"><span class="token builtin class-name">cd</span> smart-ui</span>
<span class="line"><span class="token function">npm</span> init</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),s("p",null,[n[37]||(n[37]=a("Running the ")),n[38]||(n[38]=s("code",null,"npm init",-1)),n[39]||(n[39]=a(" command will prompt you to answer several questions. Accept the default for all questions and a basic ")),t(e,{icon:"iconfont icon-json"}),n[40]||(n[40]=s("code",null,"package.json",-1)),n[41]||(n[41]=a(" will be generated."))]),n[217]||(n[217]=p(`<p>Next, we run the following command to install the dependencies for React and TypeScript:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> i react typescript @types/react tslib --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,2)),s("p",null,[n[42]||(n[42]=a("After the command is completed, these dependencies are added to the ")),t(e,{icon:"iconfont icon-json"}),n[43]||(n[43]=s("code",null,"package.json",-1)),n[44]||(n[44]=a(" file."))]),s("p",null,[n[45]||(n[45]=a("To configure the TypeScript options, we need to create a ")),t(e,{icon:"iconfont icon-json"}),n[46]||(n[46]=s("code",null,"tsconfig.json",-1)),n[47]||(n[47]=a(" file. We can initialize it with the following command from the project’s root directory:"))]),n[218]||(n[218]=p(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">npx tsc <span class="token parameter variable">-init</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,1)),s("p",null,[n[48]||(n[48]=a("The newly generated ")),t(e,{icon:"iconfont icon-json"}),n[49]||(n[49]=s("code",null,"tsconfig.json",-1)),n[50]||(n[50]=a(" file contains a set of default options for TypeScript. We will need to replace the file contents with the following settings:"))]),n[219]||(n[219]=p(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="tsconfig.json"><span>tsconfig.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;dom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dom.iterable&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;allowJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;allowSyntheticDefaultImports&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;isolatedModules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;noEmit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-jsx&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Some important settings are:</p>`,2)),s("ul",null,[n[55]||(n[55]=p("<li><code>&quot;target&quot;: &quot;es5&quot;</code>: Specifies that the TypeScript compiler will generate code compatible with ECMAScript 5</li><li><code>&quot;lib&quot;: [&quot;dom&quot;, &quot;dom.iterable&quot;, &quot;esnext&quot;]</code>: Includes necessary libraries, such as the Document Object Model (DOM)</li><li><code>&quot;skipLibCheck&quot;: true</code>: Skips type checking of declaration files (.d.ts), potentially speeding up compilation in large projects with numerous external dependencies</li><li><code>&quot;module&quot;: &quot;esnext&quot;</code>: Indicates that the module system for code compiling is ES6 and above</li><li><code>&quot;jsx&quot;: &quot;react-jsx&quot;</code>: Specifies the syntax for JSX (React’s JavaScript XML). <code>&quot;react-jsx&quot;</code> indicates that TypeScript should use React’s JSX syntax</li>",5)),s("li",null,[n[51]||(n[51]=s("code",null,'"Include": ["src"]',-1)),n[52]||(n[52]=a(": Specifies that TypeScript should include files from the ")),t(e,{icon:"fas fa-folder-open"}),n[53]||(n[53]=s("code",null,"src",-1)),n[54]||(n[54]=a(" directory"))])]),n[220]||(n[220]=p(`<p>Now, we can create the project skeleton by adding the following folders:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">mkdir</span> src</span>
<span class="line"><span class="token builtin class-name">cd</span> src</span>
<span class="line"><span class="token function">mkdir</span> components</span>
<span class="line"><span class="token builtin class-name">cd</span> components</span>
<span class="line"><span class="token function">mkdir</span> smartrating</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="create-a-smartrating-component" tabindex="-1"><a class="header-anchor" href="#create-a-smartrating-component"><span>Create a <code>SmartRating</code> component</span></a></h2><p>After the folder structure is created, we can add the files for the new <code>SmartRating</code> component:</p>`,5)),s("ul",null,[s("li",null,[t(e,{icon:"fa-brands fa-react"}),n[56]||(n[56]=s("code",null,"SmartRating.tsx",-1))]),s("li",null,[t(e,{icon:"fa-brands fa-css3-alt"}),n[57]||(n[57]=s("code",null,"SmartRating.css",-1))]),s("li",null,[t(e,{icon:"iconfont icon-typescript"}),n[58]||(n[58]=s("code",null,"SmartRating.types.ts",-1))])]),s("p",null,[n[59]||(n[59]=a("In ")),t(e,{icon:"iconfont icon-typescript"}),n[60]||(n[60]=s("code",null,"SmartRating.types.ts",-1)),n[61]||(n[61]=a(", we declare a TypeScript interface named ")),n[62]||(n[62]=s("code",null,"SmartRatingProps",-1)),n[63]||(n[63]=a(" representing the properties accepted by the component:"))]),t(e,{icon:"fa-brands fa-css3-alt"}),n[221]||(n[221]=p(`<code>SmartRating.css</code> includes the styling for the component:<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">body</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">font-size</span><span class="token punctuation">:</span> large<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">span</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">margin-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></span>
<span class="line">  <span class="token selector">:hover</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">color</span><span class="token punctuation">:</span> grey<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line"><span class="token selector">.star</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">font-size</span><span class="token punctuation">:</span> large<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.starActive</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.starInactive</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line"><span class="token selector">.rating-secondary</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span>6px<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3)),t(e,{icon:"fa-brands fa-react"}),n[222]||(n[222]=p(`<code>SmartRating.tsx</code> is the <code>SmartRating</code> component file. Here are its contents:<div class="code-block-with-title"><div class="code-block-title-bar" data-title="SmartRating.tsx"><span>SmartRating.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token string">&quot;./SmartRating.css&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> SmartRatingProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./SmartRating.types&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> SmartRating<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>SmartRatingProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> stars <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>rating<span class="token punctuation">,</span> setRating<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">star-rating rating-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>props<span class="token punctuation">.</span>theme<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token punctuation">{</span>stars<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>star<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> starCss <span class="token operator">=</span> star <span class="token operator">&lt;=</span> rating <span class="token operator">?</span> <span class="token string">&quot;starActive&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;starInactive&quot;</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span></span>
<span class="line">            <span class="token attr-name">disabled</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>disabled<span class="token punctuation">}</span></span></span>
<span class="line">            <span class="token attr-name">data-testid</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>props<span class="token punctuation">.</span>testIdPrefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">}</span></span></span>
<span class="line">            <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>star<span class="token punctuation">}</span></span></span>
<span class="line">            <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>starCss<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">}</span></span></span>
<span class="line">            <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setRating</span><span class="token punctuation">(</span>star<span class="token punctuation">)</span><span class="token punctuation">}</span></span></span>
<span class="line">          <span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>star<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">★</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> SmartRating<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>The above code defines a React component called <code>SmartRating</code> that takes properties specified in <code>SmartRatingProps</code>. It renders a star rating UI, allowing users to click on stars to set a rating. The component structure includes a <code>title</code>, a <code>disabled</code> state, and a <code>theme</code> specified by the <code>SmartRatingProps</code>.</p><hr>`,7)),s("h2",I,[s("a",A,[s("span",null,[n[64]||(n[64]=a("Add ")),t(e,{icon:"iconfont icon-typescript"}),n[65]||(n[65]=s("code",null,"index.ts",-1))])])]),s("p",null,[n[66]||(n[66]=a("Next, we need to create the ")),t(e,{icon:"iconfont icon-typescript"}),n[67]||(n[67]=s("code",null,"index.ts",-1)),n[68]||(n[68]=a(" files. The ")),t(e,{icon:"iconfont icon-typescript"}),n[69]||(n[69]=s("code",null,"index.ts",-1)),n[70]||(n[70]=a(" file consolidates exports, providing a centralized entry point for the component library. It also simplifies imports for the consumer."))]),s("p",null,[n[71]||(n[71]=a("We create an ")),t(e,{icon:"iconfont icon-typescript"}),n[72]||(n[72]=s("code",null,"index.ts",-1)),n[73]||(n[73]=a(" file at each level of folders to make the library export easier. For example, in ")),t(e,{icon:"fas fa-folder-open"}),n[74]||(n[74]=s("code",null,"components/",-1)),t(e,{icon:"iconfont icon-typescript"}),n[75]||(n[75]=s("code",null,"index.ts",-1)),n[76]||(n[76]=a(", we can add a new ")),n[77]||(n[77]=s("code",null,"export",-1)),n[78]||(n[78]=a(" to ")),t(e,{icon:"iconfont icon-typescript"}),n[79]||(n[79]=s("code",null,"index.ts",-1)),n[80]||(n[80]=a(" when a new component is added, without needing to change ")),t(e,{icon:"fas fa-folder-open"}),n[81]||(n[81]=s("code",null,"src/",-1)),t(e,{icon:"iconfont icon-typescript"}),n[82]||(n[82]=s("code",null,"index.ts",-1)),n[83]||(n[83]=a(":"))]),n[223]||(n[223]=p(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="components/smartrating/index.ts"><span>components/smartrating/index.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token comment">// src/components/smartrating/index.ts</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token punctuation">{</span><span class="token keyword">default</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./SmartRating&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="components/index.ts"><span>components/index.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;./smartrating&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="index.ts"><span>index.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;./components&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>The project structure looks like the one below:</p><figure><img src="`+w+'" alt="Project Structure" tabindex="0" loading="lazy"><figcaption>Project Structure</figcaption></figure><hr><h2 id="rollup-for-bundling-and-packaging-the-component-library" tabindex="-1"><a class="header-anchor" href="#rollup-for-bundling-and-packaging-the-component-library"><span>Rollup for bundling and packaging the component library</span></a></h2>',7)),s("p",null,[n[85]||(n[85]=a("We’ll ")),s("a",P,[t(e,{icon:"fas fa-globe"}),n[84]||(n[84]=a("use Rollup to simplify the process of bundling"))]),n[86]||(n[86]=a(" and packaging our React component library. Rollup is a JavaScript module bundler that packages and optimizes code for production."))]),n[224]||(n[224]=s("p",null,"Rollup is particularly good at tree-shaking to remove unused code, making it well-suited for libraries where minimizing the bundle size is critical. It also offers flexibility in generating different output formats (CommonJS, ES module, UMD, etc.), allowing library authors to cater to various project setups and environments.",-1)),s("p",null,[n[88]||(n[88]=a("To enhance functionality, ")),t(l,{to:"/blog.logrocket.com/using-rollup-package-library-typescript-javascript.html"},{default:o(()=>n[87]||(n[87]=[s("strong",null,"Rollup uses plugins to handle tasks",-1)])),_:1,__:[87]}),n[89]||(n[89]=a(" like transpilation, minification, and resolving external dependencies. We need to install Rollup and its plugins to configure our library using the following command:"))]),n[225]||(n[225]=p(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> <span class="token function">install</span> rollup <span class="token punctuation">\\</span></span>
<span class="line">@rollup/plugin-node-resolve <span class="token punctuation">\\</span></span>
<span class="line">@rollup/plugin-commonjs <span class="token punctuation">\\</span></span>
<span class="line">@rollup/plugin-typescript <span class="token punctuation">\\</span></span>
<span class="line">rollup-plugin-peer-deps-external <span class="token punctuation">\\</span></span>
<span class="line">@rollup/plugin-terser <span class="token punctuation">\\</span></span>
<span class="line">rollup-plugin-dts --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),s("p",null,[n[90]||(n[90]=a("To customize Rollup’s bundling and processing behavior for our project, create a ")),t(e,{icon:"fa-brands fa-js"}),n[91]||(n[91]=s("code",null,"rollup.config.js",-1)),n[92]||(n[92]=a(" file at the root of the library project:"))]),n[226]||(n[226]=p(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="rollup.config.js"><span>rollup.config.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> resolve <span class="token keyword">from</span> <span class="token string">&quot;@rollup/plugin-node-resolve&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> commonjs <span class="token keyword">from</span> <span class="token string">&quot;@rollup/plugin-commonjs&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> typescript <span class="token keyword">from</span> <span class="token string">&quot;@rollup/plugin-typescript&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> dts <span class="token keyword">from</span> <span class="token string">&quot;rollup-plugin-dts&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> terser <span class="token keyword">from</span> <span class="token string">&quot;@rollup/plugin-terser&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> peerDepsExternal <span class="token keyword">from</span> <span class="token string">&quot;rollup-plugin-peer-deps-external&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> packageJson <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./package.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&quot;src/index.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">file</span><span class="token operator">:</span> packageJson<span class="token punctuation">.</span>main<span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;cjs&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">sourcemap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">file</span><span class="token operator">:</span> packageJson<span class="token punctuation">.</span>module<span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;esm&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">sourcemap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token function">peerDepsExternal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">typescript</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">tsconfig</span><span class="token operator">:</span> <span class="token string">&quot;./tsconfig.json&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">terser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">external</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&quot;src/index.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&quot;dist/types.d.ts&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;es&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>dts<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>The above configuration file defines two bundles for a TypeScript library.</p>`,2)),s("p",null,[n[94]||(n[94]=a("The first bundle, specified by the first object in the array, targets ")),t(l,{to:"/blog.logrocket.com/commonjs-vs-es-modules-node-js.html"},{default:o(()=>n[93]||(n[93]=[s("strong",null,"CommonJS (cjs) and ECMAScript Module (ESM) formats",-1)])),_:1,__:[93]}),n[95]||(n[95]=a(", creating separate files specified by the ")),n[96]||(n[96]=s("code",null,"main",-1)),n[97]||(n[97]=a(" and ")),n[98]||(n[98]=s("code",null,"module",-1)),n[99]||(n[99]=a(" entries in the ")),t(e,{icon:"iconfont icon-json"}),n[100]||(n[100]=s("code",null,"package.json",-1)),n[101]||(n[101]=a(". It includes plugins for handling external dependencies, resolving modules, transpiling TypeScript, and minifying the output with ")),n[102]||(n[102]=s("code",null,"terser",-1)),n[103]||(n[103]=a("."))]),s("p",null,[n[104]||(n[104]=a("The second bundle, specified by the second object in the array, generates a type declaration file (")),t(e,{icon:"iconfont icon-typescript"}),n[105]||(n[105]=s("code",null,"types.d.ts",-1)),n[106]||(n[106]=a(") using the ")),n[107]||(n[107]=s("code",null,"dts",-1)),n[108]||(n[108]=a(" plugin, providing TypeScript type information for the library."))]),s("p",null,[n[109]||(n[109]=a("Another change to set up Rollup is to add the following entries to the ")),t(e,{icon:"iconfont icon-json"}),n[110]||(n[110]=s("code",null,"package.json",-1)),n[111]||(n[111]=a(" file:"))]),n[227]||(n[227]=p(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  …</span>
<span class="line">  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/cjs/index.js&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/esm/index.js&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/index.d.ts&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">  …</span>
<span class="line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;rollup&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup -c --bundleConfigAsCjs&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    ...</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Here is the explanation of the additional settings:</p><ul><li><code>&quot;main&quot;: &quot;dist/cjs/index.js&quot;</code>: Specifies the CommonJS entry point for the library, typically used by Node.js environments</li><li><code>&quot;module&quot;: &quot;dist/esm/index.js&quot;</code>: Indicates the ECMAScript Module entry point for modern JavaScript environments, providing an optimized library version for bundlers that support ES modules</li><li><code>&quot;types&quot;: &quot;dist/index.d.ts&quot;</code>: Points to the TypeScript type declaration file, providing type information for the library</li><li><code>&quot;scripts&quot;: {&quot;rollup&quot;: &quot;rollup -c --bundleConfigAsCjs&quot;, ...}</code>: Defines a script command that runs the Rollup bundler using a configuration file (<code>-c</code>) and an additional flag (<code>--bundleConfigAsCjs</code>) suggesting bundling for CommonJS. This script is used for generating the CommonJS bundle of the library</li></ul><hr><h2 id="adding-css-support-in-rollup-for-component-styling" tabindex="-1"><a class="header-anchor" href="#adding-css-support-in-rollup-for-component-styling"><span>Adding CSS support in Rollup for component styling</span></a></h2><p>In our library, we’ll use a CSS file to separate the styles away from the component file by default.</p>`,6)),s("p",null,[n[112]||(n[112]=a("Rollup doesn’t know how to process the CSS file. To enable Rollup to handle CSS files, we need to add the plugin named ")),t(e,{icon:"fa-brands fa-npm"}),n[113]||(n[113]=s("code",null,"rollup-plugin-postcss",-1)),n[114]||(n[114]=a(". Run the following command to install it:"))]),n[228]||(n[228]=p(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> <span class="token function">install</span> rollup-plugin-postcss --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,1)),s("p",null,[n[115]||(n[115]=a("We also need to change the Rollup configuration for CSS support in ")),t(e,{icon:"fa-brands fa-js"}),n[116]||(n[116]=s("code",null,"rollup.config.js",-1)),n[117]||(n[117]=a(":"))]),n[229]||(n[229]=p(`<p>Now, we can build the library using the Rollup script command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> run rollup</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,2)),s("p",null,[n[118]||(n[118]=a("After running the above command, we should see a new ")),t(e,{icon:"fas fa-folder-open"}),n[119]||(n[119]=s("code",null,"dist",-1)),n[120]||(n[120]=a(" directory created in the root directory. The new directory contains the generated library artifacts."))]),n[230]||(n[230]=p(`<hr><h2 id="leveraging-typescript-for-type-safety" tabindex="-1"><a class="header-anchor" href="#leveraging-typescript-for-type-safety"><span>Leveraging TypeScript for type safety</span></a></h2><p>When creating the <code>SmartRating</code> component, TypeScript is crucial in ensuring component type safety. For example, we define the rating component props as shown below:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="SmartRating.types.ts"><span>SmartRating.types.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">SmartRatingProps</span> <span class="token punctuation">{</span></span>
<span class="line">  testIdPrefix<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  theme<span class="token operator">:</span> <span class="token string">&quot;primary&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;secondary&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  disabled<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span></span>
<span class="line">  size<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;small&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;medium&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;large&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="SmartRating.tsx"><span>SmartRating.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">const</span> SmartRating<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>SmartRatingProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>We define the TypeScript interface <code>SmartRatingProps</code>. This interface specifies the expected shape of the component’s props, ensuring clarity and enforcing specific types.</p>`,6)),s("p",null,[n[121]||(n[121]=a("The ")),t(e,{icon:"fa-brands fa-react"}),n[122]||(n[122]=s("code",null,"SmartRating.tsx",-1)),n[123]||(n[123]=a(" file uses the defined interface in the ")),n[124]||(n[124]=s("code",null,"React.FC",-1)),n[125]||(n[125]=a(" (Functional Component) declaration. TypeScript ensures that the provided ")),n[126]||(n[126]=s("code",null,"props",-1)),n[127]||(n[127]=a(" parameter adheres to the defined ")),n[128]||(n[128]=s("code",null,"SmartRatingProps",-1)),n[129]||(n[129]=a(" interface, preventing potential runtime errors related to incorrect prop types."))]),n[231]||(n[231]=p(`<p>For example, if we remove an existing <code>props</code> (i.e., <code>theme</code>) and forget to update the component file, the TypeScript compiler will throw the following error at compile time:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">&gt; Property &#39;theme&#39; does not exist on type &#39;SmartRatingProps&#39;.ts(2339)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>TypeScript enforces strict typing for props, ensuring only the specified types are allowed. With the help of union types, we can define specific values for certain props, providing a clear set of options. For example, <code>theme</code> must be either <code>primary</code> or <code>secondary</code>. If we have a typo, the TypeScript compiler will catch it and throw the error immediately.</p><p>The <code>SmartRatingProps</code> interface also serves as documentation, making it clear to developers what props the component expects and their respective types. When we use IDEs with TypeScript support (i.e., VS Code), the IDE tools provide autocompletion and IntelliSense for props, enhancing the developer experience and reducing the chance of typos.</p><hr><h2 id="integrating-storybook-into-our-library" tabindex="-1"><a class="header-anchor" href="#integrating-storybook-into-our-library"><span>Integrating Storybook into our library</span></a></h2>`,6)),s("p",null,[n[131]||(n[131]=a("Now, the core functionality of our library is ready. It is time to add Storybook to visualize our new component to ensure it works as intended. ")),t(l,{to:"/blog.logrocket.com/storybook-js-adoption-guide.html"},{default:o(()=>n[130]||(n[130]=[s("strong",null,"Storybook is a development environment",-1)])),_:1,__:[130]}),n[132]||(n[132]=a(" for UI components, allowing isolated and interactive development, testing, and documentation."))]),n[232]||(n[232]=p(`<h3 id="setting-up-storybook" tabindex="-1"><a class="header-anchor" href="#setting-up-storybook"><span>Setting up Storybook</span></a></h3><p>Setting up Storybook is straightforward. Run the following command in the project root directory:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">npx sb init</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The above command will prompt us to select a project builder; we can accept the default Vite option.</p>`,4)),s("p",null,[n[133]||(n[133]=a("After completing the command, it configures Storybook with default settings and creates necessary files and folders (e.g., ")),t(e,{icon:"fas fa-folder-open"}),n[134]||(n[134]=s("code",null,".storybook",-1)),n[135]||(n[135]=a(" directory) for Storybook integration. It also generates a ")),t(e,{icon:"fas fa-folder-open"}),n[136]||(n[136]=s("code",null,"stories",-1)),n[137]||(n[137]=a(" directory within the ")),n[138]||(n[138]=s("code",null,"src",-1)),n[139]||(n[139]=a(" directory, containing pre-built templates that serve as examples for creating our own stories."))]),s("p",null,[n[140]||(n[140]=a("Additionally, we also observe new dependencies and script commands in ")),t(e,{icon:"iconfont icon-json"}),n[141]||(n[141]=s("code",null,"package.json",-1)),n[142]||(n[142]=a(":"))]),n[233]||(n[233]=p(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;storybook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;storybook dev -p 6006&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;build-storybook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;storybook build&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="create-a-story-for-the-smartrating-component" tabindex="-1"><a class="header-anchor" href="#create-a-story-for-the-smartrating-component"><span>Create a story for the <code>SmartRating</code> component</span></a></h3><p>Storybook is successfully configured. Now, it’s time to create our first story.</p>`,3)),s("p",null,[n[143]||(n[143]=a("Create a new file in the ")),n[144]||(n[144]=s("code",null,"smartrating",-1)),n[145]||(n[145]=a(" folder named ")),t(e,{icon:"fa-brands fa-react"}),n[146]||(n[146]=s("code",null,"SmartRating.stories.tsx",-1)),n[147]||(n[147]=a(":"))]),n[234]||(n[234]=p(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="smartRating.stories.tsx"><span>smartRating.stories.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> StoryFn<span class="token punctuation">,</span> Meta <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@storybook/react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> SmartRating <span class="token keyword">from</span> <span class="token string">&quot;./SmartRating&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  title<span class="token operator">:</span> <span class="token string">&quot;ReactComponentLibrary/Rating&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  component<span class="token operator">:</span> SmartRating<span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">as</span> Meta<span class="token operator">&lt;</span><span class="token keyword">typeof</span> SmartRating<span class="token operator">&gt;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> Template<span class="token operator">:</span> StoryFn<span class="token operator">&lt;</span><span class="token keyword">typeof</span> SmartRating<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SmartRating</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>args<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> RatingTest <span class="token operator">=</span> <span class="token function">Template</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">RatingTest<span class="token punctuation">.</span>args <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  title<span class="token operator">:</span> <span class="token string">&quot;Default theme&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  theme<span class="token operator">:</span> <span class="token string">&quot;primary&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  testIdPrefix<span class="token operator">:</span> <span class="token string">&quot;rating&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> RatingSecondary <span class="token operator">=</span> <span class="token function">Template</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">RatingSecondary<span class="token punctuation">.</span>args <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  title<span class="token operator">:</span> <span class="token string">&quot;Secondary theme&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  theme<span class="token operator">:</span> <span class="token string">&quot;secondary&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  testIdPrefix<span class="token operator">:</span> <span class="token string">&quot;rating&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>In this story, we define two stories: <code>RatingTest</code> and <code>RatingSecondary</code>. They showcase the component in different scenarios, helping visualize and test its behavior within the Storybook environment.</p><p>To test the stories, run the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> run storybook</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Running the command will open a new browser tab with the component rendered in the Storybook UI as below:</p><figure><img src="`+q+'" alt="Storybook UI New Browser Tab" tabindex="0" loading="lazy"><figcaption>Storybook UI New Browser Tab</figcaption></figure>',6)),s("p",null,[n[149]||(n[149]=a("We can switch between our two stories to observe the different looks and behavior of our components. Here, we just touch the surface of Storybook’s features. For a deeper exploration, check out “")),t(l,{to:"/blog.logrocket.com/storybook-js-adoption-guide.html"},{default:o(()=>n[148]||(n[148]=[s("strong",null,"Storybook adoption guide: Overview, examples, and alternatives",-1)])),_:1,__:[148]}),n[150]||(n[150]=a(".”"))]),n[235]||(n[235]=s("hr",null,null,-1)),n[236]||(n[236]=s("h2",{id:"testing-with-jest-and-react-testing-library",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#testing-with-jest-and-react-testing-library"},[s("span",null,"Testing with Jest and React Testing Library")])],-1)),n[237]||(n[237]=s("p",null,"Adding tests to our component library ensures that components behave as expected, helping catch regressions and ensuring ongoing functionality as the library evolves.",-1)),s("p",null,[t(l,{to:"/blog.logrocket.com/testing-react-apps-jest-react-testing-library.html"},{default:o(()=>n[151]||(n[151]=[s("strong",null,"Jest, combined with the React Testing Library",-1)])),_:1,__:[151]}),n[152]||(n[152]=a(", offers a powerful testing solution for React components. To start, install the following dependencies:"))]),n[238]||(n[238]=p(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># install Jest and testing-library</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> @testing-library/react <span class="token punctuation">\\</span></span>
<span class="line">jest <span class="token punctuation">\\</span></span>
<span class="line">@types/jest <span class="token punctuation">\\</span></span>
<span class="line">jest-environment-jsdom --save-dev</span>
<span class="line"></span>
<span class="line"><span class="token comment"># install babel and its related plugins</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> @babel/core <span class="token punctuation">\\</span></span>
<span class="line">@babel/preset-env <span class="token punctuation">\\</span></span>
<span class="line">@babel/preset-react <span class="token punctuation">\\</span></span>
<span class="line">@babel/preset-typescript <span class="token punctuation">\\</span></span>
<span class="line">babel-jest --save-dev</span>
<span class="line"></span>
<span class="line"><span class="token comment"># install identity-obj-proxy</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> identity-obj-proxy -save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The above commands install the React Testing Library, Jest, Babel, and its Jest dependencies for transpiling and testing React components with TypeScript. We also install <code>identity-obj-proxy</code>, which allows Jest to treat all types of imports (CSS, LESS, and SCSS) as generic objects. Specifically, we can configure it for CSS files to prevent any errors in testing.</p>`,2)),s("p",null,[n[153]||(n[153]=a("Next, we need to add configuration files for Jest and Babel. Create the ")),t(e,{icon:"fa-brands fa-js"}),n[154]||(n[154]=s("code",null,"jest.config.js",-1)),n[155]||(n[155]=a(" and ")),t(e,{icon:"fa-brands fa-js"}),n[156]||(n[156]=s("code",null,"babel.config.js",-1)),n[157]||(n[157]=a(" in the root project directory with the following contents:"))]),n[239]||(n[239]=p(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="jest.config.js"><span>jest.config.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">testEnvironment</span><span class="token operator">:</span> <span class="token string">&quot;jsdom&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">moduleNameMapper</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;.(css|less|scss)$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;identity-obj-proxy&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="babel.config.js"><span>babel.config.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">     <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span></span>
<span class="line">     <span class="token string">&quot;@babel/preset-react&quot;</span><span class="token punctuation">,</span></span>
<span class="line">     <span class="token string">&quot;@babel/preset-typescript&quot;</span><span class="token punctuation">,</span></span>
<span class="line">   <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,2)),s("p",null,[n[158]||(n[158]=a("In ")),t(e,{icon:"fa-brands fa-js"}),n[159]||(n[159]=s("code",null,"jest.config.js",-1)),n[160]||(n[160]=a(", we set the Jest test environment to ")),n[161]||(n[161]=s("code",null,"jsdom",-1)),n[162]||(n[162]=a(" for simulating a browser environment for testing. Then, we set the ")),n[163]||(n[163]=s("code",null,"moduleNameMapper",-1)),n[164]||(n[164]=a(" property for CSS, LESS, and SCSS file imports in tests, allowing them to be mocked without actual styling."))]),s("p",null,[n[165]||(n[165]=a("In ")),t(e,{icon:"fa-brands fa-js"}),n[166]||(n[166]=s("code",null,"babel.config.js",-1)),n[167]||(n[167]=a(", we configure Babel presets for transpiling JavaScript, React, and TypeScript code in the project, ensuring compatibility and proper compilation during testing."))]),s("p",null,[n[168]||(n[168]=a("Now, we can create a test file named ")),t(e,{icon:"fa-brands fa-react"}),n[169]||(n[169]=s("code",null,"SmartRating.test.tsx",-1)),n[170]||(n[170]=a(" in the ")),t(e,{icon:"fas fa-folder-open"}),n[171]||(n[171]=s("code",null,"smartrating",-1)),n[172]||(n[172]=a(" directory:"))]),n[240]||(n[240]=p(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="smartrating/SmartRating.test.tsx"><span>smartrating/SmartRating.test.tsx</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> render<span class="token punctuation">,</span> screen<span class="token punctuation">,</span> waitFor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@testing-library/react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> userEvent <span class="token keyword">from</span> <span class="token string">&quot;@testing-library/user-event&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> SmartRating <span class="token keyword">from</span> <span class="token string">&quot;./SmartRating&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;SmartRating&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;renders the Rating component&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>SmartRating title<span class="token operator">=</span><span class="token string">&quot;default&quot;</span> theme<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> testIdPrefix<span class="token operator">=</span><span class="token string">&quot;rating&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">&quot;heading&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getAllByRole</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;click the 5 star rating&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> stars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>SmartRating title<span class="token operator">=</span><span class="token string">&quot;default&quot;</span> theme<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> testIdPrefix<span class="token operator">=</span><span class="token string">&quot;rating&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    stars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">star</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> element <span class="token operator">=</span> screen<span class="token punctuation">.</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">&quot;rating-&quot;</span> <span class="token operator">+</span> star<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      userEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">expect</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&quot;starActive&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>This test uses the React Testing Library and <code>user-event</code> to test the <code>SmartRating</code> component. There are two tests:</p><ul><li>The first test renders the component with specific props and asserts that the rendered component has the correct title and contains five buttons representing the stars</li><li>The second test simulates a user clicking each star in the <code>SmartRating</code> component asynchronously, then it verifies that clicking each star activates it by checking the change in the star’s CSS class to <code>starActive</code></li></ul>`,3)),s("p",null,[n[173]||(n[173]=a("The last step is to add the following script command in ")),t(e,{icon:"iconfont icon-json"}),n[174]||(n[174]=s("code",null,"package.json",-1)),n[175]||(n[175]=a(":"))]),n[241]||(n[241]=p(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jest&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    …</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>We can run the test with this command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> run <span class="token builtin class-name">test</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We should see the two green ticks for the tests:</p><figure><img src="`+j+'" alt="Green Ticks To Represent Tests Passed" tabindex="0" loading="lazy"><figcaption>Green Ticks To Represent Tests Passed</figcaption></figure><hr><h2 id="building-and-managing-the-component-library" tabindex="-1"><a class="header-anchor" href="#building-and-managing-the-component-library"><span>Building and managing the component library</span></a></h2><h3 id="dependency-management" tabindex="-1"><a class="header-anchor" href="#dependency-management"><span>Dependency management</span></a></h3><p>Dependencies are declarations of external packages or libraries essential for the project’s functionality, and effective dependency management is vital when constructing a component library.</p><p>Besides the typical dependencies, there are other types of dependencies including:</p><ul><li><strong>Peer dependencies</strong>: These are external dependencies that our library expects its consumers to provide. They are not bundled with the library, and instead, the consumer is expected to install them as direct dependencies</li><li><strong>Dev dependencies</strong>: Dev dependencies are necessary during the development and testing phase but are not required for the runtime functionality of the project or library. For example, those testing libraries are dev dependencies</li></ul>',11)),s("p",null,[n[176]||(n[176]=a("We currently have all the dependencies under the ")),n[177]||(n[177]=s("code",null,"devDependencies",-1)),n[178]||(n[178]=a(" in ")),t(e,{icon:"iconfont icon-json"}),n[179]||(n[179]=s("code",null,"package.json",-1)),n[180]||(n[180]=a(". To manage the dependencies better, we want to move the following dependencies into ")),n[181]||(n[181]=s("code",null,"peerDependencies",-1)),n[182]||(n[182]=a(":"))]),n[242]||(n[242]=p(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.2.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;react-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.2.0&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Moving <code>react</code> and <code>react-dom</code> to peer dependencies in our library is beneficial because it allows consumers of the library to use their version of React. This flexibility prevents version conflicts, fostering a more seamless integration experience.</p>`,2)),s("h3",z,[s("a",B,[s("span",null,[n[183]||(n[183]=a("Multiple ")),t(e,{icon:"iconfont icon-typescript"}),n[184]||(n[184]=s("code",null,"index.ts",-1)),n[185]||(n[185]=a(" files"))])])]),s("p",null,[n[186]||(n[186]=a("In our component library, we use multiple ")),t(e,{icon:"iconfont icon-typescript"}),n[187]||(n[187]=s("code",null,"index.ts",-1)),n[188]||(n[188]=a(" files in different levels of directories. They serve specific purposes, making our library exporting easier to organize:"))]),s("ul",null,[s("li",null,[n[189]||(n[189]=s("strong",null,"In the root directory",-1)),n[190]||(n[190]=a(": At the library’s root, an ")),t(e,{icon:"iconfont icon-typescript"}),n[191]||(n[191]=s("code",null,"index.ts",-1)),n[192]||(n[192]=a(" file can serve as the main entry point, re-exporting components or modules from various directories. This consolidates the library’s public API"))]),s("li",null,[n[193]||(n[193]=s("strong",null,"In the components directory",-1)),n[194]||(n[194]=a(": Use ")),t(e,{icon:"iconfont icon-typescript"}),n[195]||(n[195]=s("code",null,"index.ts",-1)),n[196]||(n[196]=a(" files within the component directory to export components or modules, providing a clean and organized entry point"))]),s("li",null,[n[197]||(n[197]=s("strong",null,"In the individual component directory",-1)),n[198]||(n[198]=a(": When organizing components into nested directories, each subdirectory can have its ")),t(e,{icon:"iconfont icon-typescript"}),n[199]||(n[199]=s("code",null,"index.ts",-1)),n[200]||(n[200]=a(" file, aggregating and exporting components within that directory. This modular structure aids in navigation"))])]),s("p",null,[n[201]||(n[201]=a("By organizing code with multiple ")),t(e,{icon:"iconfont icon-typescript"}),n[202]||(n[202]=s("code",null,"index.ts",-1)),n[203]||(n[203]=a(" files, the component library becomes more modular and maintainable, simplifying both development and integration for consumers."))]),n[243]||(n[243]=s("hr",null,null,-1)),n[244]||(n[244]=s("h2",{id:"packaging-and-publishing-your-component-library-to-npm",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#packaging-and-publishing-your-component-library-to-npm"},[s("span",null,"Packaging and publishing your component library to npm")])],-1)),n[245]||(n[245]=s("p",null,"Finally, we are ready to publish our component library as an npm package. Publishing the library allows it to be shared between the different development teams or the wider development communities.",-1)),n[246]||(n[246]=s("h3",{id:"update-version",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#update-version"},[s("span",null,"Update version")])],-1)),s("p",null,[n[204]||(n[204]=a("Before we start the publishing process, we need to update the library version in ")),t(e,{icon:"iconfont icon-json"}),n[205]||(n[205]=s("code",null,"package.json",-1)),n[206]||(n[206]=a(" following the SemVer convention."))]),n[247]||(n[247]=p(`<p>Semantic Versioning (SemVer) is a versioning convention for software that uses three numbers (major, minor, patch) to communicate the nature of changes:</p><ul><li>Major for backward-incompatible</li><li>Minor for backward-compatible additions</li><li>Patch for backward-compatible bug fixes</li></ul><p>Here, we set the package version to be <code>1.0.0</code>. In future publishing, we will update the version according to the SemVer convention:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;smart-ui&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  ...</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="login-and-publish-to-npm" tabindex="-1"><a class="header-anchor" href="#login-and-publish-to-npm"><span>Login and publish to npm</span></a></h3><p>We begin the publishing process by logging in to npm:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> login</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The command will prompt us to enter the username, password, and email. After logging in to npm, we can run the following command to publish our library:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> publish <span class="token parameter variable">--access</span> public</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This command publishes the package to the npm registry with public access, making it available for installation by anyone.</p><p>We can use the following command to verify that our library has been published successfully:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> view smart-ui</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Congratulations! Our new React component library is published and available for download.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>Building, packaging, and publishing a React component library with TypeScript offers valuable benefits: enhanced reusability, improved type safety, and a foundation for consistent UI development across projects. However, challenges like managing versioning, handling dependencies, and conducting thorough testing require careful planning.</p>`,16)),s("p",null,[n[210]||(n[210]=a("Consider creating your own custom React component library to streamline the development for teams and ensure UI scaling across projects. Please feel free to share your thoughts or leave a comment below. You can find the ")),s("a",N,[n[207]||(n[207]=a("example source code on GitHub (")),t(e,{icon:"iconfont icon-github"}),n[208]||(n[208]=s("code",null,"sunnyy02/smart-ui",-1)),n[209]||(n[209]=a(")"))]),n[211]||(n[211]=a("."))]),v(" TODO: add ARTICLE CARD "),t(c,u(d({title:"How to build a component library with React and TypeScript",desc:"In this article, we’ll learn what a component library is and how to build a custom component library using React and TypeScript.",link:"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html",logo:"/assets/image/blog.logrocket.com/favicon.png",background:"rgba(112,76,182,0.2)"})),null,16)])}const D=g(x,[["render",E]]),M=JSON.parse('{"path":"/blog.logrocket.com/build-component-library-react-typescript.html","title":"How to build a component library with React and TypeScript","lang":"en-US","frontmatter":{"lang":"en-US","title":"How to build a component library with React and TypeScript","description":"Article(s) > How to build a component library with React and TypeScript","icon":"fa-brands fa-react","category":["Node.js","React.js","Article(s)"],"tag":["blog","blog.logrocket.com","node","nodejs","node-js","react","reactjs","react-js"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to build a component library with React and TypeScript\\",\\"image\\":[\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/project-structure-1.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/storybook-ui-new-browser-tab-1.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/green-ticks-tests-passed-1.png\\"],\\"datePublished\\":\\"2024-10-23T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Yan Sun\\",\\"url\\":\\"https://blog.logrocket.com/author/yansun/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"How to build a component library with React and TypeScript"}],["meta",{"property":"og:description","content":"Article(s) > How to build a component library with React and TypeScript"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png"}],["meta",{"name":"twitter:image:alt","content":"How to build a component library with React and TypeScript"}],["meta",{"property":"article:author","content":"Yan Sun"}],["meta",{"property":"article:tag","content":"react-js"}],["meta",{"property":"article:tag","content":"reactjs"}],["meta",{"property":"article:tag","content":"react"}],["meta",{"property":"article:tag","content":"node-js"}],["meta",{"property":"article:tag","content":"nodejs"}],["meta",{"property":"article:tag","content":"node"}],["meta",{"property":"article:tag","content":"blog.logrocket.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2024-10-23T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > How to build a component library with React and TypeScript"},{"property":"og:description","content":"How to build a component library with React and TypeScript"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html"}]],"prev":"/programming/js-react/articles/README.md","date":"2024-10-23T00:00:00.000Z","isOriginal":false,"author":[{"name":"Yan Sun","url":"https://blog.logrocket.com/author/yansun/"}],"cover":"/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png"},"git":{},"readingTime":{"minutes":14.8,"words":4441},"filePathRelative":"blog.logrocket.com/build-component-library-react-typescript.md","copyright":{"author":"Yan Sun"}}');export{D as comp,M as data};
