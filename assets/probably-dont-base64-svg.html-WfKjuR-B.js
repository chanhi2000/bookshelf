import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as m,d as s,f as n,b as i,a as h,t as b,n as p,g as c,w as f,e,r as o,o as v}from"./app-BItykJLQ.js";const k={},y={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},S={class:"table-of-contents"},I={href:"http://stackoverflow.com/questions/201479/what-is-base-64-encoding-used-for",target:"_blank",rel:"noopener noreferrer"},P={class:"hint-container info"},x={class:"hint-container-title"},T={href:"https://github.com/filamentgroup/grunticon",target:"_blank",rel:"noopener noreferrer"},V={href:"https://icomoon.io/",target:"_blank",rel:"noopener noreferrer"},G={href:"https://github.com/svg/svgo",target:"_blank",rel:"noopener noreferrer"},C={href:"https://mobilefish.com/services/base64/base64.php",target:"_blank",rel:"noopener noreferrer"},B={class:"hint-container info"},D={href:"http://codepen.io/chriscoyier/pen/ZQgvyG/",target:"_blank",rel:"noopener noreferrer"},A={class:"hint-container info"},E={href:"https://codepen.io/tigt/post/optimizing-svgs-in-data-uris",target:"_blank",rel:"noopener noreferrer"};function U(u,t){const l=o("VPCard"),d=o("router-link"),r=o("SiteInfo"),a=o("VPIcon");return v(),m("div",null,[s("h1",y,[s("a",w,[s("span",null,b(u.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),n(l,p(c({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",S,[s("ul",null,[s("li",null,[n(d,{to:"#a-test"},{default:f(()=>[...t[0]||(t[0]=[e("A Test",-1)])]),_:1})])])]),t[38]||(t[38]=s("hr",null,null,-1)),n(r,{name:"Probably Don't Base64 SVG",desc:"Perhaps you've heard of data URIs. It's a really nice way of including a resource that would have otherwise been a separate HTTP request. The format that you",url:"https://css-tricks.com/probably-dont-base64-svg",logo:"https://css-tricks/favicon.svg",preview:"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/12/default-social-css-tricks.png"}),t[39]||(t[39]=i(`<p>Perhaps you‚Äôve heard of data URIs. It‚Äôs a really nice way of including a resource that would have otherwise been a separate HTTP request. The format that you use in a data URI can vary. Essentially you just tell it what content type it is (e.g. <code>image/png</code>), semicolon, then the data of that file.</p><p>Like:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>data: ... <span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>or:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.bg</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#39;data: ... &#39;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For a raster image like a PNG, the data of that image needs to be in base64 format. I‚Äôm not a huge expert here, but as far as I understand, base64 is safe for use in something like HTML or CSS because it only uses 64 characters known to be safe in those formats.</p><figure><img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2014/10/2014-10-21-at-8.55-AM.png" alt="On the left, the data of a PNG, which includes characters that have the potential to screw up HTML. On the right, that same image base64 encoded with all safe characters." tabindex="0" loading="lazy"><figcaption>On the left, the data of a PNG, which includes characters that have the potential to screw up HTML. On the right, that same image base64 encoded with all safe characters.</figcaption></figure>`,7)),s("p",null,[t[2]||(t[2]=e("Probably better ",-1)),s("a",I,[n(a,{icon:"fa-brands fa-stack-overflow"}),t[1]||(t[1]=e("Stack Overflow answer",-1))]),t[3]||(t[3]=e(" by Dave Markle:",-1))]),s("div",P,[s("p",x,[t[4]||(t[4]=e("Dave Markle (",-1)),n(a,{icon:"fa-brands fa-stackoverflow"}),t[5]||(t[5]=s("code",null,"stackoverflow.com",-1)),t[6]||(t[6]=e(")",-1))]),t[7]||(t[7]=s("blockquote",null,[s("p",null,"You never know - some protocols may interpret your binary data as control characters (like a modem), or your binary data could be screwed up because the underlying protocol might think that you‚Äôve entered a special character combination (like how FTP translates line endings)."),s("p",null,"So to get around this, people encode the binary data into characters. Base64 is one of these types of encodings.")],-1)),n(r,{name:"What is base 64 encoding used for?",desc:"I've heard people talking about ‚Äùbase 64 encoding‚Äù here and there.  What is it used for?",url:"https://stackoverflow.com/questions/201479/what-is-base-64-encoding-used-for/",logo:"https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico?v=ec617d715196",preview:"https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded"})]),t[40]||(t[40]=i(`<p>Base64 looks like gibberish, and we often associate gibberish with compression on the web. But this gibberish isn‚Äôt compression, it‚Äôs actually a bit bigger than the original because, to quote Jon Skeet on the same Stack Overflow thread:</p><blockquote><p>It takes 4 characters per 3 bytes of data, plus potentially a bit of padding at the end.</p></blockquote><p>I‚Äôm not sure how gzip factors into it though. But what I‚Äôm getting at here is how SVG factors into this.</p><p>You can use data URIs for SVG too.</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>data:image/svg+xml; ... <span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.bg</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#39;data:image/svg+xml; ... &#39;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For SVG, you don‚Äôt <em>have</em> to convert the data into base64. Again, not an expert here, but I think the SVG syntax just doesn‚Äôt have any crazy characters in it. It‚Äôs just XML like HTML is, so it‚Äôs safe to use in HTML.</p><p>You can leave the encoding in UTF-8, and drop the <code>&lt;svg&gt;</code> syntax right in there! Like this:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>data:image/svg+xml;utf8,&lt;svg ... &gt; ... &lt;/svg&gt;<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.bg</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#39;data:image/svg+xml;utf8,&lt;svg ...&gt; ... &lt;/svg&gt;&#39;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10)),s("p",null,[t[11]||(t[11]=e("So because we can do that, and we know that base64 often increases the size, might as well do that right? Yep. As a side benefit, the ",-1)),t[12]||(t[12]=s("code",null,"<svg>",-1)),t[13]||(t[13]=e(" syntax left alone does gzip better, because it‚Äôs far more repetitive than base64 is. Say you wanted two versions of an icon, one red, one yellow. You can use the same SVG syntax duplicated just change the fill color. Gzip will eat that for breakfast. Credit to Todd Parker for that tip, and that‚Äôs also the approach of ",-1)),s("a",T,[t[8]||(t[8]=e("Grunticon (",-1)),n(a,{icon:"iconfont icon-github"}),t[9]||(t[9]=s("code",null,"filamentgroup/grunticon",-1)),t[10]||(t[10]=e(")",-1))]),t[14]||(t[14]=e(", which data URI‚Äôs SVG in UTF-8 into CSS.",-1))]),t[41]||(t[41]=s("hr",null,null,-1)),t[42]||(t[42]=s("h2",{id:"a-test",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#a-test"},[s("span",null,"A Test")])],-1)),s("p",null,[t[16]||(t[16]=e("To test this out, I downloaded three SVG icons from ",-1)),s("a",V,[n(a,{icon:"fas fa-globe"}),t[15]||(t[15]=e("IcoMoon",-1))]),t[17]||(t[17]=e(".",-1))]),t[43]||(t[43]=s("figure",null,[s("img",{src:"https://i0.wp.com/css-tricks.com/wp-content/uploads/2014/10/three-icons.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1)),t[44]||(t[44]=s("ul",null,[s("li",null,[s("code",null,"cog.svg"),e(": 1,026 bytes")]),s("li",null,[s("code",null,"play.svg"),e(": 399 bytes")]),s("li",null,[s("code",null,"replay.svg"),e(": 495 bytes")])],-1)),s("p",null,[t[21]||(t[21]=e("I ran them through ",-1)),s("a",G,[t[18]||(t[18]=e("SVGO (",-1)),n(a,{icon:"iconfont icon-github"}),t[19]||(t[19]=s("code",null,"svg/svgo",-1)),t[20]||(t[20]=e(")",-1))]),t[22]||(t[22]=e(" just so they are nicely optimized and kinda ready for use as a data URI (whitespace removed, although I guess not strictly necessary).",-1))]),t[45]||(t[45]=s("ul",null,[s("li",null,[s("code",null,"cog.svg"),e(": 685 bytes")]),s("li",null,[s("code",null,"play.svg"),e(": 118 bytes")]),s("li",null,[s("code",null,"replay.svg"),e(": 212 bytes")])],-1)),s("p",null,[t[24]||(t[24]=e("Then I ran those through a ",-1)),s("a",C,[n(a,{icon:"fas fa-globe"}),t[23]||(t[23]=e("base64 converter",-1))]),t[25]||(t[25]=e(".",-1))]),t[46]||(t[46]=s("ul",null,[s("li",null,[s("code",null,"cog.svg"),e(": 916 bytes - 133% of the original size")]),s("li",null,[s("code",null,"play.svg"),e(": 160 bytes - 136% of the original size")]),s("li",null,[s("code",null,"replay.svg"),e(": 283 bytes - 134% of the original size")])],-1)),t[47]||(t[47]=s("p",null,"So that makes sense, right? If it‚Äôs 4 characters for every 3 bytes, that‚Äôs 133% bigger, with the variation coming from uneven lengths and thus padding.",-1)),t[48]||(t[48]=s("p",null,"Anyway, maybe this is all super obvious. But it just seems to me if you‚Äôre going to use a data URI for SVG there is no reason to ever base64 it.",-1)),t[49]||(t[49]=s("p",null,"Props to Matt Flaschen for his email a few months ago that highlighted this issue for me.",-1)),s("div",B,[t[31]||(t[31]=s("p",{class:"hint-container-title"},"UPDATE: on IE",-1)),s("p",null,[t[29]||(t[29]=e("There is a lot of talk in the comments about IE 10/11/Edge not supporting this. It does, it‚Äôs just finicky. ",-1)),s("a",D,[t[26]||(t[26]=e("Here‚Äôs a reduced test case (",-1)),n(a,{icon:"fa-brands fa-codepen"}),t[27]||(t[27]=s("code",null,"chriscoyier",-1)),t[28]||(t[28]=e(")",-1))]),t[30]||(t[30]=e(" that works in those version of IE. Note the second example, which is URL encoded, works. The trick is not specifying an encoding type at all.",-1))])]),s("div",A,[t[36]||(t[36]=s("p",{class:"hint-container-title"},"UPDATE: ‚ÄúOptimized URL-encoded‚Äù",-1)),s("p",null,[s("a",E,[t[32]||(t[32]=e("Taylor Hunt investigated a bit deeper (",-1)),n(a,{icon:"fa-brands fa-codepen"}),t[33]||(t[33]=s("code",null,"tigt",-1)),t[34]||(t[34]=e(")",-1))]),t[35]||(t[35]=e(" and found that you can sweak out a bit more optimization by not encoding stuff like spaces and single quotes. Example:",-1))]),t[37]||(t[37]=i(`<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; viewBox=&#39;0 0 512 512&#39;%3E%3Cpath d=&#39;M224%20387.814V512L32 320l192-192v126.912C447.375 260.152 437.794 103.016 380.93 0 521.287 151.707 491.48 394.785 224 387.814z&#39;/%3E%3C/svg%3E</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,1))]),h(" TODO: add ARTICLE CARD "),n(l,p(c({title:"Probably Don't Base64 SVG",desc:"Perhaps you've heard of data URIs. It's a really nice way of including a resource that would have otherwise been a separate HTTP request. The format that you",link:"https://chanhi2000.github.io/bookshelf/css-tricks.com/probably-dont-base64-svg.html",logo:"https://css-tricks/favicon.svg",background:"rgba(17,17,17,0.2)"})),null,16)])}const R=g(k,[["render",U]]),j=JSON.parse(`{"path":"/css-tricks.com/probably-dont-base64-svg.html","title":"Probably Don't Base64 SVG","lang":"en-US","frontmatter":{"lang":"en-US","title":"Probably Don't Base64 SVG","description":"Article(s) > Probably Don't Base64 SVG","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","css-tricks.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Probably Don't Base64 SVG\\",\\"image\\":[\\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2014/10/2014-10-21-at-8.55-AM.png\\",\\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2014/10/three-icons.png\\"],\\"datePublished\\":\\"2016-07-25T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Chris Coyier\\",\\"url\\":\\"https://css-tricks.com/author/chriscoyier/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/css-tricks.com/probably-dont-base64-svg.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Probably Don't Base64 SVG"}],["meta",{"property":"og:description","content":"Article(s) > Probably Don't Base64 SVG"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/12/default-social-css-tricks.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/12/default-social-css-tricks.png"}],["meta",{"name":"twitter:image:alt","content":"Probably Don't Base64 SVG"}],["meta",{"property":"article:author","content":"Chris Coyier"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"css-tricks.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2016-07-25T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Probably Don't Base64 SVG"},{"property":"og:description","content":"Probably Don't Base64 SVG"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/css-tricks.com/probably-dont-base64-svg.html"}]],"prev":"/programming/css/articles/README.md","date":"2016-07-25T00:00:00.000Z","isOriginal":false,"author":[{"name":"Chris Coyier","url":"https://css-tricks.com/author/chriscoyier/"}],"cover":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/12/default-social-css-tricks.png"},"git":{},"readingTime":{"minutes":3.97,"words":1192},"filePathRelative":"css-tricks.com/probably-dont-base64-svg.md","copyright":{"author":"Chris Coyier"}}`);export{R as comp,j as data};
