import{_ as b}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as v,d as n,f as s,b as u,t as f,n as c,g as r,w as t,e,r as m,o as h}from"./app-BItykJLQ.js";const x={},y={id:"frontmatter-title-관련",tabindex:"-1"},$={class:"header-anchor",href:"#frontmatter-title-관련"},w={class:"table-of-contents"},C={style:{"text-align":"left"}},S={id:"windows에서-설치",tabindex:"-1"},A={class:"header-anchor",href:"#windows에서-설치"},M={id:"리눅스에서-설치",tabindex:"-1"},F={class:"header-anchor",href:"#리눅스에서-설치"};function G(k,a){const d=m("VPCard"),l=m("router-link"),p=m("VPIcon"),g=m("Tabs");return h(),v("div",null,[n("h1",y,[n("a",$,[n("span",null,f(k.$frontmatter.title)+" 관련",1)])]),s(d,c(r({title:"GNU Make > Article(s)",desc:"Article(s)",link:"/programming/sh-make/articles/README.md",logo:"https://chanhi2000.github.io/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",w,[n("ul",null,[n("li",null,[s(l,{to:"#개요"},{default:t(()=>[...a[0]||(a[0]=[e("개요",-1)])]),_:1})]),n("li",null,[s(l,{to:"#makefile이란"},{default:t(()=>[...a[1]||(a[1]=[e("Makefile이란?",-1)])]),_:1})]),n("li",null,[s(l,{to:"#makefile-기본-작성법"},{default:t(()=>[...a[2]||(a[2]=[e("Makefile 기본 작성법",-1)])]),_:1})]),n("li",null,[s(l,{to:"#makefile-변수"},{default:t(()=>[...a[3]||(a[3]=[e("Makefile 변수",-1)])]),_:1}),n("ul",null,[n("li",null,[s(l,{to:"#암묵적-규칙이란"},{default:t(()=>[...a[4]||(a[4]=[e("암묵적 규칙이란?",-1)])]),_:1})]),n("li",null,[s(l,{to:"#암묵적-변수-목록"},{default:t(()=>[...a[5]||(a[5]=[e("암묵적 변수 목록",-1)])]),_:1})]),n("li",null,[s(l,{to:"#변수-정의"},{default:t(()=>[...a[6]||(a[6]=[e("변수 정의",-1)])]),_:1})]),n("li",null,[s(l,{to:"#변수-호출"},{default:t(()=>[...a[7]||(a[7]=[e("변수 호출",-1)])]),_:1})]),n("li",null,[s(l,{to:"#규칙-내에서-작동하는-자동-변수"},{default:t(()=>[...a[8]||(a[8]=[e("규칙 내에서 작동하는 자동 변수",-1)])]),_:1})])])]),n("li",null,[s(l,{to:"#makefile의-함수"},{default:t(()=>[...a[9]||(a[9]=[e("Makefile의 함수",-1)])]),_:1}),n("ul",null,[n("li",null,[s(l,{to:"#텍스트-변환을-위한-함수"},{default:t(()=>[...a[10]||(a[10]=[e("텍스트 변환을 위한 함수",-1)])]),_:1})]),n("li",null,[s(l,{to:"#조건부-분기를-위한-함수"},{default:t(()=>[...a[11]||(a[11]=[e("조건부 분기를 위한 함수",-1)])]),_:1})])])]),n("li",null,[s(l,{to:"#makefile-디버깅-방법"},{default:t(()=>[...a[12]||(a[12]=[e("Makefile 디버깅 방법",-1)])]),_:1}),n("ul",null,[n("li",null,[s(l,{to:"#처리-출력"},{default:t(()=>[...a[13]||(a[13]=[e("처리 출력",-1)])]),_:1})]),n("li",null,[s(l,{to:"#warning-함수"},{default:t(()=>[...a[14]||(a[14]=[e("warning 함수",-1)])]),_:1})])])]),n("li",null,[s(l,{to:"#g-와-make와-cmake의-install-방법"},{default:t(()=>[...a[15]||(a[15]=[e("g++와 make와 cmake의 install 방법",-1)])]),_:1}),n("ul",null,[n("li",null,[s(l,{to:"#windows에서-설치"},{default:t(()=>[s(p,{icon:"fa-brands fa-windows"}),a[16]||(a[16]=e("Windows에서 설치",-1))]),_:1})]),n("li",null,[s(l,{to:"#리눅스에서-설치"},{default:t(()=>[s(p,{icon:"fa-brands fa-debian"}),a[17]||(a[17]=e("리눅스에서 설치",-1))]),_:1})])])]),n("li",null,[s(l,{to:"#정리"},{default:t(()=>[...a[18]||(a[18]=[e("정리",-1)])]),_:1})])])]),a[88]||(a[88]=n("hr",null,null,-1)),s(d,c(r({title:"Makefile | devkuma",desc:"Makefile은 UNIX 계열 OS에서 일반적인 빌드 도구인 'make'(make 명령어)에 실행할 절차를 기술한 텍스트 파일이다.",link:"https://devkuma.com/docs/makefile/",logo:"https://devkuma.com/favicons/favicon.ico",background:"rgba(48,99,142,0.2)"})),null,16),n("p",null,[a[19]||(a[19]=e(".",-1)),s(p,{icon:"fas fa-file-lines"}),a[20]||(a[20]=n("code",null,"Makefile",-1)),a[21]||(a[21]=e("은 UNIX 계열 OS에서 일반적인 빌드 도구인 ",-1)),a[22]||(a[22]=n("code",null,"make",-1)),a[23]||(a[23]=e("에 실행할 절차를 기술한 텍스트 파일이다.",-1))]),a[89]||(a[89]=u('<hr><h2 id="개요" tabindex="-1"><a class="header-anchor" href="#개요"><span>개요</span></a></h2><p><code>make</code>는 개발자가 작성한 소스 코드에서 최종 실행파일을 얻기 위해 컴파일, 링크 등 일련의 단계를 연속적으로 자동으로 수행해주는 &#39;빌드 도구&#39;의 하나로, 오래전부터 리눅스 등 유닉스 계열 OS에서 표준으로 사용되고 있다.</p><p><code>make</code>에서는 개발자가 수행하고자 하는 일련의 절차를 Makefile에 기술하고, make 명령어에 이를 주면 내용을 해석하여 명령어 실행 등을 연속적으로 자동으로 수행하며, make 명령어 한 번 실행으로 실행파일 생성이 완료된다.</p><hr><h2 id="makefile이란" tabindex="-1"><a class="header-anchor" href="#makefile이란"><span><code>Makefile</code>이란?</span></a></h2><p><code>Makefile</code>에는 컴파일러, 소스 파일, 생성물, 빌드 순서, 빌드 순서, 종속성 등을 기술하고, <code>make</code> 명령을 실행만 하면 빌드할 수 있다. 그 내용을 보면 프로그램 빌드 방법을 알 수 있다. 또한 <code>make</code>는 업데이트가 필요한 파일을 자동으로 판단해 컴파일 횟수를 최소화해 개발 시간을 단축할 수 있다.</p><p>유명한 GNU에서 제공하는 GNU Make의 Home Page에 따르면 Make는 다음과 같은 Tool이라고 한다.</p><blockquote><p>GNU Make is a tool which controls the generation of executables and other non-source files of a program from the program&#39;s source files.</p></blockquote><p>이에 따르면 다음과 같은 장점이 있는 것 같다.</p><ul><li>앤드유저는 그 방법을 자세히 몰라도 패키지를 빌드하고 설치할 수 있다.</li><li>변경된 소스 파일을 기반으로 업데이트가 필요한 파일을 자동으로 파악하고, 적절한 순서를 자동으로 결정한다.</li><li>Make는 C 언어뿐만 아니라 다른 컴파일 언어도 지원한다.</li></ul>',11)),s(d,c(r({title:"Make - GNU Project - Free Software Foundation",desc:"GNU Make is a tool which controls the generation of executables and other non-source files of a program from the program's source files.",link:"https://www.gnu.org/software/make/",logo:"https://www.gnu.org/graphics/gnu-head-mini.png",background:"rgba(163,45,42,0.2)"})),null,16),a[90]||(a[90]=u(`<hr><h2 id="makefile-기본-작성법" tabindex="-1"><a class="header-anchor" href="#makefile-기본-작성법"><span><code>Makefile</code> 기본 작성법</span></a></h2><p>많은 라이브러리를 사용하는 C/ C++을 빌드할 때 <code>make</code>를 사용하면 유용하다. <code>make</code>를 사용하려면 대상 <code>Makefile</code>이 필요한데, 이번에는 그 작성법을 소개한다.</p><p><code>Makefile</code>의 기본 구문은 두 줄로 한 단위이며, 윗줄에 <code>Target: SourceFile</code>, 아랫줄에 &#39;실행할 명령어(맨 앞에 탭 문자)&#39;를 각각 기술한다. 줄 바꿈을 <code>;</code>(세미콜론)으로 대체하여 한 줄로 묶을 수도 있다. <code>변수명=값</code> 형태로 변수를 정의할 수도 있으며, 파일명 등의 지정에 변수를 사용할 수 있다.</p><p>의존 관계를 기록하는 부분이다.</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token target symbol">Target</span> <span class="token punctuation">:</span> [Prerequisites]</span>
<span class="line">  Recipe</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Target</code><ul><li>프로그램에 의해 생성되는 파일의 이름이다.</li></ul></li><li><code>Prerequisites</code><ul><li>전제 조건</li><li>타겟을 생성하기 위한 입력으로 사용되는 파일이다.</li><li>여러 파일도 가능하고, 생략할 수도 있다.</li></ul></li><li><code>Recipe</code><ul><li>recipe가 성립하기 위해서는 prerequisites가 필요하다.</li><li><code>make</code>가 실행할 액션이다.</li><li>여러 줄 가능하다. (행을 분할할 경우 <code>\\</code>를 사용한다)</li><li>열 앞에는 Tab 입력은 필수이다.</li></ul></li></ul><p>빌드할 때 사용하는 명령어를 다음과 같은 규칙에 따라 작성한다.</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token target symbol">Target</span><span class="token punctuation">:</span> SourceFile</span>
<span class="line">  Command</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>간단한 예로 들면 아래와 같이 작성할 수 있다.</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token target symbol">hello</span><span class="token punctuation">:</span> hello.c</span>
<span class="line">  gcc -o hello hello.c</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>그러고, 생성된 파일을 삭제하거나 복사하는 명령도 추가로 작성할 수도 있다.</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token target symbol">clean</span><span class="token punctuation">:</span></span>
<span class="line">  rm -f *~ hello </span>
<span class="line"><span class="token target symbol">install</span><span class="token punctuation">:</span> hello </span>
<span class="line">  install -s hello.exe Path</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>make</code>를 실행할 때에 아무런 인자를 지정하지 않으면 맨 위에 있는 <code>Target</code>이 실행된다. 위의 <code>clean</code>이나 <code>install</code>을 실행하고 싶다면 아래와 같이 인수를 지정한다. <code>shell make clean make install</code> <code>Makefile</code>이 아닌 다른 파일을 <code>Makefile</code>로 지정하고 싶다면, <code>-f</code> 옵션으로 다음과 같이 실행할 수 있다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">make</span> <span class="token parameter variable">-f</span> sample.mk</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>또한, 요소를 변수로 취급할 수 있다. 간단한 예는 다음과 같다.</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line">CXX            <span class="token operator">=</span> g++</span>
<span class="line">OPTIMIZE       <span class="token operator">=</span> -O3</span>
<span class="line">CFLAGS         <span class="token operator">=</span> -IC<span class="token punctuation">:</span>/Users/<span class="token keyword">include</span> \\</span>
<span class="line"><span class="token target symbol">  -IC</span><span class="token punctuation">:</span>/Python/<span class="token keyword">include</span> </span>
<span class="line">DEST           <span class="token operator">=</span> C<span class="token punctuation">:</span>/Users/Local</span>
<span class="line">LDFLAGS        <span class="token operator">=</span> -LC<span class="token punctuation">:</span>/Users/Local/libs</span>
<span class="line">LIBS           <span class="token operator">=</span> -lpython</span>
<span class="line">OBJS           <span class="token operator">=</span> hello</span>
<span class="line"></span>
<span class="line"><span class="token target symbol">all</span><span class="token punctuation">:</span> clean <span class="token variable">$</span><span class="token punctuation">(</span>PROGRAM<span class="token punctuation">)</span> install</span>
<span class="line"><span class="token target symbol"><span class="token variable">$</span>(PROGRAM)</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>OBJS<span class="token punctuation">)</span></span>
<span class="line">  <span class="token variable">$</span><span class="token punctuation">(</span>CXX<span class="token punctuation">)</span> -o <span class="token variable">$</span><span class="token punctuation">(</span>OBJS<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>OBJS<span class="token punctuation">)</span>.cpp <span class="token variable">$</span><span class="token punctuation">(</span>CFLAGS<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>LDFLAGS<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>LIBS<span class="token punctuation">)</span></span>
<span class="line"><span class="token target symbol">clean</span><span class="token punctuation">:</span> rm -f *~ <span class="token variable">$</span><span class="token punctuation">(</span>OBJS<span class="token punctuation">)</span></span>
<span class="line"><span class="token target symbol">install</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>PROGRAM<span class="token punctuation">)</span></span>
<span class="line">  install -s <span class="token variable">$</span><span class="token punctuation">(</span>OBJS<span class="token punctuation">)</span>.exe <span class="token variable">$</span><span class="token punctuation">(</span>DEST<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="makefile-변수" tabindex="-1"><a class="header-anchor" href="#makefile-변수"><span><code>Makefile</code> 변수</span></a></h2><p><code>Makefile</code>의 변수는 두 가지가 있다. 암묵적 변수와 새로 정의되는 변수이다. 암묵적 변수는 암묵적 규칙에서 사용되는 특정 사전 정의된 변수를 말한다.</p><h3 id="암묵적-규칙이란" tabindex="-1"><a class="header-anchor" href="#암묵적-규칙이란"><span>암묵적 규칙이란?</span></a></h3><p>다양화되는 규칙은 굳이 설명하지 않아도 미리 암묵적인 정의된 변수가 있다.</p>`,22)),n("p",null,[a[24]||(a[24]=e(".",-1)),s(p,{icon:"iconfont icon-c"}),a[25]||(a[25]=e("C 소스 파일의 컴파일에 사용되는 레시피는 실제로 ",-1)),a[26]||(a[26]=n("code",null,"$(CC) -c $(CFLAGS) $(CPPFLAGS)",-1)),a[27]||(a[27]=e("라는 코드가 실행되고 있다. ",-1)),a[28]||(a[28]=n("code",null,"CC",-1)),a[29]||(a[29]=e(", ",-1)),a[30]||(a[30]=n("code",null,"CFLAGS",-1)),a[31]||(a[31]=e(", ",-1)),a[32]||(a[32]=n("code",null,"CPPFLAGS",-1)),a[33]||(a[33]=e("는 미리 변수로 정의되어 있으며, 이 내용을 덮어써서 컴파일 레시피를 다시 작성할 수도 있다.",-1))]),a[91]||(a[91]=n("h3",{id:"암묵적-변수-목록",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#암묵적-변수-목록"},[n("span",null,"암묵적 변수 목록")])],-1)),a[92]||(a[92]=n("p",null,"주요한 변수 항목은 아래와 같다.",-1)),n("table",null,[a[69]||(a[69]=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"center"}},"변수 이름"),n("th",{style:{"text-align":"left"}},"설명"),n("th",{style:{"text-align":"left"}},"default")])],-1)),n("tbody",null,[a[37]||(a[37]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"AR")]),n("td",{style:{"text-align":"left"}},"아카이브 메인테넌스 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"ar")])],-1)),a[38]||(a[38]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"AS")]),n("td",{style:{"text-align":"left"}},"어셈블리 실행 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"as")])],-1)),a[39]||(a[39]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"CC")]),n("td",{style:{"text-align":"left"}},"C 프로그램 컴파일 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"cc")])],-1)),a[40]||(a[40]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"CXX")]),n("td",{style:{"text-align":"left"}},"C++ 프로그램 컴파일 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"g++")])],-1)),a[41]||(a[41]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"CO")]),n("td",{style:{"text-align":"left"}},"RCS의 배포 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"co")])],-1)),a[42]||(a[42]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"CPP")]),n("td",{style:{"text-align":"left"}},"C 전처리 프로그램, 표준 출력에 결과"),n("td",{style:{"text-align":"left"}},[n("code",null,"$(CC) -E")])],-1)),a[43]||(a[43]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"FC")]),n("td",{style:{"text-align":"left"}},"Fortranr과 Ratfor 프로그램을 위한 컴파일 또는 전처리기 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"f77")])],-1)),a[44]||(a[44]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"GET")]),n("td",{style:{"text-align":"left"}},"SCCS의 배포 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"get")])],-1)),a[45]||(a[45]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"LEX")]),n("td",{style:{"text-align":"left"}},"Lex 문법을 C 또는 Ratfor로 변환하는 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"lex")])],-1)),a[46]||(a[46]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"PC")]),n("td",{style:{"text-align":"left"}},"Pascal 프로그램 컴파일 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"pc")])],-1)),a[47]||(a[47]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"YACC")]),n("td",{style:{"text-align":"left"}},"Yacc 문법을 C 또는 Ratfor로 변환하는 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"yacc")])],-1)),a[48]||(a[48]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"YACCR")]),n("td",{style:{"text-align":"left"}},"Yacc 문법을 Ratfor로 변환하는 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"yacc -r")])],-1)),a[49]||(a[49]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"MAKEINFO")]),n("td",{style:{"text-align":"left"}},"Texinfo 소스 파일을 Info 파일로 변환하는 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"makeinfo")])],-1)),a[50]||(a[50]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"TEX")]),n("td",{style:{"text-align":"left"}},"TeX 소스에서 TeX DVI 파일을 만드는 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"tex")])],-1)),a[51]||(a[51]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"TEXI2DVI")]),n("td",{style:{"text-align":"left"}},"Texinfo 소스에서 TeX DVI 파일을 만드는 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"texi2dvi")])],-1)),a[52]||(a[52]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"WEAVE")]),n("td",{style:{"text-align":"left"}},"웹을 TeX로 번역하는 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"weave")])],-1)),a[53]||(a[53]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"CWEAVE")]),n("td",{style:{"text-align":"left"}},"C Web을 TeX로 번역하는 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"cweave")])],-1)),a[54]||(a[54]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"TANGLE")]),n("td",{style:{"text-align":"left"}},"웹을 파스칼로 번역하는 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"tangle")])],-1)),a[55]||(a[55]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"CTANGLE")]),n("td",{style:{"text-align":"left"}},"C 웹을 C로 번역하는 프로그램"),n("td",{style:{"text-align":"left"}},[n("code",null,"ctangle")])],-1)),a[56]||(a[56]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"RM")]),n("td",{style:{"text-align":"left"}},"파일을 삭제하는 명령"),n("td",{style:{"text-align":"left"}},[n("code",null,"rm -f")])],-1)),a[57]||(a[57]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"ARFLAGS")]),n("td",{style:{"text-align":"left"}},"아카이브 유지 보수 프로그램에 제공하는 플래그"),n("td",{style:{"text-align":"left"}},[n("code",null,"rv")])],-1)),a[58]||(a[58]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"ASFLAGS")]),n("td",{style:{"text-align":"left"}},[e("어셈블러에 주는 플래그("),n("code",null,".s"),e(" 또는 "),n("code",null,".S"),e(" 파일에 대해 명시적으로 호출되는 경우)")]),n("td",{style:{"text-align":"left"}},"없음")],-1)),a[59]||(a[59]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"CFLAGS")]),n("td",{style:{"text-align":"left"}},"C 컴파일러에 주는 플래그"),n("td",{style:{"text-align":"left"}},"없음")],-1)),n("tr",null,[a[35]||(a[35]=n("td",{style:{"text-align":"center"}},[n("code",null,"CXXFLAGS")],-1)),n("td",C,[s(p,{icon:"fa-brands fa-name"}),a[34]||(a[34]=e("C++ 컴파일러에 주는 플래그",-1))]),a[36]||(a[36]=n("td",{style:{"text-align":"left"}},"없음",-1))]),a[60]||(a[60]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"COFLAGS")]),n("td",{style:{"text-align":"left"}},"RCS co 프로그램에 주는 플래그"),n("td",{style:{"text-align":"left"}},"없음")],-1)),a[61]||(a[61]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"CPPFLAGS")]),n("td",{style:{"text-align":"left"}},"C 프리프로세서 및 프로그램에 제공하는 플래그(C 및 Fortran 컴파일러"),n("td",{style:{"text-align":"left"}},"없음")],-1)),a[62]||(a[62]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"FFLAG")]),n("td",{style:{"text-align":"left"}},"Fortran 컴파일러에 주는 플래그"),n("td",{style:{"text-align":"left"}},"없음")],-1)),a[63]||(a[63]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"GFLAG")]),n("td",{style:{"text-align":"left"}},"SCCS get 프로그램에 주는 플래그"),n("td",{style:{"text-align":"left"}},"없음")],-1)),a[64]||(a[64]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"LDFLAGS")]),n("td",{style:{"text-align":"left"}},"링커 ld를 호출할 때 컴파일러에 주는 플래그"),n("td",{style:{"text-align":"left"}},"없음")],-1)),a[65]||(a[65]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"LFLAGS")]),n("td",{style:{"text-align":"left"}},"Lex에게 주는 플래그"),n("td",{style:{"text-align":"left"}},"없음")],-1)),a[66]||(a[66]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"PFLAGS")]),n("td",{style:{"text-align":"left"}},"Pascal 컴파일러에 주는 플래그"),n("td",{style:{"text-align":"left"}},"없음")],-1)),a[67]||(a[67]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"RFLAGS")]),n("td",{style:{"text-align":"left"}},"Ratfor 프로그램에 대한 Fortran 컴파일러에 제공하는 플래그"),n("td",{style:{"text-align":"left"}},"없음")],-1)),a[68]||(a[68]=n("tr",null,[n("td",{style:{"text-align":"center"}},[n("code",null,"YFLAGS")]),n("td",{style:{"text-align":"left"}},"Yacc에게 주는 플래그"),n("td",{style:{"text-align":"left"}},"없음")],-1))])]),s(d,c(r({title:"GNU make",desc:"Implicit Variables",link:"https://www.gnu.org/software/make/manual/make.html#Implicit-Variables",logo:"https://www.gnu.org/graphics/gnu-head-mini.png",background:"rgba(163,45,42,0.2)"})),null,16),a[93]||(a[93]=u(`<h3 id="변수-정의" tabindex="-1"><a class="header-anchor" href="#변수-정의"><span>변수 정의</span></a></h3><p><code>Makefile</code> 내에서 변수를 정의하는 방법에는 두 가지가 있다.</p><table><thead><tr><th style="text-align:center;">기호</th><th style="text-align:left;">상세</th></tr></thead><tbody><tr><td style="text-align:center;"><code>=</code></td><td style="text-align:left;">재귀적으로 확장되는 변수</td></tr><tr><td style="text-align:center;"><code>:=</code></td><td style="text-align:left;">단순하게 전개되는 변수</td></tr></tbody></table><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line">foo <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span></span>
<span class="line">bar <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span>ugh<span class="token punctuation">)</span></span>
<span class="line">ugh <span class="token operator">=</span> Huh?</span>
<span class="line"></span>
<span class="line"><span class="token target symbol">all</span><span class="token punctuation">:</span></span>
<span class="line">  echo <span class="token variable">$</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment"># =&gt; Hub?</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="변수-호출" tabindex="-1"><a class="header-anchor" href="#변수-호출"><span>변수 호출</span></a></h3><p><code>$(name)</code>, 또는 <code>\${name}</code></p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line">objects <span class="token operator">=</span> program.o foo.o utils.o <span class="token comment"># =&gt; program.o foo.o utils.o</span></span>
<span class="line"><span class="token target symbol">program</span> <span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>objects<span class="token punctuation">)</span></span>
<span class="line">        cc -o program <span class="token variable">$</span><span class="token punctuation">(</span>objects<span class="token punctuation">)</span> </span>
<span class="line"></span>
<span class="line"><span class="token target symbol"><span class="token variable">$</span>(objects)</span> <span class="token punctuation">:</span> defs.h</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="규칙-내에서-작동하는-자동-변수" tabindex="-1"><a class="header-anchor" href="#규칙-내에서-작동하는-자동-변수"><span>규칙 내에서 작동하는 자동 변수</span></a></h3><p>자동변수는 타겟과 전제조건을 호출할 때 사용할 수 있는 표기법이다. 약어로 사용할 수 있을 뿐만 아니라, 조건에 따라 필요한 것만 참조하는 기능을 가진 것도 있다.</p><h4 id="대상-이름" tabindex="-1"><a class="header-anchor" href="#대상-이름"><span><code>$@</code> 대상 이름</span></a></h4><p>현재 타켓 이름.</p><table><thead><tr><th style="text-align:center;">변수</th><th style="text-align:left;">설명</th></tr></thead><tbody><tr><td style="text-align:center;"><code>$@</code></td><td style="text-align:left;">규칙의 타겟 이름이다. <code>$(@)</code>로 써도 같은 의미를 가진다.</td></tr><tr><td style="text-align:center;"><code>(@D)</code></td><td style="text-align:left;">규칙 타겟의 디렉토리 이름.</td></tr><tr><td style="text-align:center;"><code>(@F)</code></td><td style="text-align:left;">규칙 타겟의 파일 이름.</td></tr></tbody></table><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token target symbol">aaa/bbb/foo</span><span class="token punctuation">:</span></span>
<span class="line">  echo <span class="token variable">$@</span>     <span class="token comment"># =&gt; aaa/bbb/foo</span></span>
<span class="line">  echo <span class="token variable">$(@D)</span>  <span class="token comment"># =&gt; aaa/bbb</span></span>
<span class="line">  echo <span class="token variable">$(@F)</span>  <span class="token comment"># =&gt; foo</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="종속성의-첫-번째-이름" tabindex="-1"><a class="header-anchor" href="#종속성의-첫-번째-이름"><span><code>$&lt;</code> 종속성의 첫 번째 이름</span></a></h4><p>전제 조건의 첫 번째 이름이다.</p><table><thead><tr><th style="text-align:center;">변수</th><th style="text-align:left;">설명</th></tr></thead><tbody><tr><td style="text-align:center;"><code>$&lt;</code></td><td style="text-align:left;">전제 조건의 첫 번째 이름이다. <code>$(&lt;)</code>로 써도 같은 의미를 가진다.</td></tr><tr><td style="text-align:center;"><code>$(&lt;D)</code></td><td style="text-align:left;">전제 조건의 첫 번째 디렉토리 이름.</td></tr><tr><td style="text-align:center;"><code>$(&lt;F)</code></td><td style="text-align:left;">전제 조건의 첫 번째 파일 이름.</td></tr></tbody></table><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token target symbol">output/foo</span><span class="token punctuation">:</span> input/bar input/baz</span>
<span class="line">  echo <span class="token variable">$&lt;</span>     <span class="token comment"># =&gt; input/bar</span></span>
<span class="line">  echo <span class="token variable">$(&lt;D)</span>  <span class="token comment"># =&gt; input</span></span>
<span class="line">  echo <span class="token variable">$(&lt;F)</span>  <span class="token comment"># =&gt; bar</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="대상의-모든-종속성-이름" tabindex="-1"><a class="header-anchor" href="#대상의-모든-종속성-이름"><span><code>$^</code> 대상의 모든 종속성 이름</span></a></h4><p>대상의 모든 전제 조건의 이름이다.</p><table><thead><tr><th style="text-align:center;">변수</th><th style="text-align:left;">설명</th></tr></thead><tbody><tr><td style="text-align:center;"><code>$^</code></td><td style="text-align:left;">대상의 전제 조건의 이름이다. <code>$(^)</code>로 써도 같은 의미를 갖는다.</td></tr><tr><td style="text-align:center;"><code>$(^D)</code></td><td style="text-align:left;">대상 전제 조건의 디렉토리 이름.</td></tr><tr><td style="text-align:center;"><code>$(^F)</code></td><td style="text-align:left;">대상 전제 조건의 파일 이름.</td></tr></tbody></table><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token target symbol">output/foo</span><span class="token punctuation">:</span> input/bar input/baz</span>
<span class="line">  echo <span class="token variable">$^</span>     <span class="token comment"># =&gt; input/bar input/baz</span></span>
<span class="line">  echo <span class="token variable">$(^D)</span>  <span class="token comment"># =&gt; input input</span></span>
<span class="line">  echo <span class="token variable">$(^F)</span>  <span class="token comment"># =&gt; bar baz</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="대상보다-타임스탬프가-새로운-종속성의-이름" tabindex="-1"><a class="header-anchor" href="#대상보다-타임스탬프가-새로운-종속성의-이름"><span><code>$?</code> 대상보다 타임스탬프가 새로운 종속성의 이름</span></a></h4><p>타겟보다 타임스탬프가 새로운 전제 조건의 이름이다.</p><table><thead><tr><th style="text-align:center;">변수</th><th style="text-align:left;">설명</th></tr></thead><tbody><tr><td style="text-align:center;"><code>$?</code></td><td style="text-align:left;">대상보다 새로운 모든 전제 조건의 이름이다. <code>$(?)</code> 로 써도 같은 의미를 가진다.</td></tr><tr><td style="text-align:center;"><code>$(?D)</code></td><td style="text-align:left;">대상보다 새로운 모든 전제 조건의 디렉토리 이름.</td></tr><tr><td style="text-align:center;"><code>$(?F)</code></td><td style="text-align:left;">대상보다 새로운 모든 전제 조건의 파일 이름.</td></tr></tbody></table><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token target symbol">output/foo</span><span class="token punctuation">:</span> input/bar input/baz</span>
<span class="line">  echo <span class="token variable">$?</span>     <span class="token comment"># =&gt; input/bar</span></span>
<span class="line">  echo <span class="token variable">$(?D)</span>  <span class="token comment"># =&gt; input</span></span>
<span class="line">  echo <span class="token variable">$(?F)</span>  <span class="token comment"># =&gt; bar</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="대상의-모든-종속성-이름-1" tabindex="-1"><a class="header-anchor" href="#대상의-모든-종속성-이름-1"><span><code>$+</code> 대상의 모든 종속성 이름</span></a></h4><p>대상의 모든 전제 조건의 이름(중복이 있어도 생략하지 않음). 일반적으로 <code>$^</code>가 더 많이 사용된다.</p><table><thead><tr><th style="text-align:center;">변수</th><th style="text-align:left;">설명</th></tr></thead><tbody><tr><td style="text-align:center;"><code>$+</code></td><td style="text-align:left;">중복이 포함된 대상의 전제 조건의 이름이다. <code>$(+)</code>로 써도 같은 의미를 가진다.</td></tr><tr><td style="text-align:center;"><code>$(+D)</code></td><td style="text-align:left;">중복이 포함된 대상 전제 조건의 디렉토리 이름.</td></tr><tr><td style="text-align:center;"><code>$(+F)</code></td><td style="text-align:left;">중복이 포함된 대상 전제조건의 파일명.</td></tr></tbody></table><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token target symbol">output/foo</span><span class="token punctuation">:</span> input/baz input/baz input/baz</span>
<span class="line">  echo <span class="token variable">$+</span>     <span class="token comment"># =&gt; input/baz input/baz input/baz</span></span>
<span class="line">  echo <span class="token variable">$(+D)</span>  <span class="token comment"># =&gt; input input input</span></span>
<span class="line">  echo <span class="token variable">$(+F)</span>  <span class="token comment"># =&gt; baz baz baz</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="대상의-패턴-매칭과-일치하는-부분" tabindex="-1"><a class="header-anchor" href="#대상의-패턴-매칭과-일치하는-부분"><span><code>$*</code> 대상의 패턴 매칭과 일치하는 부분</span></a></h4><p>대상의 패턴과 일치하는 부분이다. 관련 파일을 생성할 때 등에 유용하다.</p><table><thead><tr><th style="text-align:center;">변수</th><th style="text-align:left;">설명</th></tr></thead><tbody><tr><td style="text-align:center;"><code>$*</code></td><td style="text-align:left;">대상의 패턴과 일치하는 부분이다. <code>$(*)</code>로 써도 같은 의미를 가진다.</td></tr><tr><td style="text-align:center;"><code>$(*D)</code></td><td style="text-align:left;">대상의 패턴과 일치하는 부분의 디렉토리 이름.</td></tr><tr><td style="text-align:center;"><code>$(*F)</code></td><td style="text-align:left;">대상의 패턴과 일치하는 부분의 파일명.</td></tr></tbody></table><hr><h2 id="makefile의-함수" tabindex="-1"><a class="header-anchor" href="#makefile의-함수"><span><code>Makefile</code>의 함수</span></a></h2><p>Make에는 <code>Makefile</code> 내에서 문자열 처리와 조건부 분기를 위한 함수가 있다. 주요 함수는 다음과 같다.</p>`,35)),s(d,c(r({title:"Functions (GNU make)",desc:"8 Functions for Transforming Text",link:"https://www.gnu.org/software/make/manual/html_node/Functions.html",logo:"https://www.gnu.org/graphics/gnu-head-mini.png",background:"rgba(163,45,42,0.2)"})),null,16),a[94]||(a[94]=u(`<h3 id="텍스트-변환을-위한-함수" tabindex="-1"><a class="header-anchor" href="#텍스트-변환을-위한-함수"><span>텍스트 변환을 위한 함수</span></a></h3><p>함수는 <code>makefile</code>에서 변수를 정의할 때, 텍스트 조작을 하기 위해 사용된다. 여기서는 주요 함수를 소개한다.</p><p>함수는 다음과 같은 구문으로 호출된다.</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token variable">$</span><span class="token punctuation">(</span>function arguments<span class="token punctuation">)</span></span>
<span class="line"><span class="token variable">$</span><span class="token punctuation">{</span>function arguments<span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,4)),s(d,c(r({title:"GNU make",desc:"8.2 Functions for String Substitution and Analysis",link:"https://www.gnu.org/software/make/manual/make.html#Text-Functions",logo:"https://www.gnu.org/graphics/gnu-head-mini.png",background:"rgba(163,45,42,0.2)"})),null,16),a[95]||(a[95]=u(`<h4 id="shell-함수" tabindex="-1"><a class="header-anchor" href="#shell-함수"><span><code>shell</code> 함수</span></a></h4><p>쉘을 실행합니다.</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line">files <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">shell</span> echo *.c<span class="token punctuation">)</span></span>
<span class="line">INCLUDE <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">shell</span> find <span class="token variable">$</span><span class="token punctuation">(</span>INCDIRS<span class="token punctuation">)</span> -type d<span class="token punctuation">)</span></span>
<span class="line">SRCDIR <span class="token operator">=</span> ./srcs</span>
<span class="line">SRCS <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">shell</span> find <span class="token variable">$</span><span class="token punctuation">(</span>SRCDIR<span class="token punctuation">)</span> -name *.c<span class="token punctuation">)</span></span>
<span class="line"><span class="token target symbol">all</span><span class="token punctuation">:</span></span>
<span class="line">  echo <span class="token variable">$</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span> <span class="token comment"># =&gt; hoge.c foo.c</span></span>
<span class="line">  echo <span class="token variable">$</span><span class="token punctuation">(</span>INCLUDE<span class="token punctuation">)</span> <span class="token comment"># =&gt; include</span></span>
<span class="line">  echo <span class="token variable">$</span><span class="token punctuation">(</span>SRCDIR<span class="token punctuation">)</span> <span class="token comment"># =&gt; ./srcs</span></span>
<span class="line">  echo <span class="token variable">$</span><span class="token punctuation">(</span>SRCS<span class="token punctuation">)</span> <span class="token comment"># =&gt; hoge.c foo.c</span></span>
<span class="line"></span>
<span class="line">RESULT <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">shell</span> seq 1 10<span class="token punctuation">)</span></span>
<span class="line"><span class="token target symbol">all</span><span class="token punctuation">:</span></span>
<span class="line">  echo <span class="token variable">$</span><span class="token punctuation">(</span>RESULT<span class="token punctuation">)</span>  <span class="token comment"># =&gt; 1 2 3 4 5 6 7 8 9 10</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="addprefix-함수" tabindex="-1"><a class="header-anchor" href="#addprefix-함수"><span><code>addprefix</code> 함수</span></a></h4><p>앞에 문자열을 추가합니다. <code>-l</code> 옵션 등을 사용할 때 유용할 것 같다.</p><p><code>$(addprefix prefix,names...)</code></p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line">FILES <span class="token operator">:=</span> foo bar</span>
<span class="line"><span class="token target symbol">all</span><span class="token punctuation">:</span></span>
<span class="line">  echo <span class="token variable">$</span><span class="token punctuation">(</span>addprefix src/,<span class="token variable">$</span><span class="token punctuation">(</span>FILES<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># =&gt; src/foo src/bar</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dir-함수" tabindex="-1"><a class="header-anchor" href="#dir-함수"><span><code>dir</code> 함수</span></a></h4><p>파일 이름에 대한 함수. 디렉토리만 추출한다.</p><p><code>$(dir names...)</code></p><p><code>names</code>의 파일명에서 디렉토리 부분을 추출한다. 파일명의 디렉토리 부분은 마지막 슬래시 이전의 모든 부분이다. 슬래시를 포함하지 않으면 디렉토리 부분은 문자열 ./가 된다.</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line">FILES <span class="token operator">:=</span> src/hoge.c src/hoge.h index.html</span>
<span class="line"><span class="token target symbol">all</span><span class="token punctuation">:</span></span>
<span class="line">  echo <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">dir</span> <span class="token variable">$</span><span class="token punctuation">(</span>FILES<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># =&gt; src/ src/ ./</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="notdir-함수" tabindex="-1"><a class="header-anchor" href="#notdir-함수"><span><code>notdir</code> 함수</span></a></h4><p>파일명 검색하는 함수</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line">FILES <span class="token operator">:=</span> ./dir/hoge.txt</span>
<span class="line"><span class="token target symbol">all</span><span class="token punctuation">:</span></span>
<span class="line">  echo <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">notdir</span> <span class="token variable">$</span><span class="token punctuation">(</span>FILES<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># =&gt; hoge.txt</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="대체-참조" tabindex="-1"><a class="header-anchor" href="#대체-참조"><span>대체 참조</span></a></h4><p>바꾸기 참조는 변수의 값을 지정된 변경 사항으로 대체한다. 이는 <code>$(var: 대체전 = 대체후)</code> (또는 <code>\${var: 대체전 = 대체후})</code>의 형태로 변수 <code>var</code>의 값을 가져와 단어 끝에 있는 모든 a를 b로 대체하고 결과 문자열을 대체한다.</p><p>그러고, 단어 내 임의의 수의 문자와 일치하는 와일드카드 역할을 한다. 대체 참조는 <code>patsubst</code> 함수의 약어이다.</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line">foo <span class="token operator">:=</span> a.o b.o c.o</span>
<span class="line">bar <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span>foo<span class="token punctuation">:</span>%.o<span class="token operator">=</span>%.c<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token target symbol">all</span><span class="token punctuation">:</span></span>
<span class="line">  echo <span class="token variable">$</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token comment"># =&gt; a.c b.c c.c</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>patsubst</code> 함수를 지정한 경우</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">patsubst</span> pattern<span class="token punctuation">(</span>대체전<span class="token punctuation">)</span>, replacement<span class="token punctuation">(</span>대체후<span class="token punctuation">)</span>, text<span class="token punctuation">(</span>대상<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">foo <span class="token operator">:=</span> a.o b.o c.o</span>
<span class="line">bar <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">patsubst</span> %.o,%.c,<span class="token variable">$</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token target symbol">all</span><span class="token punctuation">:</span></span>
<span class="line">    echo <span class="token variable">$</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token comment"># =&gt; a.c b.c c.c</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="realpath-함수" tabindex="-1"><a class="header-anchor" href="#realpath-함수"><span><code>realpath</code> 함수</span></a></h4><p>존재하는 전체 경로 가져오기</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token string">&quot;$(realpath ./dir/hoge.txt)&quot;</span><span class="token target symbol">//C</span><span class="token punctuation">:</span>users/hoge/bin/hoge.txt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="suffix-함수" tabindex="-1"><a class="header-anchor" href="#suffix-함수"><span><code>suffix</code> 함수</span></a></h4><p>확장자 가져오기</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token string">&quot;$(suffix ./dir/hoge.txt)&quot;</span>//.txt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="wildcard-함수" tabindex="-1"><a class="header-anchor" href="#wildcard-함수"><span><code>wildcard</code> 함수</span></a></h4><p>와일드카드를 사용하여 존재하는 파일명 검색</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token string">&quot;$(suffix ./dir/*.txt)&quot;</span>//hoge.txt hogehoge.txt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="조건부-분기를-위한-함수" tabindex="-1"><a class="header-anchor" href="#조건부-분기를-위한-함수"><span>조건부 분기를 위한 함수</span></a></h3><h4 id="if" tabindex="-1"><a class="header-anchor" href="#if"><span><code>if</code></span></a></h4><p>조건부 분기</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token string">&quot;$(if $(VAR1),$(exist),$(none))&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="ifeq" tabindex="-1"><a class="header-anchor" href="#ifeq"><span><code>ifeq</code></span></a></h4><p>조건부 분기별 작성법</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token keyword">ifeq</span> <span class="token punctuation">(</span><span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span>,gcc<span class="token punctuation">)</span></span>
<span class="line">  libs<span class="token operator">=</span><span class="token variable">$</span><span class="token punctuation">(</span>libs_for_gcc<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">  libs<span class="token operator">=</span><span class="token variable">$</span><span class="token punctuation">(</span>normal_libs<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">endif</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="makefile-디버깅-방법" tabindex="-1"><a class="header-anchor" href="#makefile-디버깅-방법"><span><code>Makefile</code> 디버깅 방법</span></a></h2><p>GNU Make의 <code>-n</code> 옵션은 <code>Makefile</code>의 명령을 실행하지 않고 출력한다.</p><p><code>Makefile</code>이 아래와 같이 정의되어 있을 때,</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line">CC <span class="token operator">=</span> gcc</span>
<span class="line">OBJ <span class="token operator">=</span> hoge.c</span>
<span class="line">CFLAGS <span class="token operator">=</span> -c <span class="token variable">$</span><span class="token punctuation">(</span>OBJ<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="처리-출력" tabindex="-1"><a class="header-anchor" href="#처리-출력"><span>처리 출력</span></a></h3><p><code>make</code> 명령어 <code>-n</code> 옵션을 아래와 같이 넣어 실행하면, <code>make</code>가 어떤 처리를 하는지 출력할 수 있다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">make</span> <span class="token parameter variable">-n</span></span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"><span class="token comment"># gcc -c hoge.c -o hoge</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>어떻게 작성되는 확인 할때, 유용하게 사용할 수 있다.</p><h3 id="warning-함수" tabindex="-1"><a class="header-anchor" href="#warning-함수"><span><code>warning</code> 함수</span></a></h3><p><code>make</code> 실행 시 내용을 출력해 준다.</p><div class="language-makefile line-numbers-mode" data-highlighter="prismjs" data-ext="makefile"><pre><code class="language-makefile"><span class="line"><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">warning</span> MAKE <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span>MAKE<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># =&gt; Makefile:18: MAKE = /Library/Developer/CommandLineTools/usr/bin/make</span></span>
<span class="line"><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">warning</span> CC <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; Makefile:19: CC = gcc</span></span>
<span class="line"><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">warning</span> CFLAGS <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span>CFLAGS<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; Makefile:20: CFLAGS =  -Wall -Wextra -Werror</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="g-와-make와-cmake의-install-방법" tabindex="-1"><a class="header-anchor" href="#g-와-make와-cmake의-install-방법"><span>g++와 make와 cmake의 install 방법</span></a></h2>`,51)),n("h3",S,[n("a",A,[n("span",null,[s(p,{icon:"fa-brands fa-windows"}),a[70]||(a[70]=e("Windows에서 설치",-1))])])]),a[96]||(a[96]=u("<p>Windows OS에서 <strong>g++/gcc</strong>는 <strong>MinGW</strong>를, <code>make</code>는 <strong>GnuWin</strong>을, <code>cmake</code>는 <strong>cmake.zipinstall</strong>을 통해 사용할 수 있다.</p>",1)),s(g,{data:[{id:"GUI로 g++ install"},{id:"GUI로 make install"},{id:"GUI로 cmake를 install"},{id:"Chocolatey에서 g++ & make를 install한다."}]},{title0:t(({value:i,isActive:o})=>[...a[71]||(a[71]=[e("GUI로 g++ install",-1)])]),title1:t(({value:i,isActive:o})=>[...a[72]||(a[72]=[e("GUI로 make install",-1)])]),title2:t(({value:i,isActive:o})=>[...a[73]||(a[73]=[e("GUI로 cmake를 install",-1)])]),title3:t(({value:i,isActive:o})=>[...a[74]||(a[74]=[e("Chocolatey에서 g++ & make를 install한다.",-1)])]),tab0:t(({value:i,isActive:o})=>[s(d,c(r({title:"MinGW-w64 - for 32 and 64 bit Windows download | SourceForge.net",desc:"Download MinGW-w64 - for 32 and 64 bit Windows for free. A complete runtime environment for gcc. The mingw-w64 project is a complete runtime environment for gcc to support binaries native to Windows 64-bit and 32-bit operating systems.",link:"https://sourceforge.net/projects/mingw-w64/",logo:"https://a.fsdn.com/con/img/sandiego/svg/originals/sf-icon-orange-no_sf.svg",background:"rgba(255,103,0,0.2)"})),null,16),a[75]||(a[75]=n("p",null,"installer를 Download하여 설치한다.",-1))]),tab1:t(({value:i,isActive:o})=>[s(d,c(r({title:"Make for Windows",desc:"Make: GNU make utility to maintain groups of programs",link:"https://gnuwin32.sourceforge.net/packages/make.htm",logo:"https://gnuwin32.sourceforge.net/favicon.ico",background:"rgba(255,255,255,0.2)"})),null,16),n("ul",null,[a[78]||(a[78]=n("li",null,"installer를 Download하여 설치한다.",-1)),n("li",null,[s(p,{icon:"fas fa-folder-open"}),a[76]||(a[76]=n("code",null,"C:Program Files (x86)\\GnuWin32\\bin",-1)),a[77]||(a[77]=e("으로 경로를 지정한다.",-1))])])]),tab2:t(({value:i,isActive:o})=>[s(d,c(r({title:"Download CMake",desc:"You can either download binaries or source code archives for the latest stable or previous release or access the current development (aka nightly) distribution through Git. This software may not be exported in violation of any U.S. export laws or regulations.  For more information regarding Export Control matters please go to https://www.kitware.com/legal.",link:"https://cmake.org/download/",logo:"https://cmake.org/favicon.ico",background:"rgba(0,55,101,0.2)"})),null,16),a[79]||(a[79]=n("ul",null,[n("li",null,"installer를 Download하여 설치한다.")],-1))]),tab3:t(({value:i,isActive:o})=>[...a[80]||(a[80]=[n("div",{class:"language-bat line-numbers-mode","data-highlighter":"prismjs","data-ext":"bat"},[n("pre",null,[n("code",{class:"language-bat"},[n("span",{class:"line"},"choco install mingw"),e(`
`),n("span",{class:"line"},"choco install make"),e(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])]),_:1}),a[97]||(a[97]=n("h4",{id:"환경-변수-설정",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#환경-변수-설정"},[n("span",null,"환경 변수 설정")])],-1)),a[98]||(a[98]=n("p",null,[e("아래의 "),n("code",null,"path"),e(" 등에 설치되므로 "),n("code",null,"path"),e("를 통해 설치한다.")],-1)),n("ul",null,[n("li",null,[s(p,{icon:"fas fa-folder-open"}),a[81]||(a[81]=n("code",null,"C:\\Program Files (x86)\\MinGW\\bin",-1))]),n("li",null,[s(p,{icon:"fas fa-folder-open"}),a[82]||(a[82]=n("code",null,"C:\\Program Files (x86)\\GnuWin32\\bin",-1))])]),n("h3",M,[n("a",F,[n("span",null,[s(p,{icon:"fa-brands fa-debian"}),a[83]||(a[83]=e("리눅스에서 설치",-1))])])]),s(g,{data:[{id:"일괄적으로 install"},{id:"개별적으로 install"}],active:0},{title0:t(({value:i,isActive:o})=>[...a[84]||(a[84]=[e("일괄적으로 install",-1)])]),title1:t(({value:i,isActive:o})=>[...a[85]||(a[85]=[e("개별적으로 install",-1)])]),tab0:t(({value:i,isActive:o})=>[...a[86]||(a[86]=[n("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[n("pre",null,[n("code",{class:"language-bash"},[n("span",{class:"line"},[n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"apt"),e(),n("span",{class:"token function"},"install"),e(" build-essential")]),e(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"})])],-1)])]),tab1:t(({value:i,isActive:o})=>[...a[87]||(a[87]=[n("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[n("pre",null,[n("code",{class:"language-bash"},[n("span",{class:"line"},[n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"apt"),e(),n("span",{class:"token function"},"install"),e(" g++")]),e(`
`),n("span",{class:"line"},[n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"apt"),e(),n("span",{class:"token function"},"install"),e(),n("span",{class:"token function"},"make")]),e(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])]),_:1}),a[99]||(a[99]=n("hr",null,null,-1)),a[100]||(a[100]=n("h2",{id:"정리",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#정리"},[n("span",null,"정리")])],-1)),a[101]||(a[101]=n("p",null,[n("code",null,"Makefile"),e(" 작성 방법에 대해 정리해 보았다. 비망록으로 업데이트해 나갈 것이다.")],-1))])}const R=b(x,[["render",G]]),I=JSON.parse('{"path":"/devkuma.com/makefile.html","title":"Makefile","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Makefile","description":"Article(s) > Makefile","icon":"iconfont icon-shell","category":["Shell","GNU","GNU Make","Article(s)"],"tag":["blog","devkuma.com","sh","shell","gnu","gnu-make","makefile","bash","c","cpp"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Makefile\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-04-21T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/devkuma.com/makefile.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"Makefile"}],["meta",{"property":"og:description","content":"Article(s) > Makefile"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"cpp"}],["meta",{"property":"article:tag","content":"c"}],["meta",{"property":"article:tag","content":"bash"}],["meta",{"property":"article:tag","content":"makefile"}],["meta",{"property":"article:tag","content":"gnu-make"}],["meta",{"property":"article:tag","content":"gnu"}],["meta",{"property":"article:tag","content":"shell"}],["meta",{"property":"article:tag","content":"sh"}],["meta",{"property":"article:tag","content":"devkuma.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2024-04-21T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Makefile"},{"property":"og:description","content":"Makefile"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/devkuma.com/makefile.html"}]],"prev":"/programming/sh-make/articles/README.md","date":"2024-04-21T00:00:00.000Z","isOriginal":false},"git":{},"readingTime":{"minutes":4.23,"words":1269},"filePathRelative":"devkuma.com/makefile.md"}');export{R as comp,I as data};
