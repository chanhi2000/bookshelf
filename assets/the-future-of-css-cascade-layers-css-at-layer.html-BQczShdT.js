import{_ as v}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as b,d as n,f as e,b as o,a as g,t as f,n as u,g as m,w as t,e as a,r as p,o as w}from"./app-BItykJLQ.js";const S={},C={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},L={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},x={class:"table-of-contents"},T={href:"https://drafts.csswg.org/css-cascade/#cascading",target:"_blank",rel:"noopener noreferrer"},O={class:"hint-container info"},A={href:"https://youtu.be/1OKZOV-iLj4?t=460",target:"_blank",rel:"noopener noreferrer"},I={href:"https://x.com/TerribleMia/",target:"_blank",rel:"noopener noreferrer"},j={href:"https://w3.org/TR/css-cascade-5/",target:"_blank",rel:"noopener noreferrer"},W={class:"hint-container info"},F={href:"https://github.com/w3c/csswg-drafts/issues/5853",target:"_blank",rel:"noopener noreferrer"},U={class:"hint-container info"},z={href:"https://bram.us/speaking-training/",target:"_blank",rel:"noopener noreferrer"},q={class:"hint-container note"},N={href:"https://github.com/w3c/csswg-drafts/issues/6284#issuecomment-937262197",target:"_blank",rel:"noopener noreferrer"},B={class:"hint-container info"},M={href:"https://github.com/w3c/csswg-drafts/issues/6323",target:"_blank",rel:"noopener noreferrer"},P={href:"https://github.com/w3c/csswg-drafts/issues/6522",target:"_blank",rel:"noopener noreferrer"},E={class:"hint-container tip"},R={href:"https://csswizardry.com/2018/11/css-and-network-performance/#avoid-import-in-css-files",target:"_blank",rel:"noopener noreferrer"},D={href:"https://chromium.org/developers/how-tos/run-chromium-with-flags",target:"_blank",rel:"noopener noreferrer"},V={href:"https://x.com/TerribleMia/",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://bugs.chromium.org/p/chromium/issues/detail?id=1095765",target:"_blank",rel:"noopener noreferrer"},G={href:"https://bugzilla.mozilla.org/show_bug.cgi?id=1699215",target:"_blank",rel:"noopener noreferrer"},H={href:"https://bugs.webkit.org/show_bug.cgi?id=220779",target:"_blank",rel:"noopener noreferrer"};function K(c,s){const d=p("VPCard"),l=p("router-link"),h=p("SiteInfo"),i=p("VPIcon"),r=p("RouteLink"),k=p("VidStack"),y=p("CodePen");return w(),b("div",null,[n("h1",C,[n("a",L,[n("span",null,f(c.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),e(d,u(m({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",x,[n("ul",null,[n("li",null,[e(l,{to:"#the-css-cascade-a-quick-primer"},{default:t(()=>[...s[0]||(s[0]=[a("The CSS Cascade, a Quick Primer",-1)])]),_:1})]),n("li",null,[e(l,{to:"#taming-the-cascade"},{default:t(()=>[...s[1]||(s[1]=[a("Taming the Cascade",-1)])]),_:1})]),n("li",null,[e(l,{to:"#introducing-cascade-layers"},{default:t(()=>[...s[2]||(s[2]=[a("Introducing Cascade Layers",-1)])]),_:1}),n("ul",null,[n("li",null,[e(l,{to:"#creating-a-cascade-layer"},{default:t(()=>[...s[3]||(s[3]=[a("Creating a Cascade Layer",-1)])]),_:1})]),n("li",null,[e(l,{to:"#managing-layer-order"},{default:t(()=>[...s[4]||(s[4]=[a("Managing Layer Order",-1)])]),_:1})]),n("li",null,[e(l,{to:"#cascade-layers-and-the-cascade"},{default:t(()=>[...s[5]||(s[5]=[a("Cascade Layers and the Cascade",-1)])]),_:1})])])]),n("li",null,[e(l,{to:"#intermediate-summary"},{default:t(()=>[...s[6]||(s[6]=[a("Intermediate Summary",-1)])]),_:1})]),n("li",null,[e(l,{to:"#details-you-need-to-know"},{default:t(()=>[...s[7]||(s[7]=[a("Details you need to know",-1)])]),_:1}),n("ul",null,[n("li",null,[e(l,{to:"#unlayered-styles-come-first-last-in-the-layer-order"},{default:t(()=>[...s[8]||(s[8]=[a("Unlayered Styles come first last in the Layer Order",-1)])]),_:1})]),n("li",null,[e(l,{to:"#naming-a-layer-is-optional"},{default:t(()=>[...s[9]||(s[9]=[a("Naming a Layer is optional",-1)])]),_:1})]),n("li",null,[e(l,{to:"#layers-can-be-nested"},{default:t(()=>[...s[10]||(s[10]=[a("Layers can be nested",-1)])]),_:1})])])]),n("li",null,[e(l,{to:"#a-few-more-notes-caveats"},{default:t(()=>[...s[11]||(s[11]=[a("A few more notes / caveats",-1)])]),_:1}),n("ul",null,[n("li",null,[e(l,{to:"#cascade-layers-and-the-use-of-important"},{default:t(()=>[...s[12]||(s[12]=[a("Cascade Layers and the use of !important",-1)])]),_:1})]),n("li",null,[e(l,{to:"#cascade-layers-vs-media-queries-and-other-conditionals"},{default:t(()=>[...s[13]||(s[13]=[a("Cascade Layers vs. Media Queries (and other conditionals)",-1)])]),_:1})]),n("li",null,[e(l,{to:"#cascade-layers-vs-name-defining-rules"},{default:t(()=>[...s[14]||(s[14]=[a("Cascade Layers vs. ‚ÄúName-Defining Rules‚Äù",-1)])]),_:1})]),n("li",null,[e(l,{to:"#no-interleaving-of-import-namespace-and-layer"},{default:t(()=>[...s[15]||(s[15]=[a("No Interleaving of @import/@namespace and @layer",-1)])]),_:1})])])]),n("li",null,[e(l,{to:"#browser-support"},{default:t(()=>[...s[16]||(s[16]=[a("Browser Support",-1)])]),_:1}),n("ul",null,[n("li",null,[e(l,{to:"#chromium-blink"},{default:t(()=>[...s[17]||(s[17]=[a("Chromium (Blink)",-1)])]),_:1})]),n("li",null,[e(l,{to:"#firefox-gecko"},{default:t(()=>[...s[18]||(s[18]=[a("Firefox (Gecko)",-1)])]),_:1})]),n("li",null,[e(l,{to:"#safari-webkit"},{default:t(()=>[...s[19]||(s[19]=[a("Safari (WebKit)",-1)])]),_:1})])])]),n("li",null,[e(l,{to:"#in-closing"},{default:t(()=>[...s[20]||(s[20]=[a("In Closing",-1)])]),_:1})])])]),s[125]||(s[125]=n("hr",null,null,-1)),e(h,{name:"The Future of CSS: Cascade Layers (CSS @layer)",desc:"When authoring CSS we have to carefully think about how we write and structure our code. Cascade Layers (CSS @layer) aim to ease this task.",url:"https://bram.us/bram.us/2021/09/15/the-future-of-css-cascade-layers-css-at-layer/",logo:"https://bramu.us/favicon.ico",preview:"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-cascade-layers-champ-bramus.png"}),s[126]||(s[126]=o('<figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-cascade-layers-champ-bramus.png" alt="Cascade Layers" tabindex="0" loading="lazy"><figcaption>Cascade Layers</figcaption></figure><p>When writing CSS, we developers have to carefully think about how we write and structure our code. Without any proper <em>‚Äúplan of attack‚Äù</em> the Cascade can suddenly work against us, and we might end up with pieces of code overwriting each other, selectors getting heavier and heavier, a few <code>!important</code> modifiers here and there, ‚Ä¶ ‚Äî Uhoh!</p><p>To regain control over the Cascade in those situations there‚Äôs a new CSS Language Feature coming to help us: <strong>Cascade Layers <em>(CSS <code>@layer</code>)</em></strong>.</p><p>Let‚Äôs take a look at what they are, how we can use them, and what benefits they bring ‚Ä¶</p><hr><h2 id="the-css-cascade-a-quick-primer" tabindex="-1"><a class="header-anchor" href="#the-css-cascade-a-quick-primer"><span>The CSS Cascade, a Quick Primer</span></a></h2>',6)),n("p",null,[s[22]||(s[22]=a("The ",-1)),n("a",T,[e(i,{icon:"fas fa-globe"}),s[21]||(s[21]=a("CSS Cascade",-1))]),s[23]||(s[23]=a(" is the algorithm which CSS uses to resolve competing declarations that want to be applied to an element.",-1))]),s[127]||(s[127]=o(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token comment">/* HTML: &lt;input type=&quot;password&quot; id=&quot;password&quot; style=&quot;color: blue;&quot; /&gt; */</span></span>
<span class="line"><span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> grey<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">input[type=&quot;password&quot;]</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> hotpink <span class="token important">!important</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">#password</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> lime<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>Will the <code>input</code> color be <code>grey</code>, <code>lime</code>, <code>hotpink</code>, or <code>blue</code>? Or the User-Agent default <code>black</code>?</em></p><p>To determine which declaration should ‚Äúwin‚Äù <em>(and thus be applied)</em>, the Cascade looks at a few criteria. Without taking Cascade Layers into account just yet, these criteria are:</p><ol><li>Origin and Importance</li><li>Context</li><li>Style Attribute</li><li>Specificity</li><li>Order of Appearance <em>(aka Source Code Order)</em></li></ol><p>These criteria are ranked from high to low priority, and are checked one after the other until a winning declaration has been determined. In case it is undecided which property declaration will ‚Äúwin‚Äù at a higher criterion, the Cascade will move on to the next criterion.</p><figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-current-cascade-bramus.png" alt="The CSS Cascade Visualized" tabindex="0" loading="lazy"><figcaption>The CSS Cascade Visualized</figcaption></figure>`,6)),n("div",O,[s[30]||(s[30]=n("p",{class:"hint-container-title"},"Info",-1)),n("p",null,[s[25]||(s[25]=a("For more in-depth info, please refer to ",-1)),e(r,{to:"/bram.us/the-css-cascade-a-deep-dive-2022-06-09-css-day.html"},{default:t(()=>[...s[24]||(s[24]=[n("strong",null,"my CSS Day 2022 talk on the subject",-1)])]),_:1}),s[26]||(s[26]=a(". It also covers Cascade Layers, so you can watch the entire thing instead of continuing to read üòâ",-1))]),e(k,{src:"youtube/zEPXyqj7pEA"}),n("p",null,[s[28]||(s[28]=a("You can ",-1)),e(r,{to:"/bram.us/the-css-cascade-a-deep-dive-2022-06-09-css-day.html"},{default:t(()=>[...s[27]||(s[27]=[n("strong",null,"find the the slides here",-1)])]),_:1}),s[29]||(s[29]=a(".",-1))])]),s[128]||(s[128]=o('<hr><h2 id="taming-the-cascade" tabindex="-1"><a class="header-anchor" href="#taming-the-cascade"><span>Taming the Cascade</span></a></h2><p>When authoring CSS we place our CSS mainly into one and the same origin: the Author Origin. As a result, we end up juggling with <strong>Selector Specificity</strong> and <strong>Order of Appearance</strong> as our ways to control the cascade ‚Äî if not having thrown in an <code>!important</code> somewhere. While doing so, we have to perform a fine balancing act between both of these aspects:</p><ul><li>Statements that use selectors of a high specificity can cause problems in case you want to override some properties later in the code. This often leads to even more heavy selectors or the use of <code>!important</code>, which in itself can raise even more issues.</li><li>Statements that use selectors of a low specificity can be overwritten too easily by statements that appear later in the code. This can especially be troublesome when loading third-party CSS after your own code.</li></ul>',4)),n("p",null,[s[34]||(s[34]=a("To help us tame those aspects of the Cascade, a few clever developers have come up with methodologies such as ",-1)),e(r,{to:"/css-tricks.com/bem-101.html"},{default:t(()=>[...s[31]||(s[31]=[n("strong",null,"BEM",-1)])]),_:1}),s[35]||(s[35]=a(", ",-1)),n("a",A,[e(i,{icon:"fa-brands fa-youtube"}),s[32]||(s[32]=a("ITCSS",-1))]),s[36]||(s[36]=a(", ",-1)),e(r,{to:"/smashingmagazine.com/an-introduction-to-object-oriented-css-oocss.html"},{default:t(()=>[...s[33]||(s[33]=[n("strong",null,"OOCSS",-1)])]),_:1}),s[37]||(s[37]=a(", etc. over time. These methodologies mainly lean on the following aspects:",-1))]),s[129]||(s[129]=o('<ol><li>Structuring your code in such a way that you create some sort of logical order that works for most scenarios.</li><li>Keeping Selector Specificity as low as possible by leaning primarily to classes.</li></ol><figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/09/itcss.jpg" alt="The almighty Inverted Triangle of CSS." tabindex="0" loading="lazy"><figcaption>The almighty Inverted Triangle of CSS.</figcaption></figure><p>While these approaches can certainly help you strike a balance between Selector Specificity and Order of Appearance, they are not 100% closing:</p><ul><li>The established order is never really enforced as Order of Appearance still determines things.</li><li>Selector Specificity still has the upper hand over the order of the layers</li></ul><hr><h2 id="introducing-cascade-layers" tabindex="-1"><a class="header-anchor" href="#introducing-cascade-layers"><span>Introducing Cascade Layers</span></a></h2>',6)),n("p",null,[s[46]||(s[46]=a("To make this balancing act more easy, there‚Äôs a new mechanism named Cascade Layers being worked on. It‚Äôs a CSS feature led by ",-1)),n("a",I,[s[38]||(s[38]=a("Miriam Suzanne (",-1)),e(i,{icon:"fa-brands fa-x-twitter"}),s[39]||(s[39]=n("code",null,"TerribleMia",-1)),s[40]||(s[40]=a(")",-1))]),s[47]||(s[47]=a(" ‚Äî ",-1)),n("em",null,[s[42]||(s[42]=a("whom you might also know from ",-1)),e(r,{to:"/bram.us/css-container-queries-a-first-look-and-demo.html"},{default:t(()=>[...s[41]||(s[41]=[n("strong",null,"CSS Container Queries",-1)])]),_:1})]),s[48]||(s[48]=a(" ‚Äî and is part of the upcoming ",-1)),n("a",j,[e(i,{icon:"iconfont icon-w3c"}),s[43]||(s[43]=a("CSS Cascading and Inheritance Level 5 (",-1)),s[44]||(s[44]=n("code",null,"css-cascade-5",-1)),s[45]||(s[45]=a(") Specification",-1))]),s[49]||(s[49]=a(".",-1))]),s[130]||(s[130]=o(`<p>With Cascade Layers you can split your CSS into several layers via the <code>@layer</code> at-rule. As per spec:</p><blockquote><p>In the same way that Origins provide a balance of power between user and author styles, Cascade Layers provide a structured way to organize and balance concerns within a single Origin.</p></blockquote><p>Because of its unique position in the Cascade, using Layers comes with a few benefits that give us developers more control over the Cascade.</p><figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-cascade-layers-bramus.png" alt="The new CSS Cascade with Layers added to it" tabindex="0" loading="lazy"><figcaption>The new CSS Cascade with Layers added to it</figcaption></figure><p>Let‚Äôs dive in with some code examples, explaining the benefits along the way.</p><p>::: critical üö®</p><p>Before we continue: try and forget any assumption you have about ‚Äúlayers in CSS‚Äù. <strong>By simply looking at their name, it‚Äôs easy to confuse Cascade Layers with layering via <code>z-index</code> or the <em>(deprecated)</em> HTML <code>&lt;layer&gt;</code> element.</strong> These things are not the same:</p><ul><li>Layering via <code>z-index</code> is about visually stacking boxes onto a webpage.</li><li>The HTML <code>&lt;layer&gt;</code> element is <a href="https://web.archive.org/web/20010210102906fw_/http://developer.netscape.com/docs/manuals/communicator/dynhtml/layers31.htm#1026297" target="_blank" rel="noopener noreferrer">ancient history</a>.</li><li>Cascade Layers is about structuring your CSS Code and controlling the CSS Cascade.</li></ul><p>:::</p><h3 id="creating-a-cascade-layer" tabindex="-1"><a class="header-anchor" href="#creating-a-cascade-layer"><span>Creating a Cascade Layer</span></a></h3><p>A Cascade Layer can be declared in several ways:</p><ol><li>Using the <code>@layer</code> <em>block</em> at-rule, with styles assigned immediately to it:</li></ol><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">*</span> <span class="token punctuation">{</span> <span class="token comment">/* Poor Man&#39;s Reset */</span></span>
<span class="line">    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Using the <code>@layer</code> <em>statement</em> at-rule, without any styles assigned:</li></ol><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>Using @import with the <code>layer</code> keyword or <code>layer()</code> function:</li></ol><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>reset.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>reset<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Each of these standalone examples, creates a Cascade Layer named <code>reset</code>.</p>`,18)),n("div",W,[s[57]||(s[57]=n("p",{class:"hint-container-title"},"üí°",-1)),n("p",null,[s[53]||(s[53]=a("A possible 4th way is still being worked on: by means of an attribute on a ",-1)),s[54]||(s[54]=n("code",null,"<link>",-1)),s[55]||(s[55]=a(" element. See ",-1)),n("a",F,[s[50]||(s[50]=a("CSSWG Issue #5853 (",-1)),e(i,{icon:"iconfont icon-github"}),s[51]||(s[51]=n("code",null,"w3c/csswg-drafts",-1)),s[52]||(s[52]=a(")",-1))]),s[56]||(s[56]=a(".",-1))])]),s[131]||(s[131]=o(`<h3 id="managing-layer-order" tabindex="-1"><a class="header-anchor" href="#managing-layer-order"><span>Managing Layer Order</span></a></h3><p>Cascade layers are sorted by the order in which they first are declared.</p><p>In the example below we create four layers: <code>reset</code>, <code>base</code>, <code>theme</code>, and <code>utilities</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span> <span class="token comment">/* Create 1st layer named ‚Äúreset‚Äù */</span></span>
<span class="line">  <span class="token selector">*</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span> <span class="token comment">/* Create 2nd layer named ‚Äúbase‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span> <span class="token comment">/* Create 3rd layer named ‚Äútheme‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> utilities</span> <span class="token punctuation">{</span> <span class="token comment">/* Create 4th layer named ‚Äúutilities‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Following their declaration order, the Layer Order becomes:</p><ol><li><code>reset</code></li><li><code>base</code></li><li><code>theme</code></li><li><code>utilities</code></li></ol><figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-layer-order-bramus.png" alt="Cascade layers are sorted by the order in which they first are declared" tabindex="0" loading="lazy"><figcaption>Cascade layers are sorted by the order in which they first are declared</figcaption></figure><p>When re-using the name of a Layer, styles will be appended to the already existing Layer. The order of the Layers remains the same, as it‚Äôs only the first appearance which determines the order:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span> <span class="token comment">/* Create 1st layer named ‚Äúreset‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span> <span class="token comment">/* Create 2nd layer named ‚Äúbase‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span> <span class="token comment">/* Create 3rd layer named ‚Äútheme‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> utilities</span> <span class="token punctuation">{</span> <span class="token comment">/* Create 4th layer named ‚Äúutilities‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span> <span class="token comment">/* Append to existing layer named ‚Äúbase‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The fact that the Layer order remains the same when re-using a Layer name makes the <code>@layer</code> statement at-rule syntax darn handy. Using it, you can establish Layer Order upfront, and append all CSS later to it:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">;</span></span>     <span class="token comment">/* Create 1st layer named ‚Äúreset‚Äù */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> base<span class="token punctuation">;</span></span>      <span class="token comment">/* Create 2nd layer named ‚Äúbase‚Äù */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> theme<span class="token punctuation">;</span></span>     <span class="token comment">/* Create 3rd layer named ‚Äútheme‚Äù */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> utilities<span class="token punctuation">;</span></span> <span class="token comment">/* Create 4th layer named ‚Äúutilities‚Äù */</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span> <span class="token comment">/* Append to layer named ‚Äúreset‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span> <span class="token comment">/* Append to layer named ‚Äútheme‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span> <span class="token comment">/* Append to layer named ‚Äúbase‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span> <span class="token comment">/* Append to layer named ‚Äútheme‚Äù */</span></span>
<span class="line">  ‚Ä¶</span>
<span class="line"><span class="token punctuation">}</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Heck, you can write it even shorter, using a comma-separated list of Layer Names:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">,</span> base<span class="token punctuation">,</span> theme<span class="token punctuation">,</span> utilities<span class="token punctuation">;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">üî• Best Practice</p><p>To keep control over Layer Order, it‚Äôs recommended to declare all your layers upfront by using this one-line syntax, and ‚Äîonce the order is established‚Äî then append styles to them.</p></div><h3 id="cascade-layers-and-the-cascade" tabindex="-1"><a class="header-anchor" href="#cascade-layers-and-the-cascade"><span>Cascade Layers and the Cascade</span></a></h3><p>In the Cascade <em>(the algorithm)</em>, Layers get a higher precedence than Specificity and Order of Appearance. So the criteria of the Cascade become this <em>(in order)</em>:</p><ol><li>Origin and Importance</li><li>Context</li><li>Style Attribute</li><li><strong>Layers</strong></li><li>Specificity</li><li>Order of Appearance</li></ol><figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-cascade-layers-bramus.png" alt="The new CSS Cascade with Layers added to it" tabindex="0" loading="lazy"><figcaption>The new CSS Cascade with Layers added to it</figcaption></figure><p>When evaluating the Layers criterion, the Cascade will look at the Layer Order to determine the winning declaration. Declarations whose cascade layer is last, will win from declarations in earlier-declared Layers <em>(cfr. how Order of Appearance works: last one wins)</em>.</p><blockquote><p>Cascade layers (like declarations) are ordered by order of appearance. When comparing declarations that belong to different layers, then for normal rules the declaration whose cascade layer is last wins [‚Ä¶]</p></blockquote><figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-layers-determine-winner-bramus.png" alt="How the Cascade evaluates Layers" tabindex="0" loading="lazy"><figcaption>How the Cascade evaluates Layers</figcaption></figure><p>Take this snippet from earlier:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">,</span> base<span class="token punctuation">,</span> theme<span class="token punctuation">,</span> utilities<span class="token punctuation">;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>In total we create 4 layers, in this order:</p><ol><li><code>reset</code></li><li><code>base</code></li><li><code>theme</code></li><li><code>utilities</code></li></ol><p>For example: Competing declarations in the <code>theme</code> Layer <em>(3)</em> will win from declarations in the <code>base</code> <em>(2)</em> and <code>reset</code> <em>(1)</em> Layers because those Layers were declared before <code>theme</code>. Competing declarations in the <code>theme</code> Layer <em>(3)</em> however won‚Äôt win from those in <code>utilities</code> <em>(4)</em>, as that Layer has been declared later.</p><p><strong>Once a winning declaration has been determined via Layer Order, the Cascade won‚Äôt even check Specificity or Order of Appearance for those declarations anymore. This is because Layers is a separate and higher ranked criterion of the Cascade.</strong></p><p>Practical example:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>reset.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>reset<span class="token punctuation">)</span><span class="token punctuation">;</span></span> <span class="token comment">/* 1st layer */</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span> <span class="token comment">/* 2nd layer */</span></span>
<span class="line">  <span class="token selector">form input</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">font-size</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span> <span class="token comment">/* 3rd layer */</span></span>
<span class="line">  <span class="token selector">input</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">font-size</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Although the <code>input</code>-selector <em>(Specificity <code>0,0,1</code>)</em> used on line #10 is less specific than the <code>form input</code>-selector <em>(Specificity <code>0,0,2</code>)</em> from line #4, the declaration on line #10 will win because the <code>theme</code> Layer <em>(3)</em> is ordered after the <code>base</code> layer <em>(2)</em>.</p><div class="hint-container note"><p class="hint-container-title">üî•</p><p>Because later-declared Layers always win from earlier-declared Layers, you ‚Äîas a developer‚Äî don‚Äôt need to worry about the Specificity nor Order of Appearance that is used in those other Layers: it‚Äôs the Layer Order that dictates who the winner in case of conflict is.</p><p>This also means that you can easily move Layers around, knowing that their Layer Order ‚Äîand not the Specificity nor Order of Appearance‚Äî will determine things.</p></div><div class="hint-container warning"><p class="hint-container-title">‚ÄºÔ∏è</p><p>Do note that this doesn‚Äôt mean that Specificity and Order of Appearance are no longer important. These two criteria still are, but only inside one and the same Layer. When comparing declarations between Layers, these two criteria can be ignored.</p></div><hr><h2 id="intermediate-summary" tabindex="-1"><a class="header-anchor" href="#intermediate-summary"><span>Intermediate Summary</span></a></h2><p>If you were able to follow along there, this intermediate summary should make sense:</p><ul><li>With Cascade Layers you can split your CSS into several layers.</li><li>Upon creating a Layer with <code>@layer</code>, you also determine the Layer Order.</li><li>Re-using Layer names will append to the already created Layer, without altering Layer Order.</li><li>When evaluating Layers, the Cascade <em>(the algorithm)</em> will have declarations placed in later-declared Layers win from declarations in early-declared Layers (i.e. <em>‚ÄúLast Layer Wins‚Äù</em>).</li><li>The Cascade evaluates Layers before Specificity and Order Of Appearance. That way you no longer need to worry about these two criteria for CSS found in separate Layers, as Layer Order will already have determined the winning declaration.</li></ul><p>Cool, right?! ü§©</p>`,37)),n("div",U,[s[61]||(s[61]=n("p",{class:"hint-container-title"},"üíÅ‚Äç‚ôÇÔ∏è",-1)),n("p",null,[s[59]||(s[59]=a("Like what you see so far? Happen to be conference or meetup organiser? Feel free to ",-1)),n("a",z,[e(i,{icon:"fas fa-globe"}),s[58]||(s[58]=a("contact me to come speak at your event",-1))]),s[60]||(s[60]=a(", with a talk covering the contents of this post.",-1))])]),s[132]||(s[132]=n("hr",null,null,-1)),s[133]||(s[133]=n("h2",{id:"details-you-need-to-know",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#details-you-need-to-know"},[n("span",null,"Details you need to know")])],-1)),s[134]||(s[134]=n("p",null,"There‚Äôs a few details that one needs to know about the inner workings of Cascade Layers.",-1)),s[135]||(s[135]=n("h3",{id:"unlayered-styles-come-first-last-in-the-layer-order",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#unlayered-styles-come-first-last-in-the-layer-order"},[n("span",null,[a("Unlayered Styles come "),n("sub",null,"first"),a(" last in the Layer Order")])])],-1)),n("div",q,[s[69]||(s[69]=n("p",{class:"hint-container-title"},"Update 2021.10.07",-1)),n("p",null,[s[65]||(s[65]=a("The CSS Working Group ",-1)),n("a",N,[s[62]||(s[62]=a("has decided (",-1)),e(i,{icon:"iconfont icon-github"}),s[63]||(s[63]=n("code",null,"w3c/csswg-drafts",-1)),s[64]||(s[64]=a(")",-1))]),s[66]||(s[66]=a(" that Unlayered Styles should come last ",-1)),s[67]||(s[67]=n("em",null,"(instead of first as it was specced before)",-1)),s[68]||(s[68]=a(". This post has been updated accordingly.",-1))])]),s[136]||(s[136]=o(`<p>Styles that are not defined in a Cascade Layer will be collected in an implicit layer. This implicit layer will be positioned <sub>first</sub> last in the Layer Order.</p><figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-unlayered-styles-revised-bramus.png" alt="Unlayered Styles come last in the Layer Order" tabindex="0" loading="lazy"><figcaption>Unlayered Styles come last in the Layer Order</figcaption></figure><p>Because of this position, Unlayered Styles will always override styles declared in Layers.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>reset.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>reset<span class="token punctuation">)</span><span class="token punctuation">;</span></span> <span class="token comment">/* 1st layer */</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* Some Unlayered Styles */</span></span>
<span class="line"><span class="token selector">h1</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> hotpink<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span> <span class="token comment">/* 2nd layer */</span></span>
<span class="line">  <span class="token selector">h1</span> <span class="token punctuation">{</span> <span class="token property">font-family</span><span class="token punctuation">:</span> ‚Ä¶ <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span> <span class="token comment">/* 3rd layer */</span></span>
<span class="line">  <span class="token selector">body h1</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> utilities</span> <span class="token punctuation">{</span> <span class="token comment">/* 4th layer */</span></span>
<span class="line">  <span class="token selector">[hidden]</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The Layer Order for this snippet looks like this:</p><ol><li><code>reset</code></li><li><code>base</code></li><li><code>theme</code></li><li><code>utilities</code></li><li><em>(unlayered styles)</em></li></ol><p>The result from the example above will be that the <code>h1</code> will be colored <code>hotpink</code>, even though the unlayered styles come earlier the Source Order and the used selector in <code>theme</code> Layer has a higher Specificity.</p>`,7)),n("div",B,[s[74]||(s[74]=n("p",{class:"hint-container-title"},"üí°",-1)),n("p",null,[s[73]||(s[73]=a("In the future we might gain the ability to control the layer position of these unlayered declarations. This is being tracked in ",-1)),n("a",M,[s[70]||(s[70]=a("CSSWG Issue #6323 (",-1)),e(i,{icon:"iconfont icon-github"}),s[71]||(s[71]=n("code",null,"w3c/csswg-drafts",-1)),s[72]||(s[72]=a(")",-1))])])]),s[137]||(s[137]=o(`<h3 id="naming-a-layer-is-optional" tabindex="-1"><a class="header-anchor" href="#naming-a-layer-is-optional"><span>Naming a Layer is optional</span></a></h3><p>Cascade Layers can also be created without giving them a name. These are called ‚ÄúAnonymous Layers‚Äù.</p><ol><li>Using the <code>@layer</code> <em>block</em> at-rule, with styles assigned immediately to it</li></ol><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">*</span> <span class="token punctuation">{</span> <span class="token comment">/* Poor Man&#39;s Reset */</span></span>
<span class="line">    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">2. Using \`<span class="token atrule"><span class="token rule">@import</span>\`<span class="token punctuation">:</span></span>
<span class="line"></span>
<span class="line">\`\`\`css</span>
<span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>reset.css<span class="token punctuation">)</span></span> layer<span class="token punctuation">;</span></span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A disadvantage of not using a name is that you can‚Äôt append to these anonymous layers:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span></span> <span class="token punctuation">{</span> <span class="token comment">/* layer 1 */</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span></span> <span class="token punctuation">{</span> <span class="token comment">/* layer 2 */</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>base-forms.css<span class="token punctuation">)</span></span> layer<span class="token punctuation">;</span></span> <span class="token comment">/* layer 1 */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>base-links.css<span class="token punctuation">)</span></span> layer<span class="token punctuation">;</span></span> <span class="token comment">/* layer 2 */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">üí°</p><p>Using the <code>@layer</code> <em>statement</em> at-rule without a name (e.g. <code>@layer;</code>) is possible, but not mentioned as it‚Äôs a useless statement to make:</p><ul><li>It has no content to begin with</li><li>You can‚Äôt append extra content since you can‚Äôt refer to it.</li></ul></div><h3 id="layers-can-be-nested" tabindex="-1"><a class="header-anchor" href="#layers-can-be-nested"><span>Layers can be nested</span></a></h3><p>It‚Äôs perfectly fine to nest <code>@layer</code> statements.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span> <span class="token comment">/* 1st Layer */</span></span>
<span class="line">  <span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">max-width</span><span class="token punctuation">:</span> 70ch<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> framework</span> <span class="token punctuation">{</span> <span class="token comment">/* 2nd Layer */</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span> <span class="token comment">/* 1st Child Layer inside 2nd Layer */</span></span>
<span class="line">    <span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">margin-block</span><span class="token punctuation">:</span> 0.75em<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span> <span class="token comment">/* 2nd Child Layer inside 2nd Layer */</span></span>
<span class="line">    <span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> #222<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this example there‚Äôs two outer layers:</p><ol><li><code>base</code></li><li><code>framework</code></li></ol><p>The <code>framework</code> layer itself also contains two layers:</p><ol><li><code>base</code></li><li><code>theme</code></li></ol><div class="hint-container info"><p class="hint-container-title">üí°</p><p>The re-use of the name <code>base</code> does not conflict here, as that 2nd <code>base</code> is part of the <code>framework</code> layer. Yes, the names are scoped to their surrounding outer-layer <em>(if any)</em></p></div><p>Representing the Layers as one combined tree, it would look like this:</p><ol><li><code>base</code></li><li><code>framework</code><ol><li><code>base</code></li><li><code>theme</code></li></ol></li></ol><figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-nested-layers-bramus.png" alt="Layers can be nested" tabindex="0" loading="lazy"><figcaption>Layers can be nested</figcaption></figure><p>To refer to a Layer that is contained inside an other Layer, use it‚Äôs full name which uses the period to determine the hierarchy, e.g. <code>framework.theme</code>.</p><p>The flattened Layer Tree for this code example would then look like this:</p><ol><li><code>base</code></li><li><code>framework.base</code></li><li><code>framework.theme</code></li></ol><p>To append styles to a nested Layer, you need to refer to it using this full name:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> framework</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@layer</span> default</span> <span class="token punctuation">{</span></span>
<span class="line">     <span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">margin-block</span><span class="token punctuation">:</span> 0.75em<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> #222<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> framework.theme</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* These styles will be added to the theme layer inside the framework layer */</span></span>
<span class="line">  <span class="token selector">blockquote</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="a-few-more-notes-caveats" tabindex="-1"><a class="header-anchor" href="#a-few-more-notes-caveats"><span>A few more notes / caveats</span></a></h2><p>If you still haven‚Äôt had enough, there are a few extra things worth mentioning.</p><p>üòµ‚Äçüí´ Already had enough? Feel free to skip this part and <a href="#browser-support">immediately jump to Browser Support</a> as it becomes pretty advanced/complicated.</p><h3 id="cascade-layers-and-the-use-of-important" tabindex="-1"><a class="header-anchor" href="#cascade-layers-and-the-use-of-important"><span>Cascade Layers and the use of <code>!important</code></span></a></h3><p>When evaluating the Origin criterion, the Cascade orders the several Origins as follows <em>(ranked from high to low)</em>:</p><ol><li><em>Transitions</em></li><li>Important User-Agent</li><li>Important User</li><li>Important Author</li><li><em>Animations</em></li><li>Normal Author</li><li>Normal User</li><li>Normal User-Agent</li></ol><p>Notice how Origins with <code>!important</code> have the reverse order of their normal <em>(i.e. non-important)</em> counterpart? That‚Äôs because of how CSS works:</p><blockquote><p>When a declaration is marked !important, its weight in the cascade increases and inverts the order of precedence.</p></blockquote><p>This inversion-rule is also applied declarations in Cascade Layers: declarations with <code>!important</code> annotation will be put in the ‚ÄúImportant Author‚Äù Origin, but the Layers will have the inverse order when compared to the ‚ÄúNormal Author‚Äù Origin.</p><figure><img src="https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-layers-important-bramus.png" alt="Cascade Layers vs. use of " tabindex="0" loading="lazy"><figcaption>Cascade Layers vs. use of <code>!important</code></figcaption></figure><p>Winging back to our four layers from earlier:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">,</span> base<span class="token punctuation">,</span> theme<span class="token punctuation">,</span> utilities<span class="token punctuation">;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Normal declarations in these layers all go in the ‚ÄúNormal Author‚Äù Origin, and will be ordered as such:</p><ol><li>Normal <code>reset</code> Layer</li><li>Normal <code>base</code> Layer</li><li>Normal <code>theme</code> Layer</li><li>Normal <code>utilities</code> Layer</li></ol><p>Important declarations in these layers however all will go in the ‚ÄúImportant Author‚Äù Origin, and will be ordered in reverse:</p><ol><li>Important <code>utilities</code> Layer</li><li>Important <code>theme</code> Layer</li><li>Important <code>base</code> Layer</li><li>Important <code>reset</code> Layer</li></ol><p>Because <em>‚ÄúNormal Unlayered Styles‚Äù</em> implicitly go last, this also means that <em>‚ÄúImportant Unlayered Styles‚Äù</em> will go first then.</p><div class="hint-container info"><p class="hint-container-title">üí°</p><p>So yes, an <code>!important</code> declaration inside a layer will win from an <code>!important</code> declaration inside Unlayered Styles.</p></div><h3 id="cascade-layers-vs-media-queries-and-other-conditionals" tabindex="-1"><a class="header-anchor" href="#cascade-layers-vs-media-queries-and-other-conditionals"><span>Cascade Layers vs. Media Queries <em>(and other conditionals)</em></span></a></h3><p>When a <code>@layer</code> is nested inside a Media Query (or any other conditional), and the condition does not evaluate to <code>true</code>, the <code>@layer</code> will be not be taken into account for the Layer Order. Should the Media Query/Conditional evaluate to <code>true</code> later on ‚Äî because of the screen size changing for example ‚Äî Layer Order will be recalculated.</p><p>For Example:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 30em<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@layer</span> layout</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token selector">.title</span> <span class="token punctuation">{</span> <span class="token property">font-size</span><span class="token punctuation">:</span> x-large<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-color-scheme</span><span class="token punctuation">:</span> dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token selector">.title</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If the first Media Query matches <em>(based on viewport dimensions)</em>, then the <code>layout</code> layer will come first in the Layer Order. If only the <code>color-scheme</code> Preference Query matches, then <code>theme</code> will be the first layer.</p><p>Should both match, then the Layer Order will be <code>layout</code>, <code>theme</code>. If none matches no Layers are defined.</p><h3 id="cascade-layers-vs-name-defining-rules" tabindex="-1"><a class="header-anchor" href="#cascade-layers-vs-name-defining-rules"><span>Cascade Layers vs. ‚ÄúName-Defining Rules‚Äù</span></a></h3>`,50)),n("p",null,[s[76]||(s[76]=a("Name-Defining Rules ‚Äî such as ",-1)),s[77]||(s[77]=n("code",null,"@keyframes",-1)),s[78]||(s[78]=a(", ",-1)),e(r,{to:"/bram.us/the-future-of-css-scroll-linked-animations-part-1.html"},{default:t(()=>[...s[75]||(s[75]=[n("strong",null,[n("code",null,"@scroll-timeline")],-1)])]),_:1}),s[79]||(s[79]=a(", ",-1)),s[80]||(s[80]=n("code",null,"@font-face",-1)),s[81]||(s[81]=a(" ‚Äî follow Layer Order as you‚Äôd expect:",-1))]),s[138]||(s[138]=o(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> framework<span class="token punctuation">,</span> override<span class="token punctuation">;</span></span> <span class="token comment">/* Establish Layer Order */</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> framework</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@keyframes</span> slide-left</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token selector">from</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token selector">to</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> override</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@keyframes</span> slide-left</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token selector">from</span> <span class="token punctuation">{</span> <span class="token property">translate</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token selector">to</span> <span class="token punctuation">{</span> <span class="token property">translate</span><span class="token punctuation">:</span> -100% 0<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.sidebar</span> <span class="token punctuation">{</span> <span class="token property">animation</span><span class="token punctuation">:</span> slide-left 300ms<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The Layer Order looks like this:</p><ol><li><code>framework</code></li><li><code>override</code></li></ol><p>As the last layer wins, the <code>slide-left</code> Keyframes from the <code>override</code> Layer <em>(2)</em> ‚Äî the ones using <code>translate</code> ‚Äî will be used.</p><h3 id="no-interleaving-of-import-namespace-and-layer" tabindex="-1"><a class="header-anchor" href="#no-interleaving-of-import-namespace-and-layer"><span>No Interleaving of <code>@import</code>/<code>@namespace</code> and <code>@layer</code></span></a></h3>`,5)),n("p",null,[s[87]||(s[87]=a("For parsing reasons ",-1)),n("em",null,[s[85]||(s[85]=a("(see ",-1)),n("a",P,[s[82]||(s[82]=a("CSSWG Issue #6522 (",-1)),e(i,{icon:"iconfont icon-github"}),s[83]||(s[83]=n("code",null,"w3c/csswg-drafts",-1)),s[84]||(s[84]=a(")",-1))]),s[86]||(s[86]=a(")",-1))]),s[88]||(s[88]=a(" it‚Äôs not allowed to interleave ",-1)),s[89]||(s[89]=n("code",null,"@layer",-1)),s[90]||(s[90]=a(" with ",-1)),s[91]||(s[91]=n("code",null,"@import",-1)),s[92]||(s[92]=a("/",-1)),s[93]||(s[93]=n("code",null,"@namespace",-1)),s[94]||(s[94]=a(" rules.",-1))]),s[139]||(s[139]=o(`<p>From the moment the CSS parser sees a <code>@layer</code> that follows an earlier <code>@import</code>, all subsequent <code>@import</code> rules after it will be ignored:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> default<span class="token punctuation">;</span></span></span>
<span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>theme.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>theme<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> components<span class="token punctuation">;</span></span> <span class="token comment">/* üëà This @layer statement here which comes after the @import above ‚Ä¶ */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>default.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span></span> <span class="token comment">/* ‚ùóÔ∏è ‚Ä¶ will make this @import rule (and any other that follow) be ignored. */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">audio[controls]</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To counteract this, group your <code>@import</code> rules together.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> default<span class="token punctuation">;</span></span></span>
<span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>theme.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>theme<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
<span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>default.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> components<span class="token punctuation">;</span></span></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">audio[controls]</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4)),n("div",E,[s[102]||(s[102]=n("p",{class:"hint-container-title"},"üî• Best Practice",-1)),n("p",null,[s[98]||(s[98]=a("Should you rely on ",-1)),s[99]||(s[99]=n("code",null,"@import",-1)),s[100]||(s[100]=a()),n("em",null,[s[96]||(s[96]=a("(which you shouldn‚Äôt, as ",-1)),n("a",R,[e(i,{icon:"fas fa-globe"}),s[95]||(s[95]=a("it‚Äôs a performance hit",-1))]),s[97]||(s[97]=a(")",-1))]),s[101]||(s[101]=a(" best is to:",-1))]),s[103]||(s[103]=o(`<ol><li>Establish a layer order upfront using <code>@layer</code> statement at-rules</li><li>Group your <code>@import</code>s after that</li><li>Append styles to already established layers using <code>@layer</code> block at-rules</li></ol><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@layer</span> default<span class="token punctuation">,</span> theme<span class="token punctuation">,</span> components<span class="token punctuation">;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>theme.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>theme<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
<span class="line"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>default.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@layer</span> default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">audio[controls]</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2))]),s[140]||(s[140]=o('<hr><h2 id="browser-support" tabindex="-1"><a class="header-anchor" href="#browser-support"><span>Browser Support</span></a></h2><p>I‚Äôm very happy to see that <strong>all browser vendors ~are working on adding~ have support for Cascade Layers ü•≥</strong>. <s>It‚Äôs all still experimental support, but given that the spec has matured since it got first proposed in 2019, things are looking very good to see it shipped by the end of this year / early next year.</s></p><h3 id="chromium-blink" tabindex="-1"><a class="header-anchor" href="#chromium-blink"><span>Chromium <em>(Blink)</em></span></a></h3><p>‚úÖ Supported in Chromium 99 and up</p>',5)),n("p",null,[s[105]||(s[105]=a("Was supported as an Experimental Feature in Chrome 96+ through the ",-1)),s[106]||(s[106]=n("code",null,"--enable-blink-features=CSSCascadeLayers",-1)),s[107]||(s[107]=a()),n("a",D,[e(i,{icon:"fa-brands fa-chrome"}),s[104]||(s[104]=a("run-time flag",-1))]),s[108]||(s[108]=a(". Starting with version 96.0.4661.0, you could toggle it via the ",-1)),s[109]||(s[109]=n("code",null,"#enable-cascade-layers",-1)),s[110]||(s[110]=a(" feature flag in ",-1)),s[111]||(s[111]=n("code",null,"chrome://flags/",-1))]),s[141]||(s[141]=o('<h3 id="firefox-gecko" tabindex="-1"><a class="header-anchor" href="#firefox-gecko"><span>Firefox <em>(Gecko)</em></span></a></h3><p>‚úÖ Supported in Firefox 97 and up</p><p>Was supported as an Experimental Feature in Firefox 94+ <em>(current Canary)</em> by setting <code>layout.css.cascade-layers.enabled</code> to <code>true</code> via <code>about:config</code>.</p><h3 id="safari-webkit" tabindex="-1"><a class="header-anchor" href="#safari-webkit"><span>Safari <em>(WebKit)</em></span></a></h3><p>‚úÖ Supported in Safari 15.4 and up</p><p>Was supported as an Experimental Feature in Safari Technology Preview 133. Had to be enabled manually by using Safari‚Äôs App Menu in the Menu Bar and choose Develop ‚Üí Experimental Features ‚Üí CSS Cascade Layers.</p>',6)),n("p",null,[s[115]||(s[115]=a("The demo below ‚Äî by ",-1)),n("a",V,[s[112]||(s[112]=a("Miriam (",-1)),e(i,{icon:"fa-brands fa-x-twitter"}),s[113]||(s[113]=n("code",null,"TerribleMia",-1)),s[114]||(s[114]=a(")",-1))]),s[116]||(s[116]=a(" ‚Äî will show a green checkmark when ",-1)),s[117]||(s[117]=n("code",null,"@layer",-1)),s[118]||(s[118]=a(" support is enabled.",-1))]),e(y,{user:"miriamsuzanne","slug-hash":"poweapY",title:"OMG, Layers","default-tab":["css","result"],theme:c.dark},null,8,["theme"]),s[142]||(s[142]=n("p",null,"To stay up-to-date regarding browser support, you can follow these tracking issues:",-1)),n("ul",null,[n("li",null,[s[120]||(s[120]=a("Chromium: ",-1)),n("a",Q,[e(i,{icon:"fa-brands fa-chrome"}),s[119]||(s[119]=a("Issue #1095765",-1))])]),n("li",null,[s[122]||(s[122]=a("Firefox: ",-1)),n("a",G,[e(i,{icon:"fa-brands fa-firefox"}),s[121]||(s[121]=a("Issue #1699215",-1))])]),n("li",null,[s[124]||(s[124]=a("Safari: ",-1)),n("a",H,[e(i,{icon:"fa-brands fa-safari"}),s[123]||(s[123]=a("Issue #220779",-1))])])]),s[143]||(s[143]=n("hr",null,null,-1)),s[144]||(s[144]=n("h2",{id:"in-closing",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#in-closing"},[n("span",null,"In Closing")])],-1)),s[145]||(s[145]=n("p",null,"With Cascade Layers coming, we developers will have more tools available to control the Cascade. The true power of Cascade Layers comes from its unique position in the Cascade: before Selector Specificity and Order Of Appearance. Because of that we don‚Äôt need to worry about the Selector Specificity of the CSS that is used in other Layers, nor about the order in which we load CSS into these Layers ‚Äî something that will come in very handy for larger teams or when loading in third-party CSS.",-1)),s[146]||(s[146]=n("p",null,"Personally I‚Äôm really looking forward to give Cascade Layers a try. Being able to enforce the ordering used in ITCSS at the language level for example, feels like a great win.",-1)),g(" TODO: add ARTICLE CARD "),e(d,u(m({title:"The Future of CSS: Cascade Layers (CSS @layer)",desc:"When authoring CSS we have to carefully think about how we write and structure our code. Cascade Layers (CSS @layer) aim to ease this task.",link:"https://chanhi2000.github.io/bookshelf/bram.us/the-future-of-css-cascade-layers-css-at-layer.html",logo:"https://bramu.us/favicon.ico",background:"rgba(17,17,17,0.2)"})),null,16)])}const J=v(S,[["render",K]]),X=JSON.parse('{"path":"/bram.us/the-future-of-css-cascade-layers-css-at-layer.html","title":"The Future of CSS: Cascade Layers (CSS @layer)","lang":"en-US","frontmatter":{"lang":"en-US","title":"The Future of CSS: Cascade Layers (CSS @layer)","description":"Article(s) > The Future of CSS: Cascade Layers (CSS @layer)","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","bram.us","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"The Future of CSS: Cascade Layers (CSS @layer)\\",\\"image\\":[\\"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-cascade-layers-champ-bramus.png\\",\\"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-current-cascade-bramus.png\\",\\"https://bram.us/wordpress/wp-content/uploads/2021/09/itcss.jpg\\",\\"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-cascade-layers-bramus.png\\",\\"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-layer-order-bramus.png\\",\\"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-cascade-layers-bramus.png\\",\\"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-layers-determine-winner-bramus.png\\",\\"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-unlayered-styles-revised-bramus.png\\",\\"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-nested-layers-bramus.png\\",\\"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-layers-important-bramus.png\\"],\\"datePublished\\":\\"2021-09-15T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bramus!\\",\\"url\\":\\"https://bram.us/author/bramus/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/bram.us/the-future-of-css-cascade-layers-css-at-layer.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"The Future of CSS: Cascade Layers (CSS @layer)"}],["meta",{"property":"og:description","content":"Article(s) > The Future of CSS: Cascade Layers (CSS @layer)"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-cascade-layers-champ-bramus.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-cascade-layers-champ-bramus.png"}],["meta",{"name":"twitter:image:alt","content":"The Future of CSS: Cascade Layers (CSS @layer)"}],["meta",{"property":"article:author","content":"Bramus!"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"bram.us"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2021-09-15T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > The Future of CSS: Cascade Layers (CSS @layer)"},{"property":"og:description","content":"The Future of CSS: Cascade Layers (CSS @layer)"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/bram.us/the-future-of-css-cascade-layers-css-at-layer.html"}]],"prev":"/programming/css/articles/README.md","date":"2021-09-15T00:00:00.000Z","isOriginal":false,"author":[{"name":"Bramus!","url":"https://bram.us/author/bramus/"}],"cover":"https://bram.us/wordpress/wp-content/uploads/2021/09/css-cascade-cascade-layers-champ-bramus.png"},"git":{},"readingTime":{"minutes":13.76,"words":4127},"filePathRelative":"bram.us/the-future-of-css-cascade-layers-css-at-layer.md","copyright":{"author":"Bramus!"}}');export{J as comp,X as data};
