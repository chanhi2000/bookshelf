import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as n,f as a,b as r,a as k,t as b,n as l,g as p,w as o,e as t,r as c,o as v}from"./app-BItykJLQ.js";const f={},w={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},y={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},x={class:"table-of-contents"},T={class:"hint-container info"},H={class:"hint-container info"},S={class:"hint-container info"};function q(d,s){const i=c("VPCard"),e=c("router-link"),h=c("SiteInfo"),u=c("CodePen");return v(),g("div",null,[n("h1",w,[n("a",y,[n("span",null,b(d.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),a(i,l(p({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",x,[n("ul",null,[n("li",null,[a(e,{to:"#update-just-use-scroll-margin-top"},{default:o(()=>[...s[0]||(s[0]=[t("Update! Just use scroll-margin-top",-1)])]),_:1}),n("ul",null,[n("li",null,[a(e,{to:"#method"},{default:o(()=>[...s[1]||(s[1]=[t("Method",-1)])]),_:1})]),n("li",null,[a(e,{to:"#more-from-nicolas-gallagher"},{default:o(()=>[...s[2]||(s[2]=[t("More from Nicolas Gallagher",-1)])]),_:1})])])]),n("li",null,[a(e,{to:"#whatup"},{default:o(()=>[...s[3]||(s[3]=[t("Whatup",-1)])]),_:1}),n("ul",null,[n("li",null,[a(e,{to:"#more-from-patrick-strietzel"},{default:o(()=>[...s[4]||(s[4]=[t("More from Patrick Strietzel",-1)])]),_:1})]),n("li",null,[a(e,{to:"#more-from-kirk-gleffe"},{default:o(()=>[...s[5]||(s[5]=[t("More from Kirk Gleffe",-1)])]),_:1})]),n("li",null,[a(e,{to:"#more-from-alex-wolfe"},{default:o(()=>[...s[6]||(s[6]=[t("More from Alex Wolfe",-1)])]),_:1})])])])])]),s[10]||(s[10]=n("hr",null,null,-1)),a(h,{name:"Hash Tag Links That Don't Headbutt The Browser Window",desc:"Using hash-tag links with a fixed position header can be problematic, as the element may be hidden underneath the header as the browser will scroll until the element headbutts the top of browser viewport. There are a couple of ways we can fix this...",url:"https://css-tricks.com/hash-tag-links-padding",logo:"https://css-tricks/favicon.svg",preview:"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/12/default-social-css-tricks.png"}),s[11]||(s[11]=r(`<p>When a link includes a hash, like this:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#section-two<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Section Two<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The browser window will scroll itself (instantly) into such a position where the element with the ID of ‚Äúsection-two‚Äù is visible. It scrolls to the minimum possible position to make that element wholly visible. This is typically a matter of scrolling the window down, but do note that if any scrollable parent container were to require horizontal scrolling to make the element visible, the browser will do that as well. I think of this as ‚Äúheadbutting‚Äù the browser as the element is flush with the top edge of the browser window.</p><p>This can be:</p><ul><li>Possibly aesthetically un-pleasing</li><li>Possibly confusing (especially when you jump into a area with loads of other headers)</li><li>In the case of a fixed-position stay-on-top header, hugely problematic</li></ul><p>The fixed position header thing is the biggest threat, so let‚Äôs use that as an example and fix it.</p><hr><h2 id="update-just-use-scroll-margin-top" tabindex="-1"><a class="header-anchor" href="#update-just-use-scroll-margin-top"><span>Update! Just use <code>scroll-margin-top</code></span></a></h2><p>This is exactly what the <code>[scroll-margin-top](https://css-tricks.com/almanac/properties/s/scroll-margin/)</code> property is designed to do. As the name implies, it adds top margin to the element following a scroll event. So, if we want, say, <code>50px</code> of space between the top of the viewport and the element, we can do something like this:</p>`,9)),a(u,{user:"geoffgraham","slug-hash":"NWBagMQ",title:"Untitled","default-tab":["css","result"],theme:d.dark},null,8,["theme"]),s[12]||(s[12]=r(`<p>But wait! If you clicked that anchor link and nothing happened, it‚Äôs likely becuse you‚Äôre on Safari 11 or older (macOS or iOS). To support those, we need to pair this with <code>scroll-snap-margin-top</code>, an older version of the property:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">h2</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">scroll-margin-top</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">scroll-snap-margin-top</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span> <span class="token comment">/* iOS 11 and older */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* If the browser supports the property... */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">scroll-margin-top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token selector">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">h2</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">scroll-margin-top</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>All of the other methods covered are from the original version of this article that published in 2010. ### Method</p><p>Instead of focusing on the most progressive way to handle it first like we usually do, let‚Äôs look at the most cross-browser compatible possible way to get it done.</p><p>Instead of putting the ID on the header, we‚Äôll put it on an empty span tag within the header. This won‚Äôt affect the appearance of the header at all. However, using a span for a purely behavior thing like this isn‚Äôt ideal.</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#goto<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Jump<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment">&lt;!-- yadda yadda yadda --&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goto<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">   Header</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then in the CSS, we‚Äôll suck up the span north of the actual header with negative top margin. Then we‚Äôll push the header back down via positive bottom padding, mitigating any weird layout problems that the suck-up will cause.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">h2 span</span> <span class="token punctuation">{</span> </span>
<span class="line">  <span class="token property">margin-top</span><span class="token punctuation">:</span> -300px<span class="token punctuation">;</span> <span class="token comment">/* Size of fixed header */</span></span>
<span class="line">  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Ideally, we would just absolutely position the span on top of the header, but IE7 doesn‚Äôt play nice with that, ignoring the jumps all together. IE6 has major issues with fixed positioning, so this demo is borked in that, and let‚Äôs not go there, although I‚Äôm sure this idea basically works in it if you can shim the fixed position issue.</p>`,9)),n("div",T,[s[7]||(s[7]=n("p",{class:"hint-container-title"},"View demo",-1)),a(i,l(p({title:"Hash Links with Padding",desc:"Fixed Position Header",link:"https://css-tricks.com/examples/HashLinksWithPadding",logo:"https://css-tricks/favicon.svg",background:"rgba(17,17,17,0.2)"})),null,16)]),s[13]||(s[13]=r(`<h3 id="method" tabindex="-1"><a class="header-anchor" href="#method"><span>Method</span></a></h3><p>Using the extra span is non-semantic for two reasons: (1) You are associating the link directly to an empty span, which is meaningless. (2) The span shouldn‚Äôt be in there at all. The HTML should be:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#goto<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Jump<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment">&lt;!-- yadda yadda yadda --&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goto<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Header<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then to solve the headbutting/padding issue, we‚Äôll use a pseudo element to do the same task that the span was doing in our dirty HTML version. We‚Äôll give it a height, which pushes up the size of the header, then use a negative margin to yank it back up into place.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">h2::before</span> <span class="token punctuation">{</span> </span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span> </span>
<span class="line">  <span class="token property">margin-top</span><span class="token punctuation">:</span> -285px<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token property">height</span><span class="token punctuation">:</span> 285px<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5)),n("div",H,[s[8]||(s[8]=n("p",{class:"hint-container-title"},"View demo",-1)),a(i,l(p({title:"Hash Links with Padding",desc:"Fixed Position Header",link:"https://css-tricks.com/examples/HashLinksWithPadding/pseudo.php",logo:"https://css-tricks/favicon.svg",background:"rgba(17,17,17,0.2)"})),null,16)]),s[14]||(s[14]=n("h3",{id:"more-from-nicolas-gallagher",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#more-from-nicolas-gallagher"},[n("span",null,"More from Nicolas Gallagher")])],-1)),s[15]||(s[15]=n("p",null,[t("I posted the original idea for this over on Forrst, and Nicolas Gallagher picked up on it and ran with it, as Nic likes to do =). He points out that the height/margin technique can be a problem if you have a background on the headers and don‚Äôt want that to expand. He prevents that by experimenting with "),n("code",null,"background-clip"),t(", using an under-border, and others. And big props to Ira McMahon for spurring the idea on Forrst.")],-1)),n("div",S,[s[9]||(s[9]=n("p",{class:"hint-container-title"},"View demo",-1)),a(i,l(p({title:"Demo: Jump links and viewport positioning - Nicolas Gallagher",desc:"A simple way to improve the viewport position when using jump links",link:"https://nicolasgallagher.com/jump-links-and-viewport-positioning/demo//",logo:"https://nicolasgallagher.com/favicon.ico",background:"rgba(197,85,0,0.2)"})),null,16)]),s[16]||(s[16]=r(`<p>As part of Nic‚Äôs demos, he uses <code>:target</code> to change the color of the header after ‚Äúthe jump‚Äù. This is a great reminder of that pseudo selector and a <strong>perfect</strong> use for it. Target will match when the hashtag in the URL matches the ID of an element. Quick reminder: if the URL is <code>http://blahblahblah.com/#header-one</code> and there is an element like</p><hr><h2 id="whatup" tabindex="-1"><a class="header-anchor" href="#whatup"><span>Whatup</span></a></h2><p>then this selector will match <code>h2:target { background: yellow; }</code>.</p><h3 id="more-from-patrick-strietzel" tabindex="-1"><a class="header-anchor" href="#more-from-patrick-strietzel"><span>More from Patrick Strietzel</span></a></h3><blockquote><p>I discovered that IE7‚Äôs hashtag behavior (ignoring the <code>padding-top</code>) can be tricked by setting the display value to <code>inline-block</code>.</p></blockquote><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">h2</span> <span class="token punctuation">{</span> </span>
<span class="line">  <span class="token property">margin-top</span><span class="token punctuation">:</span> -285px<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token property">padding-top</span><span class="token punctuation">:</span> 285px<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Of course, a display change like that can have consequences. <code>inline-block</code> is very different from <code>block</code>, so beware.</p><h3 id="more-from-kirk-gleffe" tabindex="-1"><a class="header-anchor" href="#more-from-kirk-gleffe"><span>More from Kirk Gleffe</span></a></h3><p>Kirk found a way to do it with just margin and a bit of <code>transition-delay</code>:</p>`,10)),a(u,{user:"kirkgleffe","slug-hash":"DpXbbm",title:"Hash Links with Margin","default-tab":["css","result"],theme:d.dark},null,8,["theme"]),s[17]||(s[17]=n("h3",{id:"more-from-alex-wolfe",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#more-from-alex-wolfe"},[n("span",null,"More from Alex Wolfe")])],-1)),s[18]||(s[18]=n("p",null,[t("Alex wrote in to mention that the padding on the header might be sitting on top of the text above it. Which means it can block clicks or selecting text. You can fix with "),n("code",null,"z-index"),t(", either by wrapping text in something with a higher "),n("code",null,"z-index"),t(", or, maybe negative "),n("code",null,"z-index"),t(" on the headers.")],-1)),k(" TODO: add ARTICLE CARD "),a(i,l(p({title:"Hash Tag Links That Don't Headbutt The Browser Window",desc:"Using hash-tag links with a fixed position header can be problematic, as the element may be hidden underneath the header as the browser will scroll until the element headbutts the top of browser viewport. There are a couple of ways we can fix this...",link:"https://chanhi2000.github.io/bookshelf/css-tricks.com/hash-tag-links-padding.html",logo:"https://css-tricks/favicon.svg",background:"rgba(17,17,17,0.2)"})),null,16)])}const I=m(f,[["render",q]]),W=JSON.parse(`{"path":"/css-tricks.com/hash-tag-links-padding.html","title":"Hash Tag Links That Don't Headbutt The Browser Window","lang":"en-US","frontmatter":{"lang":"en-US","title":"Hash Tag Links That Don't Headbutt The Browser Window","description":"Article(s) > Hash Tag Links That Don't Headbutt The Browser Window","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","css-tricks.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Hash Tag Links That Don't Headbutt The Browser Window\\",\\"image\\":[\\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/12/default-social-css-tricks.png\\"],\\"datePublished\\":\\"2024-12-20T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Chris Coyier\\",\\"url\\":\\"https://css-tricks.com/author/chriscoyier/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/css-tricks.com/hash-tag-links-padding.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Hash Tag Links That Don't Headbutt The Browser Window"}],["meta",{"property":"og:description","content":"Article(s) > Hash Tag Links That Don't Headbutt The Browser Window"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/12/default-social-css-tricks.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/12/default-social-css-tricks.png"}],["meta",{"name":"twitter:image:alt","content":"Hash Tag Links That Don't Headbutt The Browser Window"}],["meta",{"property":"article:author","content":"Chris Coyier"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"css-tricks.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2024-12-20T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Hash Tag Links That Don't Headbutt The Browser Window"},{"property":"og:description","content":"Hash Tag Links That Don't Headbutt The Browser Window"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/css-tricks.com/hash-tag-links-padding.html"}]],"prev":"/programming/css/articles/README.md","date":"2024-12-20T00:00:00.000Z","isOriginal":false,"author":[{"name":"Chris Coyier","url":"https://css-tricks.com/author/chriscoyier/"}],"cover":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/12/default-social-css-tricks.png"},"git":{},"readingTime":{"minutes":4.58,"words":1375},"filePathRelative":"css-tricks.com/hash-tag-links-padding.md","copyright":{"author":"Chris Coyier"}}`);export{I as comp,W as data};
