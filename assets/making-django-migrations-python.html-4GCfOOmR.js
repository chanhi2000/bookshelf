import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as s,f as e,b as o,a as v,t as b,n as r,g as d,w as i,e as a,r as p,o as k}from"./app-BVguHYKu.js";const y="/bookshelf/assets/image/blog.logrocket.com/making-django-migrations-python/banner.png",f={},w={id:"frontmatter-title-관련",tabindex:"-1"},_={class:"header-anchor",href:"#frontmatter-title-관련"},j={class:"table-of-contents"},q={href:"https://djangoproject.com/",target:"_blank",rel:"noopener noreferrer"},x={href:"https://djangoproject.com/",target:"_blank",rel:"noopener noreferrer"},D={href:"https://en.wikipedia.org/wiki/SQL",target:"_blank",rel:"noopener noreferrer"},T={href:"https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping",target:"_blank",rel:"noopener noreferrer"};function A(u,n){const c=p("VPCard"),t=p("router-link"),m=p("SiteInfo"),l=p("VPIcon");return k(),g("div",null,[s("h1",w,[s("a",_,[s("span",null,b(u.$frontmatter.title)+" 관련",1)])]),e(c,r(d({title:"Django > Article(s)",desc:"Article(s)",link:"/programming/py-django/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",j,[s("ul",null,[s("li",null,[e(t,{to:"#what-is-django"},{default:i(()=>n[0]||(n[0]=[a("What is Django?")])),_:1,__:[0]})]),s("li",null,[e(t,{to:"#what-is-a-migration"},{default:i(()=>n[1]||(n[1]=[a("What is a migration?")])),_:1,__:[1]})]),s("li",null,[e(t,{to:"#setting-up-a-django-project"},{default:i(()=>n[2]||(n[2]=[a("Setting up a Django project")])),_:1,__:[2]})]),s("li",null,[e(t,{to:"#performing-django-migrations"},{default:i(()=>n[3]||(n[3]=[a("Performing Django migrations")])),_:1,__:[3]})]),s("li",null,[e(t,{to:"#creating-migrations-for-new-models"},{default:i(()=>n[4]||(n[4]=[a("Creating migrations for new models")])),_:1,__:[4]})]),s("li",null,[e(t,{to:"#applying-migrations-to-existing-models"},{default:i(()=>n[5]||(n[5]=[a("Applying migrations to existing models")])),_:1,__:[5]})]),s("li",null,[e(t,{to:"#reversing-migrations"},{default:i(()=>n[6]||(n[6]=[a("Reversing migrations")])),_:1,__:[6]})]),s("li",null,[e(t,{to:"#showing-migrations"},{default:i(()=>n[7]||(n[7]=[a("Showing migrations")])),_:1,__:[7]})]),s("li",null,[e(t,{to:"#troubleshooting-errors-in-django-migrations"},{default:i(()=>n[8]||(n[8]=[a("Troubleshooting errors in Django migrations")])),_:1,__:[8]}),s("ul",null,[s("li",null,[e(t,{to:"#deleting-a-migration-file"},{default:i(()=>n[9]||(n[9]=[a("Deleting a migration file")])),_:1,__:[9]})]),s("li",null,[e(t,{to:"#deleting-a-model-field"},{default:i(()=>n[10]||(n[10]=[a("Deleting a model field")])),_:1,__:[10]})])])]),s("li",null,[e(t,{to:"#conclusion"},{default:i(()=>n[11]||(n[11]=[a("Conclusion")])),_:1,__:[11]})])])]),n[48]||(n[48]=s("hr",null,null,-1)),e(m,{name:"Making Django migrations in Python",desc:"By working closely with Django migrations to manage a SQL database, you can learn how to troubleshoot costly mistakes.",url:"https://blog.logrocket.com/making-django-migrations-python",logo:"/assets/image/blog.logrocket.com/favicon.png",preview:"/assets/image/blog.logrocket.com/making-django-migrations-python/banner.png"}),s("p",null,[n[13]||(n[13]=a("Python’s ")),s("a",q,[e(l,{icon:"iconfont icon-django"}),n[12]||(n[12]=a("Django web framework"))]),n[14]||(n[14]=a(" abstracts away much of the complexity when building web applications. One of its key facets is the ability to dynamically interact with a given database on a user’s behalf."))]),n[49]||(n[49]=s("figure",null,[s("img",{src:y,alt:"Django Migrations With Python",tabindex:"0",loading:"lazy"}),s("figcaption",null,"Django Migrations With Python")],-1)),n[50]||(n[50]=s("p",null,"Still, any developer needs to understand what’s going on behind the scenes, or it could lead to catastrophic consequences.",-1)),n[51]||(n[51]=s("p",null,"In this tutorial, you’ll work closely with Django migrations to manage a SQL database and learn how to troubleshoot costly mistakes.",-1)),n[52]||(n[52]=s("hr",null,null,-1)),n[53]||(n[53]=s("h2",{id:"what-is-django",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#what-is-django"},[s("span",null,"What is Django?")])],-1)),s("p",null,[n[16]||(n[16]=a("Django is a popular web framework that allows developers to quickly spin up a web application. Touted as “the web framework for perfectionists with deadlines,” ")),s("a",x,[e(l,{icon:"iconfont icon-django"}),n[15]||(n[15]=a("Django"))]),n[17]||(n[17]=a(" takes care of many low-level functions that can slow the development process."))]),s("p",null,[n[19]||(n[19]=a("Django offers out-of-the-box capabilities for routing URLs, authenticating users, and interfacing with databases. This is particularly useful for those who have little to no experience with Structured Query Language (")),s("a",D,[e(l,{icon:"fa-brands fa-wikipedia-w"}),n[18]||(n[18]=a("SQL"))]),n[20]||(n[20]=a(")."))]),n[54]||(n[54]=s("p",null,"SQL is a domain-specific programming language that is used to interact with a relational database management system. Using SQL, one can create, read, update, and remove the records in a given database. However, the intricacies of SQL can be quite complex, and running improper queries can quickly result in the loss of sensitive or irretrievable data.",-1)),s("p",null,[n[22]||(n[22]=a("Django solves this problem by using an ")),s("a",T,[e(l,{icon:"fa-brands fa-wikipedia-w"}),n[21]||(n[21]=a("object-relational mapper"))]),n[23]||(n[23]=a(" to interface with the database on your behalf. In other words, you tell Django what structure you want the database to have, and Django takes care of translating your Python instructions to SQL queries to be executed on your chosen database. While you can still write SQL if needed, you don’t have to: you simply define your data models in Python, and Django takes care of the rest."))]),n[55]||(n[55]=o(`<p>Here’s an example of a Django data model:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="models.py"><span>models.py</span></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Rocket</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token triple-quoted-string string">&quot;&quot;&quot;A model of a rocket ship.&quot;&quot;&quot;</span></span>
<span class="line">    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line">    launch_date <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line highlighted">    ready_to_launch <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>This data model defines the structure for a database table called <code>Rocket</code>. The model states that the <code>Rocket</code> table should have three columns: <code>name</code>, <code>launch_date</code>, and <code>ready_to_launch</code>.</p><p>Note that this data model doesn’t specify an index or a row counter; that’s because Django implements this automatically under the hood.</p><p>Once you’re ready, you’ll pass this data model off to Django, where it will be transformed into the following database table:</p><table><thead><tr><th><code>id</code></th><th><code>name</code></th><th><code>launch_date</code></th><th><code>ready_to_launch</code></th></tr></thead><tbody><tr><td>1</td><td>Apollo</td><td>2035-10-19</td><td>False</td></tr><tr><td>2</td><td>Orion</td><td>2022-04-05</td><td>True</td></tr></tbody></table><p>The fields of your data model correspond to the headers in your database table. This table has been populated with data, and Django has automatically created a new <code>id</code> for each row.</p><hr><h2 id="what-is-a-migration" tabindex="-1"><a class="header-anchor" href="#what-is-a-migration"><span>What is a migration?</span></a></h2><p>So, how exactly does Django translate your Python model into a database table? Surely defining a table structure as a data model isn’t all there is to it.</p><p>Well, in order to go from data model to database table, you’ll need a migration. This is a special type of Python file that contains the instructions that Django needs to create the database table on your behalf.</p><p>Django uses your data model to populate these instructions and then runs a <code>migrate</code> command to apply those changes to the database.</p><p>In short, Django migrations follow two key steps:</p><ol><li>Create a migration file containing instructions for altering the database table</li><li>Migrate the database table by running the code contained in the migration file</li></ol><p>This two-step process ensures that only the changes you explicitly want to be made are applied. If a migration file contains an error or is missing a critical field, you’re able to correct the issue before applying the changes to the database itself.</p><p>This process makes it extremely simple for even junior web developers to interact with a robust database management system. There’s no need for complex SQL queries or to use a browser-based management console to change the database.</p><p>Simply define your data models, migrate your changes, and you’re good to go! Migrations are an excellent example of Django’s rapid prototyping capabilities.</p><hr><h2 id="setting-up-a-django-project" tabindex="-1"><a class="header-anchor" href="#setting-up-a-django-project"><span>Setting up a Django project</span></a></h2><p>Let’s initialize our project by creating a new folder and activating a virtual environment:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">mkdir</span> django-migrations-tutorial</span>
<span class="line"><span class="token builtin class-name">cd</span> django-migrations-tutorial</span>
<span class="line">python3 <span class="token parameter variable">-m</span> venv django-tut</span>
<span class="line"><span class="token builtin class-name">source</span> django-tut/bin/activate</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>source django-tut/bin/activate</code> command will activate the <code>django-tut</code> virtual environment on Linux or macOS. If you’re on Windows, the command will look slightly different:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">django-tut/bin/activate</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Inside of your virtual environment, install the latest version of Django:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 <span class="token parameter variable">-m</span> pip <span class="token function">install</span> django</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Now that you have Django installed, you can start a new project using the <code>startproject</code> command. Let’s name our project <code>log_rocket</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">django-admin startproject log_rocket.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The trailing period tells Django to install the project inside the current directory. Here’s what the project directory looks like now (excluding the virtual environment directory):</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">tree</span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"><span class="token comment"># .</span></span>
<span class="line"><span class="token comment"># ├── log_rocket</span></span>
<span class="line"><span class="token comment"># │   ├── asgi.py</span></span>
<span class="line"><span class="token comment"># │   ├── __init__.py</span></span>
<span class="line"><span class="token comment"># │   ├── settings.py</span></span>
<span class="line"><span class="token comment"># │   ├── urls.py</span></span>
<span class="line"><span class="token comment"># │   └── wsgi.py</span></span>
<span class="line"><span class="token comment"># └── manage.py</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># 1 directory, 6 files</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="performing-django-migrations" tabindex="-1"><a class="header-anchor" href="#performing-django-migrations"><span>Performing Django migrations</span></a></h2><p>Because Django acts as a scaffold to help you bootstrap your web development, it comes prepackaged with several internal data models and will automatically create a SQLite database for you when you apply an initial migration.</p><p>To migrate Django’s internal data models and create the initial database, you’ll use the <code>migrate</code> management command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py migrate</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Operations to perform:</span></span>
<span class="line"><span class="token comment">#   Apply all migrations: admin, auth, contenttypes, sessions</span></span>
<span class="line"><span class="token comment"># Running migrations:</span></span>
<span class="line"><span class="token comment">#   Applying contenttypes.0001_initial... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0001_initial... OK</span></span>
<span class="line"><span class="token comment">#   Applying admin.0001_initial... OK</span></span>
<span class="line"><span class="token comment">#   Applying admin.0002_logentry_remove_auto_add... OK</span></span>
<span class="line"><span class="token comment">#   Applying admin.0003_logentry_add_action_flag_choices... OK</span></span>
<span class="line"><span class="token comment">#   Applying contenttypes.0002_remove_content_type_name... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0002_alter_permission_name_max_length... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0003_alter_user_email_max_length... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0004_alter_user_username_opts... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0005_alter_user_last_login_null... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0006_require_contenttypes_0002... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0007_alter_validators_add_error_messages... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0008_alter_user_username_max_length... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0009_alter_user_last_name_max_length... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0010_alter_group_name_max_length... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0011_update_proxy_permissions... OK</span></span>
<span class="line"><span class="token comment">#   Applying auth.0012_alter_user_first_name_max_length... OK</span></span>
<span class="line"><span class="token comment">#   Applying sessions.0001_initial... OK</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The output should show that Django has successfully run its own internal instructions to create an initial database. Now, if you examine the directory structure again, you should see a new file:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">tree</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># .</span></span>
<span class="line"><span class="token comment"># ├── db.sqlite3</span></span>
<span class="line"><span class="token comment"># ├── log_rocket</span></span>
<span class="line"><span class="token comment"># │   ├── asgi.py</span></span>
<span class="line"><span class="token comment"># │   ├── __init__.py</span></span>
<span class="line"><span class="token comment"># │   ├── __pycache__</span></span>
<span class="line"><span class="token comment"># │   │   ├── __init__.cpython-38.pyc</span></span>
<span class="line"><span class="token comment"># │   │   ├── settings.cpython-38.pyc</span></span>
<span class="line"><span class="token comment"># │   │   └── urls.cpython-38.pyc</span></span>
<span class="line"><span class="token comment"># │   ├── settings.py</span></span>
<span class="line"><span class="token comment"># │   ├── urls.py</span></span>
<span class="line"><span class="token comment"># │   └── wsgi.py</span></span>
<span class="line"><span class="token comment"># └── manage.py</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># 2 directories, 10 files</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,36)),s("p",null,[n[24]||(n[24]=a("At the top of the tree, there’s a new database file, ")),e(l,{icon:"iconfont icon-sqlite"}),n[25]||(n[25]=s("code",null,"db.sqlite3",-1)),n[26]||(n[26]=a(". This is a SQLite database, which is the default database that Django creates for local development and testing purposes."))]),n[56]||(n[56]=o(`<p>You can use the <code>dbshell</code> management command to examine the new database and confirm that Django has created the tables:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py dbshell</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># SQLite version 3.28.0 2019-04-16 19:49:53</span></span>
<span class="line"><span class="token comment"># Enter &quot;.help&quot; for usage hints.</span></span>
<span class="line"><span class="token comment"># sqlite&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the prompt, type <code>.tables</code> to see a list of all the tables in the database:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="sqlite prompt"><span>sqlite prompt</span></div><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token punctuation">.</span><span class="token keyword">tables</span></span>
<span class="line"><span class="token comment">-- </span></span>
<span class="line"><span class="token comment">-- auth_group                  auth_user_user_permissions</span></span>
<span class="line"><span class="token comment">-- auth_group_permissions      django_admin_log</span></span>
<span class="line"><span class="token comment">-- auth_permission             django_content_type</span></span>
<span class="line"><span class="token comment">-- auth_user                   django_migrations</span></span>
<span class="line"><span class="token comment">-- auth_user_groups            django_session</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token keyword">exit</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>You can exit the database shell with the <code>.exit</code> command.</p><hr><h2 id="creating-migrations-for-new-models" tabindex="-1"><a class="header-anchor" href="#creating-migrations-for-new-models"><span>Creating migrations for new models</span></a></h2><p>Django comes with a few data models built-in, but you’ll need to define most of them from scratch. In this section, we’ll create a Django app, define a model for it, and migrate your changes to the database.</p><p>Previously, we started a Django project called <code>log_rocket</code>. Now, you’ll create an app to attach to this project. A Django project is a directory that contains the global settings needed to manage all apps that are associated with it.</p><p>A Django app is a self-contained chunk of a larger project that focuses on a discrete portion of the whole. For example, a web project may contain a blogging app, a users app, a newsletter app, and more.</p><p>Let’s create an app for our project called <code>rockets</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py startapp rockets</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To tell Django about your new app, add its name to the <code>INSTALLED_APPS</code> setting in your project settings file:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="log_rocket/settings.py"><span>log_rocket/settings.py</span></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&#39;django.contrib.admin&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;django.contrib.auth&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;django.contrib.contenttypes&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;django.contrib.sessions&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;django.contrib.messages&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;django.contrib.staticfiles&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;rockets&#39;</span> <span class="token comment"># add your new app name here</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>This will create a new directory called <code>rockets</code> alongside your project directory. If you examine the files in this new directory, you’ll see that Django has already provided the files you’ll need to define a new data model:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">tree rockets/</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># rockets/</span></span>
<span class="line"><span class="token comment"># ├── admin.py</span></span>
<span class="line"><span class="token comment"># ├── apps.py</span></span>
<span class="line"><span class="token comment"># ├── __init__.py</span></span>
<span class="line"><span class="token comment"># ├── migrations</span></span>
<span class="line"><span class="token comment"># │   └── __init__.py</span></span>
<span class="line"><span class="token comment"># ├── models.py</span></span>
<span class="line"><span class="token comment"># ├── tests.py</span></span>
<span class="line"><span class="token comment"># └── views.py</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># 1 directory, 7 files</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16)),s("p",null,[n[27]||(n[27]=a("There’s a ")),e(l,{icon:"fa-brands fa-python"}),n[28]||(n[28]=s("code",null,"models.py",-1)),n[29]||(n[29]=a(" file, which you’ll use to define your data model, as well as a ")),n[30]||(n[30]=s("code",null,"migrations/",-1)),n[31]||(n[31]=a(" folder for Django to store the instructions for turning your data models into database tables."))]),s("p",null,[n[32]||(n[32]=a("Let’s move the ")),n[33]||(n[33]=s("code",null,"Rocket",-1)),n[34]||(n[34]=a(" data model we saw earlier into the ")),e(l,{icon:"fa-brands fa-python"}),n[35]||(n[35]=s("code",null,"models.py",-1)),n[36]||(n[36]=a(" file. Open the file in your text editor and paste in the code:"))]),n[57]||(n[57]=o(`<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Create your models here.</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Rocket</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token triple-quoted-string string">&quot;&quot;&quot;A model of a rocket ship.&quot;&quot;&quot;</span></span>
<span class="line">    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line">    launch_date <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    ready_to_launch <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Save and close the file. Now, you need to tell Django that you want to make a new table in the database. In other words, you need to make a migrations file for Django to use. Thankfully, Django comes with a handy management command that you can use to do this, called <code>makemigrations</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py makemigrations rockets</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Migrations for &#39;rockets&#39;:</span></span>
<span class="line"><span class="token comment">#   rockets/migrations/0001_initial.py</span></span>
<span class="line"><span class="token comment">#     - Create model Rocket</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The output you see is Django confirming that you want to create a migration file for the <code>rockets</code> app, within which you’ve defined a new model named <code>Rocket</code>.</p>`,4)),s("p",null,[n[37]||(n[37]=a("The instructions for this data model are saved in the ")),e(l,{icon:"fas fa-folder-open"}),n[38]||(n[38]=s("code",null,"migrations/",-1)),n[39]||(n[39]=a(" folder, with the file name ")),e(l,{icon:"fa-brands fa-python"}),n[40]||(n[40]=s("code",null,"0001_initial.py",-1)),n[41]||(n[41]=a(". You can open this file and confirm that the changes Django is going to make match what you’ve specified in your ")),e(l,{icon:"fa-brands fa-python"}),n[42]||(n[42]=s("code",null,"models.py",-1)),n[43]||(n[43]=a(" file."))]),n[58]||(n[58]=o(`<p>Once you’ve confirmed the instructions are correct, you can tell Django to apply them with the <code>migrate</code> command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py migrate rockets</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Operations to perform:</span></span>
<span class="line"><span class="token comment">#   Apply all migrations: rockets</span></span>
<span class="line"><span class="token comment"># Running migrations:</span></span>
<span class="line"><span class="token comment">#   Applying rockets.0001_initial... OK</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>All migrations were applied successfully. Now, when you open <code>dbshell</code> and examine the list of tables, you should see a new one:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py dbshell</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># SQLite version 3.28.0 2019-04-16 19:49:53</span></span>
<span class="line"><span class="token comment"># Enter &quot;.help&quot; for usage hints.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="sqlite prompt"><span>sqlite prompt</span></div><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token punctuation">.</span><span class="token keyword">tables</span></span>
<span class="line"><span class="token comment">-- auth_group                  django_admin_log</span></span>
<span class="line"><span class="token comment">-- auth_group_permissions      django_content_type</span></span>
<span class="line"><span class="token comment">-- auth_permission             django_migrations</span></span>
<span class="line"><span class="token comment">-- auth_user                   django_session</span></span>
<span class="line"><span class="token comment">-- auth_user_groups            rockets_rocket</span></span>
<span class="line"><span class="token comment">-- auth_user_user_permissions</span></span>
<span class="line"><span class="token punctuation">.</span>quit</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Django has named the new table <code>rockets_rocket</code> after the name of the app (<code>rockets</code>) and the lowercase name of the model you specified (<code>Rockets</code>).</p><p>You can manually add data to the new table using an <code>INSERT</code> SQL query:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> rockets_rocket <span class="token punctuation">(</span>name<span class="token punctuation">,</span> launch_date<span class="token punctuation">,</span> ready_to_launch<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&quot;Apollo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2035-10-19&quot;</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> rockets_rocket <span class="token punctuation">(</span>name<span class="token punctuation">,</span> launch_date<span class="token punctuation">,</span> ready_to_launch<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&quot;Orion&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2022-04-05&quot;</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> rockets_rocket<span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">-- </span></span>
<span class="line"><span class="token comment">-- 1|Apollo|2035-10-19|0</span></span>
<span class="line"><span class="token comment">-- 2|Orion|2022-04-05|1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here, you used the same field names that you defined in your <code>Rocket</code> model. Each row is automatically assigned a unique <code>id</code>.</p><p>Note that you’ve manually inserted strings into the <code>launch_date</code> column, even though your data model specified that these fields should be <code>date</code> objects. Because you’ve already put strings into the database, you’ll want to update your data model to handle values in this column as character data instead. The next section will walk you through how to do this.</p><hr><h2 id="applying-migrations-to-existing-models" tabindex="-1"><a class="header-anchor" href="#applying-migrations-to-existing-models"><span>Applying migrations to existing models</span></a></h2><p>It’s highly unlikely that the first time you work on a model will also be the last. More often than not, you’ll need to tweak your models to reflect desired changes to the underlying database.</p><p>For instance, the <code>launch_date</code> field now contains string data that was manually inserted into the database. However, in your <code>Rocket</code> data model, you initially decided that this field should contain a <code>date</code> object.</p><p>Because it’s easier to manually insert strings into a database, let’s change this field on our model to accept character data:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="models.py"><span>models.py</span></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Create your models here.</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Rocket</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token triple-quoted-string string">&quot;&quot;&quot;A model of a rocket ship.&quot;&quot;&quot;</span></span>
<span class="line">    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line">    launch_date <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token comment"># Update this line</span></span>
<span class="line">    ready_to_launch <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Now, run the same commands to tell Django about the change to the data model:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py makemigrations rockets</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Migrations for &#39;rockets&#39;:</span></span>
<span class="line"><span class="token comment">#   rockets/migrations/0002_alter_rocket_launch_date.py</span></span>
<span class="line"><span class="token comment">#     - Alter field launch_date on rocket</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Django correctly recognizes that you’ve altered the <code>launch_date</code> field. Because this is what you want to happen, you can apply this migration:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py migrate rockets</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Operations to perform:</span></span>
<span class="line"><span class="token comment">#   Apply all migrations: rockets</span></span>
<span class="line"><span class="token comment"># Running migrations:</span></span>
<span class="line"><span class="token comment">#   Applying rockets.0002_alter_rocket_launch_date... OK</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>From this point forward, Django will ensure that all dynamically generated launch dates are rendered as strings.</p><p>You can use the <code>dbshell</code> to view the database schema and confirm that this change was made:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="sqlite prompt"><span>sqlite prompt</span></div><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token punctuation">.</span><span class="token keyword">schema</span> rockets_rocket</span>
<span class="line"><span class="token comment">-- </span></span>
<span class="line"><span class="token comment">-- CREATE TABLE IF NOT EXISTS &quot;rockets_rocket&quot; (&quot;id&quot; integer NOT NULL PRIMARY KEY AUTOINCREMENT, &quot;name&quot; varchar(200) NOT NULL, &quot;ready_to_launch&quot; bool NOT NULL, &quot;launch_date&quot; varchar(200) NOT NULL);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Here, you can see that the <code>&quot;launch_date&quot;</code> column should contain <code>varchar(200)</code> data, or character data with a length no longer than 200 characters.</p><hr><h2 id="reversing-migrations" tabindex="-1"><a class="header-anchor" href="#reversing-migrations"><span>Reversing migrations</span></a></h2><p>Let’s say that you’ve decided it was better to have the <code>launch_date</code> rendered as a date object. This will make it easier to schedule rocket launches, as you can take advantage of Python functions like <code>datetime.timedelta()</code>. This means you’ll need to undo that change you just made to the <code>launch_date</code> field in the database.</p><p>Once again, Django saves the day by providing you with simple commands that you can use to quickly reverse your changes. To unapply a migration, you’ll need to migrate the database once more, passing in the name of the migration that you want to revert to as an argument.</p><p>Django helpfully numbers the migrations for you. Changing the <code>launch_date</code> field was the second migration performed, and it’s named <code>0002_alter_rocket_launch_date</code>. To undo this change, you’ll want to revert to the first migration, which is named <code>0001_initial</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py migrate rockets 0001_initial</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Operations to perform:</span></span>
<span class="line"><span class="token comment">#   Target specific migration: 0001_initial, from rockets</span></span>
<span class="line"><span class="token comment"># Running migrations:</span></span>
<span class="line"><span class="token comment">#   Rendering model states... DONE</span></span>
<span class="line"><span class="token comment">#   Unapplying rockets.0002_alter_rocket_launch_date... OK</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The output confirms that Django has reversed the second migration.</p><p>A quick look at the database schema also confirms the reversal:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="sqlite prompt"><span>sqlite prompt</span></div><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token punctuation">.</span><span class="token keyword">schema</span> rockets_rocket</span>
<span class="line"><span class="token comment">-- </span></span>
<span class="line"><span class="token comment">-- CREATE TABLE IF NOT EXISTS &quot;rockets_rocket&quot; (&quot;id&quot; integer NOT NULL PRIMARY KEY AUTOINCREMENT, &quot;launch_date&quot; date NOT NULL, &quot;name&quot; varchar(200) NOT NULL, &quot;ready_to_launch&quot; bool NOT NULL);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>The type for the <code>&quot;launch_date&quot;</code> column has been set to a <code>date</code> object once again.</p><hr><h2 id="showing-migrations" tabindex="-1"><a class="header-anchor" href="#showing-migrations"><span>Showing migrations</span></a></h2><p>If you want to see a quick overview of what migrations have been applied to a Django project, you can use the <code>showmigrations</code> command to view them all at once:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py showmigrations</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># admin</span></span>
<span class="line"><span class="token comment">#  [X] 0001_initial</span></span>
<span class="line"><span class="token comment">#  [X] 0002_logentry_remove_auto_add</span></span>
<span class="line"><span class="token comment">#  [X] 0003_logentry_add_action_flag_choices</span></span>
<span class="line"><span class="token comment"># auth</span></span>
<span class="line"><span class="token comment">#  [X] 0001_initial</span></span>
<span class="line"><span class="token comment">#  [X] 0002_alter_permission_name_max_length</span></span>
<span class="line"><span class="token comment">#  [X] 0003_alter_user_email_max_length</span></span>
<span class="line"><span class="token comment">#  [X] 0004_alter_user_username_opts</span></span>
<span class="line"><span class="token comment">#  [X] 0005_alter_user_last_login_null</span></span>
<span class="line"><span class="token comment">#  [X] 0006_require_contenttypes_0002</span></span>
<span class="line"><span class="token comment">#  [X] 0007_alter_validators_add_error_messages</span></span>
<span class="line"><span class="token comment">#  [X] 0008_alter_user_username_max_length</span></span>
<span class="line"><span class="token comment">#  [X] 0009_alter_user_last_name_max_length</span></span>
<span class="line"><span class="token comment">#  [X] 0010_alter_group_name_max_length</span></span>
<span class="line"><span class="token comment">#  [X] 0011_update_proxy_permissions</span></span>
<span class="line"><span class="token comment">#  [X] 0012_alter_user_first_name_max_length</span></span>
<span class="line"><span class="token comment"># contenttypes</span></span>
<span class="line"><span class="token comment">#  [X] 0001_initial</span></span>
<span class="line"><span class="token comment">#  [X] 0002_remove_content_type_name</span></span>
<span class="line"><span class="token comment"># rockets</span></span>
<span class="line"><span class="token comment">#  [X] 0001_initial</span></span>
<span class="line"><span class="token comment">#  [ ] 0002_alter_rocket_launch_date</span></span>
<span class="line"><span class="token comment"># sessions</span></span>
<span class="line"><span class="token comment">#  [X] 0001_initial</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Look closely at the migrations for the <code>rockets</code> app. Even though you reversed the change to the <code>launch_date</code> field, Django has still kept a record of this migration. Indeed, you can list the contents of the migrations directory and see that the file is still there.</p><p>This is an immensely useful feature, as it allows you to reapply a previously reversed migration should you so choose. However, Django will automatically reapply that migration the next time you migrate the entire project, so keep this in mind.</p><hr><h2 id="troubleshooting-errors-in-django-migrations" tabindex="-1"><a class="header-anchor" href="#troubleshooting-errors-in-django-migrations"><span>Troubleshooting errors in Django migrations</span></a></h2><p>This section will cover a few errors you might come across while working with Django migrations. The concepts in this section are considered advanced because of the severe potential for critical data loss.</p><p>Remember to use datasets that you either have a backup for, or whose data you don’t mind losing completely, while you practice the techniques mentioned in the following sections.</p><h3 id="deleting-a-migration-file" tabindex="-1"><a class="header-anchor" href="#deleting-a-migration-file"><span>Deleting a migration file</span></a></h3><p>In the previous section, you saw that Django keeps a record of all migrations, even ones you’ve unapplied. Furthermore, you know that if you try to migrate the database again, Django will reapply that migration automatically! How can you stop this from happening?</p><p>You might try to delete the migration file and migrate the database from there:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">rm</span> rockets/migrations/0002_alter_rocket_launch_date.py</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This will remove the file that says to change the <code>launch_date</code> field to accept character data instead of a date object.</p><p>However, Django will present you with an error message if you try to migrate the database now:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py migrate rockets</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Operations to perform:</span></span>
<span class="line"><span class="token comment">#   Apply all migrations: rockets</span></span>
<span class="line"><span class="token comment"># Running migrations:</span></span>
<span class="line"><span class="token comment">#   No migrations to apply.</span></span>
<span class="line"><span class="token comment">#   Your models in app(s): &#39;rockets&#39; have changes that are not yet reflected in a migration, and so won&#39;t be applied.</span></span>
<span class="line"><span class="token comment">#   Run &#39;manage.py makemigrations&#39; to make new migrations, and then re-run &#39;manage.py migrate&#39; to apply them.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This error message is saying that your data model does not match what’s currently in the database. When you deleted the migrations field, you deleted the instructions that said to change the <code>launch_date</code> field. However, your Django model itself still reflects this change.</p>`,52)),s("p",null,[n[44]||(n[44]=a("To fix this, you need to go into your")),e(l,{icon:"fa-brands fa-python"}),n[45]||(n[45]=a()),n[46]||(n[46]=s("code",null,"models.py",-1)),n[47]||(n[47]=a(" file and manually reverse the change as well:"))]),n[59]||(n[59]=o(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="models.py"><span>models.py</span></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Create your models here.</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Rocket</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line highlighted">    <span class="token triple-quoted-string string">&quot;&quot;&quot;A model of a rocket ship.&quot;&quot;&quot;</span></span>
<span class="line">    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line">    launch_date <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># Update this line</span></span>
<span class="line">    ready_to_launch <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Now, when you migrate the database, Django will confirm that the table schema and your model are in sync:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py migrate rockets</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Operations to perform:</span></span>
<span class="line"><span class="token comment">#   Apply all migrations: rockets</span></span>
<span class="line"><span class="token comment"># Running migrations:</span></span>
<span class="line"><span class="token comment">#   No migrations to apply.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Looking good!</p><h3 id="deleting-a-model-field" tabindex="-1"><a class="header-anchor" href="#deleting-a-model-field"><span>Deleting a model field</span></a></h3><p>When you’re working with production-grade projects, you’ll likely not be the only developer on the team. That means other developers will be interacting with the database and making asynchronous changes.</p><p>Say that one of your teammates misunderstood the requirements and accidentally removed the <code>launch_date</code> field completely. (To replicate this behavior, go ahead and remove the <code>launch_date</code> field from your data model and apply the migration.) The truncated output of <code>showmigrations</code> shows what happened:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">rockets</span>
<span class="line"> [X] 0001_initial</span>
<span class="line"> [X] 0002_remove_rocket_launch_date</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Not a problem, right? Let’s try to revert the migration and see what happens:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py migrate rockets 0001_initial</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Operations to perform:</span></span>
<span class="line"><span class="token comment">#   Target specific migration: 0001_initial, from rockets</span></span>
<span class="line"><span class="token comment"># Running migrations:</span></span>
<span class="line"><span class="token comment">#   Rendering model states... DONE</span></span>
<span class="line"><span class="token comment">#   Unapplying rockets.0002_remove_rocket_launch_date...Traceback (most recent call last):</span></span>
<span class="line"><span class="token comment">#   File &quot;/django-migrations-tutorial/django-tut/lib/python3.8/site-packages/django/db/backends/utils.py&quot;, line 84, in _execute</span></span>
<span class="line"><span class="token comment">#     return self.cursor.execute(sql, params)</span></span>
<span class="line"><span class="token comment">#   File &quot;/django-migrations-tutorial/django-tut/lib/python3.8/site-packages/django/db/backends/sqlite3/base.py&quot;, line 423, in execute</span></span>
<span class="line"><span class="token comment">#     return Database.Cursor.execute(self, query, params)</span></span>
<span class="line"><span class="token comment"># sqlite3.IntegrityError: NOT NULL constraint failed: new__rockets_rocket.launch_date</span></span>
<span class="line"><span class="token comment"># ... # truncated for length</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Uh-oh… Django won’t apply the migration because doing so would violate a constraint on the database.</p><p>Take a closer look at the table schema:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="sqlite prompt"><span>sqlite prompt</span></div><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token punctuation">.</span><span class="token keyword">schema</span> rockets_rocket</span>
<span class="line"><span class="token comment">-- </span></span>
<span class="line"><span class="token comment">-- CREATE TABLE IF NOT EXISTS &quot;rockets_rocket&quot; (&quot;id&quot; integer NOT NULL PRIMARY KEY AUTOINCREMENT, &quot;launch_date&quot; date NOT NULL, &quot;name&quot; varchar(200) NOT NULL, &quot;ready_to_launch&quot; bool NOT NULL);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>You can see that the <code>&quot;launch_date&quot;</code> field has a constraint on it called <code>NOT NULL</code>. This means that each row in the database must have a value in this field — it cannot be empty. Django models carry this constraint by default.</p><p>Unfortunately, when your colleague removed the <code>launch_date</code> field, Django applied this change to the database, dropping that column from the table as well:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="sqlite prompt"><span>sqlite prompt</span></div><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> rockets_rocket<span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">-- </span></span>
<span class="line"><span class="token comment">-- 1|Apollo|0</span></span>
<span class="line"><span class="token comment">-- 2|Orion|1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>You cannot simply undo the change because you would be reverting to a database schema that requires the <code>launch_date</code> column to have a value in it. Yet, the table has existing rows that have no values for this field! Django is unable to reconcile the conflict, so the migration will not run.</p><p>To fix this, you’ll need to explicitly re-define the deleted table column in your data model:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="models.py"><span>models.py</span></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Create your models here.</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Rocket</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token triple-quoted-string string">&quot;&quot;&quot;A model of a rocket ship.&quot;&quot;&quot;</span></span>
<span class="line">    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line">    launch_date <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># Make sure this line exists</span></span>
<span class="line">    ready_to_launch <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>When you try to make the new migration, you should be greeted with the following prompt:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python3 manage.py makemigrations rockets</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># You are trying to add a non-nullable field &#39;launch_date&#39; to rocket without a default; we can&#39;t do that (the database needs something to populate existing rows).</span></span>
<span class="line"><span class="token comment"># Please select a fix:</span></span>
<span class="line"><span class="token comment">#  1) Provide a one-off default now (will be set on all existing rows with a null value for this column)</span></span>
<span class="line"><span class="token comment">#  2) Quit, and let me add a default in models.py</span></span>
<span class="line"><span class="token comment"># Select an option:</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This time, Django can ask you explicitly what you want to do about the non-nullable field <code>launch_date</code>. Select the option to provide a one-off default value:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Select an option: 1</span></span>
<span class="line"><span class="token comment"># Please enter the default value now, as valid Python</span></span>
<span class="line"><span class="token comment"># The datetime and django.utils.timezone modules are available, so you can do e.g. timezone.now</span></span>
<span class="line"><span class="token comment"># Type &#39;exit&#39; to exit this prompt</span></span>
<span class="line"><span class="token comment"># &gt;&gt;&gt; timezone.now()</span></span>
<span class="line"><span class="token comment"># Migrations for &#39;rockets&#39;:</span></span>
<span class="line"><span class="token comment">#   rockets/migrations/0003_rocket_launch_date.py</span></span>
<span class="line"><span class="token comment">#     - Add field launch_date to rocket</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>launch_date</code> field accepts <code>date</code> objects, so you can use the <code>timezone.now()</code> function to provide the current date and time as a default value.</p><p>You can examine the newly created migrations file to confirm that Django will use that default value on existing rows in the database:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="rockets/migrations/0003_rocket_launch_date.py"><span>rockets/migrations/0003_rocket_launch_date.py</span></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Migration</span><span class="token punctuation">(</span>migrations<span class="token punctuation">.</span>Migration<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># ...</span></span>
<span class="line">    operations <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">        migrations<span class="token punctuation">.</span>AddField<span class="token punctuation">(</span></span>
<span class="line">            model_name<span class="token operator">=</span><span class="token string">&#39;rocket&#39;</span><span class="token punctuation">,</span></span>
<span class="line">            name<span class="token operator">=</span><span class="token string">&#39;launch_date&#39;</span><span class="token punctuation">,</span></span>
<span class="line">            field<span class="token operator">=</span>models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span>default<span class="token operator">=</span>datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">,</span> <span class="token number">82124</span><span class="token punctuation">,</span> tzinfo<span class="token operator">=</span>utc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            preserve_default<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Now, when you migrate the database, Django will add the <code>launch_date</code> back to the table, and populate the existing rows with the specified default value:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="sqlite prompt"><span>sqlite prompt</span></div><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> rockets_rocket<span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">-- </span></span>
<span class="line"><span class="token comment">-- 1|Apollo|0|2021-12-02</span></span>
<span class="line"><span class="token comment">-- 2|Orion|1|2021-12-02</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>If you don’t want to supply a default value, then you can mitigate this issue by explicitly removing the <code>NOT NULL</code> constraint. This is done by passing an argument in to the field you’re defining in your data model:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="models.py"><span>models.py</span></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Create your models here.</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Rocket</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line highlighted">    <span class="token triple-quoted-string string">&quot;&quot;&quot;A model of a rocket ship.&quot;&quot;&quot;</span></span>
<span class="line">    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line">    launch_date <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span>null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> <span class="token comment"># Allow null values</span></span>
<span class="line">    ready_to_launch <span class="token operator">=</span> models<span class="token punctuation">.</span>BooleanField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Now, if the <code>launch_date</code> column is removed and added back in, Django will apply the migration even when existing table rows contain no value for this field.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>Django’s object-relational mapper is a powerful tool and a boon to Python web developers across the world. In this tutorial, you’ve seen how you can work with Django migrations to quickly spin up database tables in Python without the need to write any SQL queries on your end.</p><p>You also learned a few techniques to troubleshoot errors like accidentally deleting a migration file or dropping a field from a database table. Working with data is a touchy endeavor, and while Django can help you reverse some mistakes, it can’t recover the data itself — so be sure to always back up your tables!</p><p>If you have any questions or comments, then please share them in the comments section below.</p><p>Thanks for reading!</p>`,37)),v(" TODO: add ARTICLE CARD "),e(c,r(d({title:"Making Django migrations in Python",desc:"By working closely with Django migrations to manage a SQL database, you can learn how to troubleshoot costly mistakes.",link:"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/making-django-migrations-python.html",logo:"/assets/image/blog.logrocket.com/favicon.png",background:"rgba(112,76,182,0.2)"})),null,16)])}const N=h(f,[["render",A]]),S=JSON.parse('{"path":"/blog.logrocket.com/making-django-migrations-python.html","title":"Making Django migrations in Python","lang":"en-US","frontmatter":{"lang":"en-US","title":"Making Django migrations in Python","description":"Article(s) > Making Django migrations in Python","icon":"iconfont icon-django","category":["Python","Django","Article(s)"],"tag":["blog","blog.logrocket.com","python","py","django","py-django"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Making Django migrations in Python\\",\\"image\\":[\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/making-django-migrations-python/banner.png\\"],\\"datePublished\\":\\"2021-12-17T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jaya Moore\\",\\"url\\":\\"https://blog.logrocket.com/author/jayamoore/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/making-django-migrations-python.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"Making Django migrations in Python"}],["meta",{"property":"og:description","content":"Article(s) > Making Django migrations in Python"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/making-django-migrations-python/banner.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/making-django-migrations-python/banner.png"}],["meta",{"name":"twitter:image:alt","content":"Making Django migrations in Python"}],["meta",{"property":"article:author","content":"Jaya Moore"}],["meta",{"property":"article:tag","content":"py-django"}],["meta",{"property":"article:tag","content":"django"}],["meta",{"property":"article:tag","content":"py"}],["meta",{"property":"article:tag","content":"python"}],["meta",{"property":"article:tag","content":"blog.logrocket.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2021-12-17T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Making Django migrations in Python"},{"property":"og:description","content":"Making Django migrations in Python"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/making-django-migrations-python.html"}]],"prev":"/programming/py-django/articles/README.md","date":"2021-12-17T00:00:00.000Z","isOriginal":false,"author":[{"name":"Jaya Moore","url":"https://blog.logrocket.com/author/jayamoore/"}],"cover":"/assets/image/blog.logrocket.com/making-django-migrations-python/banner.png"},"git":{},"readingTime":{"minutes":13.72,"words":4117},"filePathRelative":"blog.logrocket.com/making-django-migrations-python.md","copyright":{"author":"Jaya Moore"}}');export{N as comp,S as data};
