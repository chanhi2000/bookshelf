import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as f,d as n,f as a,b as u,a as v,t as w,n as d,g as c,w as t,e as s,r as o,o as k}from"./app-BItykJLQ.js";const b={},y={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},x={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},L={class:"table-of-contents"};function C(m,e){const l=o("VPCard"),i=o("router-link"),h=o("SiteInfo"),r=o("RouteLink"),p=o("VPIcon");return k(),f("div",null,[n("h1",y,[n("a",x,[n("span",null,w(m.$frontmatter.title)+" ê´€ë ¨",1)])]),a(l,d(c({title:"Shell > Article(s)",desc:"Article(s)",link:"/programming/sh/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),a(l,d(c({title:"awk > Article(s)",desc:"Article(s)",link:"/tool/awk/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),a(l,d(c({title:"sed > Article(s)",desc:"Article(s)",link:"/tool/sed/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",L,[n("ul",null,[n("li",null,[a(i,{to:"#example-1-updating-a-parameter-with-sed-command"},{default:t(()=>[...e[0]||(e[0]=[s("Example 1: Updating a Parameter with sed Command",-1)])]),_:1})]),n("li",null,[a(i,{to:"#example-2-extracting-values-with-awk-command"},{default:t(()=>[...e[1]||(e[1]=[s("Example 2: Extracting Values with awk Command",-1)])]),_:1})]),n("li",null,[a(i,{to:"#example-3-removing-a-parameter-line-using-sed-command"},{default:t(()=>[...e[2]||(e[2]=[s("Example 3: Removing a Parameter Line Using sed Command",-1)])]),_:1})]),n("li",null,[a(i,{to:"#example-4-generating-a-report-with-awk-command"},{default:t(()=>[...e[3]||(e[3]=[s("Example 4: Generating a Report with awk Command",-1)])]),_:1})]),n("li",null,[a(i,{to:"#example-5-inserting-a-line-before-or-after-a-match-using-sed"},{default:t(()=>[...e[4]||(e[4]=[s("Example 5: Inserting a Line Before or After a Match Using sed",-1)])]),_:1})]),n("li",null,[a(i,{to:"#bonus-combining-awk-and-sed-in-shell-scripts"},{default:t(()=>[...e[5]||(e[5]=[s("Bonus: Combining awk and sed in Shell Scripts",-1)])]),_:1})]),n("li",null,[a(i,{to:"#wrapping-up"},{default:t(()=>[...e[6]||(e[6]=[s("Wrapping Up",-1)])]),_:1})])])]),e[23]||(e[23]=n("hr",null,null,-1)),a(h,{name:"How to Use sed and awk to Modify Config Files in Linux",desc:"In this article, youâ€™ll learn how to use sed and awk to parse, edit, and automate changes in Linux configuration files with simple examples.",url:"https://tecmint.com/edit-configuration-files-using-sed-and-awk",logo:"https://tecmint.com/wp-content/uploads/2020/07/favicon.ico",preview:"https://tecmint.com/wp-content/uploads/2025/07/edit-configuration-files-using-sed-and-awk.webp"}),n("p",null,[e[9]||(e[9]=s("Linux configuration files are often plain text, which makes them easily editable using command-line tools. Among the most powerful of these are ",-1)),a(r,{to:"/tecmint.com/linux-sed-command-tips-tricks.html"},{default:t(()=>[...e[7]||(e[7]=[n("strong",null,[n("code",null,"sed")],-1)])]),_:1}),e[10]||(e[10]=s(" and ",-1)),a(r,{to:"/tecmint.com/use-linux-awk-command-to-filter-text-string-in-files.html"},{default:t(()=>[...e[8]||(e[8]=[n("strong",null,[n("code",null,"awk")],-1)])]),_:1}),e[11]||(e[11]=s(".",-1))]),n("p",null,[e[14]||(e[14]=s("While beginners may rely on manual editing with ",-1)),a(r,{to:"/tecmint.com/vi-editor-usage.html"},{default:t(()=>[...e[12]||(e[12]=[n("strong",null,[n("code",null,"vi")],-1)])]),_:1}),e[15]||(e[15]=s(" or ",-1)),a(r,{to:"/tecmint.com/learn-nano-text-editor-in-linux.html"},{default:t(()=>[...e[13]||(e[13]=[n("strong",null,[n("code",null,"nano")],-1)])]),_:1}),e[16]||(e[16]=s(", experienced system administrators frequently turn to these tools for automated parsing and rewriting of configuration files.",-1))]),e[24]||(e[24]=u('<p>These tools allow you to match patterns, extract fields, and even make real-time changes to configuration files all from the command line or scripts.</p><p>In this article, we will explore how to use <code>sed</code> and <code>awk</code> to read, parse, and rewrite config files effectively. Weâ€™ll walk through practical examples that can help automate tedious tasks like updating IP addresses, changing parameters, or extracting values.</p><p>Letâ€™s begin with a simple example: replacing a configuration parameter using <code>sed</code>.</p><hr><h2 id="example-1-updating-a-parameter-with-sed-command" tabindex="-1"><a class="header-anchor" href="#example-1-updating-a-parameter-with-sed-command"><span>Example 1: Updating a Parameter with sed Command</span></a></h2>',5)),n("p",null,[e[17]||(e[17]=s("Suppose you want to update the ",-1)),e[18]||(e[18]=n("code",null,"ListenPort",-1)),e[19]||(e[19]=s(" directive in a config file such as ",-1)),a(p,{icon:"fas fa-folder-open"}),e[20]||(e[20]=n("code",null,"/etc/ssh/",-1)),a(p,{icon:"fas fa-file-lines"}),e[21]||(e[21]=n("code",null,"sshd_config",-1)),e[22]||(e[22]=s(", you can do this with:",-1))]),e[25]||(e[25]=u(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s/^#\\?ListenPort.*/ListenPort 2222/&#39;</span> /etc/ssh/sshd_config</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">Hereâ€™s what this does:</p><ul><li><code>-i</code> tells <code>sed</code> to edit the file in-place.</li><li><code>^#\\?</code> matches lines that may or may not begin with a comment (<code>#</code>).</li><li><code>ListenPort.*</code> matches the rest of the line, whether itâ€™s the default or a custom value.</li><li>The entire line is replaced with <code>ListenPort 2222</code>.</li></ul></div><p>This approach confirms that even if the directive is commented out or already set to another value, it will be updated cleanly.</p><hr><h2 id="example-2-extracting-values-with-awk-command" tabindex="-1"><a class="header-anchor" href="#example-2-extracting-values-with-awk-command"><span>Example 2: Extracting Values with awk Command</span></a></h2><p>To extract specific values from a configuration file, <code>awk</code> is an excellent choice. For example, if you want to retrieve the value of the <code>PermitRootLogin</code> directive from the SSH configuration file, use:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">awk</span> <span class="token string">&#39;$1 == &quot;PermitRootLogin&quot; { print $2 }&#39;</span> /etc/ssh/sshd_config</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">Hereâ€™s what this does:</p><ul><li><code>$1 == &quot;PermitRootLogin&quot;</code> matches lines where the first field is exactly <code>PermitRootLogin</code>.</li><li><code>{ print $2 }</code> prints the second field, which is the actual value assigned to that directive.</li></ul></div><p>This command scans the file for any line that starts with <code>PermitRootLogin</code> and prints the corresponding value, typically <code>yes</code>, <code>no</code>, or <code>prohibit-password</code>.</p><hr><h2 id="example-3-removing-a-parameter-line-using-sed-command" tabindex="-1"><a class="header-anchor" href="#example-3-removing-a-parameter-line-using-sed-command"><span>Example 3: Removing a Parameter Line Using sed Command</span></a></h2><p>For example, if you need to delete any line that starts with <code>UseDNS</code> in the <code>/etc/ssh/sshd_config</code> file, you can do so quickly and efficiently using <code>sed</code> command.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/^UseDNS/d&#39;</span> /etc/ssh/sshd_config</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">What this does:</p><ul><li><code>^UseDNS</code> matches lines that begin with UseDNS.</li><li>The <code>d</code> command tells <code>sed</code> to delete those lines.</li><li>The <code>-i</code> flag applies the changes directly to the file.</li></ul></div><p>This is handy when a deprecated or unwanted configuration is present in multiple places, and you want it to remove.</p><hr><h2 id="example-4-generating-a-report-with-awk-command" tabindex="-1"><a class="header-anchor" href="#example-4-generating-a-report-with-awk-command"><span>Example 4: Generating a Report with awk Command</span></a></h2><p>Suppose you have a custom configuration file that lists services alongside their status, like this:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">apache2 running  </span>
<span class="line">mysql stopped  </span>
<span class="line">nginx running  </span>
<span class="line"><span class="token function">ssh</span> running</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can use awk to quickly generate a summary of all services that are currently running.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">awk</span> <span class="token string">&#39;$2 == &quot;running&quot; { print $1 }&#39;</span> /etc/myapp/services.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">Hereâ€™s what it does:</p><ul><li><code>$2 == &quot;running&quot;</code> matches lines where the second field is â€œ<strong>running</strong>â€œ.</li><li><code>{ print $1 }</code> outputs the service name.</li></ul></div><p>This produces a list of only the services that are currently running. You can expand on this by adding counters or saving the output to a log file for monitoring scripts.</p><hr><h2 id="example-5-inserting-a-line-before-or-after-a-match-using-sed" tabindex="-1"><a class="header-anchor" href="#example-5-inserting-a-line-before-or-after-a-match-using-sed"><span>Example 5: Inserting a Line Before or After a Match Using sed</span></a></h2><p>If you need to add a new line after a specific directive in a config file, use <code>sed</code> like this:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/^PermitRootLogin/a Banner /etc/issue.net&#39;</span> /etc/ssh/sshd_config</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">Hereâ€™s what it does:</p><ul><li><code>/^PermitRootLogin/</code> matches the line containing <code>PermitRootLogin</code>.</li><li><code>a</code> appends the line after the match.</li><li>Banner <code>/etc/issue.net</code> is the line being inserted.</li></ul></div><p>This is helpful when you want to keep related config options grouped together logically.</p><hr><h2 id="bonus-combining-awk-and-sed-in-shell-scripts" tabindex="-1"><a class="header-anchor" href="#bonus-combining-awk-and-sed-in-shell-scripts"><span>Bonus: Combining awk and sed in Shell Scripts</span></a></h2><p>Advanced users can even combine <code>awk</code> and <code>sed</code> in bash scripts to automate bulk configuration tasks. For example, parsing all <code>.conf</code> files in a directory and rewriting a particular parameter across each file â€” for example, updating a directive like <code>MaxConnections</code> to a new value.</p><p>Hereâ€™s a simple script that does exactly that:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Define the new value for the parameter</span></span>
<span class="line"><span class="token assign-left variable">NEW_VALUE</span><span class="token operator">=</span><span class="token number">500</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Loop through all .conf files in /etc/myapp/</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> /etc/myapp/*.conf<span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">  <span class="token comment"># Check if the file contains the MaxConnections directive</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token function">awk</span> <span class="token string">&#39;$1 == &quot;MaxConnections&quot;&#39;</span> <span class="token string">&quot;<span class="token variable">$file</span>&quot;</span> <span class="token operator">&gt;</span> /dev/null<span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token comment"># Use sed to replace the existing value</span></span>
<span class="line">    <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s/^MaxConnections.*/MaxConnections &#39;</span><span class="token string">&quot;<span class="token variable">$NEW_VALUE</span>&quot;</span>&#39;/<span class="token string">&#39; &quot;$file&quot;</span>
<span class="line">    echo &quot;Updated MaxConnections in $file&quot;</span>
<span class="line">  else</span>
<span class="line">    # If the directive doesn&#39;</span>t exist, append it to the end</span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;MaxConnections <span class="token variable">$NEW_VALUE</span>&quot;</span> <span class="token operator">&gt;&gt;</span> <span class="token string">&quot;<span class="token variable">$file</span>&quot;</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Added MaxConnections to <span class="token variable">$file</span>&quot;</span></span>
<span class="line">  <span class="token keyword">fi</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">Hereâ€™s what this script does:</p><ul><li><code>NEW_VALUE</code> to hold the updated parameter value.</li><li>It loops through each <code>.conf</code> file in the <code>/etc/myapp/</code> directory.</li><li><code>awk</code> checks if the directive <code>MaxConnections</code> already exists.</li><li>If it exists, <code>sed</code> updates the value in place.</li><li>If not, the directive is appended to the end of the file.</li></ul></div><p>This kind of script is incredibly useful for managing large environments where multiple config files need consistent updates without manually editing each one.</p><hr><h2 id="wrapping-up" tabindex="-1"><a class="header-anchor" href="#wrapping-up"><span>Wrapping Up</span></a></h2><p>Both <code>sed</code> and <code>awk</code> are indispensable tools for Linux admins managing systems at scale. By mastering them, you can avoid repetitive manual edits and ensure your configuration changes are reliable and repeatable.</p>`,39)),v(" TODO: add ARTICLE CARD "),a(l,d(c({title:"How to Use sed and awk to Modify Config Files in Linux",desc:"In this article, youâ€™ll learn how to use sed and awk to parse, edit, and automate changes in Linux configuration files with simple examples.",link:"https://chanhi2000.github.io/bookshelf/tecmint.com/edit-configuration-files-using-sed-and-awk.html",logo:"https://tecmint.com/wp-content/uploads/2020/07/favicon.ico",background:"rgba(5,86,243,0.2)"})),null,16)])}const q=g(b,[["render",C]]),A=JSON.parse('{"path":"/tecmint.com/edit-configuration-files-using-sed-and-awk.html","title":"How to Use sed and awk to Modify Config Files in Linux","lang":"en-US","frontmatter":{"lang":"en-US","title":"How to Use sed and awk to Modify Config Files in Linux","description":"Article(s) > How to Use sed and awk to Modify Config Files in Linux","icon":"iconfont icon-shell","category":["Shell","Tool","sed","awk","Article(s)"],"tag":["blog","tecmint.com","sh","shell","sed","awk"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to Use sed and awk to Modify Config Files in Linux\\",\\"image\\":[\\"https://tecmint.com/wp-content/uploads/2025/07/edit-configuration-files-using-sed-and-awk.webp\\"],\\"datePublished\\":\\"2025-07-17T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ravi Saive\\",\\"url\\":\\"https://tecmint.com/author/admin/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/tecmint.com/edit-configuration-files-using-sed-and-awk.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"How to Use sed and awk to Modify Config Files in Linux"}],["meta",{"property":"og:description","content":"Article(s) > How to Use sed and awk to Modify Config Files in Linux"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://tecmint.com/wp-content/uploads/2025/07/edit-configuration-files-using-sed-and-awk.webp"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://tecmint.com/wp-content/uploads/2025/07/edit-configuration-files-using-sed-and-awk.webp"}],["meta",{"name":"twitter:image:alt","content":"How to Use sed and awk to Modify Config Files in Linux"}],["meta",{"property":"article:author","content":"Ravi Saive"}],["meta",{"property":"article:tag","content":"awk"}],["meta",{"property":"article:tag","content":"sed"}],["meta",{"property":"article:tag","content":"shell"}],["meta",{"property":"article:tag","content":"sh"}],["meta",{"property":"article:tag","content":"tecmint.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-07-17T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > How to Use sed and awk to Modify Config Files in Linux"},{"property":"og:description","content":"How to Use sed and awk to Modify Config Files in Linux"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/tecmint.com/edit-configuration-files-using-sed-and-awk.html"}]],"prev":"/programming/sh/articles/README.md","date":"2025-07-17T00:00:00.000Z","isOriginal":false,"author":[{"name":"Ravi Saive","url":"https://tecmint.com/author/admin/"}],"cover":"https://tecmint.com/wp-content/uploads/2025/07/edit-configuration-files-using-sed-and-awk.webp"},"git":{},"readingTime":{"minutes":4.11,"words":1234},"filePathRelative":"tecmint.com/edit-configuration-files-using-sed-and-awk.md","copyright":{"author":"Ravi Saive"}}');export{q as comp,A as data};
