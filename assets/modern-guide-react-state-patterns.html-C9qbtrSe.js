import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as s,f as e,b as p,a as v,t as b,n as u,g as d,w as t,e as a,r as l,o as f}from"./app-BVguHYKu.js";const y="/bookshelf/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/banner.png",w="/bookshelf/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/react-state.png",x="/bookshelf/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/react-usestate-usereducer-hooks.png",j="/bookshelf/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/react-usereducer-hook.png",R={},T={id:"frontmatter-title-관련",tabindex:"-1"},S={class:"header-anchor",href:"#frontmatter-title-관련"},A={class:"table-of-contents"},C={href:"https://redux.js.org/",target:"_blank",rel:"noopener noreferrer"},H={href:"https://github.com/reduxjs/react-redux",target:"_blank",rel:"noopener noreferrer"},M={href:"https://redux-toolkit.js.org/",target:"_blank",rel:"noopener noreferrer"},N={href:"https://mobx.js.org/",target:"_blank",rel:"noopener noreferrer"},I={href:"https://github.com/mobxjs/mobx/tree/main/packages/mobx-react-lite",target:"_blank",rel:"noopener noreferrer"},W={href:"https://recoiljs.org/",target:"_blank",rel:"noopener noreferrer"},P={href:"https://jotai.org/",target:"_blank",rel:"noopener noreferrer"},O={href:"https://signia.tldraw.dev/",target:"_blank",rel:"noopener noreferrer"},B={href:"https://xstate.js.org/docs/",target:"_blank",rel:"noopener noreferrer"};function D(k,n){const r=l("VPCard"),o=l("router-link"),m=l("SiteInfo"),c=l("RouteLink"),i=l("VPIcon");return f(),g("div",null,[s("h1",T,[s("a",S,[s("span",null,b(k.$frontmatter.title)+" 관련",1)])]),e(r,u(d({title:"React.js > Article(s)",desc:"Article(s)",link:"/programming/js-react/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",A,[s("ul",null,[s("li",null,[e(o,{to:"#state-in-react"},{default:t(()=>n[0]||(n[0]=[a("State in React")])),_:1,__:[0]})]),s("li",null,[e(o,{to:"#react-s-built-in-state-management"},{default:t(()=>n[1]||(n[1]=[a("React’s built-in state management")])),_:1,__:[1]}),s("ul",null,[s("li",null,[e(o,{to:"#the-usestate-and-usereducer-hooks"},{default:t(()=>n[2]||(n[2]=[a("The useState and useReducer Hooks")])),_:1,__:[2]})]),s("li",null,[e(o,{to:"#the-usestate-hook"},{default:t(()=>n[3]||(n[3]=[a("The useState Hook")])),_:1,__:[3]})]),s("li",null,[e(o,{to:"#the-usereducer-hook"},{default:t(()=>n[4]||(n[4]=[a("The useReducer Hook")])),_:1,__:[4]})])])]),s("li",null,[e(o,{to:"#state-management-with-the-usecontext-hook"},{default:t(()=>n[5]||(n[5]=[a("State management with the useContext Hook")])),_:1,__:[5]})]),s("li",null,[e(o,{to:"#third-party-libraries-for-state-management"},{default:t(()=>n[6]||(n[6]=[a("Third-party libraries for state management")])),_:1,__:[6]}),s("ul",null,[s("li",null,[e(o,{to:"#redux"},{default:t(()=>n[7]||(n[7]=[a("Redux")])),_:1,__:[7]})]),s("li",null,[e(o,{to:"#mobx"},{default:t(()=>n[8]||(n[8]=[a("MobX")])),_:1,__:[8]})]),s("li",null,[e(o,{to:"#recoil"},{default:t(()=>n[9]||(n[9]=[a("Recoil")])),_:1,__:[9]})]),s("li",null,[e(o,{to:"#jotai"},{default:t(()=>n[10]||(n[10]=[a("Jotai")])),_:1,__:[10]})]),s("li",null,[e(o,{to:"#signia"},{default:t(()=>n[11]||(n[11]=[a("Signia")])),_:1,__:[11]})])])]),s("li",null,[e(o,{to:"#state-machines-in-react"},{default:t(()=>n[12]||(n[12]=[a("State machines in React")])),_:1,__:[12]}),s("ul",null,[s("li",null,[e(o,{to:"#xstate"},{default:t(()=>n[13]||(n[13]=[a("XState")])),_:1,__:[13]})])])]),s("li",null,[e(o,{to:"#conclusion"},{default:t(()=>n[14]||(n[14]=[a("Conclusion")])),_:1,__:[14]})])])]),n[59]||(n[59]=s("hr",null,null,-1)),e(m,{name:"The modern guide to React state patterns",desc:"Learn today's options for managing state in React applications, including built-in hooks and third-party libraries like Redux and MobX.",url:"https://blog.logrocket.com/modern-guide-react-state-patterns",logo:"/assets/image/blog.logrocket.com/favicon.png",preview:"/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/banner.png"}),n[60]||(n[60]=p('<p>When it comes to React applications, state is an integral part of what makes the application dynamic and interactive. Without state, applications would be static and unresponsive to user input.</p><figure><img src="'+y+'" alt="The Modern Guide To React State Patterns" tabindex="0" loading="lazy"><figcaption>The Modern Guide To React State Patterns</figcaption></figure><p>State management is the process of handling the state of an application optimally. It is a crucial part of the development process. In this article, we will take a look at the different state management options available for React developers in 2023, and how to choose the right one for your project.</p><hr><h2 id="state-in-react" tabindex="-1"><a class="header-anchor" href="#state-in-react"><span>State in React</span></a></h2><p>The UI that is generated in a React app is a function of the state. To invoke reactivity in an app, all we need to do is modify the state, and the React library will take care of the rest. The graphic below sums up the relationship between the application UX, state, and props in React:</p><figure><img src="'+w+'" alt="Graphic To Demonstrate Relationship Between Application UX, State, And Props In React" tabindex="0" loading="lazy"><figcaption>Graphic To Demonstrate Relationship Between Application UX, State, And Props In React</figcaption></figure><hr><h2 id="react-s-built-in-state-management" tabindex="-1"><a class="header-anchor" href="#react-s-built-in-state-management"><span>React’s built-in state management</span></a></h2><p>React has a variety of built-in features for state management, including the <code>useState</code> and <code>useReducer</code> Hooks, as well as the Context API. Before exploring third-party libraries for state management, let’s take a look at these built-in features.</p><h3 id="the-usestate-and-usereducer-hooks" tabindex="-1"><a class="header-anchor" href="#the-usestate-and-usereducer-hooks"><span>The <code>useState</code> and <code>useReducer</code> Hooks</span></a></h3><p>Both the <code>useState</code> and <code>useReducer</code> Hooks have a different approach for how the state is updated. As mentioned above, both of these interfaces help us modify state. Beyond that, React takes care of all the heavy lifting required to faithfully represent that state on the browser DOM. The graphic below sums it up well:</p><figure><img src="'+x+`" alt="Graphic Demonstrating How UseState And UseReducer Hooks Represent State On The Browser DOM" tabindex="0" loading="lazy"><figcaption>Graphic Demonstrating How UseState And UseReducer Hooks Represent State On The Browser DOM</figcaption></figure><h3 id="the-usestate-hook" tabindex="-1"><a class="header-anchor" href="#the-usestate-hook"><span>The <code>useState</code> Hook</span></a></h3><p>The <code>useState</code> Hook is the most basic API provided by React to interact with state. To better understand how this hook works, let’s look at a counter app example. First, let’s create the state:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The above piece of code creates a state variable called <code>count</code> and a function called <code>setCount</code> that can be used to update the state. The initial value of the state is set to <code>0</code>. Now, we’ll update the state by incrementing the value of <code>count</code> by <code>1</code>:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Finally, we’ll use the state:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">You clicked </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text"> times</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,20)),s("p",null,[n[16]||(n[16]=a("In this example, we used the state by displaying the value of ")),n[17]||(n[17]=s("code",null,"count",-1)),n[18]||(n[18]=a(" in the UI. Learn more about the ")),e(c,{to:"/blog.logrocket.com/guide-usestate-react.html"},{default:t(()=>n[15]||(n[15]=[s("strong",null,[s("code",null,"useState"),a(" Hook in this guide")],-1)])),_:1,__:[15]}),n[19]||(n[19]=a("."))]),n[61]||(n[61]=p(`<h3 id="the-usereducer-hook" tabindex="-1"><a class="header-anchor" href="#the-usereducer-hook"><span>The <code>useReducer</code> Hook</span></a></h3><p>The <code>useReducer</code> Hook allows us to manage state by dispatching actions and then responding to them in the <code>reducer</code> function. Again, we’ll use a counter app example to understand how this hook works:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducerFunc<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We call the <code>useReducer</code> Hook with the <code>reducer</code> function and the initial state as arguments. It returns the current state and a <code>dispatch</code> function. Whenever we need to update the state, we can call the <code>dispatch</code> function with an action object:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;INCREMENT&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>React then calls the <code>reducer</code> function with the action object. Here’s what a common <code>reducer</code> function looks like:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">function</span> <span class="token function">reducerFunc</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;INCREMENT&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;DECREMENT&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> state <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;RESET&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;SET&#39;</span><span class="token operator">:</span></span>
<span class="line">      <span class="token keyword">return</span> action<span class="token punctuation">.</span>val<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>At the end of this transaction, whatever the <code>reducer</code> function returns becomes the new state and is accessible through the <code>state</code> variable. Here’s a sketch that explains the flow of data in the <code>useReducer</code> Hook:</p><figure><img src="`+j+'" alt="Graphic Demonstrating The React UseReducer Hook" tabindex="0" loading="lazy"><figcaption>Graphic Demonstrating The React UseReducer Hook</figcaption></figure>',9)),s("p",null,[n[21]||(n[21]=a("Read more about the ")),e(c,{to:"/blog.logrocket.com/react-usereducer-hook-ultimate-guide.html"},{default:t(()=>n[20]||(n[20]=[s("strong",null,[s("code",null,"useReducer"),a(" Hook here")],-1)])),_:1,__:[20]}),n[22]||(n[22]=a("."))]),n[62]||(n[62]=p(`<hr><h2 id="state-management-with-the-usecontext-hook" tabindex="-1"><a class="header-anchor" href="#state-management-with-the-usecontext-hook"><span>State management with the <code>useContext</code> Hook</span></a></h2><p>Next, let’s look at how the <code>useContext</code> Hook comes into the picture for state management. The general idea is to store a piece of data that components can use, but the pattern and the use cases are different.</p><p>While <code>useState</code> and <code>useReducer</code> are used to manage state that is scoped to a component, <code>useContext</code> is used to manage state that is shared across components. Its main purpose is to avoid prop drilling when a piece of state is supposed to be accessed by a child component several levels down the component tree. One of the primary use cases of context is to manage the theme of the application. So, let’s look at the code for the same.</p><p>Inside a component near the top of the component tree, we’ll create the context:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> themeContext <span class="token operator">=</span> <span class="token function">createContext</span><span class="token punctuation">(</span><span class="token string">&#39;light&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Notice how the newly created context object is exported from here. To use that context, we’ll import it in a component down the tree:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./App.js&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Button</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>ThemeContext<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>But, for the above code to work, we need to first wrap the component tree above this consumer component with the context Provider:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ThemeContext.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">  </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ThemeContext.Provider</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10)),s("p",null,[n[24]||(n[24]=a("With that in place, the consumer component will receive the value supplied by the Provider. Whenever the value supplied to the Provider is updated, the child below will be able to access that latest updated value. For more information about how the Context API can be used with the ")),n[25]||(n[25]=s("code",null,"useContext",-1)),n[26]||(n[26]=a(" Hook to manage state, ")),e(c,{to:"/blog.logrocket.com/react-context-tutorial.html"},{default:t(()=>n[23]||(n[23]=[s("strong",null,"check out this article",-1)])),_:1,__:[23]}),n[27]||(n[27]=a("."))]),n[63]||(n[63]=p('<hr><h2 id="third-party-libraries-for-state-management" tabindex="-1"><a class="header-anchor" href="#third-party-libraries-for-state-management"><span>Third-party libraries for state management</span></a></h2><p>While the above solution for state management makes sense when the scope of the state is just a single component (in the case of <code>useState</code> and <code>useReducer</code>), or when the state is supposed to be accessed in a downstream component (in the case of <code>useContext</code>), these restrictions make it difficult to use these solutions in larger applications where the order of creation and consumption of state is not defined. This is where third-party libraries come in.</p><h3 id="redux" tabindex="-1"><a class="header-anchor" href="#redux"><span>Redux</span></a></h3>',4)),s("p",null,[s("a",C,[e(i,{icon:"fas fa-globe"}),n[28]||(n[28]=a("Redux"))]),n[29]||(n[29]=a(" is one of the oldest and most popular libraries for state management in React. It has a large ecosystem of libraries and tools that make it easy to use in modern applications. The paradigm is similar to what we saw in the ")),n[30]||(n[30]=s("code",null,"useReducer",-1)),n[31]||(n[31]=a(" Hook, with the added advantage that the state is now global and can be accessed by any component in the application."))]),s("p",null,[n[34]||(n[34]=a("We’ll look into the ")),s("a",H,[e(i,{icon:"iconfont icon-github"}),n[32]||(n[32]=s("code",null,"reduxjs/react-redux",-1))]),n[35]||(n[35]=a(" library because that is the official binding for React. We’ll also need the ")),s("a",M,[e(i,{icon:"fas fa-globe"}),n[33]||(n[33]=a("redux-toolkit"))]),n[36]||(n[36]=a(" library, which will help us accomplish common Redux patterns while minimizing boilerplate code."))]),n[64]||(n[64]=p(`<p>Similar to how the <code>useContext</code> Hook creates a context, which is a central place where the state is saved, the Redux library has a parallel concept called the store, which is the central state that is shared across components and acts as the source of truth. Let’s create the store:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> configureStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@reduxjs/toolkit&#39;</span></span>
<span class="line"><span class="token keyword">import</span> todosReducer <span class="token keyword">from</span> <span class="token string">&#39;./features/todos/todosSlice&#39;</span></span>
<span class="line"><span class="token keyword">import</span> userReducer <span class="token keyword">from</span> <span class="token string">&#39;./features/user/userSlice&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">reducer</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">todo</span><span class="token operator">:</span> todosReducer<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">user</span><span class="token operator">:</span> userReducer</span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>configureStore</code> function from redux-toolkit does something similar to Redux’s store. It creates a single store by combining several reducer-like functions that your entire application can have.</p><p>Notice the <code>todosReducer</code> and the <code>userReducer</code>, which are being imported from separate slices. A slice is nothing but an abstraction, provided by redux-toolkit, that helps us specify a name, an initial state, and a reducer function for a particular piece (or slice) of the entire app state.</p><p>Now that the central store is created, it needs to be accessible throughout the application. The way to accomplish that is via a Provider:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="index.jsx"><span>index.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span></span>
<span class="line"><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span></span>
<span class="line"></span>
<span class="line">root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Provider</span></span> <span class="token attr-name">store</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>We import the previously created state and the <code>Provider</code> component from react-redux and wrap the entire application with it. With that set up, we are now ready to access the state inside our function components using the hooks that react-redux provides:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="Counter.jsx"><span>Counter.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useSelector<span class="token punctuation">,</span> useDispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> markDone <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./todosSlice&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> userName <span class="token operator">=</span> <span class="token function">useSelector</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// ...</span></span>
<span class="line">  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">markDone</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>The <code>useSelector</code> Hook lets us get ahold of a particular slice of state from the store. It also gets the latest value by re-rendering the component when that slice of state is updated. The <code>useDispatch()</code> Hook gives us access to the <code>dispatch</code> function, which is used to dispatch actions to the store exactly the same as we did in the <code>useReducer</code> Hook.With that, we have a React app that uses Redux for state management. It can be scaled up by adding more slices whenever the app adds more features.</p><h3 id="mobx" tabindex="-1"><a class="header-anchor" href="#mobx"><span>MobX</span></a></h3>`,10)),s("p",null,[s("a",N,[e(i,{icon:"fas fa-globe"}),n[37]||(n[37]=a("MobX"))]),n[38]||(n[38]=a(" is another alternative for state management in React. It relies on the concept of observables. State is segregated into pure values and computed values. The core belief of MobX is that “Anything that can be derived from the application state, should be. Automatically.”"))]),n[65]||(n[65]=p(`<p>Let’s look at an example to better understand this. The state of the application is defined in the form of a JavaScript class. Here is an example of how a Todo item can be represented in state:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="Todo.jsx"><span>Todo.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> makeObservable<span class="token punctuation">,</span> observable<span class="token punctuation">,</span> action <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;mobx&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span></span>
<span class="line">  id <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  label <span class="token operator">=</span> <span class="token string">&quot;&quot;</span></span>
<span class="line">  done <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">label</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">makeObservable</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">label</span><span class="token operator">:</span> observable<span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">done</span><span class="token operator">:</span> observable<span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">toggle</span><span class="token operator">:</span> action<span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">summary</span><span class="token operator">:</span> computed</span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>label <span class="token operator">=</span> label</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>done</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">get</span> <span class="token function">summary</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;summarizing...&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>label<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>done <span class="token operator">?</span> <span class="token string">&quot;is&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;is not&quot;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> done.</span><span class="token template-punctuation string">\`</span></span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>We can see that the class has three properties: <code>id</code>, <code>label</code>, and <code>done</code>. Notice how the constructor calls the <code>makeObservable</code> function imported from Mobx, which defines the properties as observables. The <code>summary</code> property is being defined as <code>computed</code>, which means it will be re-calculated every time an observable dependency changes. The <code>toggle</code> function is defined as <code>action</code>.</p>`,3)),s("p",null,[n[42]||(n[42]=a("With that general understanding of how Mobx works, let’s try to use it in a React application. We will use the ")),s("a",I,[n[39]||(n[39]=a("mobx-react-lite (")),e(i,{icon:"iconfont icon-github"}),n[40]||(n[40]=s("code",null,"mobxjs/mobx",-1)),n[41]||(n[41]=a(")"))]),n[43]||(n[43]=a(" package, which provides lightweight bindings for React to interact with Mobx."))]),n[66]||(n[66]=p(`<p>If we don’t want to make the class defining the state more complex, we can use a utility like <code>makeAutoObservable</code>:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">makeAutoObservable</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>With this utility, we need not individually specify the types for individual properties (e.g. observable, action, computed) like we did in the previous example. When we call <code>makeAutoObservable</code> in the constructor, all own properties inside the class are marked as observable, all getters are marked as computed, and all setters as actions.</p><p>Once that is set, we can move on to integrating this with our React component. This is where the <code>observer</code> utility from Mobx comes into play. We just need to wrap our React component with the <code>observer</code> HOC and everything else is taken care of for us:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> Task <span class="token operator">=</span> <span class="token function">observer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> todo <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Task: </span><span class="token punctuation">{</span>todo<span class="token punctuation">.</span>summary<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Toggle</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the example above, we can see that the <code>Task</code> component is being passed a <code>todo</code> prop, which is an instance of the Mobx store we created above. As we are accessing the <code>summary</code> property of the <code>todo</code> object, Mobx automatically takes care of re-rendering the component whenever the value of <code>summary</code> changes. We don’t need to do anything extra. Isn’t that great?</p><p>This is the core concept around reactivity in Mobx. Based on the property that we access, Mobx will re-render our component whenever only the accessed property changes. For example, we are currently accessing the <code>summary</code> observable, which means this component will re-render only when that particular observable from the class changes. If there was another observable in the class that never gets accessed in this component, it would not have any impact on the re-rendering of the component. This mimics the behavior of subscribing to changes in the state, similar to Redux, and without the need to explicitly do so.</p><h3 id="recoil" tabindex="-1"><a class="header-anchor" href="#recoil"><span>Recoil</span></a></h3>`,8)),s("p",null,[s("a",W,[e(i,{icon:"fas fa-globe"}),n[44]||(n[44]=a("Recoil"))]),n[45]||(n[45]=a(" is a newer library for state management in React that takes the atomic approach to state management. Atomic state management is a paradigm where the state of an application, instead of being stored in a single, large object, is broken down into smaller independent units of state called atoms."))]),n[67]||(n[67]=p(`<p>An atom represents a piece of state that can be read to or written from any component. Any component that reads the value of an atom is automatically subscribed to that atom and will be re-rendered whenever the value of the atom changes.</p><p>For the application to be able to read and write to Recoil state, we need to wrap our parent component in <code>RecoilRoot</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="App.jsx"><span>App.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> RecoilRoot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;recoil&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RecoilRoot</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SayHi</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">RecoilRoot</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>With that in place, we can create and consume state. We can use the <code>atom</code> utility provided by Recoil to create atoms:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> firstNameState <span class="token operator">=</span> <span class="token function">atom</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;firstNameState&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;Bob&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We can also create a derived state that depends on the two states above and returns a transformed output:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> introductionState <span class="token operator">=</span> <span class="token function">selector</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;introductionState&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>get<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>firstNameState<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the example above, we created a <code>greetingState</code> derived state using the <code>selector</code> utility provided by Recoil. Now, to access these in the component and make modifications, we can use the <code>useRecoilState</code> Hook:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="SayHi.jsx"><span>SayHi.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">function</span> <span class="token function">SayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// firstNameState &amp; introductionState is the atom we created above</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>firstname<span class="token punctuation">,</span> setFirstName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useRecoilState</span><span class="token punctuation">(</span>firstNameState<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">  <span class="token keyword">const</span> introduction <span class="token operator">=</span> <span class="token function">useRecoilValue</span><span class="token punctuation">(</span>introductionState<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">onChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">setFirstName</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello from </span><span class="token punctuation">{</span>firstname<span class="token punctuation">}</span><span class="token plain-text">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>introduction<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Notice that we also used the <code>useRecoilValue</code> tool to access the value of the derived state. The core philosophy is that when any name is typed in the input box, <code>setFirstName</code> gets called, which updates <code>firstName</code>. This also triggers an update on the derived state <code>introductionState</code>, and we can see the latest results on the page. Jotai does something similar while bringing a few special capabilities to the table.</p><h3 id="jotai" tabindex="-1"><a class="header-anchor" href="#jotai"><span>Jotai</span></a></h3>`,11)),s("p",null,[n[47]||(n[47]=a("Similar to Recoil, ")),s("a",P,[e(i,{icon:"fas fa-globe"}),n[46]||(n[46]=a("Jotai"))]),n[48]||(n[48]=a(" is a state management library that also takes an atomic approach to state management but in a slightly different way. This library also provides an ")),n[49]||(n[49]=s("code",null,"atom",-1)),n[50]||(n[50]=a(" utility to create atoms:"))]),n[68]||(n[68]=p(`<div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> firstNameAtom <span class="token operator">=</span> <span class="token function">atom</span><span class="token punctuation">(</span><span class="token string">&#39;Bob&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> personAtom <span class="token operator">=</span> <span class="token function">atom</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&#39;Bob&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">&#39;Ross&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">35</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There is also a provision to create a derived state:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> greetingAtom <span class="token operator">=</span> <span class="token function">atom</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">get</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> firstName <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>firstNameAtom<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Once created, this atom can be consumed and updated inside a React component similar to the <code>useState</code> Hook:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>firstName<span class="token punctuation">,</span> setFirstName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useAtom</span><span class="token punctuation">(</span>firstNameAtom<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>There are a few functionalities that make Jotai unique when compared to Recoil. For example, the <code>atomWithStorage</code> utility is exported from <code>jotai/utils</code> and persists the state onto LocalStorage so we don’t lose the value even after a refresh! This is useful when we need to store something like a user’s dark mode preference.</p><p>Jotai also provides separate integrations with libraries like Immer, Query, XState, etc. For instance, <code>atomWithImmer</code> exported from <code>jota-immer</code> lets us create an atom with an immer-based write function. These utilities are what make Jotai a unique choice as a state management library.</p><h3 id="signia" tabindex="-1"><a class="header-anchor" href="#signia"><span>Signia</span></a></h3>`,8)),s("p",null,[s("a",O,[e(i,{icon:"fas fa-globe"}),n[51]||(n[51]=a("Signia"))]),n[52]||(n[52]=a(" is an alternate library for state management in React. Instead of using observables like Mobx, or atoms like Recoil and Jotai, it uses the concept of signals. A signal is a pure, reactive value that can be observed for changes."))]),n[69]||(n[69]=p(`<p>Even though the underlying entity is a signal, the Signia library allows us to create atoms that are based on signals:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> atom <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;signia&#39;</span></span>
<span class="line"><span class="token keyword">const</span> fruit <span class="token operator">=</span> <span class="token function">atom</span><span class="token punctuation">(</span><span class="token string">&#39;fruit&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Apple&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Updating the value of a signal is done by calling the <code>set</code> method on the atom:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line">fruit<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;Banana&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fruit<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Banana</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Signia also has the concept of computed state, similar to Recoil and Jotai. It is created by using the <code>atom.value</code> property of any atom inside the <code>compute</code> function:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> fruits <span class="token operator">=</span> <span class="token function">atom</span><span class="token punctuation">(</span><span class="token string">&#39;fruits&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Apples&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> numberOf <span class="token operator">=</span> <span class="token function">atom</span><span class="token punctuation">(</span><span class="token string">&#39;numberOf&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> display <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token string">&#39;display&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>numberOf<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>fruits<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6)),s("p",null,[n[54]||(n[54]=a("Read more about ")),e(c,{to:"/blog.logrocket.com/implement-react-state-management-signia.html"},{default:t(()=>n[53]||(n[53]=[s("strong",null,"state management with Signia in this article",-1)])),_:1,__:[53]}),n[55]||(n[55]=a("."))]),n[70]||(n[70]=s("hr",null,null,-1)),n[71]||(n[71]=s("h2",{id:"state-machines-in-react",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#state-machines-in-react"},[s("span",null,"State machines in React")])],-1)),n[72]||(n[72]=s("p",null,"Although state machines are not explicitly used in React, they can be powerful tools for managing state in React applications. A state machine is an entity that has a current state and can transition to other states based on certain events. This is similar to the concept of Redux, where we have a state and can dispatch actions on that state. But state machines have added advantages, like the ability to have parallel states, hierarchical states, and more.",-1)),n[73]||(n[73]=s("h3",{id:"xstate",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#xstate"},[s("span",null,"XState")])],-1)),s("p",null,[n[57]||(n[57]=a("Working with states and managing transitions between them natively is a complicated affair. ")),s("a",B,[e(i,{icon:"fas fa-globe"}),n[56]||(n[56]=a("XState"))]),n[58]||(n[58]=a(" is a library that provides primitives that help us work with state machines. It also provides React bindings so that the state machine can be used in a React component."))]),n[74]||(n[74]=p(`<p>Here’s what a general state machine defined with XState looks like:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createMachine <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;xstate&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> todoMachine <span class="token operator">=</span> <span class="token function">createMachine</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;todo&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">initial</span><span class="token operator">:</span> <span class="token string">&#39;pending&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">states</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">pending</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token constant">TOGGLE</span><span class="token operator">:</span> <span class="token string">&#39;done&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token constant">TOGGLE</span><span class="token operator">:</span> <span class="token string">&#39;pending&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Notice how this is a neat way to define all the states, the initial state, and also the actions that lead to particular states. This state machine can then be used inside a React component using the hooks exposed by <code>@xstate/react</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="Toggle.jsx"><span>Toggle.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useMachine <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@xstate/react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> todoMachine <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../todoMachine&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>current<span class="token punctuation">,</span> send<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useMachine</span><span class="token punctuation">(</span>todoMachine<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;TOGGLE&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token punctuation">{</span>current<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&#39;pending&#39;</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&#39;Mark done&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;Mark pending&#39;</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>This is an example of a simple state, but we can make the state machine as complex as we want. The machine holds our application state and can act as a capable state management alternative to the libraries that we discussed above.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>In this article, we explored the general concept of state in React, as well as tools for managing state. We reviewed the built-in options for local component state management, like <code>useState</code> and <code>useReducer</code>. We also explored <code>useContext</code> as a means to store slow-changing application-level state.</p><p>Then, we looked into the different external libraries available, including Redux, Mobx, Recoil, Jotai, and Signia. Finally, we looked at state machines as a means to store state and how they can be used in React applications courtesy of the XState library.</p><p>I hope you now have a better idea about the state of state management in React and can make an informed decision about which library to use for your next project.</p>`,10)),v(" TODO: add ARTICLE CARD "),e(r,u(d({title:"The modern guide to React state patterns",desc:"Learn today's options for managing state in React applications, including built-in hooks and third-party libraries like Redux and MobX.",link:"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/modern-guide-react-state-patterns.html",logo:"/assets/image/blog.logrocket.com/favicon.png",background:"rgba(112,76,182,0.2)"})),null,16)])}const G=h(R,[["render",D]]),U=JSON.parse('{"path":"/blog.logrocket.com/modern-guide-react-state-patterns.html","title":"The modern guide to React state patterns","lang":"en-US","frontmatter":{"lang":"en-US","title":"The modern guide to React state patterns","description":"Article(s) > The modern guide to React state patterns","icon":"fa-brands fa-react","category":["Node.js","React.js","Article(s)"],"tag":["blog","blog.logrocket.com","node","nodejs","node-js","react","reactjs","react-js"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"The modern guide to React state patterns\\",\\"image\\":[\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/banner.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/react-state.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/react-usestate-usereducer-hooks.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/react-usereducer-hook.png\\"],\\"datePublished\\":\\"2023-07-31T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Kapeel Kokane\\",\\"url\\":\\"https://blog.logrocket.com/author/kapeelkokane/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/modern-guide-react-state-patterns.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"The modern guide to React state patterns"}],["meta",{"property":"og:description","content":"Article(s) > The modern guide to React state patterns"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/banner.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/banner.png"}],["meta",{"name":"twitter:image:alt","content":"The modern guide to React state patterns"}],["meta",{"property":"article:author","content":"Kapeel Kokane"}],["meta",{"property":"article:tag","content":"react-js"}],["meta",{"property":"article:tag","content":"reactjs"}],["meta",{"property":"article:tag","content":"react"}],["meta",{"property":"article:tag","content":"node-js"}],["meta",{"property":"article:tag","content":"nodejs"}],["meta",{"property":"article:tag","content":"node"}],["meta",{"property":"article:tag","content":"blog.logrocket.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2023-07-31T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > The modern guide to React state patterns"},{"property":"og:description","content":"The modern guide to React state patterns"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/modern-guide-react-state-patterns.html"}]],"prev":"/programming/js-react/articles/README.md","date":"2023-07-31T00:00:00.000Z","isOriginal":false,"author":[{"name":"Kapeel Kokane","url":"https://blog.logrocket.com/author/kapeelkokane/"}],"cover":"/assets/image/blog.logrocket.com/modern-guide-react-state-patterns/banner.png"},"git":{},"readingTime":{"minutes":11.29,"words":3387},"filePathRelative":"blog.logrocket.com/modern-guide-react-state-patterns.md","copyright":{"author":"Kapeel Kokane"}}');export{G as comp,U as data};
