import{_ as b}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as y,d as s,f as e,b as t,a as h,t as w,n as g,g as v,w as o,e as a,r as p,o as S}from"./app-BItykJLQ.js";const x={},C={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},A={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},j={class:"table-of-contents"},P={href:"https://css-tricks.com/tag/scroll-driven-animation/",target:"_blank",rel:"noopener noreferrer"},B={class:"hint-container note"},W={href:"https://css-tricks.com/almanac/functions/v/view/",target:"_blank",rel:"noopener noreferrer"},I={href:"https://css-tricks.com/almanac/functions/s/scroll/",target:"_blank",rel:"noopener noreferrer"},T={href:"https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timeline/scroll",target:"_blank",rel:"noopener noreferrer"},D={href:"https://css-tricks.com/almanac/properties/a/animation-timeline/",target:"_blank",rel:"noopener noreferrer"},L={href:"https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timeline/view#inset",target:"_blank",rel:"noopener noreferrer"},N={href:"https://developer.mozilla.org/en-US/docs/Web/CSS/animation-range",target:"_blank",rel:"noopener noreferrer"},V={href:"https://css-tricks.com/almanac/rules/m/media/prefers-reduced-motion/",target:"_blank",rel:"noopener noreferrer"},M={href:"https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js",target:"_blank",rel:"noopener noreferrer"};function U(c,n){const m=p("VPCard"),r=p("router-link"),u=p("SiteInfo"),k=p("RouteLink"),i=p("VPIcon"),f=p("BaselineStatus"),d=p("CodePen"),l=p("VidStack");return S(),y("div",null,[s("h1",C,[s("a",A,[s("span",null,w(c.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),e(m,g(v({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",j,[s("ul",null,[s("li",null,[e(r,{to:"#starting-code"},{default:o(()=>[...n[0]||(n[0]=[a("Starting code",-1)])]),_:1})]),s("li",null,[e(r,{to:"#adding-initial-animations"},{default:o(()=>[...n[1]||(n[1]=[a("Adding initial animations",-1)])]),_:1})]),s("li",null,[e(r,{to:"#using-the-view-progress-timeline"},{default:o(()=>[...n[2]||(n[2]=[a("Using the view progress timeline",-1)])]),_:1})]),s("li",null,[e(r,{to:"#adjusting-animations-using-animation-ranges"},{default:o(()=>[...n[3]||(n[3]=[a("Adjusting animations using animation ranges",-1)])]),_:1})]),s("li",null,[e(r,{to:"#fallbacks-and-accessibility"},{default:o(()=>[...n[4]||(n[4]=[a("Fallbacks and accessibility",-1)])]),_:1})]),s("li",null,[e(r,{to:"#conclusion"},{default:o(()=>[...n[5]||(n[5]=[a("Conclusion",-1)])]),_:1}),s("ul",null,[s("li",null,[e(r,{to:"#more-information"},{default:o(()=>[...n[6]||(n[6]=[a("More information",-1)])]),_:1})])])])])]),n[57]||(n[57]=s("hr",null,null,-1)),e(u,{name:"Bringing Back Parallax With Scroll-Driven CSS Animations",desc:"Parallax is a pattern in which different elements of a webpage move at varying speeds as the user scrolls, creating a three-dimensional, layered appearance. It once required JavaScript. Now we have scroll-driven animations in CSS, which is free from the main-thread blocking that can plague JavaScript animations.",url:"https://css-tricks.com/bringing-back-parallax-with-scroll-driven-css-animations",logo:"https://css-tricks/favicon.svg",preview:"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/01/smooth-scroll.jpg"}),s("p",null,[n[8]||(n[8]=a("For a period in the 2010s, ",-1)),n[9]||(n[9]=s("strong",null,"parallax",-1)),n[10]||(n[10]=a(" was a guaranteed way to make your website ‚Äúcool‚Äù. Indeed, Chris Coyier was ",-1)),e(k,{to:"/css-tricks.com/3d-parralax-background-effect.html"},{default:o(()=>[...n[7]||(n[7]=[s("strong",null,"writing about it as far back as 2008",-1)])]),_:1}),n[11]||(n[11]=a(".",-1))]),s("p",null,[n[13]||(n[13]=a("For those unfamiliar with the concept, parallax is a pattern in which different elements of a webpage move at varying speeds as the user scrolls, creating a three-dimensional, layered appearance. A true parallax effect was once only achievable using JavaScript. However, ",-1)),s("a",P,[e(i,{icon:"iconfont icon-css-tricks"}),n[12]||(n[12]=a("scroll-driven animations",-1))]),n[14]||(n[14]=a(" have now given us a CSS-only solution, which is free from the main-thread blocking that can plague JavaScript animations.",-1))]),n[58]||(n[58]=s("p",null,"Parallax may have become a little clich√©, but I think it‚Äôs worth revisiting with this new CSS feature.",-1)),s("div",B,[n[15]||(n[15]=s("p",{class:"hint-container-title"},"Note",-1)),n[16]||(n[16]=s("p",null,"Scroll-driven animations are available on Chrome, Edge, Opera, and Firefox (behind a feature flag) at the time of writing. Use a supported browser when following this tutorial.",-1)),e(f,{featureid:"scroll-driven-animations"})]),n[59]||(n[59]=s("hr",null,null,-1)),n[60]||(n[60]=s("h2",{id:"starting-code",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#starting-code"},[s("span",null,"Starting code")])],-1)),n[61]||(n[61]=s("p",null,"In this example, we will apply parallax animations to the background and icons within the three ‚Äúhero‚Äù sections of a universe-themed webpage. We‚Äôll start with some lightly styled markup featuring alternating hero and text sections while including some space-related nonsense as placeholder content.",-1)),e(d,{user:"blakeeric","slug-hash":"azzXQPr",title:"Parallax with scroll-driven animation (starting code)","default-tab":["css","result"],theme:c.dark},null,8,["theme"]),n[62]||(n[62]=t(`<hr><h2 id="adding-initial-animations" tabindex="-1"><a class="header-anchor" href="#adding-initial-animations"><span>Adding initial animations</span></a></h2><p>Let‚Äôs add an animation to the background pattern within each hero section to modify the background position.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre class="has-diff language-css"><code><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> parallax</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">background-position</span><span class="token punctuation">:</span> bottom 0px center<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">background-position</span><span class="token punctuation">:</span> bottom -400px center<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">section.hero</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* previous code */</span></span>
<span class="line diff add">  <span class="token property">animation</span><span class="token punctuation">:</span> parallax 3s linear<span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>Here we use the <code>keyframes</code> CSS rule to create a start and end position for the background. Then we attach this animation to each of our hero sections using the <code>animation</code> property.</p><p>By default, CSS animations are duration-based and run when the specified selector is loaded in the DOM. If you refresh your browser, you will see the animation running for three seconds as soon as the page loads.</p>`,6)),e(l,{src:"youtube/26dV5mgW10k"}),n[63]||(n[63]=s("p",null,"We do not want our animation to be triggered immediately. Instead, we intend to use the page‚Äôs scroll position as a reference to calculate the animation‚Äôs progress.",-1)),s("p",null,[n[20]||(n[20]=a("Scroll-driven animations provide two new ",-1)),n[21]||(n[21]=s("strong",null,"animation timeline",-1)),n[22]||(n[22]=a(" CSS functions. These additions, ",-1)),s("a",W,[e(i,{icon:"iconfont icon-css-tricks"}),n[17]||(n[17]=s("code",null,"view()",-1))]),n[23]||(n[23]=a(" and ",-1)),s("a",I,[e(i,{icon:"iconfont icon-css-tricks"}),n[18]||(n[18]=s("code",null,"scroll()",-1))]),n[24]||(n[24]=a(", tell the browser what to reference when calculating the progress of a CSS animation. We will use the ",-1)),n[25]||(n[25]=s("code",null,"view()",-1)),n[26]||(n[26]=a(" function later, but for now, let‚Äôs focus on ",-1)),n[27]||(n[27]=s("code",null,"scroll()",-1)),n[28]||(n[28]=a(". The ",-1)),s("a",T,[e(i,{icon:"fa-brands fa-firefox"}),n[19]||(n[19]=a("scroll progress timeline",-1))]),n[29]||(n[29]=a(" couples the progression of an animation to the user‚Äôs scroll position within a scroll container. Parameters can be included to change the scroll axis and container element, but these are not necessary for our implementation.",-1))]),n[64]||(n[64]=t(`<p>Let‚Äôs use a scroll progress timeline for our animation:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre class="has-diff language-css"><code><span class="line"><span class="token selector">section.hero</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* previous code */</span></span>
<span class="line diff remove">  <span class="token property">animation</span><span class="token punctuation">:</span> parallax 3s linear<span class="token punctuation">;</span> </span>
<span class="line diff add">  <span class="token property">animation</span><span class="token punctuation">:</span> parallax linear<span class="token punctuation">;</span> </span>
<span class="line diff add">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">scroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>If you refresh the page, you will notice that as you scroll down, the position of the background of each hero section also changes. If you scroll back up, the animation reverses. As a bonus, this CSS animation is handled off the main thread and thus is not subject to blocking by any JavaScript that may be running.</p>`,3)),e(l,{src:"youtube/lHJgXMvi96I"}),n[65]||(n[65]=t(`<hr><h2 id="using-the-view-progress-timeline" tabindex="-1"><a class="header-anchor" href="#using-the-view-progress-timeline"><span>Using the view progress timeline</span></a></h2><p>Now let‚Äôs add a new parallax layer by animating the header text and icons within each hero section. This way, the background patterns, headers, and main page content will all appear to scroll at different speeds. We will initially use the <code>scroll()</code> CSS function for the animation timeline here as well.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre class="has-diff language-css"><code><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> float</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">top</span><span class="token punctuation">:</span> 25%<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.hero-content</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* previous code */</span></span>
<span class="line diff add">  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span> </span>
<span class="line diff add">  <span class="token property">top</span><span class="token punctuation">:</span> 25%<span class="token punctuation">;</span> </span>
<span class="line diff add">  <span class="token property">animation</span><span class="token punctuation">:</span> float linear<span class="token punctuation">;</span> </span>
<span class="line diff add">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">scroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div>`,4)),h(" TODO: Ïù¥Í±∞ ÎêòÎäîÏßÄ ÌôïÏù∏ "),e(l,{src:"youtube/Hhb0ytMMj5M"}),s("p",null,[n[31]||(n[31]=a("That‚Äôs not quite right. The animation for the sections further down the page is nearly done by the time they come into view. Luckily, the view animation timeline solves this problem. By setting the ",-1)),s("a",D,[e(i,{icon:"iconfont icon-css-tricks"}),n[30]||(n[30]=s("code",null,"animation-timeline",-1))]),n[32]||(n[32]=a(" property to ",-1)),n[33]||(n[33]=s("code",null,"view()",-1)),n[34]||(n[34]=a(", our animation progresses based on the position of the subject within the scrollport, which is the part of the container that is visible when scrolling. Like the scroll animation timeline, scrolling in reverse will also reverse the animation.",-1))]),n[66]||(n[66]=t(`<p>Let‚Äôs try changing our animation timeline property for the hero text:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre class="has-diff language-css"><code><span class="line"><span class="token selector">.hero-content</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* previous code */</span></span>
<span class="line diff remove">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">scroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line diff add">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>That looks pretty good, but there is a problem with the header content flashing into the view when scrolling back up the document. This is because the view timeline is calculated based on the original, pre-animation positioning of the subject element.</p>`,3)),e(l,{src:"youtube/lclrA2ey0_A"}),s("p",null,[n[36]||(n[36]=a("We can solve this by adding an ",-1)),n[37]||(n[37]=s("code",null,"inset",-1)),n[38]||(n[38]=a(" parameter to the ",-1)),n[39]||(n[39]=s("code",null,"view()",-1)),n[40]||(n[40]=a(" function. This adjusts the size of the container in which the animation will take place. According to ",-1)),s("a",L,[e(i,{icon:"fa-brands fa-firefox"}),n[35]||(n[35]=a("MDN‚Äôs documentation",-1))]),n[41]||(n[41]=a(", the ‚Äúinset is used to determine whether the element is in view which determines the length of the animation timeline. In other words, the animation lasts as long as the element is in the inset-adjusted view.‚Äù",-1))]),n[67]||(n[67]=t(`<p>So, by using a negative value, we make the container larger than the window and trigger the animation to start a little before and end a little after the subject is visible. This accounts for the fact that the subject moves during the animation.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre class="has-diff language-css"><code><span class="line diff remove">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line diff add">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">view</span><span class="token punctuation">(</span>-100px<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>Now both the text and background animate smoothly at different speeds.</p>`,3)),e(d,{user:"blakeeric","slug-hash":"YPPByaw",title:"Parallax with scroll-driven animation (part 2)","default-tab":["css","result"],theme:c.dark},null,8,["theme"]),n[68]||(n[68]=s("hr",null,null,-1)),n[69]||(n[69]=s("h2",{id:"adjusting-animations-using-animation-ranges",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#adjusting-animations-using-animation-ranges"},[s("span",null,"Adjusting animations using animation ranges")])],-1)),s("p",null,[n[43]||(n[43]=a("So far, we have employed both ",-1)),n[44]||(n[44]=s("strong",null,"scroll",-1)),n[45]||(n[45]=a(" and ",-1)),n[46]||(n[46]=s("strong",null,"view",-1)),n[47]||(n[47]=a(" progress timelines. Let‚Äôs look at another way to adjust the start and end timing of the animations using the ",-1)),s("a",N,[e(i,{icon:"fa-brands fa-firefox"}),n[42]||(n[42]=s("code",null,"animation-range",-1))]),n[48]||(n[48]=a(" property. It can be used to modify where along the timeline the animation will start and end.",-1))]),n[70]||(n[70]=t(`<p>We‚Äôll start by adding a <code>view()</code> timeline animation to the <code>#spaceship</code> emoji:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> launch</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-100px<span class="token punctuation">,</span> 200px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>100px<span class="token punctuation">,</span> -100px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">#spaceship</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> launch<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Again, we see the emoji returning to its <code>0%</code> position once its original unanimated position is outside of the scrollport.</p>`,3)),e(l,{src:"youtube/w1YbhvwXfx0"}),n[71]||(n[71]=t(`<p>As discussed before, animations are based on the original pre-animation position of the subject. Previously, we solved this by adding an inset parameter to the <code>view()</code> function. We can also adjust the animation range and tell our animation to continue beyond 100% of the animation timeline without having to manipulate the inset of the view timeline itself.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre class="has-diff language-css"><code><span class="line"><span class="token selector">#spaceship</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> launch<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line diff add">+ <span class="token property">animation-range</span><span class="token punctuation">:</span> 0% 120%<span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>Now the animation continues until we have scrolled an extra 20% beyond the calculated scroll timeline‚Äôs normal endpoint.</p>`,3)),e(l,{src:"youtube/zZPy8XhaFAY"}),n[72]||(n[72]=t(`<p>Let‚Äôs say that we want to add an animation to the <code>#comet</code> emoji, but we don‚Äôt want it to start animating until it has passed <code>4rem</code> from the bottom of the scrollport:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> rotate</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span> <span class="token function">translateX</span><span class="token punctuation">(</span>100px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>-70deg<span class="token punctuation">)</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">#comet</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> rotate linear<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">transform-origin</span><span class="token punctuation">:</span> center 125px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-range</span><span class="token punctuation">:</span> 4rem 120%<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here we see the ‚Äúdelayed‚Äù animation in action:</p>`,3)),e(l,{src:"youtube/WZncIi4XePU"}),n[73]||(n[73]=t(`<p>We can also combine animation ranges to run completely different animations at different points within the same timeline! Let‚Äôs illustrate this by combining animation ranges for the <code>#satellite</code> icon at the top of the page**.** The result is that the first animation runs until the icon passes 80% of the scrollport, then the second animation takes over for the final 20%.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> orbit-in</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">0%</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>200deg<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">100%</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> orbit-out</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">0%</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>0px<span class="token punctuation">,</span> 0px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">100%</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50px<span class="token punctuation">,</span> -15px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">#satellite</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> orbit-in linear<span class="token punctuation">,</span> orbit-out ease<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-range</span><span class="token punctuation">:</span> 0% 80%<span class="token punctuation">,</span> 80% 110%<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2)),e(l,{src:"youtube/gnYJhJDXNWo"}),n[74]||(n[74]=s("hr",null,null,-1)),n[75]||(n[75]=s("h2",{id:"fallbacks-and-accessibility",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#fallbacks-and-accessibility"},[s("span",null,"Fallbacks and accessibility")])],-1)),s("p",null,[n[50]||(n[50]=a("Our webpage features numerous moving elements that may cause discomfort for some users. Let‚Äôs consider accessibility for motion sensitivities and incorporate the ",-1)),s("a",V,[e(i,{icon:"iconfont icon-css-tricks"}),n[49]||(n[49]=s("code",null,"prefers-reduced-motion",-1))]),n[51]||(n[51]=a(" CSS media feature.",-1))]),n[76]||(n[76]=t(`<p>There are two possible values: <code>no-preference</code>, and <code>reduce</code>. If we want to fine-tune the webpage with animations disabled by default and then enhance each selector with animations and associated styles, then we can use <code>no-preference</code> to enable them.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> no-preference<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">.my-selector</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">top</span><span class="token punctuation">:</span> 25%<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">animation</span><span class="token punctuation">:</span> cool-animation linear<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">scroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For us, however, the webpage content and images will still all be visible if we disable all animations simultaneously. This can be done concisely using the <code>reduce</code> option. It‚Äôs important to note that this sort of blanket approach works for our situation, but you should always consider the impact on your specific users when implementing accessibility features.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> reduce<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">.my-selector</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">animation</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4)),s("p",null,[n[53]||(n[53]=a("In addition to considering accessibility, we should also take into account that scroll-driven animations are not supported by all browsers at the time of writing. If we care a lot about users seeing our animations, we can add a polyfill (",-1)),s("a",M,[e(i,{icon:"fas fa-globe"}),n[52]||(n[52]=a("direct link",-1))]),n[54]||(n[54]=a(") to extend this functionality to currently unsupported browsers. This, however, will force the animation to run on the main thread.",-1))]),n[77]||(n[77]=s("p",null,[a("Alternatively, we could decide that performance is important enough to skip the animations on unsupported browsers, thereby keeping the main thread clear. In this case, we can use the "),s("code",null,"@supports"),a(" selector and include the styles only on supported browsers.")],-1)),n[78]||(n[78]=s("p",null,"Here is the final code with everything, including the polyfill and reduced motion fallback:",-1)),e(d,{user:"blakeeric","slug-hash":"PwqBPVp",title:"Parallax with scroll-driven animation part 3","default-tab":["css","result"],theme:c.dark},null,8,["theme"]),n[79]||(n[79]=s("hr",null,null,-1)),n[80]||(n[80]=s("h2",{id:"conclusion",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#conclusion"},[s("span",null,"Conclusion")])],-1)),n[81]||(n[81]=s("p",null,[a("There we go, we just re-created a classic web effect with scroll-driven animations using "),s("strong",null,"scroll"),a(" and "),s("strong",null,"view"),a(" progress timelines. We also discussed some of the parameters that can be used to adjust animation behavior. Whether or not parallax is your thing, I like the idea that we can use a modern approach that is capable of doing what we could before‚Ä¶ only better with a dash of progressive enhancement.")],-1)),n[82]||(n[82]=s("h3",{id:"more-information",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#more-information"},[s("span",null,"More information")])],-1)),s("ul",null,[s("li",null,[e(k,{to:"/css-tricks.com/unleash-the-power-of-scroll-driven-animations.html"},{default:o(()=>[...n[55]||(n[55]=[s("strong",null,"Unleash the Power of Scroll-Driven Animations",-1)])]),_:1})]),n[56]||(n[56]=s("li",null,[s("a",{href:"https://css-tricks.com/almanac/properties/a/animation-timeline/",target:"_blank",rel:"noopener noreferrer"},[s("code",null,"animation-timeline")]),a(" (CSS-Tricks)")],-1))]),e(u,{name:"CSS scroll-driven animations - CSS | MDN",desc:"The CSS scroll-driven animations module provides functionality that builds on top of the CSS animations module and Web Animations API. It allows you to animate property values based on a progression along a scroll-based timeline instead of the default time-based document timeline. This means that you can animate an element by scrolling a scrollable element, rather than just by the passing of time.",url:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_scroll-driven_animations/",logo:"https://developer.mozilla.org/favicon.ico",preview:"https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png"}),e(u,{name:"Scroll-driven Animations",desc:"A bunch of demos and tools to show off Scroll-driven Animations",url:"https://scroll-driven-animations.style/",logo:"https://scroll-driven-animations.style/favicon.svg",preview:"https://scroll-driven-animations.style/social.jpg"}),h(" TODO: add ARTICLE CARD "),e(m,g(v({title:"Bringing Back Parallax With Scroll-Driven CSS Animations",desc:"Parallax is a pattern in which different elements of a webpage move at varying speeds as the user scrolls, creating a three-dimensional, layered appearance. It once required JavaScript. Now we have scroll-driven animations in CSS, which is free from the main-thread blocking that can plague JavaScript animations.",link:"https://chanhi2000.github.io/bookshelf/css-tricks.com/bringing-back-parallax-with-scroll-driven-css-animations.html",logo:"https://css-tricks/favicon.svg",background:"rgba(17,17,17,0.2)"})),null,16)])}const q=b(x,[["render",U]]),O=JSON.parse('{"path":"/css-tricks.com/bringing-back-parallax-with-scroll-driven-css-animations.html","title":"Bringing Back Parallax With Scroll-Driven CSS Animations","lang":"en-US","frontmatter":{"lang":"en-US","title":"Bringing Back Parallax With Scroll-Driven CSS Animations","description":"Article(s) > Bringing Back Parallax With Scroll-Driven CSS Animations","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","css-tricks.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Bringing Back Parallax With Scroll-Driven CSS Animations\\",\\"image\\":[\\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/01/smooth-scroll.jpg\\"],\\"datePublished\\":\\"2025-08-06T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Blake Lundquist\\",\\"url\\":\\"https://css-tricks.com/author/blakelundquist/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/css-tricks.com/bringing-back-parallax-with-scroll-driven-css-animations.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Bringing Back Parallax With Scroll-Driven CSS Animations"}],["meta",{"property":"og:description","content":"Article(s) > Bringing Back Parallax With Scroll-Driven CSS Animations"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/01/smooth-scroll.jpg"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/01/smooth-scroll.jpg"}],["meta",{"name":"twitter:image:alt","content":"Bringing Back Parallax With Scroll-Driven CSS Animations"}],["meta",{"property":"article:author","content":"Blake Lundquist"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"css-tricks.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-08-06T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Bringing Back Parallax With Scroll-Driven CSS Animations"},{"property":"og:description","content":"Bringing Back Parallax With Scroll-Driven CSS Animations"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/css-tricks.com/bringing-back-parallax-with-scroll-driven-css-animations.html"}]],"prev":"/programming/css/articles/README.md","date":"2025-08-06T00:00:00.000Z","isOriginal":false,"author":[{"name":"Blake Lundquist","url":"https://css-tricks.com/author/blakelundquist/"}],"cover":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/01/smooth-scroll.jpg"},"git":{},"readingTime":{"minutes":7.58,"words":2273},"filePathRelative":"css-tricks.com/bringing-back-parallax-with-scroll-driven-css-animations.md","copyright":{"author":"Blake Lundquist"}}');export{q as comp,O as data};
