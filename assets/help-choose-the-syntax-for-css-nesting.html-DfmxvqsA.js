import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as f,d as s,f as t,b as p,a as b,t as y,n as u,g as c,w as a,e as n,r as i,o as w}from"./app-BItykJLQ.js";const v={},k={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},S={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},x={class:"table-of-contents"},C={href:"https://developer.chrome.com/blog/help-css-nesting/",target:"_blank",rel:"noopener noreferrer"},T={href:"https://developer.chrome.com/blog/help-css-nesting-results/",target:"_blank",rel:"noopener noreferrer"},N={href:"https://webkit.org/blog/13607/help-choose-from-options-for-css-nesting-syntax/",target:"_blank",rel:"noopener noreferrer"},I={href:"https://webkit.org/blog/13607/help-choose-from-options-for-css-nesting-syntax/",target:"_blank",rel:"noopener noreferrer"},A={class:"hint-container details"},W={href:"https://github.com/sass/sass/issues/3030",target:"_blank",rel:"noopener noreferrer"},H={class:"hint-container details"},P={href:"https://w3.org/TR/css-syntax-3/",target:"_blank",rel:"noopener noreferrer"},q={href:"https://w3.org/TR/css-syntax-3/#would-start-an-identifier",target:"_blank",rel:"noopener noreferrer"},B={href:"https://drafts.csswg.org/css-nesting/#:~:text=style%20rule.-,Some%20non%2Dbrowser%20implementations,-of%20nested%20rules",target:"_blank",rel:"noopener noreferrer"},R={href:"https://w3.org/TR/css-syntax-3/",target:"_blank",rel:"noopener noreferrer"},D={href:"https://browser.engineering/styles.html",target:"_blank",rel:"noopener noreferrer"},j={class:"hint-container details"},V={class:"hint-container details"},G={href:"https://2022.stateofcss.com/en-US/usage/#missing_features_freeform",target:"_blank",rel:"noopener noreferrer"},O={class:"hint-container details"},E={href:"https://github.com/w3c/csswg-drafts/blob/main/css-nesting-1/proposals.md",target:"_blank",rel:"noopener noreferrer"},U={class:"hint-container details"},F={href:"https://github.com/w3c/csswg-drafts/blob/main/css-nesting-1/proposals.md",target:"_blank",rel:"noopener noreferrer"};function L(g,e){const d=i("VPCard"),r=i("router-link"),l=i("SiteInfo"),o=i("VPIcon"),h=i("RouteLink");return w(),f("div",null,[s("h1",k,[s("a",S,[s("span",null,y(g.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),t(d,u(c({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",x,[s("ul",null,[s("li",null,[t(r,{to:"#the-proposals"},{default:a(()=>[...e[0]||(e[0]=[n("The Proposals",-1)])]),_:1}),s("ul",null,[s("li",null,[t(r,{to:"#top-level-nesting-container"},{default:a(()=>[...e[1]||(e[1]=[n("Top-level nesting container",-1)])]),_:1})]),s("li",null,[t(r,{to:"#postfix-proposal"},{default:a(()=>[...e[2]||(e[2]=[n("Postfix proposal",-1)])]),_:1})]),s("li",null,[t(r,{to:"#non-letter-start-proposal"},{default:a(()=>[...e[3]||(e[3]=[n("Non-letter start proposal",-1)])]),_:1})])])]),s("li",null,[t(r,{to:"#cast-your-vote"},{default:a(()=>[...e[4]||(e[4]=[n("Cast your vote",-1)])]),_:1})]),s("li",null,[t(r,{to:"#faq"},{default:a(()=>[...e[5]||(e[5]=[n("FAQ",-1)])]),_:1})])])]),e[62]||(e[62]=s("hr",null,null,-1)),t(l,{name:"Help choose the syntax for CSS Nesting!",desc:"The CSS Working Group is continuing a debate over the best way to define nesting in CSS. And if you are someone who writes CSS, we‚Äôd like your help.",url:"https://bram.us/2022/12/16/help-choose-the-syntax-for-css-nesting/",logo:"https://bramu.us/favicon.ico",preview:"https://bram.us/wordpress/wp-content/uploads/2022/12/css-nesting-poll-again.png"}),e[63]||(e[63]=s("figure",null,[s("img",{src:"https://bram.us/wordpress/wp-content/uploads/2022/12/css-nesting-poll-again.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1)),e[64]||(e[64]=s("p",null,"The CSS Working Group is continuing a debate over the best way to define nesting in CSS. And if you are someone who writes CSS, we‚Äôd like your help.",-1)),s("p",null,[e[12]||(e[12]=n("A while ago there was ",-1)),s("a",C,[t(o,{icon:"fa-brands fa-chrome"}),e[6]||(e[6]=n("a survey on ",-1)),e[7]||(e[7]=s("code",null,"developer.chrome.com",-1)),e[8]||(e[8]=n(" to help pick a syntax for CSS Nesting",-1))]),e[13]||(e[13]=n(". After that survey ",-1)),s("a",T,[t(o,{icon:"fa-brands fa-chrome"}),e[9]||(e[9]=n("ended",-1))]),e[14]||(e[14]=n(", a few new syntax ideas have been floated within the CSS Working Group so there‚Äôs ",-1)),s("a",N,[t(o,{icon:"fa-brands fa-safari"}),e[10]||(e[10]=n("a new survey, this time available on ",-1)),e[11]||(e[11]=s("code",null,"webkit.org",-1))]),e[15]||(e[15]=n(".",-1))]),e[65]||(e[65]=p(`<hr><h2 id="the-proposals" tabindex="-1"><a class="header-anchor" href="#the-proposals"><span>The Proposals</span></a></h2><p>There are currently 3 proposals that you can choose from <em>(taking over the order as they are listed on <code>webkit.org</code>)</em>:</p><h3 id="top-level-nesting-container" tabindex="-1"><a class="header-anchor" href="#top-level-nesting-container"><span>Top-level nesting container</span></a></h3><p>which introduces a top-level <code>@nest</code> rule that contains a <code>&amp; { ‚Ä¶ }</code> block with declarations and multiple nested style rules.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@nest</span> selector</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">&amp;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">property</span><span class="token punctuation">:</span> value<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">nested-selector</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">property</span><span class="token punctuation">:</span> value<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="postfix-proposal" tabindex="-1"><a class="header-anchor" href="#postfix-proposal"><span>Postfix proposal</span></a></h3><p>which uses an extra code block containing the nested rules which is inserted after main rule which contains the declarations.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">selector</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">property</span><span class="token punctuation">:</span> value<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">nested-selector</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">property</span><span class="token punctuation">:</span> value<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="non-letter-start-proposal" tabindex="-1"><a class="header-anchor" href="#non-letter-start-proposal"><span>Non-letter start proposal</span></a></h3><p>which needs every nested rule to be unambiguous on its own, by requiring it to start with a non-symbol. <em>(You can write <code>&amp; div</code> or <code>:is(div)</code> if you need to start a selector with a type selector.)</em></p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">selector</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">property</span><span class="token punctuation">:</span> value<span class="token punctuation">;</span></span>
<span class="line">  <span class="token selector">&amp; nested-selector</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">property</span><span class="token punctuation">:</span> value<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="https://webkit.org/blog/13607/help-choose-from-options-for-css-nesting-syntax/" target="_blank" rel="noopener noreferrer">Over at <code>webkit.org</code></a>, there‚Äôs a bunch of practical code examples using each of the syntaxes for you to review.</p><hr><h2 id="cast-your-vote" tabindex="-1"><a class="header-anchor" href="#cast-your-vote"><span>Cast your vote</span></a></h2>`,15)),s("p",null,[e[18]||(e[18]=n("This is your time to be heard! ",-1)),s("a",I,[t(o,{icon:"fa-brands fa-safari"}),e[16]||(e[16]=n("Head over to ",-1)),e[17]||(e[17]=s("code",null,"webkit.org",-1))]),e[19]||(e[19]=n("; after all examples you can find a block where you can cast your vote.",-1))]),t(l,{name:"Help choose the syntax for CSS Nesting",desc:"The CSS Working Group is continuing a debate over the best way to define nesting in CSS.",url:"https://webkit.org/blog/13607/help-choose-from-options-for-css-nesting-syntax//",logo:"https://webkit.org/favicon.png",preview:"https://webkit.org/wp-content/themes/webkit/images/preview-card.jpg"}),e[66]||(e[66]=s("p",null,"Voting is easy and requires no registration or anything like that. Simply choose ‚ÄúOption 5‚Äù, ‚ÄúOption 4‚Äù, or ‚ÄúOption 3‚Äù and hit Submit.",-1)),e[67]||(e[67]=s("hr",null,null,-1)),e[68]||(e[68]=s("h2",{id:"faq",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#faq"},[s("span",null,"FAQ")])],-1)),s("details",A,[e[25]||(e[25]=p('<summary>Q. Why can‚Äôt we just do Sass-like nesting?</summary><p>If it were that easy, it would have already been done üòâ</p><p>As explained in <a href="https://developer.chrome.com/blog/help-css-nesting/" target="_blank" rel="noopener noreferrer">the previous poll</a> there‚Äôs a few reasons for this:</p><p><strong>1. Ambiguous parsing</strong></p><blockquote><p>Some nested selectors can look exactly like properties and preprocessors are able to resolve and manage them at build time. Browser engines won‚Äôt have the same affordances, selectors needs to never be loosely interpreted.</p><p>For example, if a parser starts by seeing <code>color:hover</code>, it can‚Äôt tell whether that‚Äôs the <code>color</code> property (being set to an invalid value‚Ä¶) or a selector for a <code>&lt;color&gt;</code> element. It can‚Äôt even rely on looking for valid properties to tell the difference; this would cause parsing to depend on which properties the implementation supported, and could change over time.</p></blockquote><p><strong>2. Preprocessor parsing conflicts</strong></p>',6)),s("blockquote",null,[s("p",null,[e[23]||(e[23]=n("The CSS way of nesting ",-1)),s("a",W,[e[20]||(e[20]=n("shouldn‚Äôt break preprocessors (",-1)),t(o,{icon:"iconfont icon-github"}),e[21]||(e[21]=s("code",null,"sass/sass",-1)),e[22]||(e[22]=n(")",-1))]),e[24]||(e[24]=n(" or existing developer nesting workflows. This would be disruptive and inconsiderate to those ecosystems and communities.",-1))])])]),s("details",H,[e[40]||(e[40]=s("summary",null,[n("No, but really, why can‚Äôt we "),s("em",null,"just"),n(" do Sass-like nesting?")],-1)),s("p",null,[e[29]||(e[29]=n("The way CSS is parsed is ",-1)),s("a",P,[t(o,{icon:"iconfont icon-w3c"}),e[26]||(e[26]=n("strictly defined",-1))]),e[30]||(e[30]=n(". The CSS parser works by reading a stream of bytes. While doing so, it needs to know what it is looking for. To allow this, ",-1)),s("a",q,[t(o,{icon:"iconfont icon-w3c"}),e[27]||(e[27]=n("it looks up to three code points",-1))]),e[31]||(e[31]=n(" to determine what it‚Äôs currently handling. Relaxing the lookahead to allow more characters would cause performance issues ",-1)),e[32]||(e[32]=s("em",null,"(CSS needs to be really fast)",-1)),e[33]||(e[33]=n(" and could grow out of control as it‚Äôd need to be Infinite. Sass and other preprocessor are not bound by these limitations, as ",-1)),s("a",B,[t(o,{icon:"fas fa-globe"}),e[28]||(e[28]=n("per note in the Nesting Spec",-1))]),e[34]||(e[34]=n(":",-1))]),e[41]||(e[41]=s("blockquote",null,[s("p",null,"Some non-browser implementations of nested rules do not impose this requirement. It is, in most cases, eventually possible to tell properties and selectors apart, but doing so requires unbounded lookahead in the parser; that is, the parser might have to hold onto an unknown amount of content before it can tell which way it‚Äôs supposed to be interpreting it. CSS to date requires only a small, known amount of lookahead in its parsing, which allows for more efficient parsing algorithms, so unbounded lookahead is generally considered unacceptable among browser implementations of CSS.")],-1)),s("p",null,[e[37]||(e[37]=n("More info on parsing CSS in ",-1)),s("a",R,[t(o,{icon:"iconfont icon-w3c"}),e[35]||(e[35]=n("the CSS Syntax Specification",-1))]),e[38]||(e[38]=n(" and ",-1)),s("a",D,[t(o,{icon:"fas fa-globe"}),e[36]||(e[36]=n("Chapter 6 of Web Browser Engineering",-1))]),e[39]||(e[39]=n(".",-1))])]),s("details",j,[e[45]||(e[45]=s("summary",null,"Does this mean we will never have Sass like nesting?",-1)),s("p",null,[e[43]||(e[43]=n("No. Just like ",-1)),t(h,{to:"/bram.us/the-css-has-selector-is-way-more-than-a-parent-selector.html"},{default:a(()=>[...e[42]||(e[42]=[s("strong",null,"the parent selector",-1)])]),_:1}),e[44]||(e[44]=n(" became a possibility over time, maybe we can have Sass-like nesting at an acceptable speed in the browser in the future. That day, however, is not today.",-1))])]),s("details",V,[e[48]||(e[48]=s("summary",null,"What about no nesting?",-1)),s("p",null,[s("a",G,[t(o,{icon:"fas fa-globe"}),e[46]||(e[46]=n("CSS Nesting is the top requested feature by developers",-1))]),e[47]||(e[47]=n(" so we can‚Äôt ignore it.",-1))]),e[49]||(e[49]=s("p",null,"But here‚Äôs the good news: if you don‚Äôt like it, you don‚Äôt need to use nesting. It‚Äôs entirely optional.",-1))]),e[69]||(e[69]=s("details",{class:"hint-container details"},[s("summary",null,[n("That optional "),s("code",null,"&"),n(" is confusing in some of these proposals")]),s("p",null,[n("It‚Äôs not that difficult when and when not to use to be honest. But if you do find it confusing, you can choose to always write the "),s("code",null,"&"),n(". A linter can help enforce this across your team.")])],-1)),s("details",O,[e[55]||(e[55]=s("summary",null,"What‚Äôs up with that numbering? Why 5-4-3 instead of 1-2-3?",-1)),s("p",null,[e[53]||(e[53]=n("There have been ",-1)),s("a",E,[e[50]||(e[50]=n("various syntax proposals (",-1)),t(o,{icon:"iconfont icon-github"}),e[51]||(e[51]=s("code",null,"w3c/csswg-drafts",-1)),e[52]||(e[52]=n(")",-1))]),e[54]||(e[54]=n(". These are actually the 3rd, 4th, and 5th variations that are being presented. Proposals 1 and 2 are no longer considered by the CSS WG, so are not included in the poll.",-1))])]),e[70]||(e[70]=s("details",{class:"hint-container details"},[s("summary",null,"Why 5-4-3, and not 3-4-5?"),s("p",null,"Beats me ü§∑‚Äç‚ôÇÔ∏è")],-1)),s("details",U,[e[61]||(e[61]=s("summary",null,"Is there a 1-page summary weighing all proposals?",-1)),s("p",null,[e[59]||(e[59]=n("This ",-1)),s("a",F,[e[56]||(e[56]=n("overview page of all proposals (",-1)),t(o,{icon:"iconfont icon-github"}),e[57]||(e[57]=s("code",null,"w3c/csswg-drafts",-1)),e[58]||(e[58]=n(")",-1))]),e[60]||(e[60]=n(" has a table showing all pros and cons for each. Note that proposals 1 and 2 are no longer considered.",-1))])]),e[71]||(e[71]=p('<details class="hint-container details"><summary>Which proposal do you like?</summary><p>I don‚Äôt want to be accused of influencing the results here, so I‚Äôll keep my opinion to myself. I formed my opinion by trying out the various syntaxes on some existing CSS I had laying around, and kept track whether if it was easy for me to do or not:</p><ul><li>Do I need to adjust other things in the code when pasting in a nested ruleset?</li><li>Do I need to jump around in my code when pasting in a nested ruleset?</li><li>Does the concept of nesting resonate with other languages that allow nesting?</li><li>Can any possible ambiguities be circumvented?</li><li>Is the resulting code readable to me?</li><li>‚Ä¶</li></ul></details><details class="hint-container details"><summary>How long does the survey run?</summary><p>The survey will run until Dec 21, right before CSSWG meeting of that week.</p></details><details class="hint-container details"><summary>I can‚Äôt seem to vote ‚Äì The page only shows me the results?!</summary><p>Initially there were some caching issues going on with the page, but these should be resolved now. If you still run into this, try adding a random querystring (e.g. <code>?asfwe</code>) to the URL.</p></details>',3)),t(l,{name:"Help choose the syntax for CSS Nesting",desc:"The CSS Working Group is continuing a debate over the best way to define nesting in CSS.",url:"https://webkit.org/blog/13607/help-choose-from-options-for-css-nesting-syntax//",logo:"https://webkit.org/favicon.png",preview:"https://webkit.org/wp-content/themes/webkit/images/preview-card.jpg"}),b(" TODO: add ARTICLE CARD "),t(d,u(c({title:"Help choose the syntax for CSS Nesting!",desc:"The CSS Working Group is continuing a debate over the best way to define nesting in CSS. And if you are someone who writes CSS, we‚Äôd like your help.",link:"https://chanhi2000.github.io/bookshelf/bram.us/help-choose-the-syntax-for-css-nesting.html",logo:"https://bramu.us/favicon.ico",background:"rgba(17,17,17,0.2)"})),null,16)])}const Z=m(v,[["render",L]]),z=JSON.parse('{"path":"/bram.us/help-choose-the-syntax-for-css-nesting.html","title":"Help choose the syntax for CSS Nesting!","lang":"en-US","frontmatter":{"lang":"en-US","title":"Help choose the syntax for CSS Nesting!","description":"Article(s) > Help choose the syntax for CSS Nesting!","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","bram.us","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Help choose the syntax for CSS Nesting!\\",\\"image\\":[\\"https://bram.us/wordpress/wp-content/uploads/2022/12/css-nesting-poll-again.png\\"],\\"datePublished\\":\\"2022-12-16T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bramus!\\",\\"url\\":\\"https://bram.us/author/bramus/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/bram.us/help-choose-the-syntax-for-css-nesting.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Help choose the syntax for CSS Nesting!"}],["meta",{"property":"og:description","content":"Article(s) > Help choose the syntax for CSS Nesting!"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://bram.us/wordpress/wp-content/uploads/2022/12/css-nesting-poll-again.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://bram.us/wordpress/wp-content/uploads/2022/12/css-nesting-poll-again.png"}],["meta",{"name":"twitter:image:alt","content":"Help choose the syntax for CSS Nesting!"}],["meta",{"property":"article:author","content":"Bramus!"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"bram.us"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2022-12-16T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Help choose the syntax for CSS Nesting!"},{"property":"og:description","content":"Help choose the syntax for CSS Nesting!"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/bram.us/help-choose-the-syntax-for-css-nesting.html"}]],"prev":"/programming/css/articles/README.md","date":"2022-12-16T00:00:00.000Z","isOriginal":false,"author":[{"name":"Bramus!","url":"https://bram.us/author/bramus/"}],"cover":"https://bram.us/wordpress/wp-content/uploads/2022/12/css-nesting-poll-again.png"},"git":{},"readingTime":{"minutes":5.37,"words":1611},"filePathRelative":"bram.us/help-choose-the-syntax-for-css-nesting.md","copyright":{"author":"Bramus!"}}');export{Z as comp,z as data};
