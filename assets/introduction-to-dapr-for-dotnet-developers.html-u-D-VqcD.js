import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as s,f as e,b as i,a as b,t as h,n as u,g as d,w as p,e as a,r as l,o as f}from"./app-BItykJLQ.js";const y={},w={id:"frontmatter-title-관련",tabindex:"-1"},D={class:"header-anchor",href:"#frontmatter-title-관련"},A={class:"table-of-contents"},q={href:"https://dapr.io/",target:"_blank",rel:"noopener noreferrer"},C={href:"https://dapr.io/",target:"_blank",rel:"noopener noreferrer"},T={href:"https://cncf.io/",target:"_blank",rel:"noopener noreferrer"},I={href:"https://learn.microsoft.com/en-us/azure/architecture/patterns/sidecar",target:"_blank",rel:"noopener noreferrer"},S={href:"https://dapr.io/",target:"_blank",rel:"noopener noreferrer"},x={href:"https://docs.dapr.io/concepts/building-blocks-concept/",target:"_blank",rel:"noopener noreferrer"},E={href:"https://dapr.io/",target:"_blank",rel:"noopener noreferrer"},P={href:"https://docs.dapr.io/developing-applications/building-blocks/service-invocation/service-invocation-overview/",target:"_blank",rel:"noopener noreferrer"},j={href:"https://dapr.io/",target:"_blank",rel:"noopener noreferrer"},N={href:"https://docs.dapr.io/developing-applications/building-blocks/pubsub/pubsub-overview/",target:"_blank",rel:"noopener noreferrer"},O={href:"https://dapr.io/",target:"_blank",rel:"noopener noreferrer"},R={href:"https://cloudevents.io/",target:"_blank",rel:"noopener noreferrer"},B={href:"https://diagrid.io/blog/net-aspire-dapr-what-are-they-and-how-they-complement-each-other",target:"_blank",rel:"noopener noreferrer"},M={href:"https://diagrid.ws/41oIYRX",target:"_blank",rel:"noopener noreferrer"},W={href:"https://diagrid.ws/41oIYRX",target:"_blank",rel:"noopener noreferrer"};function z(k,n){const r=l("VPCard"),o=l("router-link"),v=l("SiteInfo"),c=l("RouteLink"),t=l("VPIcon");return f(),g("div",null,[s("h1",w,[s("a",D,[s("span",null,h(k.$frontmatter.title)+" 관련",1)])]),e(r,u(d({title:"C# > Article(s)",desc:"Article(s)",link:"/programming/cs/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",A,[s("ul",null,[s("li",null,[e(o,{to:"#what-is-dapr"},{default:p(()=>[...n[0]||(n[0]=[a("What is Dapr?",-1)])]),_:1})]),s("li",null,[e(o,{to:"#the-sidecar-pattern-how-dapr-works"},{default:p(()=>[...n[1]||(n[1]=[a("The Sidecar Pattern: How Dapr Works",-1)])]),_:1})]),s("li",null,[e(o,{to:"#building-blocks-dapr-s-core-capabilities"},{default:p(()=>[...n[2]||(n[2]=[a("Building Blocks: Dapr's Core Capabilities",-1)])]),_:1})]),s("li",null,[e(o,{to:"#service-invocation"},{default:p(()=>[...n[3]||(n[3]=[a("Service Invocation",-1)])]),_:1})]),s("li",null,[e(o,{to:"#publish-subscribe"},{default:p(()=>[...n[4]||(n[4]=[a("Publish & Subscribe",-1)])]),_:1})]),s("li",null,[e(o,{to:"#dapr-and-net-aspire-better-together"},{default:p(()=>[...n[5]||(n[5]=[a("Dapr and .NET Aspire: Better Together",-1)])]),_:1})]),s("li",null,[e(o,{to:"#learning-with-dapr-university"},{default:p(()=>[...n[6]||(n[6]=[a("Learning with Dapr University",-1)])]),_:1})]),s("li",null,[e(o,{to:"#conclusion"},{default:p(()=>[...n[7]||(n[7]=[a("Conclusion",-1)])]),_:1})])])]),n[68]||(n[68]=s("hr",null,null,-1)),e(v,{name:"Introduction to Dapr for .NET Developers",desc:"Explore how Dapr helps .NET developers build better microservices with standardized building blocks, practical code examples, and seamless integration with .NET Aspire to simplify your distributed systems journey.",url:"https://milanjovanovic.tech/blog/introduction-to-dapr-for-dotnet-developers",logo:"https://milanjovanovic.tech/profile_favicon.png",preview:"https://milanjovanovic.tech/blog-covers/mnw_131.png"}),s("p",null,[n[11]||(n[11]=a("Building distributed systems has never been more important—or more challenging. As .NET developers, we're constantly juggling ",-1)),e(c,{to:"/milanjovanovic.tech/service-discovery-in-microservices-with-net-and-consul.html"},{default:p(()=>[...n[8]||(n[8]=[s("strong",null,"service discovery",-1)])]),_:1}),n[12]||(n[12]=a(", state management, ",-1)),e(c,{to:"/milanjovanovic.tech/simple-messaging-in-dotnet-with-redis-pubsub.html"},{default:p(()=>[...n[9]||(n[9]=[s("strong",null,"messaging",-1)])]),_:1}),n[13]||(n[13]=a(", ",-1)),e(c,{to:"/milanjovanovic.tech/building-resilient-cloud-applications-with-dotnet.html"},{default:p(()=>[...n[10]||(n[10]=[s("strong",null,"resilience patterns",-1)])]),_:1}),n[14]||(n[14]=a(", and various infrastructure SDKs. Our business logic gets buried under mountains of plumbing code, and we become tightly coupled to specific technologies.",-1))]),n[69]||(n[69]=s("p",null,"What if there was a better way?",-1)),s("p",null,[n[16]||(n[16]=a("Enter ",-1)),s("a",q,[e(t,{icon:"fas fa-globe"}),n[15]||(n[15]=a("Dapr",-1))]),n[17]||(n[17]=a(" (Distributed Application Runtime), an open-source project that handles the complex infrastructure challenges so you can focus on what matters most: your application's business logic.",-1))]),n[70]||(n[70]=s("p",null,"In this article, we'll explore how Dapr transforms microservice development for .NET developers by:",-1)),n[71]||(n[71]=s("ul",null,[s("li",null,"Abstracting away infrastructure-specific code behind consistent APIs"),s("li",null,"Providing standardized building blocks for common distributed system patterns"),s("li",null,"Enabling you to use the same code from local development to production"),s("li",null,"Integrating seamlessly with .NET and ASP.NET Core applications")],-1)),n[72]||(n[72]=s("p",null,"Whether you're building your first microservice or evolving a complex system, Dapr offers a simpler path forward. Let's explore how it works.",-1)),n[73]||(n[73]=s("hr",null,null,-1)),n[74]||(n[74]=s("h2",{id:"what-is-dapr",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#what-is-dapr"},[s("span",null,"What is Dapr?")])],-1)),s("p",null,[s("a",C,[e(t,{icon:"fas fa-globe"}),n[18]||(n[18]=a("Dapr",-1))]),n[20]||(n[20]=a(" is a portable, event-driven runtime that simplifies building microservices. As a graduated project within the ",-1)),s("a",T,[e(t,{icon:"fas fa-globe"}),n[19]||(n[19]=a("Cloud Native Computing Foundation",-1))]),n[21]||(n[21]=a(" (CNCF), Dapr has proven its value in production environments.",-1))]),n[75]||(n[75]=i(`<p>At its core, Dapr provides standardized building blocks that abstract away the complexity of common microservice patterns. Rather than wrestling with infrastructure-specific code, you can focus on your business logic while Dapr handles the rest.</p><p>Before Dapr, building a microservice architecture in .NET might require direct integration with multiple infrastructure components:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// Pre-Dapr approach - direct infrastructure dependencies</span></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddStackExchangeRedisCache</span><span class="token punctuation">(</span>options <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> options<span class="token punctuation">.</span>Configuration <span class="token operator">=</span> <span class="token string">&quot;redis:6379&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IMessageBroker<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>provider <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">KafkaMessageBroker</span><span class="token punctuation">(</span><span class="token string">&quot;kafka:9092&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ISecretManager<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>provider <span class="token operator">=&gt;</span></span>
<span class="line">    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AzureKeyVaultClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Uri</span><span class="token punctuation">(</span><span class="token string">&quot;https://myvault.vault.azure.net&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This approach tightly couples your application to specific technologies.</p><p>With Dapr, you gain flexibility through standardized APIs:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// Dapr approach - simple, consistent APIs</span></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddDaprClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Later in code:</span></span>
<span class="line"><span class="token comment">// State management (could be Redis, Cosmos DB, etc.)</span></span>
<span class="line"><span class="token keyword">await</span> daprClient<span class="token punctuation">.</span><span class="token function">SaveStateAsync</span><span class="token punctuation">(</span><span class="token string">&quot;statestore&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;customer-123&quot;</span><span class="token punctuation">,</span> customerData<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Pub/sub (could be Kafka, RabbitMQ, etc.)</span></span>
<span class="line"><span class="token keyword">await</span> daprClient<span class="token punctuation">.</span><span class="token function">PublishEventAsync</span><span class="token punctuation">(</span><span class="token string">&quot;pubsub&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;orders&quot;</span><span class="token punctuation">,</span> orderData<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Secrets (could be Azure Key Vault, HashiCorp Vault, etc.)</span></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> secret <span class="token operator">=</span> <span class="token keyword">await</span> daprClient<span class="token punctuation">.</span><span class="token function">GetSecretAsync</span><span class="token punctuation">(</span><span class="token string">&quot;secretstore&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;api-keys&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The underlying providers can be swapped without code changes - just by updating Dapr component configuration files.</p><hr><h2 id="the-sidecar-pattern-how-dapr-works" tabindex="-1"><a class="header-anchor" href="#the-sidecar-pattern-how-dapr-works"><span>The Sidecar Pattern: How Dapr Works</span></a></h2>`,9)),s("p",null,[n[23]||(n[23]=a("Dapr uses the ",-1)),s("a",I,[e(t,{icon:"fa-brands fa-microsoft"}),n[22]||(n[22]=a("sidecar",-1))]),n[24]||(n[24]=a(" architectural pattern, where it runs as a separate process alongside your application:",-1))]),s("figure",null,[n[29]||(n[29]=s("img",{src:"https://milanjovanovic.tech/blogs/mnw_131/dapr_sidecar.png?imwidth=3840",alt:'Dapr sidecar diagram with the building blocks and services.<br/>Source: <VPIcon icon="fas fa-globe"/>Dapr',tabindex:"0",loading:"lazy"},null,-1)),s("figcaption",null,[n[26]||(n[26]=a("Dapr sidecar diagram with the building blocks and services.",-1)),n[27]||(n[27]=s("br",null,null,-1)),n[28]||(n[28]=a("Source: ",-1)),s("a",S,[e(t,{icon:"fas fa-globe"}),n[25]||(n[25]=a("Dapr",-1))])])]),n[76]||(n[76]=i('<p>Your application communicates with the Dapr sidecar through HTTP or gRPC, and Dapr handles communication with infrastructure services. This separation brings several benefits:</p><ul><li><strong>Language Agnostic</strong>: Dapr works with any programming language, including all .NET variants</li><li><strong>Cross-cutting Concerns</strong>: Security, observability, and resiliency are handled by Dapr, not your code</li><li><strong>Infrastructure Abstraction</strong>: Your application remains decoupled from specific technologies</li><li><strong>Simplified Development</strong>: Clean, maintainable code focused on business logic</li><li><strong>Production Ready</strong>: Built-in features that improve reliability in production environments</li></ul><hr><h2 id="building-blocks-dapr-s-core-capabilities" tabindex="-1"><a class="header-anchor" href="#building-blocks-dapr-s-core-capabilities"><span>Building Blocks: Dapr&#39;s Core Capabilities</span></a></h2>',4)),s("p",null,[n[31]||(n[31]=a("Dapr offers several ",-1)),s("a",x,[e(t,{icon:"fas fa-globe"}),n[30]||(n[30]=a("building blocks",-1))]),n[32]||(n[32]=a(" that solve common microservice challenges. Each provides a standardized API that abstracts away infrastructure complexity:",-1))]),n[77]||(n[77]=i("<ol><li><strong>Service Invocation</strong>: Enables reliable service-to-service communication with automatic service discovery, load balancing, and retries.</li><li><strong>State Management</strong>: Provides a unified way to store and retrieve state with features like concurrency control and transactions.</li><li><strong>Pub/Sub</strong>: Implements asynchronous messaging between services, allowing for loosely-coupled, event-driven architectures.</li><li><strong>Workflows</strong>: Enables you to define long running, persistent processes that span multiple microservices.</li><li><strong>Bindings</strong>: Connects your applications to external systems, either for triggering your app from external events or invoking external services.</li><li><strong>Actors</strong>: Implements the virtual actor pattern, making it easy to build stateful microservices with encapsulated state and behavior.</li><li><strong>Secrets</strong>: Offers secure access to sensitive configuration like connection strings and API keys from various secret stores.</li><li><strong>Configuration</strong>: Centralizes application settings with support for dynamic updates across multiple services.</li><li><strong>Distributed Lock</strong>: Provides mutually exclusive access to shared resources in a distributed environment.</li><li><strong>Cryptography</strong>: Offers encryption and decryption operations while handling key management.</li><li><strong>Jobs</strong>: Allows you to schedule and orchestrate jobs (e.g., schedule batch processing jobs to run every business day)</li><li><strong>Conversation</strong>: Lets you supply prompts to converse with different large language models (LLMs). Includes prompt caching and PII obfuscation.</li></ol><p>Here&#39;s an overview of Dapr&#39;s building blocks and the most popular services they interact with:</p>",2)),s("figure",null,[n[37]||(n[37]=s("img",{src:"https://milanjovanovic.tech/blogs/mnw_131/dapr_components.png?imwidth=3840",alt:'Dapr components diagram with the base building blocks and services.<br/>Source: <VPIcon icon="fas fa-globe"/>Dapr',tabindex:"0",loading:"lazy"},null,-1)),s("figcaption",null,[n[34]||(n[34]=a("Dapr components diagram with the base building blocks and services.",-1)),n[35]||(n[35]=s("br",null,null,-1)),n[36]||(n[36]=a("Source: ",-1)),s("a",E,[e(t,{icon:"fas fa-globe"}),n[33]||(n[33]=a("Dapr",-1))])])]),n[78]||(n[78]=s("p",null,"Let's explore the most commonly used building blocks in depth.",-1)),n[79]||(n[79]=s("hr",null,null,-1)),n[80]||(n[80]=s("h2",{id:"service-invocation",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#service-invocation"},[s("span",null,"Service Invocation")])],-1)),s("p",null,[n[39]||(n[39]=a("The ",-1)),s("a",P,[e(t,{icon:"fas fa-globe"}),n[38]||(n[38]=a("service invocation",-1))]),n[40]||(n[40]=a(" building block enables reliable service-to-service communication with automatic mTLS encryption, retries, and observability.",-1))]),n[81]||(n[81]=i("<p>This solves several challenging microservice problems:</p><ul><li><strong>Service Discovery</strong>: Finding where services are located</li><li><strong>Resilient Communication</strong>: Handling transient failures gracefully</li><li><strong>Load Balancing</strong>: Distributing requests across multiple instances</li><li><strong>Observability</strong>: Tracking requests across service boundaries</li><li><strong>Security</strong>: Encrypting traffic between services</li></ul>",2)),s("figure",null,[n[45]||(n[45]=s("img",{src:"https://milanjovanovic.tech/blogs/mnw_131/dapr_service_invocation.png?imwidth=3840",alt:'Diagram showing how the service invocation flow looks like with Dapr.<br/>Source: <VPIcon icon="fas fa-globe"/>Dapr',tabindex:"0",loading:"lazy"},null,-1)),s("figcaption",null,[n[42]||(n[42]=a("Diagram showing how the service invocation flow looks like with Dapr.",-1)),n[43]||(n[43]=s("br",null,null,-1)),n[44]||(n[44]=a("Source: ",-1)),s("a",j,[e(t,{icon:"fas fa-globe"}),n[41]||(n[41]=a("Dapr",-1))])])]),n[82]||(n[82]=i(`<p>Here&#39;s a simple example of invoking a service using Dapr&#39;s .NET SDK:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// Client application making a request</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">Dapr<span class="token punctuation">.</span>Client</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> WebApplication<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddDaprClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> app <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">MapGet</span><span class="token punctuation">(</span><span class="token string">&quot;/checkout/{itemId}&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> itemId<span class="token punctuation">,</span> <span class="token class-name">DaprClient</span> daprClient<span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Create order data</span></span>
<span class="line">    <span class="token class-name"><span class="token keyword">var</span></span> orderData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">OrderData</span><span class="token punctuation">(</span>itemId<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Invoke the order-processing service</span></span>
<span class="line">    <span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">await</span> daprClient<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">InvokeMethodAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>OrderData<span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token string">&quot;order-processor&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;process-order&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        orderData<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> Results<span class="token punctuation">.</span><span class="token function">Ok</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token punctuation">{</span> Message <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;Order </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">itemId</span><span class="token punctuation">}</span></span><span class="token string"> processed: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">result</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">RunAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">record</span> <span class="token class-name">OrderData</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> ItemId<span class="token punctuation">,</span> <span class="token class-name">DateTime</span> OrderedAt<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And the corresponding service handling the request:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> WebApplication<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> app <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">MapPost</span><span class="token punctuation">(</span><span class="token string">&quot;/process-order&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">OrderData</span> order<span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Processing order </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">order<span class="token punctuation">.</span>ItemId</span><span class="token punctuation">}</span></span><span class="token string"> placed at </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">order<span class="token punctuation">.</span>OrderedAt</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Order </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">order<span class="token punctuation">.</span>ItemId</span><span class="token punctuation">}</span></span><span class="token string"> confirmation: #</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Guid<span class="token punctuation">.</span><span class="token function">NewGuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token range operator">..</span><span class="token number">8</span><span class="token punctuation">]</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">RunAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">record</span> <span class="token class-name">OrderData</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> ItemId<span class="token punctuation">,</span> <span class="token class-name">DateTime</span> OrderedAt<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>What&#39;s happening here:</p><ul><li>The <code>checkout</code> service calls <code>InvokeMethodAsync</code> using the <code>DaprClient</code> to send a request to the <code>order</code> service</li><li>The Dapr sidecar for the checkout service receives this request</li><li>The Dapr sidecar looks up the location of the order service</li><li>The request is forwarded to the Dapr sidecar of the order service</li><li>The order service&#39;s Dapr sidecar forwards the request to the order service</li><li>The response follows the reverse path</li></ul><p>This process provides automatic service discovery, encryption, retries, and distributed tracing without any additional code.</p><hr><h2 id="publish-subscribe" tabindex="-1"><a class="header-anchor" href="#publish-subscribe"><span>Publish &amp; Subscribe</span></a></h2>`,9)),s("p",null,[n[47]||(n[47]=a("The ",-1)),s("a",N,[e(t,{icon:"fas fa-globe"}),n[46]||(n[46]=a("publish and subscribe",-1))]),n[48]||(n[48]=a(" building block provides asynchronous messaging between services with at-least-once delivery guarantees. This pattern is essential for building resilient, loosely-coupled microservices that can:",-1))]),n[83]||(n[83]=s("ul",null,[s("li",null,"Process operations asynchronously without blocking the user"),s("li",null,"Continue functioning when downstream services are unavailable"),s("li",null,"Scale independently based on workload")],-1)),s("figure",null,[n[53]||(n[53]=s("img",{src:"https://milanjovanovic.tech/blogs/mnw_131/dapr_publish_subscribe.png?imwidth=3840",alt:'Diagram showing how the publish subscribe flow looks like with Dapr.<br/>Source: <VPIcon icon="fas fa-globe"/>Dapr',tabindex:"0",loading:"lazy"},null,-1)),s("figcaption",null,[n[50]||(n[50]=a("Diagram showing how the publish subscribe flow looks like with Dapr.",-1)),n[51]||(n[51]=s("br",null,null,-1)),n[52]||(n[52]=a("Source: ",-1)),s("a",O,[e(t,{icon:"fas fa-globe"}),n[49]||(n[49]=a("Dapr",-1))])])]),n[84]||(n[84]=s("p",null,"Pub/Sub in Dapr follows this flow:",-1)),s("ul",null,[n[57]||(n[57]=s("li",null,"A publisher service sends a message to a topic via the Dapr sidecar",-1)),s("li",null,[n[55]||(n[55]=a("The publisher Dapr sidecar converts the message to the ",-1)),s("a",R,[e(t,{icon:"fas fa-globe"}),n[54]||(n[54]=a("CloudEvent",-1))]),n[56]||(n[56]=a(" format and forwards it to the configured message broker",-1))]),n[58]||(n[58]=s("li",null,"Subscriber services receive the message through their Dapr sidecars",-1)),n[59]||(n[59]=s("li",null,"The subscriber application processes the message",-1))]),n[85]||(n[85]=i(`<p>Dapr uses component configuration files to define the pub/sub message broker. Here&#39;s a typical Redis pub/sub component:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> dapr.io/v1alpha1</span>
<span class="line"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Component</span>
<span class="line"><span class="token key atrule">metadata</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">name</span><span class="token punctuation">:</span> order<span class="token punctuation">-</span>events</span>
<span class="line"><span class="token key atrule">spec</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">type</span><span class="token punctuation">:</span> pubsub.redis</span>
<span class="line">  <span class="token key atrule">version</span><span class="token punctuation">:</span> v1</span>
<span class="line">  <span class="token key atrule">metadata</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> redisHost</span>
<span class="line">      <span class="token key atrule">value</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">6379</span></span>
<span class="line">    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> redisPassword</span>
<span class="line">      <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The key parts of this configuration are:</p><ul><li><code>metadata.name</code>: The component name (<code>order-events</code>) that your application will reference when publishing/subscribing</li><li><code>spec.type</code>: The type of component (<code>pubsub.redis</code> in this case)</li><li><code>spec.metadata</code>: Configuration specific to the component type</li></ul><p>This file should be placed in a <code>components</code> directory where Dapr can discover it. When running locally, this is typically <code>./components/</code> relative to your application.</p><p>What if you want to switch from Redis to RabbitMQ? You&#39;d replace the <code>spec.type</code> with <code>pubsub.rabbitmq</code> and update the <code>metadata</code> section accordingly. This change doesn&#39;t require any code modifications in your application. Isn&#39;t this flexibility amazing?</p><p>Here&#39;s how to publish events using Dapr:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// Publisher service</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">Dapr<span class="token punctuation">.</span>Client</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> WebApplication<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddDaprClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> app <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">MapPost</span><span class="token punctuation">(</span><span class="token string">&quot;/create-order&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token class-name">OrderRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">DaprClient</span> daprClient<span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name"><span class="token keyword">var</span></span> orderEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">OrderCreatedEvent</span><span class="token punctuation">(</span></span>
<span class="line">        request<span class="token punctuation">.</span>OrderId<span class="token punctuation">,</span></span>
<span class="line">        request<span class="token punctuation">.</span>CustomerId<span class="token punctuation">,</span></span>
<span class="line">        request<span class="token punctuation">.</span>Items<span class="token punctuation">,</span></span>
<span class="line">        DateTime<span class="token punctuation">.</span>UtcNow</span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Publish event to &quot;orders&quot; topic</span></span>
<span class="line">    <span class="token keyword">await</span> daprClient<span class="token punctuation">.</span><span class="token function">PublishEventAsync</span><span class="token punctuation">(</span><span class="token string">&quot;order-events&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;orders&quot;</span><span class="token punctuation">,</span> orderEvent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> Results<span class="token punctuation">.</span><span class="token function">Accepted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">RunAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">record</span> <span class="token class-name">OrderRequest</span><span class="token punctuation">(</span><span class="token class-name">Guid</span> OrderId<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> CustomerId<span class="token punctuation">,</span> <span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> Items<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">record</span> <span class="token class-name">OrderCreatedEvent</span><span class="token punctuation">(</span><span class="token class-name">Guid</span> OrderId<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> CustomerId<span class="token punctuation">,</span> <span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> Items<span class="token punctuation">,</span> <span class="token class-name">DateTime</span> CreatedAt<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And here&#39;s how a subscriber would handle these events:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token comment">// Subscriber service</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">Dapr</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>OutputCaching</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> WebApplication<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Add Dapr event handling</span></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddDapr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddControllers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> app <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Required for Dapr pub/sub</span></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">UseCloudEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">MapSubscribeHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Subscribe to &quot;orders&quot; topic</span></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">MapPost</span><span class="token punctuation">(</span><span class="token string">&quot;/events/orders&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Topic</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;order-events&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;orders&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token class-name">OrderCreatedEvent</span> orderEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Processing order </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">orderEvent<span class="token punctuation">.</span>OrderId</span><span class="token punctuation">}</span></span><span class="token string"> for customer </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">orderEvent<span class="token punctuation">.</span>CustomerId</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token function">ProcessOrderAsync</span><span class="token punctuation">(</span>orderEvent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> Results<span class="token punctuation">.</span><span class="token function">Ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">RunAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">ProcessOrderAsync</span><span class="token punctuation">(</span><span class="token class-name">OrderCreatedEvent</span> orderEvent<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Process the order</span></span>
<span class="line">    <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Simulate work</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">record</span> <span class="token class-name">OrderCreatedEvent</span><span class="token punctuation">(</span><span class="token class-name">Guid</span> OrderId<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> CustomerId<span class="token punctuation">,</span> <span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> Items<span class="token punctuation">,</span> <span class="token class-name">DateTime</span> CreatedAt<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The key components:</p><ul><li>The publisher uses Dapr to send events to a topic</li><li>Dapr handles the interaction with the message broker (Kafka, Redis, etc.)</li><li>The subscriber decorates endpoints with <code>[Topic]</code> attributes</li><li>Dapr delivers the messages to the appropriate subscribers</li></ul><p>Note that the <code>name</code> defined in the component file (<code>order-events</code> in our example) must match the first parameter used in <code>PublishEventAsync(&quot;order-events&quot;, ...)</code> and <code>[Topic(&quot;order-events&quot;, ...)]</code>. If these names don&#39;t match exactly, messages won&#39;t flow correctly between services.</p><hr><h2 id="dapr-and-net-aspire-better-together" tabindex="-1"><a class="header-anchor" href="#dapr-and-net-aspire-better-together"><span>Dapr and .NET Aspire: Better Together</span></a></h2>`,15)),s("p",null,[s("a",B,[e(t,{icon:"fas fa-globe"}),n[60]||(n[60]=a("Dapr works seamlessly with .NET Aspire",-1))]),n[61]||(n[61]=a(", Microsoft's new cloud-ready stack for building distributed applications. While Aspire focuses on .NET-specific application orchestration, Dapr provides language-agnostic building blocks.",-1))]),n[86]||(n[86]=i(`<p>Here&#39;s how to integrate Dapr with a .NET Aspire application:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code class="language-csharp"><span class="line"><span class="token keyword">using</span> <span class="token namespace">CommunityToolkit<span class="token punctuation">.</span>Aspire<span class="token punctuation">.</span>Hosting<span class="token punctuation">.</span>Dapr</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Program.cs in the Aspire AppHost project</span></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> DistributedApplication<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Add Aspire service and configure Dapr</span></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> orderService <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddProject</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Projects<span class="token punctuation">.</span>OrderService<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;orderservice&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">WithDaprSidecar</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">DaprSidecarOptions</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        AppId <span class="token operator">=</span> <span class="token string">&quot;order-api&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        Config <span class="token operator">=</span> <span class="token string">&quot;./dapr/config.yaml&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        ResourcesPaths <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;./dapr/components&quot;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Add another service that can communicate with the order service via Dapr</span></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> checkoutService <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddProject</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Projects<span class="token punctuation">.</span>CheckoutService<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;checkoutservice&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">WithDaprSidecar</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">DaprSidecarOptions</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        AppId <span class="token operator">=</span> <span class="token string">&quot;checkout-api&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        Config <span class="token operator">=</span> <span class="token string">&quot;./dapr/config.yaml&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        ResourcesPaths <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;./dapr/components&quot;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// Reference the order service by its Dapr app ID</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">WithReference</span><span class="token punctuation">(</span>orderService<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that I&#39;m using the <code>CommunityToolkit.Aspire.Hosting.Dapr</code> package, which is the official Dapr integration for .NET Aspire. The <code>Aspire.Hosting.Dapr</code> library is now deprecated.</p><p>Here&#39;s an example of how a message flow might look in the Aspire dashboard:</p><figure><img src="https://milanjovanovic.tech/blogs/mnw_131/dapr_aspire_distributed_trace.png?imwidth=3840" alt="A distributed trace from the Aspire dashboard showing a message flow from the checkout service to the order service." tabindex="0" loading="lazy"><figcaption>A distributed trace from the Aspire dashboard showing a message flow from the checkout service to the order service.</figcaption></figure><hr><h2 id="learning-with-dapr-university" tabindex="-1"><a class="header-anchor" href="#learning-with-dapr-university"><span>Learning with Dapr University</span></a></h2>`,7)),s("p",null,[n[63]||(n[63]=a("If you're looking for a structured way to learn Dapr, I highly recommend checking out ",-1)),s("a",M,[e(t,{icon:"fas fa-globe"}),n[62]||(n[62]=a("Dapr University",-1))]),n[64]||(n[64]=a(". You can run the hands-on lessons completely for free.",-1))]),n[87]||(n[87]=i('<p>As someone who started with limited Dapr experience, I found the &quot;Dapr 101&quot; course particularly valuable. It provides hands-on exercises for State Management, Service Invocation, and Pub/Sub—exactly what you need to get started quickly.</p><figure><img src="https://milanjovanovic.tech/blogs/mnw_131/dapr_university.png?imwidth=3840" alt="Dapr university learning platform." tabindex="0" loading="lazy"><figcaption>Dapr university learning platform.</figcaption></figure><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>Dapr simplifies microservice development for .NET developers by providing standardized building blocks that handle infrastructure complexity. With its sidecar pattern, Dapr lets you focus on business logic while it manages cross-cutting concerns. As you build distributed applications, consider how Dapr can help you:</p><ul><li>Accelerate development with ready-made patterns</li><li>Build more resilient systems with fewer lines of code</li><li>Avoid vendor lock-in through abstraction (building blocks)</li><li>Improve production reliability with built-in best practices</li></ul>',6)),s("p",null,[n[66]||(n[66]=a("Ready to dive deeper? Check out ",-1)),s("a",W,[e(t,{icon:"fas fa-globe"}),n[65]||(n[65]=a("Dapr University",-1))]),n[67]||(n[67]=a(" for comprehensive courses and hands-on learning.",-1))]),n[88]||(n[88]=s("hr",null,null,-1)),b(" TODO: add ARTICLE CARD "),e(r,u(d({title:"Introduction to Dapr for .NET Developers",desc:"Explore how Dapr helps .NET developers build better microservices with standardized building blocks, practical code examples, and seamless integration with .NET Aspire to simplify your distributed systems journey.",link:"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/introduction-to-dapr-for-dotnet-developers.html",logo:"https://milanjovanovic.tech/profile_favicon.png",background:"rgba(79,70,229,0.2)"})),null,16)])}const V=m(y,[["render",z]]),U=JSON.parse('{"path":"/milanjovanovic.tech/introduction-to-dapr-for-dotnet-developers.html","title":"Introduction to Dapr for .NET Developers","lang":"en-US","frontmatter":{"lang":"en-US","title":"Introduction to Dapr for .NET Developers","description":"Article(s) > Introduction to Dapr for .NET Developers","icon":"iconfont icon-csharp","category":["C#","DotNet","Dapr","Article(s)"],"tag":["blog","milanjovanovic.tech","cs","c#","csharp","dotnet","dapr"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Introduction to Dapr for .NET Developers\\",\\"image\\":[\\"https://dapr.io/\\",\\"https://dapr.io/\\",\\"https://dapr.io/\\",\\"https://dapr.io/\\",\\"https://milanjovanovic.tech/blogs/mnw_131/dapr_aspire_distributed_trace.png?imwidth=3840\\",\\"https://milanjovanovic.tech/blogs/mnw_131/dapr_university.png?imwidth=3840\\"],\\"datePublished\\":\\"2025-03-01T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Milan Jovanović\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/introduction-to-dapr-for-dotnet-developers.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"Introduction to Dapr for .NET Developers"}],["meta",{"property":"og:description","content":"Article(s) > Introduction to Dapr for .NET Developers"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://milanjovanovic.tech/blog-covers/mnw_131.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://milanjovanovic.tech/blog-covers/mnw_131.png"}],["meta",{"name":"twitter:image:alt","content":"Introduction to Dapr for .NET Developers"}],["meta",{"property":"article:author","content":"Milan Jovanović"}],["meta",{"property":"article:tag","content":"dapr"}],["meta",{"property":"article:tag","content":"dotnet"}],["meta",{"property":"article:tag","content":"csharp"}],["meta",{"property":"article:tag","content":"c#"}],["meta",{"property":"article:tag","content":"cs"}],["meta",{"property":"article:tag","content":"milanjovanovic.tech"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-03-01T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Introduction to Dapr for .NET Developers"},{"property":"og:description","content":"Introduction to Dapr for .NET Developers"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/milanjovanovic.tech/introduction-to-dapr-for-dotnet-developers.html"}]],"prev":"/programming/cs/articles/README.md","date":"2025-03-01T00:00:00.000Z","isOriginal":false,"author":"Milan Jovanović","cover":"https://milanjovanovic.tech/blog-covers/mnw_131.png"},"git":{},"readingTime":{"minutes":7.63,"words":2290},"filePathRelative":"milanjovanovic.tech/introduction-to-dapr-for-dotnet-developers.md","copyright":{"author":"Milan Jovanović"}}');export{V as comp,U as data};
