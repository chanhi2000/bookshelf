import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as k,d as n,f as a,b as i,a as u,t as v,n as c,g as d,w as o,e,r as p,o as h}from"./app-BItykJLQ.js";const f={},y={id:"frontmatter-title-관련",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-관련"},x={class:"table-of-contents"},D={href:"https://github.com/GoogleCloudPlatform/distroless",target:"_blank",rel:"noopener noreferrer"},q={href:"https://alpinelinux.org/",target:"_blank",rel:"noopener noreferrer"},j={class:"hint-container note"},B={href:"https://musl-libc.org/",target:"_blank",rel:"noopener noreferrer"},R={href:"https://busybox.net/",target:"_blank",rel:"noopener noreferrer"},A={class:"hint-container note"},M={href:"https://owasp.org/index.php/Minimize_attack_surface_area",target:"_blank",rel:"noopener noreferrer"},O={href:"https://github.com/grpc/grpc/issues/8528",target:"_blank",rel:"noopener noreferrer"},C={href:"https://github.com/grpc/grpc/issues/6126",target:"_blank",rel:"noopener noreferrer"},I={href:"https://github.com/chrisns",target:"_blank",rel:"noopener noreferrer"},E={href:"https://valentin.ouvrard.it/",target:"_blank",rel:"noopener noreferrer"},N={href:"https://keith-mifsud.me/",target:"_blank",rel:"noopener noreferrer"};function P(m,s){const r=p("VPCard"),l=p("router-link"),b=p("SiteInfo"),t=p("VPIcon");return h(),k("div",null,[n("h1",y,[n("a",w,[n("span",null,v(m.$frontmatter.title)+" 관련",1)])]),a(r,c(d({title:"Docker > Article(s)",desc:"Article(s)",link:"/devops/docker/articles/README.md",logo:"https://chanhi2000.github.io/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",x,[n("ul",null,[n("li",null,[a(l,{to:"#_1-squash-multiple-layers-into-one-with-multi-stage-docker-builds"},{default:o(()=>[...s[0]||(s[0]=[e("1. Squash multiple layers into one with multi-stage Docker builds",-1)])]),_:1})]),n("li",null,[a(l,{to:"#_2-remove-all-the-unnecessary-cruft-from-the-container-with-distroless"},{default:o(()=>[...s[1]||(s[1]=[e("2. Remove all the unnecessary cruft from the container with distroless",-1)])]),_:1})]),n("li",null,[a(l,{to:"#_3-smaller-base-images-with-alpine"},{default:o(()=>[...s[2]||(s[2]=[e("3. Smaller base images with Alpine",-1)])]),_:1})]),n("li",null,[a(l,{to:"#what-base-image-should-you-choose"},{default:o(()=>[...s[3]||(s[3]=[e("What base image should you choose?",-1)])]),_:1})]),n("li",null,[a(l,{to:"#conclusion"},{default:o(()=>[...s[4]||(s[4]=[e("Conclusion",-1)])]),_:1})])])]),s[73]||(s[73]=n("hr",null,null,-1)),a(b,{name:"3 simple tricks for smaller Docker images",desc:"When it comes to building Docker containers, you should always strive for smaller images. Images that share layers and are smaller in size are quicker to transfer and deploy. But how do you keep the size under control when every RUN statement creates a new layer, and you need intermediate artefacts before the image is ready?",url:"https://learnkube.com/smaller-docker-images",logo:"https://static.learnkube.com/f7e5160d4744cf05c46161170b5c11c9.svg",preview:"https://static.learnkube.com/553d74fb0904984a84abefffdb5957af.svg"}),s[74]||(s[74]=n("p",null,[e("When it comes to building Docker containers, you should always strive for smaller images. "),n("strong",null,"Images that share layers and are smaller in size are quicker to transfer and deploy"),e(".")],-1)),s[75]||(s[75]=n("p",null,[e("But how do you keep the size under control when every "),n("code",null,"RUN"),e(" statement creates a new layer, and you need intermediate artefacts before the image is ready?")],-1)),n("p",null,[s[5]||(s[5]=e("You may have noticed that most of the ",-1)),a(t,{icon:"fa-brands fa-docker"}),s[6]||(s[6]=n("code",null,"Dockerfile",-1)),s[7]||(s[7]=e("s in the wild have some weird tricks like this:",-1))]),s[76]||(s[76]=i(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="Dockerfile"><span>Dockerfile</span></div><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code class="language-docker"><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> ubuntu</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> apt-get update &amp;&amp; apt-get install vim</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Why the <code>&amp;&amp;</code>? Why not running two <code>RUN</code> statements like this?</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="Dockerfile"><span>Dockerfile</span></div><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code class="language-docker"><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> ubuntu</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> apt-get update</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> apt-get install vim</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Since Docker 1.10 the <code>COPY</code>, <code>ADD</code> and <code>RUN</code> statements add a new layer to your image. The previous example created two layers instead of just one.</p><figure><img src="https://learnkube.com/a/aab9d512e6d5693641b6f2173d5e8053.svg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>Layers are like git commits.</strong></p><p>Docker layers store the difference between the previous and the current version of the image. And like git commits they&#39;re handy if you share them with other repositories or images.</p><p>In fact, when you request an image from a registry you download only the layers that you don&#39;t own already. This way is much more efficient to share images.</p><p>But layers aren&#39;t free.</p><p><strong>Layers use space</strong> and the more layer you have, the heavier the final image is. Git repositories are similar in this respect. The size of your repository increases with the number of layers because Git has to store all the changes between commits.</p><p>In the past, it was a good practice to combine several <code>RUN</code> statements on a single line. Like in the first example.</p><p>Not anymore.</p><hr><h2 id="_1-squash-multiple-layers-into-one-with-multi-stage-docker-builds" tabindex="-1"><a class="header-anchor" href="#_1-squash-multiple-layers-into-one-with-multi-stage-docker-builds"><span>1. Squash multiple layers into one with multi-stage Docker builds</span></a></h2><p>When a Git repository becomes bigger, you can choose to squash the history into a single commit and forget about the past.</p><p>It turns out you can do something similar in Docker too with a multi-stage build.</p><p>In this example, you will build a Node.js container.</p>`,17)),n("p",null,[s[8]||(s[8]=e("Let's start with an",-1)),a(t,{icon:"fa-brands fa-js"}),s[9]||(s[9]=n("code",null,"index.js",-1)),s[10]||(s[10]=e(":",-1))]),s[77]||(s[77]=i(`<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Example app listening on port 3000!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),n("p",null,[s[11]||(s[11]=e("and",-1)),a(t,{icon:"iconfont icon-json"}),s[12]||(s[12]=n("code",null,"package.json",-1)),s[13]||(s[13]=e(":",-1))]),s[78]||(s[78]=i(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello-world&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.16.2&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node index.js&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,1)),n("p",null,[s[14]||(s[14]=e("You can package this application with the following ",-1)),a(t,{icon:"fa-brands fa-docker"}),s[15]||(s[15]=n("code",null,"Dockerfile",-1)),s[16]||(s[16]=e(":",-1))]),s[79]||(s[79]=i(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="Dockerfile"><span>Dockerfile</span></div><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code class="language-docker"><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> node:8</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 3000</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> package.json index.js ./</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> npm install</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;start&quot;</span>]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>You can build the image with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> node-vanilla <span class="token builtin class-name">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>And you can test that it works correctly with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">3000</span>:3000 <span class="token parameter variable">-ti</span> <span class="token parameter variable">--rm</span> <span class="token parameter variable">--init</span> node-vanilla</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># &gt; hello-world@1.0.0 start /app</span></span>
<span class="line"><span class="token comment"># &gt; node index.js</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Example app listening on port 3000!</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You should be able to visit <code>http://localhost:3000</code> and be greeted by <em>&quot;Hello World!&quot;</em>.</p>`,6)),n("p",null,[s[17]||(s[17]=e("There is a ",-1)),s[18]||(s[18]=n("code",null,"COPY",-1)),s[19]||(s[19]=e(" and a ",-1)),s[20]||(s[20]=n("code",null,"RUN",-1)),s[21]||(s[21]=e(" statements in the ",-1)),a(t,{icon:"fa-brands fa-docker"}),s[22]||(s[22]=n("code",null,"Dockerfile",-1)),s[23]||(s[23]=e(". So you should expect to see at least two layers more than the base image:",-1))]),s[80]||(s[80]=i(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> <span class="token function">history</span> node-vanilla</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># IMAGE          CREATED BY                                      SIZE</span></span>
<span class="line"><span class="token comment"># 075d229d3f48   /bin/sh -c #(nop)  CMD [&quot;npm&quot; &quot;start&quot;]          0B</span></span>
<span class="line"><span class="token comment"># bc8c3cc813ae   /bin/sh -c npm install                          2.91MB</span></span>
<span class="line"><span class="token comment"># bac31afb6f42   /bin/sh -c #(nop) COPY multi:3071ddd474429e1…   364B</span></span>
<span class="line"><span class="token comment"># 500a9fbef90e   /bin/sh -c #(nop) WORKDIR /app                  0B</span></span>
<span class="line"><span class="token comment"># 78b28027dfbf   /bin/sh -c #(nop)  EXPOSE 3000                  0B</span></span>
<span class="line"><span class="token comment"># b87c2ad8344d   /bin/sh -c #(nop)  CMD [&quot;node&quot;]                 0B</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c set -ex   &amp;&amp; for key in     6A010…   4.17MB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c #(nop)  ENV YARN_VERSION=1.3.2       0B</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c ARCH= &amp;&amp; dpkgArch=&quot;$(dpkg --print…   56.9MB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c #(nop)  ENV NODE_VERSION=8.9.4       0B</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c set -ex   &amp;&amp; for key in     94AE3…   129kB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c groupadd --gid 1000 node   &amp;&amp; use…   335kB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c set -ex;  apt-get update;  apt-ge…   324MB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c apt-get update &amp;&amp; apt-get install…   123MB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c set -ex;  if ! command -v gpg &gt; /…   0B</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c apt-get update &amp;&amp; apt-get install…   44.6MB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c #(nop)  CMD [&quot;bash&quot;]                 0B</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c #(nop) ADD file:1dd78a123212328bd…   123MB</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),n("p",null,[s[24]||(s[24]=e("Instead the resulting image has five new layers: one for each statement in your ",-1)),a(t,{icon:"fa-brands fa-docker"}),s[25]||(s[25]=n("code",null,"Dockerfile",-1)),s[26]||(s[26]=e(".",-1))]),s[81]||(s[81]=n("p",null,"Let's try the multi-stage Docker build.",-1)),n("p",null,[s[27]||(s[27]=e("You will use the same ",-1)),a(t,{icon:"fa-brands fa-docker"}),s[28]||(s[28]=n("code",null,"Dockerfile",-1)),s[29]||(s[29]=e(" above, but twice:",-1))]),s[82]||(s[82]=i(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="Dockerfile"><span>Dockerfile</span></div><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code class="language-docker"><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> node:8 <span class="token keyword">as</span> build</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> package.json index.js ./</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> npm install</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">FROM</span> node:8</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build</span></span> /app /</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 3000</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;index.js&quot;</span>]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,1)),n("p",null,[s[30]||(s[30]=e("The first part of the ",-1)),a(t,{icon:"fa-brands fa-docker"}),s[31]||(s[31]=n("code",null,"Dockerfile",-1)),s[32]||(s[32]=e(" creates three layers. The layers are then merged and copied across to the second and final stage. Two more layers are added on top of the image for a total of 3 layers.",-1))]),u(" TODO: 에니메이션 파악하기 "),s[83]||(s[83]=i(`<p>Go ahead and verify yourself. First, build the container:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> node-multi-stage <span class="token builtin class-name">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>And now inspect the history:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> <span class="token function">history</span> node-multi-stage</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># IMAGE          CREATED BY                                      SIZE</span></span>
<span class="line"><span class="token comment"># 331b81a245b1   /bin/sh -c #(nop)  CMD [&quot;index.js&quot;]             0B</span></span>
<span class="line"><span class="token comment"># bdfc932314af   /bin/sh -c #(nop)  EXPOSE 3000                  0B</span></span>
<span class="line"><span class="token comment"># f8992f6c62a6   /bin/sh -c #(nop) COPY dir:e2b57dff89be62f77…   1.62MB</span></span>
<span class="line"><span class="token comment"># b87c2ad8344d   /bin/sh -c #(nop)  CMD [&quot;node&quot;]                 0B</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c set -ex   &amp;&amp; for key in     6A010…   4.17MB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c #(nop)  ENV YARN_VERSION=1.3.2       0B</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c ARCH= &amp;&amp; dpkgArch=&quot;$(dpkg --print…   56.9MB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c #(nop)  ENV NODE_VERSION=8.9.4       0B</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c set -ex   &amp;&amp; for key in     94AE3…   129kB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c groupadd --gid 1000 node   &amp;&amp; use…   335kB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c set -ex;  apt-get update;  apt-ge…   324MB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c apt-get update &amp;&amp; apt-get install…   123MB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c set -ex;  if ! command -v gpg &gt; /…   0B</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c apt-get update &amp;&amp; apt-get install…   44.6MB</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c #(nop)  CMD [&quot;bash&quot;]                 0B</span></span>
<span class="line"><span class="token comment"># &lt;missing&gt;      /bin/sh -c #(nop) ADD file:1dd78a123212328bd…   123MB</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Hurrah! Has the file size changed at all?</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> node-</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># node-multi-stage   331b81a245b1   678MB</span></span>
<span class="line"><span class="token comment"># node-vanilla       075d229d3f48   679MB</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Yes, the last image is slightly smaller.</p><p>Not too bad! You reduced the overall size even if this is an already slimmed down application.</p><p>But the image is still big!</p><p>Is there anything you can do to make it even smaller?</p><hr><h2 id="_2-remove-all-the-unnecessary-cruft-from-the-container-with-distroless" tabindex="-1"><a class="header-anchor" href="#_2-remove-all-the-unnecessary-cruft-from-the-container-with-distroless"><span>2. Remove all the unnecessary cruft from the container with distroless</span></a></h2><p>The current image ships Node.js as well as <code>yarn</code>, <code>npm</code>, <code>bash</code> and a lot of other binaries. It&#39;s also based on Ubuntu. So you have a fully fledged operating system with all its little binaries and utilities.</p><p>You don&#39;t need any of those when you run your container. The only dependency you need is Node.js.</p><p>Docker containers should wrap a single process and contain the bare minimal to run it. You don&#39;t need an operating system.</p><p>In fact, you could remove everything but Node.js.</p><p><strong>But how?</strong></p>`,17)),n("p",null,[s[34]||(s[34]=e("Fortunately, Google had the same idea and came up with ",-1)),n("a",D,[a(t,{icon:"iconfont icon-github"}),s[33]||(s[33]=n("code",null,"GoogleCloudPlatform/distroless",-1))]),s[35]||(s[35]=e(".",-1))]),s[84]||(s[84]=n("p",null,"As the description for the repository points out:",-1)),s[85]||(s[85]=n("div",{class:"hint-container note"},[n("p",{class:"hint-container-title"},"Note"),n("p",null,'"Distroless" images contain only your application and its runtime dependencies. They do not contain package managers, shells any other programs you would expect to find in a standard Linux distribution.')],-1)),s[86]||(s[86]=n("p",null,"This is precisely what you need!",-1)),n("p",null,[s[36]||(s[36]=e("You can tweak the ",-1)),a(t,{icon:"fa-brands fa-docker"}),s[37]||(s[37]=n("code",null,"Dockerfile",-1)),s[38]||(s[38]=e(" to leverage the new base image like this:",-1))]),s[87]||(s[87]=i(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="Dockerfile"><span>Dockerfile</span></div><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code class="language-docker"><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> node:8 <span class="token keyword">as</span> build</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> package.json index.js ./</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> npm install</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">FROM</span> gcr.io/distroless/nodejs</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build</span></span> /app /</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 3000</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;index.js&quot;</span>]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>And you can compile the image as usual with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> node-distroless <span class="token builtin class-name">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The application should run as normal. To verify that is still the case, you could run the container like this:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">3000</span>:3000 <span class="token parameter variable">-ti</span> <span class="token parameter variable">--rm</span> <span class="token parameter variable">--init</span> node-distroless</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>And visit the page at <code>http://localhost:3000</code>.</p><p>Is the image without all the extra binaries smaller?</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> node-distroless</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># node-distroless   7b4db3b7f1e5   76.7MB</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>That&#39;s only 76.7MB!</strong></p><p>600MB less than your previous image!</p><p>Excellent news! But there&#39;s something you should pay attention to when it comes to distroless.</p><p>When your container is running, and you wish to inspect it, you can attach to a running container with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-ti</span> <span class="token operator">&lt;</span>insert_docker_id<span class="token operator">&gt;</span> <span class="token function">bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Attaching to a running container and running <code>bash</code> feels like establishing an SSH session.</p><p>But since distroless is a stripped down version of the original operating system, there are no extra binaries. There&#39;s no shell in the container!</p><p>How can you attach to a running container if there&#39;s no shell?</p><p>The good and the bad news is that you can&#39;t.</p><p>It&#39;s bad news because you can only execute the binaries in the container. The only binary you could run is Node.js:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-ti</span> <span class="token operator">&lt;</span>insert_docker_id<span class="token operator">&gt;</span> <span class="token function">node</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>It&#39;s good news because an attacker exploiting your application and gaining access to the container won&#39;t be able to do as much damage as if were to access a shell. In other words, fewer binaries mean smaller sizes and increased security. But at the cost of more painful debugging.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>Please note that perhaps you shouldn&#39;t attach to and debug containers in a production environment. You should rather rely on proper logging and monitoring.</p></div><p>But what if you cared about debugging and smaller sizes?</p><hr><h2 id="_3-smaller-base-images-with-alpine" tabindex="-1"><a class="header-anchor" href="#_3-smaller-base-images-with-alpine"><span>3. Smaller base images with Alpine</span></a></h2><p>You could replace the distroless base image with an Alpine based image.</p>`,25)),n("p",null,[n("a",q,[a(t,{icon:"iconfont icon-alpine"}),s[39]||(s[39]=e("Alpine Linux",-1))]),s[40]||(s[40]=e(" is:",-1))]),n("div",j,[s[45]||(s[45]=n("p",{class:"hint-container-title"},"Note",-1)),n("p",null,[s[43]||(s[43]=e("a security-oriented, lightweight Linux distribution based on ",-1)),n("a",B,[a(t,{icon:"fas fa-globe"}),s[41]||(s[41]=e("musl libc",-1))]),s[44]||(s[44]=e(" and ",-1)),n("a",R,[a(t,{icon:"fas fa-globe"}),s[42]||(s[42]=e("busybox",-1))])])]),s[88]||(s[88]=n("p",null,"In other words, a Linux distribution that is smaller in size and more secure.",-1)),s[89]||(s[89]=n("p",null,"You shouldn't take their words for granted. Let's check if the image is smaller.",-1)),n("p",null,[s[46]||(s[46]=e("You should tweak the ",-1)),a(t,{icon:"fa-brands fa-docker"}),s[47]||(s[47]=n("code",null,"Dockerfile",-1)),s[48]||(s[48]=e(" and use ",-1)),s[49]||(s[49]=n("code",null,"node:8-alpine",-1)),s[50]||(s[50]=e(":",-1))]),s[90]||(s[90]=i(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="Dcokerfile"><span>Dcokerfile</span></div><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code class="language-docker"><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> node:8 <span class="token keyword">as</span> build</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> package.json index.js ./</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> npm install</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">FROM</span> node:8-alpine</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build</span></span> /app /</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 3000</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;start&quot;</span>]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>You can build the image with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> node-alpine <span class="token builtin class-name">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>And you can check the size with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> node-alpine</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># node-alpine   aa1f85f8e724   69.7MB</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>69.7MB!</strong></p><p>Even smaller than the distroless image!</p><p>Can you attach to a running container, unlike distroless? It&#39;s time to find out.</p><p>Let&#39;s start the container first:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">3000</span>:3000 <span class="token parameter variable">-ti</span> <span class="token parameter variable">--rm</span> <span class="token parameter variable">--init</span> node-alpine</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Example app listening on port 3000!</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can attach to the running container with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-ti</span> 9d8e97e307d7 <span class="token function">bash</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># OCI runtime exec failed: exec failed: container_linux.go:296: starting container process caused</span></span>
<span class="line"><span class="token comment"># &quot;exec: \\&quot;bash\\&quot;: executable file not found in $PATH&quot;: unknown</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>With no luck. But perhaps the container has a <code>sh</code>ell?</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-ti</span> 9d8e97e307d7 <span class="token function">sh</span></span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"><span class="token comment"># exit</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Yes! You can still attach to a running container and you have an overall smaller image.</p><p>It sounds promising, but there&#39;s a catch.</p><p>Alpine based images are based on muslc — an alternative standard library for C.</p><p>However, most Linux distribution such as Ubuntu, Debian and CentOS are based on glibc. The two libraries are supposed to implement the same interface to the kernel.</p><p>However, they have different goals:</p><ul><li><strong>glibc</strong> is the most common and faster</li><li><strong>muslc</strong> uses less space and is written with security in mind</li></ul><p>When an application is compiled, it is compiled against a specific libc for the most part. If you wish to use them with another libc you have to recompile them.</p><p>In other words, building your containers with Alpine images may lead to unexpected behaviour because the standard C library is different.</p><p>You may notice discrepancies particularly when you&#39;re dealing with precompiled binaries such as Node.js C++ extensions.</p><p>As an example, the PhantomJS prebuilt package doesn&#39;t work on Alpine.</p><hr><h2 id="what-base-image-should-you-choose" tabindex="-1"><a class="header-anchor" href="#what-base-image-should-you-choose"><span>What base image should you choose?</span></a></h2><p>Do you use Alpine, distroless or vanilla images?</p><p><strong>If you&#39;re running in production and you&#39;re concerned about security</strong>, perhaps distroless images are more appropriate.</p><p>Every binary that is added to a Docker image adds a certain amount of risk to the overall application.</p><p>You can reduce the overall risk by having only one binary installed in the container.</p><p>As an example, if an attacker was able to exploit a vulnerability in your app running on Distroless, they won&#39;t be able to spawn a shell in the container because there isn&#39;t one!</p>`,31)),n("div",A,[s[54]||(s[54]=n("p",{class:"hint-container-title"},"Note",-1)),n("p",null,[s[52]||(s[52]=e("Please note that ",-1)),n("a",M,[a(t,{icon:"fas fa-globe"}),s[51]||(s[51]=e("minimising attack surface area is recommended by OWASP",-1))]),s[53]||(s[53]=e(".",-1))])]),s[91]||(s[91]=n("p",null,[n("strong",null,"If you're concerned about size at all costs, then you should switch to Alpine based images"),e(".")],-1)),n("p",null,[s[61]||(s[61]=e("Those are generally very small but at the price of compatibility. Alpine uses a slightly different standard C library — muslc. You may experience some compatibility issues from time to time. More examples of that ",-1)),n("a",O,[s[55]||(s[55]=e('here "alpine-node docker image and google-cloud equals error loading ld-linux-x86-64.so.2" (',-1)),a(t,{icon:"iconfont icon-github"}),s[56]||(s[56]=n("code",null,"grpc/grpc",-1)),s[57]||(s[57]=e(")",-1))]),s[62]||(s[62]=e(" and ",-1)),n("a",C,[s[58]||(s[58]=e('here "Import error trying to run gRPC on alpine" (',-1)),a(t,{icon:"iconfont icon-github"}),s[59]||(s[59]=n("code",null,"grpc/grpc",-1)),s[60]||(s[60]=e(")",-1))]),s[63]||(s[63]=e(".",-1))]),s[92]||(s[92]=i('<p><strong>The vanilla base image is perfect for testing and development</strong>.</p><p>It&#39;s big but provides the same experiences as if you were to have your workstation with Ubuntu installed. Also, you have access to all the binaries available in the operating system.</p><p>Recap of image sizes:</p><table><thead><tr><th>Image</th><th>Size (MB)</th></tr></thead><tbody><tr><td><code>node:8</code></td><td>681</td></tr><tr><td><code>node:8</code> with multi stage build</td><td>678</td></tr><tr><td><code>gcr.io/distroless/nodejs</code></td><td>76.7</td></tr><tr><td><code>node:8-alpine</code></td><td>69.7</td></tr></tbody></table><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>That&#39;s all folks!</p>',7)),n("p",null,[s[69]||(s[69]=e("Thanks to ",-1)),n("a",I,[s[64]||(s[64]=e("Chris Nesbitt-Smith (",-1)),a(t,{icon:"iconfont icon-github"}),s[65]||(s[65]=n("code",null,"chrisns",-1)),s[66]||(s[66]=e(")",-1))]),s[70]||(s[70]=e(", ",-1)),n("a",E,[a(t,{icon:"fas fa-globe"}),s[67]||(s[67]=e("Valentin Ouvrard",-1))]),s[71]||(s[71]=e(" and ",-1)),n("a",N,[a(t,{icon:"fas fa-globe"}),s[68]||(s[68]=e("Keith Mifsud",-1))]),s[72]||(s[72]=e(" for their feedback!",-1))]),s[93]||(s[93]=n("p",null,"If you enjoyed this article, you might find the following articles interesting:",-1)),s[94]||(s[94]=n("ul",null,[n("li",null,[n("a",{href:"https://learnkube.com/blog/installing-docker-and-kubernetes-on-windows",target:"_blank",rel:"noopener noreferrer"},"Getting started with Docker and Kubernetes on Windows 10")])],-1)),a(r,c(d({title:"Kubernetes Chaos Engineering: Lessons Learned — Part 1",desc:"When you deploy an app in Kubernetes, your code ends up running on one or more worker nodes. But what happens when a node breaks and the network proxy crashes?",link:"learnk8s.com/kubernetes-chaos-engineering-lessons-learned.md",logo:"https://static.learnkube.com/f7e5160d4744cf05c46161170b5c11c9.svg",background:"rgba(102,152,204,0.2)"})),null,16),u(" TODO: add ARTICLE CARD "),a(r,c(d({title:"3 simple tricks for smaller Docker images",desc:"When it comes to building Docker containers, you should always strive for smaller images. Images that share layers and are smaller in size are quicker to transfer and deploy. But how do you keep the size under control when every RUN statement creates a new layer, and you need intermediate artefacts before the image is ready?",link:"https://chanhi2000.github.io/bookshelf/learnk8s.com/learnkube.com/smaller-docker-images.html",logo:"https://static.learnkube.com/f7e5160d4744cf05c46161170b5c11c9.svg",background:"rgba(102,152,204,0.2)"})),null,16)])}const S=g(f,[["render",P]]),W=JSON.parse('{"path":"/learnkube.com/smaller-docker-images.html","title":"3 simple tricks for smaller Docker images","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"3 simple tricks for smaller Docker images","description":"Article(s) > 3 simple tricks for smaller Docker images","icon":"fa-brands fa-docker","category":["DevOps","Docker","Article(s)"],"tag":["blog","learnkube.com","devops","docker"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"3 simple tricks for smaller Docker images\\",\\"image\\":[\\"https://learnkube.com/a/aab9d512e6d5693641b6f2173d5e8053.svg\\"],\\"datePublished\\":\\"2019-04-14T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Daniele Polencic\\",\\"url\\":\\"https://linkedin.com/in/danielepolencic\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/learnkube.com/smaller-docker-images.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"3 simple tricks for smaller Docker images"}],["meta",{"property":"og:description","content":"Article(s) > 3 simple tricks for smaller Docker images"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://static.learnkube.com/553d74fb0904984a84abefffdb5957af.svg"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://static.learnkube.com/553d74fb0904984a84abefffdb5957af.svg"}],["meta",{"name":"twitter:image:alt","content":"3 simple tricks for smaller Docker images"}],["meta",{"property":"article:author","content":"Daniele Polencic"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:tag","content":"learnkube.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2019-04-14T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > 3 simple tricks for smaller Docker images"},{"property":"og:description","content":"3 simple tricks for smaller Docker images"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/learnkube.com/smaller-docker-images.html"}]],"prev":"/devops/docker/articles/README.md","date":"2019-04-14T00:00:00.000Z","isOriginal":false,"author":[{"name":"Daniele Polencic","url":"https://linkedin.com/in/danielepolencic"}],"cover":"https://static.learnkube.com/553d74fb0904984a84abefffdb5957af.svg"},"git":{},"readingTime":{"minutes":8.97,"words":2691},"filePathRelative":"learnkube.com/smaller-docker-images.md","copyright":{"author":"Daniele Polencic"}}');export{S as comp,W as data};
