import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as v,d as a,f as t,b as i,a as h,t as b,n as d,g as k,w as c,e as s,r as p,o as f}from"./app-BItykJLQ.js";const y={},w={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},j={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},q={class:"table-of-contents"},L={href:"https://leafletjs.com/",target:"_blank",rel:"noopener noreferrer"},x={href:"https://leafletjs.com/examples/quick-start/",target:"_blank",rel:"noopener noreferrer"},I={href:"https://leafletjs.com/reference.html",target:"_blank",rel:"noopener noreferrer"},T={href:"https://maps.here.com/?map=44.09044,-120.73045,8.44",target:"_blank",rel:"noopener noreferrer"},M={href:"https://raymondcamden.com/2024/10/04/using-geocoding-with-leaflet",target:"_blank",rel:"noopener noreferrer"};function C(o,n){const u=p("VPCard"),l=p("router-link"),m=p("SiteInfo"),e=p("VPIcon"),r=p("CodePen");return f(),v("div",null,[a("h1",w,[a("a",j,[a("span",null,b(o.$frontmatter.title)+" ê´€ë ¨",1)])]),t(u,d(k({title:"JavaScript > Article(s)",desc:"Article(s)",link:"/programming/js/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),a("nav",q,[a("ul",null,[a("li",null,[t(l,{to:"#including-the-leaflet-library"},{default:c(()=>[...n[0]||(n[0]=[s("Including the Leaflet Library",-1)])]),_:1})]),a("li",null,[t(l,{to:"#our-data"},{default:c(()=>[...n[1]||(n[1]=[s("Our Data",-1)])]),_:1})]),a("li",null,[t(l,{to:"#adding-interactivity"},{default:c(()=>[...n[2]||(n[2]=[s("Adding Interactivity",-1)])]),_:1})]),a("li",null,[t(l,{to:"#what-else"},{default:c(()=>[...n[3]||(n[3]=[s("What Else?",-1)])]),_:1})])])]),n[24]||(n[24]=a("hr",null,null,-1)),t(m,{name:"Mapping with Leaflet",desc:"Leaflet.js is a free open-source mapping library. We'll look at how to use it to create a basic map with location points of cats up for adoption. ",url:"https://frontendmasters.com/blog/mapping-with-leaflet/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5055"}),n[25]||(n[25]=a("p",null,[s("It "),a("em",null,"seems"),s(" relatively simple: you have some data that involves location and you want to display those locations on a map.")],-1)),n[26]||(n[26]=a("p",null,[a("em",null,"But how do you choose which service to use?")],-1)),a("p",null,[n[5]||(n[5]=s("Most folks default to Google Maps, which is a very powerful platform, but also comes with probably way more than you need, and has a cost involved at a certain level. What if there were a simpler, smaller, and dare I say, ",-1)),n[6]||(n[6]=a("em",null,"free and open source",-1)),n[7]||(n[7]=s(" alternative?",-1)),a("a",L,[t(e,{icon:"fas fa-globe"}),n[4]||(n[4]=s("Leaflet.js",-1))]),n[8]||(n[8]=s("is exactly that.",-1))]),n[27]||(n[27]=i(`<p>Leaflet is incredibly simple and flexible. It lets you quickly add interactive maps to your web pages with little overhead.</p><p>Before we jump into code, letâ€™s consider a simple, but realistic example. You run a website that helps prospective cat owners find cats that need a new home. Your data comes from an API (which for our sake will be a JSON file) and includes information like:</p><ul><li>Characterstics of the cat</li><li>How to contact the current owner</li><li>Where the cat could be picked up, a location in latitude and longitude.</li></ul><p>What we want to do here is see how much effort is required to add this to a web page. Letâ€™s get started!</p><hr><h2 id="including-the-leaflet-library" tabindex="-1"><a class="header-anchor" href="#including-the-leaflet-library"><span>Including the Leaflet Library</span></a></h2><p>Weâ€™ll start with a simple bit of HTML. Iâ€™m using CodePen for the samples so this will be a subset of the entire page of course. First, just some introductory content and a place for our map.</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Cat Connector<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  Use the map below to help find cats who need a new home. </span>
<span class="line">  Every cat deserves a loving home!</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The map will need a size of some sort, so I used the following CSS:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">#map</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10)),a("p",null,[n[10]||(n[10]=s("If you follow the",-1)),a("a",x,[t(e,{icon:"fas fa-globe"}),n[9]||(n[9]=s("Leaflet Quick Start",-1))]),n[11]||(n[11]=s(", you can see two dependencies that need adding, first, a CSS resource:",-1))]),n[28]||(n[28]=i(`<div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> </span>
<span class="line">  <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> </span>
<span class="line">  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/leaflet@1.9.4/dist/leaflet.css<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span></span>
<span class="line"><span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And then the library itself:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> </span>
<span class="line">  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/leaflet@1.9.4/dist/leaflet.js<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For CodePen, these was done in the Pen Settings in the External Stylesheets and External Scripts sections.</p><p>Now, we need to actually add the map, and hereâ€™s where you need to think a bit. In order to create a map, youâ€™ll need a location to begin with. What this location is depends on a lot of factors. If I were rendering maps in the continental United States, I could center it on America. If I were mapping castles in Germany, obviously Iâ€™d pick a location somewhere in the country.</p><p>Another factor you have to consider is the initial zoom. How close, or how far, the map initially shows itself will also depend on the kind of data youâ€™re rendering.</p><p>For our pretend cat rehoming website, weâ€™ll assume Lafayette, Louisiana, which just so happens to be where I live. The latitude of Lafayette is 30.216667 and the longitude is -92.033333. This can be done with one line:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;map&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30.216667</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">92.033333</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If you were to run this right now, you would see:</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/01/l1.png?resize=650%2C512&amp;ssl=1" alt="Big gray box, useless!" tabindex="0" loading="lazy"><figcaption>Big gray box, useless!</figcaption></figure><p>Whereâ€™s the map? The final part you need is a tile provider. Map tiles are the parts that make up any interactive map. As you go to different locations, and different zoom levels, the map is rendered from a set of tiles, based on those factors (location and zoom). <a href="https://openstreetmap.org/#map=4/38.01/-95.84" target="_blank" rel="noopener noreferrer">OpenStreetMap</a> provides free map tiles (with attribution!) and can be added to Leaflet like so:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">tileLayer</span><span class="token punctuation">(</span><span class="token string">&#39;https://tile.openstreetmap.org/{z}/{x}/{y}.png&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">attribution</span><span class="token operator">:</span> <span class="token string">&#39;&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Letâ€™s take a look at what we have so far:</p>`,13)),t(r,{user:"cfjedimaster","slug-hash":"VYZdqZL",title:"FM - Leaflet 1","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),n[29]||(n[29]=i(`<p>We havenâ€™t actually added any data yet and itâ€™s possible we may need to tweak multiple things. Maybe the map needs to be bigger? Maybe our centered location isnâ€™t quite right? Our default zoom may not be optimal either. These are all things that will come into play as we start adding data â€” so letâ€™s do that next!</p><hr><h2 id="our-data" tabindex="-1"><a class="header-anchor" href="#our-data"><span>Our Data</span></a></h2><p>Before we get into how Leaflet can show data, letâ€™s look at our sample data. Our cats will be returned as static data, an array of results. Hereâ€™s a portion of the data:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> availableCats <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">cat</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Fluffy&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">breed</span><span class="token operator">:</span> <span class="token string">&quot;calico&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">owner</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Raymond Camden&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">contactEmail</span><span class="token operator">:</span> <span class="token string">&quot;raymondcamden@gmail.com&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">contactPhone</span><span class="token operator">:</span> <span class="token string">&quot;555-555-5555&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">latitude</span><span class="token operator">:</span> <span class="token number">30.227394</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">longitude</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">92.02909</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">cat</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Pig&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">&quot;female&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">breed</span><span class="token operator">:</span> <span class="token string">&quot;calico&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">owner</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Lindy Camden&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">contactEmail</span><span class="token operator">:</span> <span class="token string">&quot;lindyjcamden@gmail.com&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">contactPhone</span><span class="token operator">:</span> <span class="token string">&quot;555-555-5555&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">latitude</span><span class="token operator">:</span> <span class="token number">30.231695</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">longitude</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">92.007103</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To emulate an API call, we can wrap this up in a function like so:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getAvailableCats</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token comment">// list of cats here...</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And then update our code to let us call this asynchronously:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">,</span> init<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">let</span> cats <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getAvailableCats</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30.216667</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">92.033333</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">tileLayer</span><span class="token punctuation">(</span><span class="token string">&quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">attribution</span><span class="token operator">:</span></span>
<span class="line">      <span class="token string">&#39;&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>At this point, weâ€™ve got data, but how to add it to the map? Leaflet lets you â€˜drawâ€™ on a map in many different ways, but the simplest is by adding a marker:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">marker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>latitude<span class="token punctuation">,</span> longitude<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Since we got the cats earlier in the function, we just need to loop over them:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">cats<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">marker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>c<span class="token punctuation">.</span>location<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span> c<span class="token punctuation">.</span>location<span class="token punctuation">.</span>longitude<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can see this version below:</p>`,14)),t(r,{user:"cfjedimaster","slug-hash":"QwLxzEr",title:"FM - Leaflet 2","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),n[30]||(n[30]=i(`<p>Notice that itâ€™s possible that changing the zoom may help here, thereâ€™s a lot of space around the data and we could get clodser in. However, maybe we know our organization could, at any time, get more data farther out. This is exactly what I was talking about in terms of understanding your data, both whatâ€™s immediately available and what may come later.</p><p>Leaflet also supports the idea of taking a set of locations and ensuring they all â€˜fitâ€™ by default. Thatâ€™s just one example of how powerful the API is, but weâ€™ll keep it simple for now.</p><hr><h2 id="adding-interactivity" tabindex="-1"><a class="header-anchor" href="#adding-interactivity"><span>Adding Interactivity</span></a></h2><p>Now for the last part of the puzzle. In order for the information on the map to actually be useful, we need to associate the data for those markers and provide some form of UI to share that with the users. In itâ€™s simplest form, Leaflet lets you bind popups to markers in, literally, one simple method call.</p><p>You take this:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">marker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>latitude<span class="token punctuation">,</span> longitude<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>And add:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">marker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>latitude<span class="token punctuation">,</span> longitude<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bindPopup</span><span class="token punctuation">(</span><span class="token string">&#39;Set some HTML or just regular text here.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Thatâ€™s it! So given our loop over the cat data, hereâ€™s a new version with that. I created a template string to more nicely format the information:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">cats<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">let</span> desc <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line">    &lt;h3&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>c<span class="token punctuation">.</span>cat<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/h3&gt;</span>
<span class="line">    &lt;p&gt;</span>
<span class="line">      </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>c<span class="token punctuation">.</span>cat<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is a </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>c<span class="token punctuation">.</span>cat<span class="token punctuation">.</span>gender<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>c<span class="token punctuation">.</span>cat<span class="token punctuation">.</span>breed<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span>
<span class="line">    &lt;/p&gt;</span>
<span class="line">    &lt;p&gt;</span>
<span class="line">      Owner: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>c<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;br&gt;</span>
<span class="line">      Email: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>c<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>contactEmail<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;br&gt;</span>
<span class="line">      Tel: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>c<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>contactPhone<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;br&gt;</span>
<span class="line">    &lt;/p&gt;</span>
<span class="line">  </span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">marker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>c<span class="token punctuation">.</span>location<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span> c<span class="token punctuation">.</span>location<span class="token punctuation">.</span>longitude<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bindPopup</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\`</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This one method handles the click interaction, creating the popup, even automatically closing another popup if you forget to close one. Hereâ€™s the complete demo:</p>`,12)),t(r,{user:"cfjedimaster","slug-hash":"zxOJNEP",title:"FM - Leaflet 3","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),n[31]||(n[31]=a("hr",null,null,-1)),n[32]||(n[32]=a("h2",{id:"what-else",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#what-else"},[a("span",null,"What Else?")])],-1)),a("p",null,[n[14]||(n[14]=s("This introduction only scratches the surface of whatâ€™s possible and you should peruse the",-1)),a("a",I,[t(e,{icon:"fas fa-globe"}),n[12]||(n[12]=s("docs",-1))]),n[15]||(n[15]=s("for a full idea. Leaflet is great, and free, but, you should also be aware of some of the things you",-1)),n[16]||(n[16]=a("em",null,"donâ€™t",-1)),n[17]||(n[17]=s("get that you would with Google Maps or ",-1)),a("a",T,[t(e,{icon:"fas fa-globe"}),n[13]||(n[13]=s("HERE",-1))]),n[18]||(n[18]=s(". These include the various â€˜servicesâ€™, like",-1))]),n[33]||(n[33]=a("ul",null,[a("li",null,"Routing"),a("li",null,"Traffic information"),a("li",null,"Geocoding (and Reverse Geocoding)")],-1)),a("p",null,[n[20]||(n[20]=s("This doesnâ€™t mean you canâ€™t make use of those services",-1)),n[21]||(n[21]=a("em",null,"along",-1)),n[22]||(n[22]=s("with Leaflet. I discussed an example of this late last year:",-1)),a("a",M,[t(e,{icon:"fas fa-globe"}),n[19]||(n[19]=s("â€œUsing Geocoding with Leafletâ€",-1))]),n[23]||(n[23]=s(". That being said, keep this in mind when planning your projects as it may impact your decision on whether or not to use the library.",-1))]),h(" TODO: add ARTICLE CARD "),t(u,d(k({title:"Mapping with Leaflet",desc:"Leaflet.js is a free open-source mapping library. We'll look at how to use it to create a basic map with location points of cats up for adoption. ",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/mapping-with-leaflet.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)])}const P=g(y,[["render",C]]),E=JSON.parse('{"path":"/frontendmasters.com/mapping-with-leaflet.html","title":"Mapping with Leaflet","lang":"en-US","frontmatter":{"lang":"en-US","title":"Mapping with Leaflet","description":"Article(s) > Mapping with Leaflet","icon":"fa-brands fa-js","category":["JavaScript","Article(s)"],"tag":["blog","frontendmasters.com","js","javascript"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Mapping with Leaflet\\",\\"image\\":[\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/01/l1.png?resize=650%2C512&ssl=1\\"],\\"datePublished\\":\\"2025-01-29T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Raymond Camden\\",\\"url\\":\\"https://frontendmasters.com/blog/author/raymondcamden/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/mapping-with-leaflet.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"Mapping with Leaflet"}],["meta",{"property":"og:description","content":"Article(s) > Mapping with Leaflet"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5055"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5055"}],["meta",{"name":"twitter:image:alt","content":"Mapping with Leaflet"}],["meta",{"property":"article:author","content":"Raymond Camden"}],["meta",{"property":"article:tag","content":"javascript"}],["meta",{"property":"article:tag","content":"js"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-01-29T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Mapping with Leaflet"},{"property":"og:description","content":"Mapping with Leaflet"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/mapping-with-leaflet.html"}]],"prev":"/programming/js/articles/README.md","date":"2025-01-29T00:00:00.000Z","isOriginal":false,"author":[{"name":"Raymond Camden","url":"https://frontendmasters.com/blog/author/raymondcamden/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5055"},"git":{},"readingTime":{"minutes":5.46,"words":1638},"filePathRelative":"frontendmasters.com/mapping-with-leaflet.md","copyright":{"author":"Raymond Camden"}}');export{P as comp,E as data};
