import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as v,d as a,f as t,b as p,a as b,t as f,n as r,g as d,w as o,e as s,r as l,o as h}from"./app-BVguHYKu.js";const x="/bookshelf/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/banner.png",w="/bookshelf/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/console-tab.png",y="/bookshelf/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/network-tab.png",j="/bookshelf/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/GitHub-profile-followers-following.png",q={},A={id:"frontmatter-title-관련",tabindex:"-1"},T={class:"header-anchor",href:"#frontmatter-title-관련"},P={class:"table-of-contents"},S={href:"https://github.com/axios/axios#response-schema",target:"_blank",rel:"noopener noreferrer"},E={href:"https://github.com/axios/axios#response-schema",target:"_blank",rel:"noopener noreferrer"},R={href:"https://github.com/axios/axios/blob/76f09afc03fbcf392d31ce88448246bcd4f91f8c/CHANGELOG.md#0200-pre-july-15-2020",target:"_blank",rel:"noopener noreferrer"},H={href:"https://github.com/axios/axios#concurrency-deprecated",target:"_blank",rel:"noopener noreferrer"},I={href:"https://github.com/axios/axios/issues/1042",target:"_blank",rel:"noopener noreferrer"},G={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all",target:"_blank",rel:"noopener noreferrer"},U={href:"https://github.com/ejirocodes/axios-all",target:"_blank",rel:"noopener noreferrer"},N={href:"https://x.com/ejirocodes",target:"_blank",rel:"noopener noreferrer"},C={href:"https://linkedin.com/in/ejiro-asiuwhu/",target:"_blank",rel:"noopener noreferrer"};function D(k,n){const u=l("VPCard"),i=l("router-link"),g=l("SiteInfo"),c=l("RouteLink"),e=l("VPIcon");return h(),v("div",null,[a("h1",A,[a("a",T,[a("span",null,f(k.$frontmatter.title)+" 관련",1)])]),t(u,r(d({title:"Axios > Article(s)",desc:"Article(s)",link:"/programming/js-axios/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),t(u,r(d({title:"React.js > Article(s)",desc:"Article(s)",link:"/programming/js-react/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),a("nav",P,[a("ul",null,[a("li",null,[t(i,{to:"#using-axios-all"},{default:o(()=>n[0]||(n[0]=[s("Using axios.all")])),_:1,__:[0]})]),a("li",null,[t(i,{to:"#promise-all-vs-axios-all"},{default:o(()=>n[1]||(n[1]=[s("Promise.all vs. axios.all")])),_:1,__:[1]})]),a("li",null,[t(i,{to:"#concurrent-api-requests-in-react-with-promise-all-and-axios"},{default:o(()=>n[2]||(n[2]=[s("Concurrent API requests in React with Promise.all and Axios")])),_:1,__:[2]})]),a("li",null,[t(i,{to:"#conclusion"},{default:o(()=>n[3]||(n[3]=[s("Conclusion")])),_:1,__:[3]})])])]),n[80]||(n[80]=a("hr",null,null,-1)),t(g,{name:"Using axios.all to make concurrent requests",desc:"Learn about Axios' axios.all function for HTTP requests, differentiating Promise.all and axios.all, and making concurrent API requests.",url:"https://blog.logrocket.com/using-axios-all-make-concurrent-requests",logo:"/assets/image/blog.logrocket.com/favicon.png",preview:"/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/banner.png"}),n[81]||(n[81]=p('<p><code>axios.all</code> is a helper method built into Axios to deal with concurrent requests. Instead of making multiple HTTP requests individually, the <code>axios.all</code> method allows us to make multiple HTTP requests to our endpoints altogether.</p><figure><img src="'+x+'" alt="Using Axios.all To Make Concurrent Requests" tabindex="0" loading="lazy"><figcaption>Using Axios.all To Make Concurrent Requests</figcaption></figure><p>The <code>axios.all</code> function accepts an iterable object that must be a promise, such as a JavaScript array, and it returns an array of responses.</p><p>In this post, we’ll learn how to use the <code>axios.all</code> function to make HTTP requests, the difference between using <code>Promise.all</code> and <code>axios.all</code>, and making concurrent API requests in Axios.</p><hr><h2 id="using-axios-all" tabindex="-1"><a class="header-anchor" href="#using-axios-all"><span>Using <code>axios.all</code></span></a></h2>',6)),a("p",null,[n[5]||(n[5]=s("To begin using the ")),n[6]||(n[6]=a("code",null,"axios.all",-1)),n[7]||(n[7]=s(" method, let’s ")),t(c,{to:"/blog.logrocket.com/http-requests-axios.html"},{default:o(()=>n[4]||(n[4]=[a("strong",null,"make an HTTP request",-1)])),_:1,__:[4]}),n[8]||(n[8]=s(" to the following endpoints:"))]),n[82]||(n[82]=p(`<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> endpoints <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes/repos&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes/followers&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes/following&#39;</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>endpoints<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">endpoint</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here, we declare an array of endpoints we call <code>endpoints</code> and call the <code>.all</code> method on our Axios instance. This maps through each of the items in the endpoints’ array. Then, using the <code>GET</code> method on the Axios instance to make a request to our list of endpoints, we get each response from the server.</p><p>This request returns an array as a response and the data in the array is ordered according to our <code>endpoints</code> array, meaning Axios must first get data from the following endpoint:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="url endpoint"><span>url endpoint</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">https://api.github.com/users/ejirocodes</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>Then, the last data returned from the endpoint is the following:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="url endpoint"><span>url endpoint</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">https://api.github.com/users/ejirocodes/following</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>Now, let’s open the browser developer console and network tabs to confirm the order of the API response.</p><figure><img src="`+w+'" alt="console tab" tabindex="0" loading="lazy"><figcaption>console tab</figcaption></figure><figure><img src="'+y+`" alt="network tab" tabindex="0" loading="lazy"><figcaption>network tab</figcaption></figure><p>You may be thinking of sticking to making multiple API requests separately using the regular <code>GET</code> method. But, unlike the <code>axis.get</code> method where, if one promise resolves or rejects, it doesn’t affect the others. With the <code>axios.all</code> method, if one of our promises fails, the entire request fails.</p><p>This implies that for us to get a successful response from our endpoints when using <code>axios.all</code>, all the requests must be successful.</p><p>Now let’s refactor our code by adding the <code>axios.spead</code> method. This method accepts a callback and can destructure our array of responses, which makes our code more readable:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> endpoints <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes/repos&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes/followers&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes/following&#39;</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>promises<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">promise</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>promise<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span></span>
<span class="line">  axios<span class="token punctuation">.</span><span class="token function">spread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">user<span class="token punctuation">,</span> repos<span class="token punctuation">,</span> followers<span class="token punctuation">,</span> following</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> repos<span class="token punctuation">,</span> followers<span class="token punctuation">,</span> following <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Notice how helpful the <code>axios.spread</code> helper function is: we can use it to get all the data at once and then use it in the callback.</p><p>By calling <code>axios.spread((user, repos, followers, following)</code> like this, we can say we want to name the first response from our Axios calls, <code>user</code> and <code>repo</code>.</p>`,15)),a("p",null,[n[12]||(n[12]=s("Now, let’s take what we have at the top a little bit further; let’s pull out the ")),a("a",S,[n[9]||(n[9]=s("data object that will be sent by the server (")),t(e,{icon:"iconfont icon-github"}),n[10]||(n[10]=a("code",null,"axios/axios",-1)),n[11]||(n[11]=s(")"))]),n[13]||(n[13]=s(":"))]),n[83]||(n[83]=p(`<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>endpoints<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">endpoint</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span></span>
<span class="line">  axios<span class="token punctuation">.</span><span class="token function">spread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> user<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span>repos<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span>followers<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span>following<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> repos<span class="token punctuation">,</span> followers<span class="token punctuation">,</span> following <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),a("p",null,[n[17]||(n[17]=s("We can do this with ")),a("a",E,[n[14]||(n[14]=s("Axios’ response schema (")),t(e,{icon:"iconfont icon-github"}),n[15]||(n[15]=a("code",null,"axios/axios",-1)),n[16]||(n[16]=s(")"))]),n[18]||(n[18]=s(" for every request that contains the following data object, which is the response provided by the server."))]),n[84]||(n[84]=p('<p>So essentially, we use object destructuring to unpack values, that is, unpacking <code>data</code> from the response objects into distinct variables, like <code>user</code>, <code>repos</code>, <code>followers</code>, and <code>following</code>.</p><p>Also, notice that we are destructuring data from each response and renaming it <code>user</code>, <code>repos</code>, <code>followers</code>, and <code>following</code>, respectively.</p><hr><h2 id="promise-all-vs-axios-all" tabindex="-1"><a class="header-anchor" href="#promise-all-vs-axios-all"><span><code>Promise.all</code> vs. <code>axios.all</code></span></a></h2>',4)),a("p",null,[n[26]||(n[26]=s("As of ")),a("a",R,[n[19]||(n[19]=s("July 15, 2020 (")),t(e,{icon:"iconfont icon-github"}),n[20]||(n[20]=a("code",null,"axios/axios",-1)),n[21]||(n[21]=s(")"))]),n[27]||(n[27]=s(", Axios updated its ")),a("a",H,[n[22]||(n[22]=s("GitHub README (")),t(e,{icon:"iconfont icon-github"}),n[23]||(n[23]=a("code",null,"axios/axios",-1)),n[24]||(n[24]=s(")"))]),n[28]||(n[28]=s(" to reflect that the ")),n[29]||(n[29]=a("code",null,"axios.all",-1)),n[30]||(n[30]=s(" helper method has been deprecated and ")),t(c,{to:"/blog.logrocket.com/understanding-promise-all-in-javascript.html"},{default:o(()=>n[25]||(n[25]=[a("strong",null,[s("should be replaced with "),a("code",null,"Promise.all")],-1)])),_:1,__:[25]}),n[31]||(n[31]=s("."))]),a("p",null,[n[35]||(n[35]=s("Since there is an ")),a("a",I,[n[32]||(n[32]=s("unofficial proposal (")),t(e,{icon:"iconfont icon-github"}),n[33]||(n[33]=a("code",null,"axios/axios",-1)),n[34]||(n[34]=s(")"))]),n[36]||(n[36]=s(" to get rid of both the ")),n[37]||(n[37]=a("code",null,"axios.all",-1)),n[38]||(n[38]=s(" and ")),n[39]||(n[39]=a("code",null,"axios.spread",-1)),n[40]||(n[40]=s("methods completely in v1 of Axios, let’s see how we can deprecate the ")),n[41]||(n[41]=a("code",null,"axios.all",-1)),n[42]||(n[42]=s(" methods using native JavaScript features like ")),n[43]||(n[43]=a("code",null,"Promise.all",-1)),n[44]||(n[44]=s(" and ES6 parameter destructuring."))]),n[85]||(n[85]=a("p",null,[s("Note that only the docs provide this depreciation, not the codebase/library. So, "),a("code",null,"axios.all"),s(" still works in the latest version of Axios, and many developers still use "),a("code",null,"axios.all"),s(" in modern codebase. Pointing out the deprecation is in anticipation that "),a("code",null,"axios.all"),s(" could be replaced at some point in the future.")],-1)),a("p",null,[n[48]||(n[48]=s("There is one important thing we should consider at this point, however. The ")),n[49]||(n[49]=a("code",null,"axios.all",-1)),n[50]||(n[50]=s(" is a helper method built with the ")),a("a",G,[t(e,{icon:"fa-brands fa-firefox"}),n[45]||(n[45]=s("native ")),n[46]||(n[46]=a("code",null,"Promise.all",-1)),n[47]||(n[47]=s("method in JavaScript"))]),n[51]||(n[51]=s(". This implies we can easily replace the ")),n[52]||(n[52]=a("code",null,"axios.all",-1)),n[53]||(n[53]=s(" method with ")),n[54]||(n[54]=a("code",null,"promise.all",-1)),n[55]||(n[55]=s("."))]),n[86]||(n[86]=p(`<p>The <code>Promise.all</code> method returns a promise that resolves when all of the promises in the iterable argument resolve.</p><p>Now, let’s see this in action:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> endpoints <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes/repos&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes/followers&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&#39;https://api.github.com/users/ejirocodes/following&#39;</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Return our response in the allData variable as an array</span></span>
<span class="line">Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>endpoints<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">endpoint</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span></span>
<span class="line">  axios<span class="token punctuation">.</span><span class="token function">spread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>allData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> allData <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The code above gives us the same results as using the <code>axios.all</code> method.</p><p>Notice that even if we’ve gotten rid of <code>axios.all</code> method, we are still using the <code>axios.spread</code> helper; the ES6 destructuring operator can easily replace this.</p><p>Also notice that we are using both array and object destructuring in one go to pull out only the data object sent by the server:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>endpoints<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">endpoint</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> </span>
<span class="line">  axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span></span>
<span class="line">      <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> user<span class="token punctuation">}</span><span class="token punctuation">,</span> </span>
<span class="line">      <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> repos<span class="token punctuation">}</span><span class="token punctuation">,</span> </span>
<span class="line">      <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> followers<span class="token punctuation">}</span><span class="token punctuation">,</span> </span>
<span class="line">      <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> following<span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> repos<span class="token punctuation">,</span> followers<span class="token punctuation">,</span> following <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And voilà! We’ve successfully used native JavaScript methods to make a concurrent HTTP request.</p><hr><h2 id="concurrent-api-requests-in-react-with-promise-all-and-axios" tabindex="-1"><a class="header-anchor" href="#concurrent-api-requests-in-react-with-promise-all-and-axios"><span>Concurrent API requests in React with <code>Promise.all</code> and Axios</span></a></h2><p>To make simultaneous API requests in a React app using Axios and <code>Promise</code>, we must use React Hooks.</p><p>In this example, we will get both the followers and following data of a GitHub profile. The idea is that, if for some reason, the API request for the <code>followers</code> data for the user’s GitHub profile is unsuccessful, we can’t get the response for the <code>followers</code> data for the user’s GitHub profile.</p><p>This means the request for the user’s GitHub user profile following count will also fail.</p><p>This is because when we make concurrent requests, the response from one request depends on the other. So, essentially, we want both or all requests to fail if at least one fails.</p><figure><img src="`+j+`" alt="Github followers and following" tabindex="0" loading="lazy"><figcaption>Github followers and following</figcaption></figure><p>Using <code>Promise.all</code> and ES6 destructuring, let’s write a function that will perform multiple <code>GET</code> requests concurrently in our React app:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token comment">// In our component, we have to save both data in our state using the useState hook</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>followers<span class="token punctuation">,</span> setFollowers<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>followings<span class="token punctuation">,</span> setFollowing<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">getGithubData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">let</span> endpoints <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&#39;https://api.github.com/users/ejirocodes&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;https://api.github.com/users/ejirocodes/repos&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;https://api.github.com/users/ejirocodes/followers&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;https://api.github.com/users/ejirocodes/following&#39;</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>endpoints<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">endpoint</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> user <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> repos <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> followers <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> followings <span class="token punctuation">}</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">setFollowers</span><span class="token punctuation">(</span>followers<span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">setFollowing</span><span class="token punctuation">(</span>followings<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17)),a("p",null,[n[57]||(n[57]=s("Next, let’s call the function when the page loads. To achieve this the React way, ")),t(c,{to:"/blog.logrocket.com/useeffect-react-hook-complete-guide.html"},{default:o(()=>n[56]||(n[56]=[a("strong",null,[s("we’ll use the "),a("code",null,"useEffect"),s("Hook")],-1)])),_:1,__:[56]}),n[58]||(n[58]=s(":"))]),n[87]||(n[87]=p(`<div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token comment">// remember to import useEffect from react</span></span>
<span class="line"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">getGithubData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then, render both the followers and following data we just received from the various endpoints to the DOM:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token comment">// Wherever your return statement is in your React app</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">&quot;flex&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Followers</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token punctuation">{</span>followers<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token punctuation">{</span>followers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">follower</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span></span>
<span class="line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>follower<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>follower<span class="token punctuation">.</span>avatar_url<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>follower<span class="token punctuation">.</span>html_url<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">GitHub Profile: </span><span class="token punctuation">{</span>follower<span class="token punctuation">.</span>html_url<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Following</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token punctuation">{</span>followings<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token punctuation">{</span>followings<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">following</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span></span>
<span class="line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>following<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>following<span class="token punctuation">.</span>avatar_url<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>following<span class="token punctuation">.</span>html_url<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">GitHub Profile: </span><span class="token punctuation">{</span>following<span class="token punctuation">.</span>html_url<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2>`,5)),a("p",null,[n[60]||(n[60]=s("In this post, we’ve covered how to make concurrent ")),t(c,{to:"/blog.logrocket.com/using-axios-all-make-concurrent-requests.html"},{default:o(()=>n[59]||(n[59]=[a("strong",null,"HTTP requests",-1)])),_:1,__:[59]}),n[61]||(n[61]=s(" using the ")),n[62]||(n[62]=a("code",null,"axios.all",-1)),n[63]||(n[63]=s(" method, which is built on top of the ")),n[64]||(n[64]=a("code",null,"Promise.all",-1)),n[65]||(n[65]=s(" JavaScript method underneath the hood."))]),n[88]||(n[88]=a("p",null,[s("We also saw how to unpack our response array using the "),a("code",null,"axios.spread"),s(" helper function and looked at how it can be replaced with ES6 parameter destructuring, specifically, the array and object destructuring methods.")],-1)),n[89]||(n[89]=a("p",null,[s("And finally, we discussed how to use Hooks in React to make concurrent API requests using Axios and the native JavaScript "),a("code",null,"Promise.all"),s(" method.")],-1)),a("p",null,[n[69]||(n[69]=s("I created ")),a("a",U,[n[66]||(n[66]=s("a repository on GitHub (")),t(e,{icon:"iconfont icon-github"}),n[67]||(n[67]=a("code",null,"ejirocodes/axios-all",-1)),n[68]||(n[68]=s(")"))]),n[70]||(n[70]=s(" containing all the methods we’ve covered in this post if you would like to see the source code."))]),a("p",null,[n[77]||(n[77]=s("That’s all for now! Let me know in the comments section below what you thought of this article. I am social on ")),a("a",N,[n[71]||(n[71]=s("Twitter (")),t(e,{icon:"fa-brands fa-x-twitter"}),n[72]||(n[72]=a("code",null,"ejirocodes",-1)),n[73]||(n[73]=s(")"))]),n[78]||(n[78]=s(" and ")),a("a",C,[n[74]||(n[74]=s("LinkedIn (")),t(e,{icon:"fa-brands fa-linkedin"}),n[75]||(n[75]=a("code",null,"ejiro-asiuwhu",-1)),n[76]||(n[76]=s(")"))]),n[79]||(n[79]=s(". Thank you for reading and stay tuned for more."))]),b(" TODO: add ARTICLE CARD "),t(u,r(d({title:"Using axios.all to make concurrent requests",desc:"Learn about Axios' axios.all function for HTTP requests, differentiating Promise.all and axios.all, and making concurrent API requests.",link:"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/using-axios-all-make-concurrent-requests.html",logo:"/assets/image/blog.logrocket.com/favicon.png",background:"rgba(112,76,182,0.2)"})),null,16)])}const V=m(q,[["render",D]]),L=JSON.parse('{"path":"/blog.logrocket.com/using-axios-all-make-concurrent-requests.html","title":"Using axios.all to make concurrent requests","lang":"en-US","frontmatter":{"lang":"en-US","title":"Using axios.all to make concurrent requests","description":"Article(s) > Using axios.all to make concurrent requests","icon":"iconfont icon-axios","category":["Node.js","Axios","React.js","Article(s)"],"tag":["blog","blog.logrocket.com","node","nodejs","node-js","react","reactjs","react-js","axios"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Using axios.all to make concurrent requests\\",\\"image\\":[\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/banner.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/console-tab.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/network-tab.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/GitHub-profile-followers-following.png\\"],\\"datePublished\\":\\"2021-10-26T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ejiro Asiuwhu\\",\\"url\\":\\"https://blog.logrocket.com/author/ejiroasiuwhu/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/using-axios-all-make-concurrent-requests.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"Using axios.all to make concurrent requests"}],["meta",{"property":"og:description","content":"Article(s) > Using axios.all to make concurrent requests"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/banner.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/banner.png"}],["meta",{"name":"twitter:image:alt","content":"Using axios.all to make concurrent requests"}],["meta",{"property":"article:author","content":"Ejiro Asiuwhu"}],["meta",{"property":"article:tag","content":"axios"}],["meta",{"property":"article:tag","content":"react-js"}],["meta",{"property":"article:tag","content":"reactjs"}],["meta",{"property":"article:tag","content":"react"}],["meta",{"property":"article:tag","content":"node-js"}],["meta",{"property":"article:tag","content":"nodejs"}],["meta",{"property":"article:tag","content":"node"}],["meta",{"property":"article:tag","content":"blog.logrocket.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2021-10-26T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Using axios.all to make concurrent requests"},{"property":"og:description","content":"Using axios.all to make concurrent requests"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/using-axios-all-make-concurrent-requests.html"}]],"prev":"/programming/js/articles/README.md","date":"2021-10-26T00:00:00.000Z","isOriginal":false,"author":[{"name":"Ejiro Asiuwhu","url":"https://blog.logrocket.com/author/ejiroasiuwhu/"}],"cover":"/assets/image/blog.logrocket.com/using-axios-all-make-concurrent-requests/banner.png"},"git":{},"readingTime":{"minutes":5.78,"words":1735},"filePathRelative":"blog.logrocket.com/using-axios-all-make-concurrent-requests.md","copyright":{"author":"Ejiro Asiuwhu"}}');export{V as comp,L as data};
