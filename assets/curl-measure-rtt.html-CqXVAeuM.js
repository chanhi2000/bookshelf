import{_ as f}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as k,d as s,f as a,b as o,a as y,t as w,n as m,g,w as t,e as n,r,o as T}from"./app-BVguHYKu.js";const R="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/banner.png",q="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/1_diagram-showing-how-RTT-works.png",_="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/2_RTT-metrics-using-Ping.png",x="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/3_RTT-metrics-using-curl.png",L="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/4_showing-soptional-supressing-project-meter.png",U="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/5_removing-s-flag.png",P="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/6_connecting-bing-to-output-values.png",S="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/up_7_connecting-curl-to-bing.webp",A="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/8_using-curl-outputs-to-calculate-average-response-time.png",C="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/9_curl-detailed-comprehensive-RTT-measurement.png",H="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/up_10_comparative-analysis-between-google-and-bing.webp",I="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/11_resolving-bing-to-kenya-cdn.png",N="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/12_resolve-bing-to-brazil-cdn.png",D="/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/13_comparison-script-for-ping-and-curl.png",z={},j={id:"frontmatter-title-관련",tabindex:"-1"},M={class:"header-anchor",href:"#frontmatter-title-관련"},$={class:"table-of-contents"},B={href:"https://developer.mozilla.org/en-US/docs/Glossary/TCP_handshake",target:"_blank",rel:"noopener noreferrer"},O={href:"https://curl.se/windows/",target:"_blank",rel:"noopener noreferrer"},F={href:"https://chocolatey.org/install",target:"_blank",rel:"noopener noreferrer"},W={href:"https://firewall.cx/networking/network-protocols/icmp-protocol/icmp-echo-ping.html",target:"_blank",rel:"noopener noreferrer"};function Y(h,e){const d=r("VPCard"),i=r("router-link"),b=r("SiteInfo"),l=r("RouteLink"),v=r("Tabs"),p=r("VPIcon");return T(),k("div",null,[s("h1",j,[s("a",M,[s("span",null,w(h.$frontmatter.title)+" 관련",1)])]),a(d,m(g({title:"curl > Article(s)",desc:"Article(s)",link:"/tool/curl/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",$,[s("ul",null,[s("li",null,[a(i,{to:"#why-use-curl-for-rtt-measurements"},{default:t(()=>e[0]||(e[0]=[n("Why use cURL for RTT measurements?")])),_:1,__:[0]})]),s("li",null,[a(i,{to:"#understanding-rtt-and-network-latency"},{default:t(()=>e[1]||(e[1]=[n("Understanding RTT and network latency?")])),_:1,__:[1]}),s("ul",null,[s("li",null,[a(i,{to:"#dns-resolution-time"},{default:t(()=>e[2]||(e[2]=[n("DNS resolution time")])),_:1,__:[2]})]),s("li",null,[a(i,{to:"#tcp-connection-establishment"},{default:t(()=>e[3]||(e[3]=[n("TCP connection establishment")])),_:1,__:[3]})]),s("li",null,[a(i,{to:"#time-to-first-byte-ttfb"},{default:t(()=>e[4]||(e[4]=[n("Time to first byte (TTFB)")])),_:1,__:[4]})]),s("li",null,[a(i,{to:"#data-transfer-time"},{default:t(()=>e[5]||(e[5]=[n("Data transfer time")])),_:1,__:[5]})])])]),s("li",null,[a(i,{to:"#curl-usage-for-rtt-measurement"},{default:t(()=>e[6]||(e[6]=[n("cURL usage for RTT measurement")])),_:1,__:[6]}),s("ul",null,[s("li",null,[a(i,{to:"#basic-timing-measurement"},{default:t(()=>e[7]||(e[7]=[n("Basic timing measurement")])),_:1,__:[7]})]),s("li",null,[a(i,{to:"#time-total"},{default:t(()=>e[8]||(e[8]=[n("%{time_total}")])),_:1,__:[8]})]),s("li",null,[a(i,{to:"#o-dev-null-optional"},{default:t(()=>e[9]||(e[9]=[n("-o /dev/null (optional)")])),_:1,__:[9]})]),s("li",null,[a(i,{to:"#s-optional"},{default:t(()=>e[10]||(e[10]=[n("-s(optional)")])),_:1,__:[10]})]),s("li",null,[a(i,{to:"#detailed-timing-measurement"},{default:t(()=>e[11]||(e[11]=[n("Detailed timing measurement")])),_:1,__:[11]})]),s("li",null,[a(i,{to:"#custom-format-file"},{default:t(()=>e[12]||(e[12]=[n("Custom format file")])),_:1,__:[12]})]),s("li",null,[a(i,{to:"#making-multiple-requests"},{default:t(()=>e[13]||(e[13]=[n("Making multiple requests")])),_:1,__:[13]})])])]),s("li",null,[a(i,{to:"#advanced-curl-timing-options"},{default:t(()=>e[14]||(e[14]=[n("Advanced cURL timing options")])),_:1,__:[14]}),s("ul",null,[s("li",null,[a(i,{to:"#leveraging-curl-headers"},{default:t(()=>e[15]||(e[15]=[n("Leveraging cURL headers")])),_:1,__:[15]})]),s("li",null,[a(i,{to:"#measuring-api-endpoint-performance"},{default:t(()=>e[16]||(e[16]=[n("Measuring API endpoint performance")])),_:1,__:[16]})]),s("li",null,[a(i,{to:"#comparative-analysis"},{default:t(()=>e[17]||(e[17]=[n("Comparative analysis")])),_:1,__:[17]})]),s("li",null,[a(i,{to:"#geographic-location-testing"},{default:t(()=>e[18]||(e[18]=[n("Geographic location testing")])),_:1,__:[18]})])])]),s("li",null,[a(i,{to:"#comparing-curl-with-other-network-diagnostic-tools"},{default:t(()=>e[19]||(e[19]=[n("Comparing cURL with other network diagnostic tools")])),_:1,__:[19]}),s("ul",null,[s("li",null,[a(i,{to:"#ping"},{default:t(()=>e[20]||(e[20]=[n("Ping")])),_:1,__:[20]})]),s("li",null,[a(i,{to:"#traceroute"},{default:t(()=>e[21]||(e[21]=[n("Traceroute")])),_:1,__:[21]})])])]),s("li",null,[a(i,{to:"#conclusion"},{default:t(()=>e[22]||(e[22]=[n("Conclusion")])),_:1,__:[22]})])])]),e[66]||(e[66]=s("hr",null,null,-1)),a(b,{name:"How to measure round-trip time (RTT) using cURL",desc:"Learn how to measure round-trip time (RTT) using cURL, a helpful tool used to transfer data from or to a server.",url:"https://blog.logrocket.com/curl-measure-rtt",logo:"/assets/image/blog.logrocket.com/favicon.png",preview:"/assets/image/blog.logrocket.com/curl-measure-rtt/banner.png"}),e[67]||(e[67]=s("p",null,"The speed and responsiveness of network communications are crucial parts of modern-day web technology.",-1)),e[68]||(e[68]=s("figure",null,[s("img",{src:R,alt:"how to measure round-trip time using cURL",tabindex:"0",loading:"lazy"}),s("figcaption",null,"how to measure round-trip time using cURL")],-1)),e[69]||(e[69]=s("p",null,"Whether browsing a website, accessing a cloud service, or interacting with an API, users expect a seamless experience. A key metric that directly impacts this experience is round-trip time (RTT).",-1)),e[70]||(e[70]=s("p",null,"RTT is a fundamental network performance metric for measuring latency between a client and a host. Essentially, it is the time it takes for a data packet to travel from a source to a destination and back again:",-1)),e[71]||(e[71]=s("figure",null,[s("img",{src:q,alt:"diagram showing how RTT works",tabindex:"0",loading:"lazy"}),s("figcaption",null,"diagram showing how RTT works")],-1)),e[72]||(e[72]=s("p",null,"RTT measurements can reveal critical insights about network latency, response time, and potential bottlenecks. These measurements can benefit developers and network administrators, as they play a significant role in diagnosing performance issues and ensuring optimal application responsiveness, which is essential in delivering a positive user experience.",-1)),s("p",null,[e[24]||(e[24]=n("In this article, I’ll guide you through the steps to measure round-trip time using ")),a(l,{to:"/blog.logrocket.com/an-intro-to-curl-the-basics-of-the-transfer-tool.html"},{default:t(()=>e[23]||(e[23]=[s("strong",null,"cURL",-1)])),_:1,__:[23]}),e[25]||(e[25]=n(", a transfer tool used to transfer data from or to a server. We’ll also look at different RTT techniques and advanced usage and compare cURL to other available tools."))]),e[73]||(e[73]=o('<hr><h2 id="why-use-curl-for-rtt-measurements" tabindex="-1"><a class="header-anchor" href="#why-use-curl-for-rtt-measurements"><span>Why use cURL for RTT measurements?</span></a></h2><p>Tools like Ping and Traceroute are commonly used to measure network latency. While these tools offer a simple and straightforward way of measuring RTT metrics, they provide very little and sometimes vague information and are limited to basic data transfers.</p><p>In contrast, cURL supports multiple data transfer protocols, which lets it measure real HTTP transactions and provide timing data that accurately reflects actual user experiences. This makes cURL particularly useful for developers, system administrators, and DevOps engineers who need to:</p><ul><li>Monitor API endpoint performance</li><li>Debug network connectivity issues</li><li>Benchmark server response times</li><li>Validate service level agreements (SLAs)</li><li>Identify network latency problems across different geographical locations</li></ul><p>Now, let’s compare RTT metrics from cURL and Ping:</p>',6)),a(v,{data:[{id:"Ping"},{id:"cURL"}],active:0},{title0:t(({value:c,isActive:u})=>e[26]||(e[26]=[n("Ping")])),title1:t(({value:c,isActive:u})=>e[27]||(e[27]=[n("cURL")])),tab0:t(({value:c,isActive:u})=>e[28]||(e[28]=[s("figure",null,[s("img",{src:_,alt:"round trip time metrics using ping",tabindex:"0",loading:"lazy"}),s("figcaption",null,"round trip time metrics using ping")],-1)])),tab1:t(({value:c,isActive:u})=>e[29]||(e[29]=[s("figure",null,[s("img",{src:x,alt:"RTT metrics using curl",tabindex:"0",loading:"lazy"}),s("figcaption",null,"RTT metrics using curl")],-1)])),_:1}),e[74]||(e[74]=o('<p>As you can see, cURL provides a more detailed and comprehensive output than Ping. While each tool has its use cases, cURL is your best bet if you need an in-depth measurement of your application’s RTT.</p><hr><h2 id="understanding-rtt-and-network-latency" tabindex="-1"><a class="header-anchor" href="#understanding-rtt-and-network-latency"><span>Understanding RTT and network latency?</span></a></h2><p>As explained in the previous section, round-trip time measurement in cURL consists of multiple distinct components that contribute to the total time of a request. Let’s break them down:</p><h3 id="dns-resolution-time" tabindex="-1"><a class="header-anchor" href="#dns-resolution-time"><span>DNS resolution time</span></a></h3><p>DNS resolution is often the first step in making an HTTP request. The process involves looking up the domain name in the local cache, querying DNS servers if not cached, and retrieving the target domain’s IP address.</p><h3 id="tcp-connection-establishment" tabindex="-1"><a class="header-anchor" href="#tcp-connection-establishment"><span>TCP connection establishment</span></a></h3><p>After DNS resolution, the TCP three-way handshake occurs:</p><ul><li>Initial <code>SYN</code> packet sent to the server</li><li>Server’s response to <code>SYN-ACK</code></li><li>Client sends a final <code>ACK</code></li></ul><p>These may look alien to you, but they essentially describe the process by which a client and host initiate a connection.</p><p>Simply put, when a connection is established, the client sends a <code>SYN</code> (Synchronize) packet to the host. The server receives the <code>SYN</code> and replies with a <code>SYN-ACK</code> (Synchronize-Acknowledgment). If everything goes well, the client receives the server’s <code>SYN-ACK</code> and sends an <code>ACK</code> (Acknowledge).</p>',11)),s("p",null,[e[31]||(e[31]=n("You can learn more about the TCP three-way handshake on the ")),s("a",B,[a(p,{icon:"fa-brands fa-firefox"}),e[30]||(e[30]=n("MDN docs"))]),e[32]||(e[32]=n("."))]),e[75]||(e[75]=s("h3",{id:"time-to-first-byte-ttfb",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#time-to-first-byte-ttfb"},[s("span",null,[s("strong",null,"Time"),n(),s("strong",null,"t"),n("o "),s("strong",null,"f"),n("irst "),s("strong",null,"b"),n("yte (TTFB)")])])],-1)),s("p",null,[e[34]||(e[34]=n("TTFB measures the time between sending an ")),a(l,{to:"/blog.logrocket.com/5-ways-make-http-requests-node-js.html"},{default:t(()=>e[33]||(e[33]=[s("strong",null,"HTTP request",-1)])),_:1,__:[33]}),e[35]||(e[35]=n(" and receiving the first byte of the response. This metric measures the:"))]),e[76]||(e[76]=o('<ul><li>Server processing time</li><li>Server-side application logic execution</li><li>Initial response generation</li><li>Network latency for the first data packet</li></ul><h3 id="data-transfer-time" tabindex="-1"><a class="header-anchor" href="#data-transfer-time"><span>Data transfer time</span></a></h3><p>This is the total time taken for the entire data transfer, from request initiation to completion. It includes all phases of the request mentioned earlier. You can think of this as the variable that outputs the overall RTT measurement.</p><p>Understanding these components will help you identify bottlenecks and devise performance optimization strategies based on which component is causing delays.</p><p>For example, a high DNS resolution time might indicate issues with the DNS server, network configuration problems, or the need for DNS caching improvements. On the other hand, a long TTFB could point to application code inefficiency, network congestion, or the need for database query optimization.</p><hr><h2 id="curl-usage-for-rtt-measurement" tabindex="-1"><a class="header-anchor" href="#curl-usage-for-rtt-measurement"><span>cURL usage for RTT measurement</span></a></h2><p>Now that we understand what round-trip time is and how cURL uses multiple protocols to measure this metric, let’s look at some basic uses of cURL for RTT measurement.</p><p>Before diving into the nitty gritty of RTT measurement, you must ensure cURL is properly installed on your machine.</p>',9)),s("p",null,[e[38]||(e[38]=n("Most Unix-like systems, such as Linux and macOS, come with cURL pre-installed. For Windows users, you can download it from the ")),s("a",O,[a(p,{icon:"iconfont icon-curl"}),e[36]||(e[36]=n("official cURL website"))]),e[39]||(e[39]=n(" or install it via Chocolatey using the following command, assuming you have ")),s("a",F,[a(p,{icon:"iconfont icon-chocolatey"}),e[37]||(e[37]=n("Chocolatey"))]),e[40]||(e[40]=n(" installed on your machine:"))]),e[77]||(e[77]=o(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">choco <span class="token function">install</span> <span class="token function">curl</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To verify your installation, open a terminal and run:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">curl</span> <span class="token parameter variable">--version</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="basic-timing-measurement" tabindex="-1"><a class="header-anchor" href="#basic-timing-measurement"><span>Basic timing measurement</span></a></h3><p>The simplest way to measure response time with cURL is using the <code>-w</code> (write-out) flag with timing parameters such as <code>time_total</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;<span class="token entity" title="\\n">\\n</span>Total time: %{time_total} seconds<span class="token entity" title="\\n">\\n</span>&quot;</span> <span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> http://www.example.com</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This command contains <code>-w</code>.</p><p>This flag is the key to measuring RTT in cURL. It enables a write-out format string that cURL uses to output specific variables related to the request. These variables capture different stages of the connection and data transfer, which gives you a breakdown of the overall request time.</p><h3 id="time-total" tabindex="-1"><a class="header-anchor" href="#time-total"><span><code>%{time_total}</code></span></a></h3><p>This is a timing variable that represents the total time taken for the entire request, from the initial request, until the complete response is received. There are several other variables, we’ll explore more on them later in this article.</p><h3 id="o-dev-null-optional" tabindex="-1"><a class="header-anchor" href="#o-dev-null-optional"><span><code>-o /dev/null</code> (optional)</span></a></h3><p>This is a command that tells cURL to discard the response body it fetches by default.</p><h3 id="s-optional" tabindex="-1"><a class="header-anchor" href="#s-optional"><span><code>-s</code>(optional)</span></a></h3><p>This suppresses the progress meter and lets the RTT operation run in silent mode.</p><p>If you run this command against an actual server URL, say Bing at <code>https://www.bing.com</code>, the response will look something like this:</p><figure><img src="`+L+'" alt="showing how -s flag suppresses project meter" tabindex="0" loading="lazy"><figcaption>showing how -s flag suppresses project meter</figcaption></figure><p>The request takes <code>0.836160</code> seconds (approximately <code>836ms</code>) to resolve. Remember, the <code>-s</code> flag lets RTT operate in silent mode, which is why we get a result as simple as the one shown in this example. If you remove the <code>-s</code> flag, here’s what you’ll see:</p><figure><img src="'+U+`" alt="results of removing -s flag" tabindex="0" loading="lazy"><figcaption>results of removing -s flag</figcaption></figure><p>The result remains similar, with the only difference being that the progress is displayed.</p><h3 id="detailed-timing-measurement" tabindex="-1"><a class="header-anchor" href="#detailed-timing-measurement"><span>Detailed timing measurement</span></a></h3><p>For detailed timing information, we can customize the format string to include any combination of timing variables, along with descriptive labels:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;<span class="token entity" title="\\n">\\n</span>DNS: %{time_namelookup}s<span class="token entity" title="\\n">\\n</span>Connect: %{time_connect}s<span class="token entity" title="\\n">\\n</span>TTFB: %{time_starttransfer}s<span class="token entity" title="\\n">\\n</span>Total: %{time_total}s<span class="token entity" title="\\n">\\n</span>&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> https://bing.com/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>This command will connect cURL to <code>https://www.bing.com</code> and then output the values of the <code>time_connect</code>, <code>time_starttransfer</code>, and <code>time_total</code> timing variables with descriptive labels, followed by a newline character (<code>\\n</code>):</p><figure><img src="`+P+`" alt="connecting bing to output values" tabindex="0" loading="lazy"><figcaption>connecting bing to output values</figcaption></figure><p>As you can see from the example above, these variables represent the RTT components we discussed earlier:</p><ul><li><code>time_namelookup</code> — DNS resolution time</li><li><code>time_connect</code> — TCP connection time</li><li><code>time_starttransfer</code> — TTFB</li><li><code>time_total</code> — Total Transfer Time</li></ul><h3 id="custom-format-file" tabindex="-1"><a class="header-anchor" href="#custom-format-file"><span>Custom format file</span></a></h3><p>cURL RTT commands can get lengthy, and writing them out every time you need to run a test can be tedious. Thankfully, timing options can be defined in custom format files for automated monitoring.</p><p>Let’s suppose you want to measure an RTT metric using multiple timing variables:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="RTT metric variables"><span>RTT metric variables</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">DNS Lookup:        %{time_namelookup}s</span>
<span class="line">TCP Connection:    %{time_connect}s</span>
<span class="line">TLS Handshake:     %{time_appconnect}s</span>
<span class="line">Server Processing: %{time_pretransfer}s</span>
<span class="line">Content Transfer:  %{time_starttransfer}s</span>
<span class="line">Total Time:        %{time_total}s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,30)),s("p",null,[e[41]||(e[41]=n("Typing them in the command-line tool one by one would not only become tedious but also time-consuming. Instead, you can create a custom ")),a(p,{icon:"fas fa-file-lines"}),e[42]||(e[42]=s("code",null,".txt",-1)),e[43]||(e[43]=n(" file, add the variables, and then use it with cURL like so:"))]),e[78]||(e[78]=o(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;@curl-format.txt&quot;</span> <span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> https://bing.com</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This way, you don’t have to type out all the timing variables every time you need to measure RTT metrics. Note that you need to be in the same directory as the created file for this to work without any issues.</p><h3 id="making-multiple-requests" tabindex="-1"><a class="header-anchor" href="#making-multiple-requests"><span>Making multiple requests</span></a></h3><p>When benchmarking, it’s important to account for network variations and other factors that may impact measurement results in order to obtain an accurate average response time. This cannot be achieved with a single RTT request. But instead of repeatedly running the measurement request manually, you can create a loop to run the request a specified number of times:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">  <span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;%{time_total}<span class="token entity" title="\\n">\\n</span>&quot;</span> <span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> http://www.google.com</span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This <code>for</code> loop block will run the <code>curl</code> command five times and output five different RTT results. You can then use these outputs to calculate the average response time of the measurement:</p><figure><img src="`+S+'" alt="connecting curl to bing" tabindex="0" loading="lazy"><figcaption>connecting curl to bing</figcaption></figure><hr><h2 id="advanced-curl-timing-options" tabindex="-1"><a class="header-anchor" href="#advanced-curl-timing-options"><span>Advanced cURL timing options</span></a></h2>',9)),s("p",null,[e[45]||(e[45]=n("For many developers, the primary interest in running RTT measurement analysis is ")),a(l,{to:"/blog.logrocket.com/6-ai-tools-api-testing-development.html"},{default:t(()=>e[44]||(e[44]=[s("strong",null,"testing servers and APIs",-1)])),_:1,__:[44]}),e[46]||(e[46]=n(" for comprehensive insight into their performance and status. For this purpose, measuring connection timing and transfer timing alone, as we’ve done in the previous section, is simply not sufficient."))]),e[79]||(e[79]=o(`<p>By combining the timing options we’ve used previously with other advanced cURL timing options, you can gain deeper insights into the different phases of the network transaction and understand the performance of your server’s HTTP requests. This will allow you to break down the process into distinct segments, which can be vital for diagnosing latency issues.</p><p>This is what an advanced custom file for cURL timing options should look like:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="cURL timing option(s)"><span>cURL timing option(s)</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">Running curl timing for: %{url_effective}</span>
<span class="line"></span>
<span class="line">DNS Lookup Timing:</span>
<span class="line">  namelookup:    %{time_namelookup}s</span>
<span class="line"></span>
<span class="line">Connection Timing:</span>
<span class="line">  connect:       %{time_connect}s</span>
<span class="line">  appconnect:    %{time_appconnect}s</span>
<span class="line">  pretransfer:   %{time_pretransfer}s</span>
<span class="line"></span>
<span class="line">Transfer Timing:</span>
<span class="line">  starttransfer: %{time_starttransfer}s</span>
<span class="line">  total:         %{time_total}s</span>
<span class="line">  redirect:      %{time_redirect}s</span>
<span class="line"></span>
<span class="line">Data Metrics:</span>
<span class="line">  size_download: %{size_download} bytes</span>
<span class="line">  size_upload:   %{size_upload} bytes</span>
<span class="line">  speed_download: %{speed_download} bytes/sec</span>
<span class="line"></span>
<span class="line">Additional Info:</span>
<span class="line">  http_code:     %{http_code}</span>
<span class="line">  num_connects:  %{num_connects}</span>
<span class="line">  num_redirects: %{num_redirects}</span>
<span class="line">  remote_ip:     %{remote_ip}</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>We’ve added additional timing options that capture the request’s data metrics and extra information such as the HTTP status, remote IP, and more.</p><p>This outputs a very detailed and comprehensive RTT measurement:</p><figure><img src="`+A+`" alt="using curl outputs to calculate average response time" tabindex="0" loading="lazy"><figcaption>using curl outputs to calculate average response time</figcaption></figure><h3 id="leveraging-curl-headers" tabindex="-1"><a class="header-anchor" href="#leveraging-curl-headers"><span>Leveraging cURL headers</span></a></h3><p>Additionally, we can use several headers and options provided by cURL to enhance our timing analyses. For example, we can use the <code>User-Agent</code> header to mimic a web browser for testing servers that block requests without a valid <code>User-Agent</code> header due to security reasons.</p><p>Headers are specified using the <code>-H</code> flag followed by the header option string. Here’s how you can modify your command to add the <code>User-Agent</code> header:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;@curl-format.txt&quot;</span> <span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> http://www.google.com <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-H</span> <span class="token string">&#39;User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.86 Safari/537.36&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,10)),s("p",null,[e[48]||(e[48]=n("Let’s break down what this ")),a(l,{to:"/blog.logrocket.com/user-agent-detection-ua-parser-js-license-change.html"},{default:t(()=>e[47]||(e[47]=[s("strong",null,[s("code",null,"User-Agent")],-1)])),_:1,__:[47]}),e[49]||(e[49]=n(" string represents:"))]),s("ul",null,[e[54]||(e[54]=s("li",null,[s("code",null,"Mozilla/5.0"),n(" — A common identifier for compatibility")],-1)),e[55]||(e[55]=s("li",null,[s("code",null,"Macintosh; Intel Mac OS X 10_11_4"),n(" — Indicates the operating system (macOS 10.11.4)")],-1)),e[56]||(e[56]=s("li",null,[s("code",null,"AppleWebKit/537.36"),n(" — The rendering engine used by Safari and Chrome")],-1)),e[57]||(e[57]=s("li",null,[s("code",null,"Chrome/50.0.2661.86"),n(" — The browser version (Chrome 50)")],-1)),s("li",null,[e[51]||(e[51]=s("code",null,"Safari/537.36",-1)),e[52]||(e[52]=n(" — Indicates ")),a(l,{to:"/blog.logrocket.com/understanding-latest-webkit-features-safari-17-4.html"},{default:t(()=>e[50]||(e[50]=[s("strong",null,"Safari",-1)])),_:1,__:[50]}),e[53]||(e[53]=n(" compatibility"))])]),e[80]||(e[80]=o(`<p>Here’s a list of some headers you can use to enhance your RTT measurements:</p><ul><li><code>-H &#39;Accept-Encoding: gzip, deflate, sdch&#39;</code> — This header allows the server to compress and reduce the amount of data transferred over the network using a compression algorithm the client can understand</li><li><code>-H &#39;Upgrade-Insecure-Requests: 1&#39;</code> — Signals to the server that the client prefers to use HTTPS instead of HTTP for insecure resources</li><li><code>-H &#39;Connection: keep-alive&#39;</code> — Requests that the connection remains open after the request is completed</li></ul><h3 id="measuring-api-endpoint-performance" tabindex="-1"><a class="header-anchor" href="#measuring-api-endpoint-performance"><span>Measuring API endpoint performance</span></a></h3><p>The timing options we’ve used so far are enough to give you proper insight into how well your server is performing, but what if you want to test API endpoints?</p><p>You can test individual endpoints with the detailed timing configurations we’ve demonstrated and obtain vital information such as HTTP status. However, you can take it a step further by testing the RTT for different HTTP methods, such as <code>POST</code> and <code>PUT</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># POST request with payload</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;<span class="token entity" title="\\n">\\n</span>Total Time: %{time_total}s&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-X</span> POST <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-d</span> <span class="token string">&#39;{&quot;key&quot;: &quot;value&quot;}&#39;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token string">&quot;https://bing.com&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># PUT request</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;<span class="token entity" title="\\n">\\n</span>Total Time: %{time_total}s<span class="token entity" title="\\n">\\n</span>&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-X</span> PUT <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json<span class="token entity" title="\\n">\\n</span>&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-d</span> <span class="token string">&#39;{&quot;key&quot;: &quot;updated_value&quot;}&#39;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token string">&quot;https://bing.com&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To test more HTTP methods, replace the <code>-X</code> flag’s value with any other HTTP method:</p><figure><img src="`+C+`" alt="curl detailed comprehensive rtt measurement" tabindex="0" loading="lazy"><figcaption>curl detailed comprehensive rtt measurement</figcaption></figure><h3 id="comparative-analysis" tabindex="-1"><a class="header-anchor" href="#comparative-analysis"><span>Comparative analysis</span></a></h3><p>When doing an RTT test, a likely use case would be to test your server or web application against another to determine their performance. This comparison will help identify which application provides faster response times and better overall efficiency.</p><p>This can be achieved by creating a script such as the one below:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function-name function">measure_rtt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin class-name">local</span> <span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token variable">$1</span></span>
<span class="line">    <span class="token builtin class-name">local</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token variable">$2</span></span>
<span class="line"></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Measuring RTT for <span class="token variable">$url</span> (<span class="token variable">$count</span> requests)&quot;</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;----------------------------------------&quot;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>$count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">        <span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;%{time_total}&quot;</span> <span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> <span class="token string">&quot;<span class="token variable">$url</span>&quot;</span></span>
<span class="line">        <span class="token builtin class-name">echo</span> <span class="token string">&quot;&quot;</span></span>
<span class="line">    <span class="token keyword">done</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Compare urls</span></span>
<span class="line"><span class="token assign-left variable">urls</span><span class="token operator">=</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token string">&quot;https://api.example.com/endpoint1&quot;</span></span>
<span class="line">    <span class="token string">&quot;https://api.example.com/endpoint2&quot;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">url</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">\${urls<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">    measure_rtt <span class="token string">&quot;<span class="token variable">$url</span>&quot;</span> <span class="token number">5</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;&quot;</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The script iterates over an array of URLs and calls the <code>measure_rtt</code> function with each URL and a count of five requests. For each URL, the RTT measurement is performed five times.</p><p>Here’s an output of a comparison between Google and Bing:</p><figure><img src="`+H+`" alt="comparative analysis between google and bing" tabindex="0" loading="lazy"><figcaption>comparative analysis between google and bing</figcaption></figure><p>This test shows that <code>bing.com</code> has a higher response time than <code>google.com</code> in my region.</p><h3 id="geographic-location-testing" tabindex="-1"><a class="header-anchor" href="#geographic-location-testing"><span>Geographic location testing</span></a></h3><p>Assessing how your application or server performs from various points around the globe is a crucial part of benchmarking. This is because it allows you to identify regional performance issues and make data-driven decisions to enhance the efficiency and responsiveness of your application.</p><p>cURL provides a <code>--resolve</code> option that lets you simulate accessing a domain from a specific DNS resolver by forcing cURL to resolve the domain to a specific IP address:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;<span class="token entity" title="\\n">\\n</span>Total Time: %{time_total}s<span class="token entity" title="\\n">\\n</span><span class="token entity" title="\\n">\\n</span>&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">--resolve</span> <span class="token string">&quot;bing.com:443:1.2.3.4&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token string">&quot;https://www.bing..com&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This command will force cURL to resolve <code>bing.com</code> to the IP address <code>1.2.3.4</code>, which is a placeholder for the specified port <code>443</code>, which must match the protocol being used (i.e. <code>443</code> for HTTPS, <code>80</code> for HTTP).</p><p>To use this command, replace:</p><ul><li><code>bing.com</code> with the domain you want to test</li><li><code>1.2.3.4</code> with the IP address you want to force the domain to resolve to</li><li><code>443</code> with the appropriate protocol</li></ul>`,23)),s("p",null,[e[59]||(e[59]=n("For example, if we resolve ")),e[60]||(e[60]=s("code",null,"bing.com",-1)),e[61]||(e[61]=n(" to a ")),a(l,{to:"/blog.logrocket.com/understanding-cloudflare-workers-rust.html"},{default:t(()=>e[58]||(e[58]=[s("strong",null,"Cloudflare",-1)])),_:1,__:[58]}),e[62]||(e[62]=n(" CDN in Kenya, the result will look something like this:"))]),e[81]||(e[81]=o('<figure><img src="'+I+'" alt="resolving bing to kenya cdn" tabindex="0" loading="lazy"><figcaption>resolving bing to kenya cdn</figcaption></figure><p>Meanwhile, if we resolve it to a CDN in Brazil, we’ll get a very different result:</p><figure><img src="'+N+'" alt="resolving bing to brazil cdn" tabindex="0" loading="lazy"><figcaption>resolving bing to brazil cdn</figcaption></figure><hr><h2 id="comparing-curl-with-other-network-diagnostic-tools" tabindex="-1"><a class="header-anchor" href="#comparing-curl-with-other-network-diagnostic-tools"><span>Comparing cURL with other network diagnostic tools</span></a></h2><p>Although cURL does come off as a one-size-fits-all solution for RTT and network diagnostics, you shouldn’t be quick to dismiss other network diagnostic tools. This is because they provide different perspectives on network performance and can help you verify and cross-check cURL’s results.</p><p>As mentioned earlier, these tools have distinct functionalities, so let’s compare them to curl:</p><h3 id="ping" tabindex="-1"><a class="header-anchor" href="#ping"><span>Ping</span></a></h3>',8)),s("p",null,[e[64]||(e[64]=n("Ping sends ICMP echo request packets to a target host and measures the time it takes for the response to be received. Think of ")),s("a",W,[a(p,{icon:"fas fa-globe"}),e[63]||(e[63]=n("ICMP echo requests"))]),e[65]||(e[65]=n(" as a type of network message used primarily for diagnostic purposes."))]),e[82]||(e[82]=o(`<p>However, unlike cURL, Ping primarily measures the time it takes for basic network-level communication. It doesn’t provide information about higher-level protocols like HTTP or HTTPS. It also doesn’t capture the time taken for server-side processing.</p><p>Ping and cURL serve different purposes and operate at different layers of the network stack, so they cannot be directly integrated into a single command or tool. However, you can use them together in a script or workflow to achieve combined functionality.</p><p>You can do this by creating a comparison script that outputs results for both Ping and cURL simultaneously:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span class="token function-name function">compare_network_tools</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin class-name">local</span> <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token variable">$1</span></span>
<span class="line"></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Network Diagnostic Comparison for <span class="token variable">$host</span>&quot;</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;----------------------------------------&quot;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># Ping Statistics</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Ping Results:&quot;</span></span>
<span class="line">    <span class="token assign-left variable">ping_result</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ping</span> <span class="token parameter variable">-c</span> <span class="token number">5</span> <span class="token string">&quot;<span class="token variable">$host</span>&quot;</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-E</span> <span class="token string">&quot;time=|packet loss&quot;</span><span class="token variable">)</span></span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$ping_result</span>&quot;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># Curl Timing</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\\n">\\n</span>Curl Timing:&quot;</span></span>
<span class="line">    <span class="token assign-left variable">curl_result</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;DNS: %{time_namelookup}s<span class="token entity" title="\\n">\\n</span>Connect: %{time_connect}s<span class="token entity" title="\\n">\\n</span>Total Time: %{time_total}s&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">                  <span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> <span class="token string">&quot;<span class="token variable">$host</span>&quot;</span><span class="token variable">)</span></span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$curl_result</span>&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">compare_network_tools bing.com</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The resulting output:</p><figure><img src="`+D+`" alt="comparison script for ping and curl" tabindex="0" loading="lazy"><figcaption>comparison script for ping and curl</figcaption></figure><h3 id="traceroute" tabindex="-1"><a class="header-anchor" href="#traceroute"><span>Traceroute</span></a></h3><p>Traceroute traces the path that packets take from the source to the destination. It identifies each step along the way and provides information about the routers involved in the connection and the time taken for packets to reach each point.</p><p>Similarly, Traceroute can be used alongside cURL in a script or workflow to diagnose network issues. If cURL measurements indicate high RTT, Traceroute can help pinpoint the specific network segments or routers contributing to the delay:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span class="token function-name function">advanced_network_diagnostics</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin class-name">local</span> <span class="token assign-left variable">target</span><span class="token operator">=</span><span class="token variable">$1</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># Traceroute with AS (Autonomous System) mapping</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Network Path Trace:&quot;</span></span>
<span class="line">    <span class="token function">traceroute</span> <span class="token parameter variable">-A</span> <span class="token string">&quot;<span class="token variable">$target</span>&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># Curl timing for correlation</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\\n">\\n</span>Curl Performance:&quot;</span></span>
<span class="line">    <span class="token function">curl</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;Total Time: %{time_total}s<span class="token entity" title="\\n">\\n</span>DNS: %{time_namelookup}s<span class="token entity" title="\\n">\\n</span>&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">         <span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> <span class="token string">&quot;<span class="token variable">$target</span>&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">advanced_network_diagnostics bing.com</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>These tools may not be on par with cURL in terms of functionalities, but their distinct nature makes them excellent complementary tools for understanding network behavior.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>In this article, we explored how to effectively use cURL to measure round-trip time. We covered the fundamental concepts of RTT, its impact on network performance, and its role in ensuring a responsive user experience.</p><p>We also examined how you can use cURL’s write-out (<code>-w</code>) flag to run RTT requests and extract detailed information on various stages of the request-response cycle, including <code>time_connect</code>,<code>time_starttransfer</code>, and <code>time_total</code>, to gain comprehensive insights into the performance of a host and the time it takes to respond to a client’s request.</p><p>Finally, we explored advanced timing techniques to enhance RTT requests for more comprehensive results, and compared cURL to similar tools for running RTT requests. Hope you found it useful!</p>`,16)),y(" TODO: add ARTICLE CARD "),a(d,m(g({title:"How to measure round-trip time (RTT) using cURL",desc:"Learn how to measure round-trip time (RTT) using cURL, a helpful tool used to transfer data from or to a server.",link:"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/curl-measure-rtt.html",logo:"/assets/image/blog.logrocket.com/favicon.png",background:"rgba(112,76,182,0.2)"})),null,16)])}const K=f(z,[["render",Y]]),G=JSON.parse('{"path":"/blog.logrocket.com/curl-measure-rtt.html","title":"How to measure round-trip time (RTT) using cURL","lang":"en-US","frontmatter":{"lang":"en-US","title":"How to measure round-trip time (RTT) using cURL","description":"Article(s) > How to measure round-trip time (RTT) using cURL","icon":"iconfont icon-curl","category":["Linux","Shell","curl","Article(s)"],"tag":["blog","blog.logrocket.com","linux","shell","cli","curl"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to measure round-trip time (RTT) using cURL\\",\\"image\\":[\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/banner.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/1_diagram-showing-how-RTT-works.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/2_RTT-metrics-using-Ping.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/3_RTT-metrics-using-curl.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/4_showing-soptional-supressing-project-meter.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/5_removing-s-flag.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/6_connecting-bing-to-output-values.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/up_7_connecting-curl-to-bing.webp\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/8_using-curl-outputs-to-calculate-average-response-time.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/9_curl-detailed-comprehensive-RTT-measurement.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/up_10_comparative-analysis-between-google-and-bing.webp\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/11_resolving-bing-to-kenya-cdn.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/12_resolve-bing-to-brazil-cdn.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/13_comparison-script-for-ping-and-curl.png\\"],\\"datePublished\\":\\"2025-02-26T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"David Omotayo\\",\\"url\\":\\"https://blog.logrocket.com/author/davidomotayo/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/curl-measure-rtt.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"How to measure round-trip time (RTT) using cURL"}],["meta",{"property":"og:description","content":"Article(s) > How to measure round-trip time (RTT) using cURL"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/banner.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/curl-measure-rtt/banner.png"}],["meta",{"name":"twitter:image:alt","content":"How to measure round-trip time (RTT) using cURL"}],["meta",{"property":"article:author","content":"David Omotayo"}],["meta",{"property":"article:tag","content":"curl"}],["meta",{"property":"article:tag","content":"cli"}],["meta",{"property":"article:tag","content":"shell"}],["meta",{"property":"article:tag","content":"linux"}],["meta",{"property":"article:tag","content":"blog.logrocket.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-02-26T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > How to measure round-trip time (RTT) using cURL"},{"property":"og:description","content":"How to measure round-trip time (RTT) using cURL"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/curl-measure-rtt.html"}]],"prev":"/tool/curl/articles/README.md","date":"2025-02-26T00:00:00.000Z","isOriginal":false,"author":[{"name":"David Omotayo","url":"https://blog.logrocket.com/author/davidomotayo/"}],"cover":"/assets/image/blog.logrocket.com/curl-measure-rtt/banner.png"},"git":{},"readingTime":{"minutes":11.38,"words":3415},"filePathRelative":"blog.logrocket.com/curl-measure-rtt.md","copyright":{"author":"David Omotayo"}}');export{K as comp,G as data};
