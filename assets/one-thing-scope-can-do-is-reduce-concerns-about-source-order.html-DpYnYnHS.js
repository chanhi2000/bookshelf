import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,d as n,f as e,b as p,a as g,t as k,n as l,g as i,e as a,w as v,r as t,o as b}from"./app-BItykJLQ.js";const y={},f={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},C={href:"https://developer.chrome.com/docs/css-ui/at-scope",target:"_blank",rel:"noopener noreferrer"};function S(c,s){const o=t("VPCard"),r=t("SiteInfo"),u=t("RouteLink"),d=t("VPIcon");return b(),h("div",null,[n("h1",f,[n("a",w,[n("span",null,k(c.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),e(o,l(i({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s[14]||(s[14]=n("nav",{class:"table-of-contents"},[n("ul")],-1)),s[15]||(s[15]=n("hr",null,null,-1)),e(r,{name:"One Thing @scope Can Do is Reduce Concerns About Source Order",desc:"There is an already-classic @scope demo about theme colors. Let‚Äôs recap that and then I‚Äôll show how it relates to any situation with modifier classes. (The @scope rule is a newish feature in CSS that is everywhere-but-Firefox, but is in Interop 2025, so shouldn‚Äôt be too long to be decently usable.) There are lots of [‚Ä¶]",url:"https://frontendmasters.com/blog/one-thing-scope-can-do-is-reduce-concerns-about-source-order/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5434"}),s[16]||(s[16]=n("p",null,[a("There is an already-classic "),n("code",null,"@scope"),a(" demo about theme colors. Let‚Äôs recap that and then I‚Äôll show how it relates to any situation with modifier classes. (The "),n("code",null,"@scope"),a(" rule is a newish feature in CSS that is everywhere-but-Firefox, but is in Interop 2025, so shouldn‚Äôt be too long to be decently usable.)")],-1)),n("p",null,[s[1]||(s[1]=a("There are lots of different ways to implement color themes, but imagine a way where you do it with class names. I think it‚Äôs a valid way to do it, rather than, say, ",-1)),e(u,{to:"/frontendmasters.com/no-fuss-light-dark-modes.html"},{default:v(()=>[...s[0]||(s[0]=[n("strong",null,"only responding to system preferences",-1)])]),_:1}),s[2]||(s[2]=a(", because the classes might give you some on-page control. So you apply a theme at the top level. Then perhaps you have ",-1)),s[3]||(s[3]=n("em",null,"some",-1)),s[4]||(s[4]=a(" elements that have ",-1)),s[5]||(s[5]=n("em",null,"other",-1)),s[6]||(s[6]=a(" themes. Perhaps your site footer is ",-1)),s[7]||(s[7]=n("em",null,"always",-1)),s[8]||(s[8]=a(" dark.",-1))]),s[17]||(s[17]=p(`<div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theme-light<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    ...</span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">   </span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>site-footer theme-dark<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token entity named-entity" title="¬©">&amp;copy;</span>2025 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Frontend Masters<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You set up those classes with colors, including <em>other</em> elements that need colors depending on that theme.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.theme-dark</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">a</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">color</span><span class="token punctuation">:</span> #90caf9<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.theme-light</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">a</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">color</span><span class="token punctuation">:</span> #1976d2<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>There is already a problem with the HTML and CSS above.</strong></p><p>The <code>&lt;a&gt;</code> in the footer will have the color of the light theme, not the dark theme. This is that classic <code>@scope</code> demo you‚Äôre likely to see a lot (sorry). This is because of <strong>source order.</strong> The selector <code>.theme-light a</code> has the exact same specificity as <code>.theme-dark a</code> but the light theme comes after so it ‚Äúwins‚Äù.</p><p>One change to the above CSS will fix this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@scope</span> <span class="token punctuation">(</span>.theme-dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></span>
<span class="line">  <span class="token selector">a</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">color</span><span class="token punctuation">:</span> #90caf9<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@scope</span> <span class="token punctuation">(</span>.theme-light<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span></span>
<span class="line">  <span class="token selector">a</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">color</span><span class="token punctuation">:</span> #1976d2<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7)),n("p",null,[s[10]||(s[10]=a("This is referred to as ",-1)),s[11]||(s[11]=n("em",null,[n("strong",null,"proximity.")],-1)),s[12]||(s[12]=a(" It‚Äôs like a new part of the cascade (Bramus has ",-1)),n("a",C,[e(d,{icon:"fa-brands fa-chrome"}),s[9]||(s[9]=a("a nice diagram here",-1))]),s[13]||(s[13]=a("). Above, because the specificity is the same in both cases, the closer-in-the-DOM proximity ‚Äúwins‚Äù. And closer meaning ‚Äúfewest generational or sibling-element hops‚Äù. Like:",-1))]),s[18]||(s[18]=p(`<figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/03/CleanShot-2025-03-20-at-07.12.40%402x.png?resize=1024%2C373&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>So, appropriately, the link styling nested under <code>@scope (.theme-dark)</code>wins because the specificity is the same but the proximity of the <code>theme-dark</code> class is closer.</p><p>What I like about this is that now the source order for those themes doesn‚Äôt matter. That‚Äôs nice as sometimes that‚Äôs hard to control. A good bundler should maintain source order after building, but perhaps these ‚Äúvariation classes‚Äù are in different files and the way they get built and loaded isn‚Äôt entirely predictable. Perhaps some lazy loading gets involved or the built files are purposefully spit or who-knows-what. I‚Äôve seen too many <em>‚Äúit‚Äôs fine on dev but broken on prod‚Äù</em> bugs for one lifetime.</p><p>Color themes was just an excuse to look at variation classes.</p><p>Here‚Äôs another example:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.card-big</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.card</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Without even looking at HTML, you might consider this a ‚Äúmistake‚Äù because, probably, <code>card-big</code> is a variation class of <code>.card</code>, except the thing that <em>should be an override</em> (the <code>padding</code>) won‚Äôt actually be overridden because of source order and equal specificity. I‚Äôd guess we all have some muscle memory for just ordering variation classes properly so this isn‚Äôt a problem, but it‚Äôs not ideal to me that we have to remember that, and that build tools and loading strategies might interfere anyway.</p><p>Here‚Äôs some real-world-ish CSS I was playing with where I could use <code>@scope</code> to put my variation class first without worry:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@scope</span> <span class="token punctuation">(</span>.card-big<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">:scope</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">grid-column</span><span class="token punctuation">:</span> span 2<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token selector">img</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span></span>
<span class="line">      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.card</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">img</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 16 / 9<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">object-fit</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now if I‚Äôve got two cards‚Ä¶</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  ...</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card card-big<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  ...</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>I can rest easy knowing the <code>.card-big</code> styles will apply and appropriately override because of the proximity of the class to the things I want to style (including itself!)</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/03/Screenshot-2025-03-20-at-7.41.17‚ÄØAM.png?resize=1024%2C473&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,13)),g(" TODO: add ARTICLE CARD "),e(o,l(i({title:"One Thing @scope Can Do is Reduce Concerns About Source Order",desc:"There is an already-classic @scope demo about theme colors. Let‚Äôs recap that and then I‚Äôll show how it relates to any situation with modifier classes. (The @scope rule is a newish feature in CSS that is everywhere-but-Firefox, but is in Interop 2025, so shouldn‚Äôt be too long to be decently usable.) There are lots of [‚Ä¶]",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/one-thing-scope-can-do-is-reduce-concerns-about-source-order.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)])}const A=m(y,[["render",S]]),O=JSON.parse('{"path":"/frontendmasters.com/one-thing-scope-can-do-is-reduce-concerns-about-source-order.html","title":"One Thing @scope Can Do is Reduce Concerns About Source Order","lang":"en-US","frontmatter":{"lang":"en-US","title":"One Thing @scope Can Do is Reduce Concerns About Source Order","description":"Article(s) > One Thing @scope Can Do is Reduce Concerns About Source Order","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","frontendmasters.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"One Thing @scope Can Do is Reduce Concerns About Source Order\\",\\"image\\":[\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/03/CleanShot-2025-03-20-at-07.12.40%402x.png?resize=1024%2C373&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/03/Screenshot-2025-03-20-at-7.41.17%E2%80%AFAM.png?resize=1024%2C473&ssl=1\\"],\\"datePublished\\":\\"2025-03-20T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Chris Coyier\\",\\"url\\":\\"https://frontendmasters.com/blog/author/chriscoyier/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/one-thing-scope-can-do-is-reduce-concerns-about-source-order.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"One Thing @scope Can Do is Reduce Concerns About Source Order"}],["meta",{"property":"og:description","content":"Article(s) > One Thing @scope Can Do is Reduce Concerns About Source Order"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5434"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5434"}],["meta",{"name":"twitter:image:alt","content":"One Thing @scope Can Do is Reduce Concerns About Source Order"}],["meta",{"property":"article:author","content":"Chris Coyier"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-03-20T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > One Thing @scope Can Do is Reduce Concerns About Source Order"},{"property":"og:description","content":"One Thing @scope Can Do is Reduce Concerns About Source Order"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/one-thing-scope-can-do-is-reduce-concerns-about-source-order.html"}]],"prev":"/programming/css/articles/README.md","date":"2025-03-20T00:00:00.000Z","isOriginal":false,"author":[{"name":"Chris Coyier","url":"https://frontendmasters.com/blog/author/chriscoyier/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5434"},"git":{},"readingTime":{"minutes":3.54,"words":1063},"filePathRelative":"frontendmasters.com/one-thing-scope-can-do-is-reduce-concerns-about-source-order.md","copyright":{"author":"Chris Coyier"}}');export{A as comp,O as data};
