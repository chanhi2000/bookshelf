import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,d as n,f as e,b as i,a as b,t as f,n as u,g as c,w as t,e as a,r as d,o as y}from"./app-BItykJLQ.js";const w={},S={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},C={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},x={class:"table-of-contents"},P={class:"hint-container details"},T={class:"hint-container details"},L={href:"https://twitter.com/anatudor",target:"_blank",rel:"noopener noreferrer"},I={class:"hint-container info"},A={class:"hint-container-title"},V={class:"hint-container info"},q={class:"hint-container-title"},H={class:"hint-container note"},j={href:"https://github.com/propjockey/css-sweeper#basics-of-space-toggle",target:"_blank",rel:"noopener noreferrer"},O={href:"https://w3.org/blog/CSS/2020/12/09/minutes-2020-12-09/",target:"_blank",rel:"noopener noreferrer"},N={href:"https://twitter.com/LeaVerou",target:"_blank",rel:"noopener noreferrer"},D={href:"https://github.com/w3c/csswg-drafts/issues/5624",target:"_blank",rel:"noopener noreferrer"},F={href:"https://github.com/w3c/csswg-drafts/issues/5624",target:"_blank",rel:"noopener noreferrer"},R={href:"https://github.com/w3c/csswg-drafts/issues/5624#issuecomment-746339609",target:"_blank",rel:"noopener noreferrer"},B={href:"https://github.com/w3c/csswg-drafts/issues/5624#issuecomment-746339609",target:"_blank",rel:"noopener noreferrer"},z={href:"https://github.com/w3c/csswg-drafts/issues/5009#issuecomment-626072319",target:"_blank",rel:"noopener noreferrer"},W={class:"hint-container info"},M={href:"https://w3.org/TR/css-variables-1/#invalid-at-computed-value-time",target:"_blank",rel:"noopener noreferrer"},U={href:"https://w3.org/TR/css-variables-1/#invalid-at-computed-value-time",target:"_blank",rel:"noopener noreferrer"},E={class:"hint-container info"},G={class:"hint-container-title"},J={href:"https://github.com/w3c/csswg-drafts/issues/5624",target:"_blank",rel:"noopener noreferrer"},Y={class:"hint-container info"};function Q(m,s){const p=d("VPCard"),r=d("router-link"),k=d("SiteInfo"),l=d("RouteLink"),o=d("VPIcon"),v=d("CodePen");return y(),h("div",null,[n("h1",S,[n("a",C,[n("span",null,f(m.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),e(p,u(c({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",x,[n("ul",null,[n("li",null,[e(r,{to:"#css-custom-properties-as-variables"},{default:t(()=>[...s[0]||(s[0]=[a("CSS Custom Properties as Variables",-1)])]),_:1}),n("ul",null,[n("li",null,[e(r,{to:"#the-guaranteed-invalid-value-hack"},{default:t(()=>[...s[1]||(s[1]=[a("The Guaranteed-Invalid Value Hack",-1)])]),_:1})]),n("li",null,[e(r,{to:"#the-space-toggle-trick"},{default:t(()=>[...s[2]||(s[2]=[a("The Space Toggle Trick",-1)])]),_:1})]),n("li",null,[e(r,{to:"#definition-and-example"},{default:t(()=>[...s[3]||(s[3]=[a("Definition and Example",-1)])]),_:1})]),n("li",null,[e(r,{to:"#issues-that-still-need-to-be-tackled"},{default:t(()=>[...s[4]||(s[4]=[a("Issues that still need to be tackled",-1)])]),_:1})])])]),n("li",null,[e(r,{to:"#in-closing"},{default:t(()=>[...s[5]||(s[5]=[a("# In Closing",-1)])]),_:1})])])]),s[138]||(s[138]=n("hr",null,null,-1)),e(k,{name:"The future of CSS: Higher Level Custom Properties to control multiple declarations",desc:"‚ÄúHigher Level Custom Properties‚Äù are Custom Properties that control multiple other CSS Properties. Although still a proposal it's worth having a look already as they're really exciting.",url:"https://bram.us/2020/12/30/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations/",logo:"https://bramu.us/favicon.ico",preview:"https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png"}),s[139]||(s[139]=i(`<figure><img src="https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>When using CSS Custom Properties we mainly use them directly as variables in calculations for other properties. Having one CSS Custom Property control a varying set of other properties ‚Äî such as both colors and numbers ‚Äî is not exactly possible. There are some hacky workarounds we can use, but these don‚Äôt cover all scenarios. Thankfully there‚Äôs a new idea popping up: Higher Level Custom Properties. Although still premature, these Higher Level Custom Properties would allow us to drop the hacks.</p><p>Let‚Äôs take a look at our current options, and how this <em>(possible)</em> future addition to the CSS spec ‚Äî along with the <code>@if</code> at-rule it introduces ‚Äî might look ‚Ä¶</p><hr><h2 id="css-custom-properties-as-variables" tabindex="-1"><a class="header-anchor" href="#css-custom-properties-as-variables"><span>CSS Custom Properties as Variables</span></a></h2><p>When working with CSS Custom Properties today, they are <em>mainly</em> used as CSS Variables. If you‚Äôve used them, you‚Äôre quite familiar with code like this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--square-size</span><span class="token punctuation">:</span> 2vw<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">--square-padding</span><span class="token punctuation">:</span> 0.25vw<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.square</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--square-size<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--square-padding<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1/1<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.square--big</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--square-size</span><span class="token punctuation">:</span> 16vw<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">--square-padding</span><span class="token punctuation">:</span> 1vw<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Using the <code>var()</code> function we create a CSS Variable which gets substituted for the value of the Custom Property it refers to.</p><p>E.g. The variable <code>var(--square-size)</code> will hold the value of the <code>--square-size</code> Custom Property ‚Äî namely <code>2vw</code> ‚Äî which is then set as the value for the <code>width</code> CSS property.</p>`,9)),n("details",P,[s[28]||(s[28]=n("summary",null,"ü§î CSS Custom Properties vs. CSS Variables ‚Äî Is there a difference?",-1)),n("p",null,[s[7]||(s[7]=a("Yes there's ",-1)),e(l,{to:"/bram.us/css-custom-properties-are-not-variables.html"},{default:t(()=>[...s[6]||(s[6]=[n("strong",null,"a difference",-1)])]),_:1}),s[8]||(s[8]=a(":",-1))]),s[29]||(s[29]=i('<ul><li>A <strong>CSS Custom Property</strong> is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like <code>--foo</code>. Just like with a normal property you can assign a value to it, e.g. <code>--foo: 200;</code>.</li><li>A <strong>CSS Variable</strong> is created when the <code>var()</code> function is used. When creating the CSS Variable <code>var(--my-prop)</code>, it will be replaced with the value of the <code>--my-prop</code> Custom Property it refers to, namely <code>200</code>.</li></ul><hr><h2 id="using-css-custom-properties-to-affect-multiple-css-declarations" tabindex="-1"><a class="header-anchor" href="#using-css-custom-properties-to-affect-multiple-css-declarations"><span>Using CSS Custom Properties to affect multiple CSS declarations</span></a></h2><p>In the example above we have two types of squares: regular sized ones and big ones. To differentiate between them we need to toggle the <code>.square--big</code> class. Toggling that class affects two CSS Custom Properties: both <code>--square-size</code> and <code>--square-padding</code> are altered.</p><p>But what if we wanted not to toggle a HTML class but a CSS Custom Property to do so? E.g. we want to toggle one CSS Custom Property, and have that automatically affect both <code>--square-size</code> and <code>--square-padding</code>.</p><p>As it stands today it‚Äôs not very straightforward to let one single CSS Custom Property affect multiple other CSS Properties, unless you resort to some hacky workarounds. Let‚Äôs take a look at the options we have today.</p><h3 id="binary-custom-properties" tabindex="-1"><a class="header-anchor" href="#binary-custom-properties"><span>Binary Custom Properties</span></a></h3>',7)),n("p",null,[s[10]||(s[10]=a("If all you‚Äôre setting is numeric values, you can ",-1)),e(l,{to:"/bram.us/conditions-for-css-calculations.html"},{default:t(()=>[...s[9]||(s[9]=[n("strong",null,"use Binary CSS Custom Properties within calculations",-1)])]),_:1}),s[11]||(s[11]=a(". You give these Binary Custom Properties the value of ",-1)),s[12]||(s[12]=n("code",null,"0",-1)),s[13]||(s[13]=a(" or ",-1)),s[14]||(s[14]=n("code",null,"1",-1)),s[15]||(s[15]=a(" and use them within your calculations. Think of these Binary Custom Properties like light switches: they can either be OFF/false (",-1)),s[16]||(s[16]=n("code",null,"0",-1)),s[17]||(s[17]=a(") or ON/true (",-1)),s[18]||(s[18]=n("code",null,"1",-1)),s[19]||(s[19]=a(").",-1))]),s[30]||(s[30]=i(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--is-big</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.square--big</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--is-big</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.square</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span></span>
<span class="line">    2vw * <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">/* Value to apply when --is-big is 0 (~false) */</span> +</span>
<span class="line">      16vw * <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span> <span class="token comment">/* Value to apply when --is-big is 1 (~true): */</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span></span>
<span class="line">    0.25vw * <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token comment">/* Value to apply when --is-big is 0 (~false) */</span> + 1vw * <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span></span>
<span class="line">      <span class="token comment">/* Value to apply when --is-big is 1 (~true): */</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1/1<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the example above the <code>--is-big</code> Custom Property acts as a binary toggle that controls the results of the <code>calc()</code> functions. In the case of <code>--is-big</code> having a value of <code>0</code> those functions will yield one specific value, while when <code>--is-big</code> is set to <code>1</code> it will yield another value.</p>`,2)),n("details",T,[s[26]||(s[26]=n("summary",null,"‚òùÔ∏è With some extra effort you can even perform Logical Operations (AND, NAND, OR, NOR, XOR, ‚Ä¶) using CSS Custom Properties!?",-1)),n("p",null,[n("a",L,[s[20]||(s[20]=a("Ana Tudor (",-1)),e(o,{icon:"fa-brands fa-x-twitter"}),s[21]||(s[21]=n("code",null,"anatudor",-1)),s[22]||(s[22]=a(")",-1))]),s[24]||(s[24]=a(" worked out the math for us in ",-1)),e(l,{to:"/bram.us/logical-operations-with-css-variables.html"},{default:t(()=>[...s[23]||(s[23]=[n("strong",null,"Logical Operations with CSS Custom Properties",-1)])]),_:1}),s[25]||(s[25]=a(":",-1))]),s[27]||(s[27]=i(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line">  <span class="token property">--j</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--k</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">element</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--notj</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--and</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--nand</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--or</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span><span class="token punctuation">)</span> * <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--nor</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span><span class="token punctuation">)</span> * <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--xor</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span> - <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span> * <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span> - <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ü§Ø</p>`,2))])]),s[140]||(s[140]=i(`<h3 id="the-guaranteed-invalid-value-hack" tabindex="-1"><a class="header-anchor" href="#the-guaranteed-invalid-value-hack"><span>The Guaranteed-Invalid Value Hack</span></a></h3><p>When you need to set things other than numeric values ‚Äî such as colors ‚Äî you can‚Äôt rely on a toggle that is either <code>0</code> or <code>1</code>, as performing calculations with colors is invalid.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.square</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* ‚ùå This won&#39;t work! ‚ùå */</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span></span>
<span class="line">    hotpink * <span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    +</span>
<span class="line">    lime * <span class="token function">var</span><span class="token punctuation">(</span>--is-big<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The spec detailing <code>calc()</code> is clear on this:</p>`,4)),n("div",I,[n("p",A,[s[31]||(s[31]=a("CSS Values and Units Level 3: 8.1 Mathematical Expressions: ",-1)),s[32]||(s[32]=n("code",null,"calc()",-1)),s[33]||(s[33]=a(" (",-1)),e(o,{icon:"fas fa-globe"}),s[34]||(s[34]=n("code",null,"drafts.csswg.org",-1)),s[35]||(s[35]=a(")",-1))]),s[36]||(s[36]=i("<blockquote><p>It can be used wherever <code>&lt;length&gt;</code>, <code>&lt;frequency&gt;</code>, <code>&lt;angle&gt;</code>, <code>&lt;time&gt;</code>, <code>&lt;percentage&gt;</code>, <code>&lt;number&gt;</code>, or <code>&lt;integer&gt;</code> values are allowed.</p></blockquote>",1)),e(p,u(c({title:"CSS Values and Units Module Level 3",desc:"The calc() function allows a numeric CSS component value to be written as a mathematical expression using addition (+), subtraction (-), multiplication (*), and/or division (/).",link:"https://drafts.csswg.org/css-values-3/#calc-notation/",logo:"https://drafts.csswg.org/csslogo.ico",background:"rgba(118,168,248,0.2)"})),null,16)]),n("p",null,[s[38]||(s[38]=a("What you can do however is use ",-1)),e(l,{to:"/css-tricks.com/the-css-custom-property-toggle-trick.html"},{default:t(()=>[...s[37]||(s[37]=[n("strong",null,"The CSS Custom Property Toggle Trick",-1)])]),_:1}),s[39]||(s[39]=a(" by James0x57 ‚Äî which I like to call ",-1)),s[40]||(s[40]=n("em",null,"‚ÄúThe Guaranteed-Invalid Value Hack‚Äù",-1)),s[41]||(s[41]=a(" ‚Äî where you ",-1)),s[42]||(s[42]=n("strong",null,[a("set a Custom Property to the ‚Äúguaranteed-invalid value‚Äù of "),n("code",null,"initial"),a(" to force the "),n("code",null,"var()"),a(" function to use its fallback value")],-1)),s[43]||(s[43]=a(":",-1))]),n("div",V,[n("p",q,[s[44]||(s[44]=a("CSS Custom Properties for Cascading Variables Module Level 1: 2.2. Guaranteed-Invalid Values (",-1)),e(o,{icon:"fas fa-globe"}),s[45]||(s[45]=n("code",null,"drafts.csswg.org",-1)),s[46]||(s[46]=a(")",-1))]),s[47]||(s[47]=n("blockquote",null,[n("p",null,[a("If, for whatever reason, one wants to manually reset a variable to the guaranteed-invalid value, using the keyword "),n("code",null,"initial"),a(" will do this.")])],-1)),e(p,u(c({title:"CSS Custom Properties for Cascading Variables Module Level 1",desc:"The initial value of a custom property is a guaranteed-invalid value. The guaranteed-invalid value is, well, guaranteed to be invalid. If it ever appears in a property value, then at computed value time that property becomes invalid at computed-value time.",link:"https://drafts.csswg.org/css-variables-1/#guaranteed-invalid/",logo:"https://drafts.csswg.org/csslogo.ico",background:"rgba(244,245,255,0.2)"})),null,16)]),s[141]||(s[141]=i(`<p>In code it boils down to this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--my-var</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span> <span class="token comment">/* initial =&gt; var() will use the fallback value */</span></span>
<span class="line"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--my-var<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ~&gt; green */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--my-var</span><span class="token punctuation">:</span> hotpink<span class="token punctuation">;</span> <span class="token comment">/* Any value other than \`initial\` (even simply one space!) =&gt; var() will not use the fallback value */</span></span>
<span class="line"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--my-var<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ~&gt; hotpink */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>That means that you can flip the switch ON by setting a Custom Property to the value of <code>initial</code>. Here‚Äôs an example where the text will turn green and italic once <code>--is-checked</code> is flipped on:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">input[type=&quot;checkbox&quot;] + label</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--is-checked</span><span class="token punctuation">:</span> <span class="token punctuation">;</span> <span class="token comment">/* OFF */</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> none<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">font-style</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> italic<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">input[type=&quot;checkbox&quot;]:checked + label</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--is-checked</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span> <span class="token comment">/* ON */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A limitation of this approach however is that you can‚Äôt define <strong>several</strong> values to use in case <code>--is-checked</code> is in the OFF state. Say I want the text in the example above to be both <code>red</code> by default and with a border. Setting <code>--is-checked</code> to <code>red</code> will only get me halfway, as that value is only valid for the <code>color</code> property here.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">input[type=&quot;checkbox&quot;] + label</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--is-checked</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token comment">/* Default value to use */</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ‚úÖ Will be red by default */</span></span>
<span class="line">  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> none<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ‚ùå What about a default value for border? */</span></span>
<span class="line">  <span class="token property">font-style</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--is-checked<span class="token punctuation">,</span> italic<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ‚ùå What about a default value for font-style? */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="the-space-toggle-trick" tabindex="-1"><a class="header-anchor" href="#the-space-toggle-trick"><span>The Space Toggle Trick</span></a></h3>`,8)),n("div",H,[s[72]||(s[72]=n("p",{class:"hint-container-title"},"Update 2020.01.22",-1)),n("p",null,[s[52]||(s[52]=a("As James0x57 themselves ",-1)),e(l,{to:"/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html"},{default:t(()=>[...s[48]||(s[48]=[n("strong",null,"pointed out in the comments below",-1)])]),_:1}),s[53]||(s[53]=a(", the ‚ÄúCSS Custom Property Toggle Trick‚Äù ",-1)),s[54]||(s[54]=n("strong",null,"can",-1)),s[55]||(s[55]=a(" be used for this, but it takes some adjustments when compared to the implementation above. Here‚Äôs what James0x57 calls ",-1)),n("a",j,[s[49]||(s[49]=a("the Space Toggle Trick (",-1)),e(o,{icon:"iconfont icon-github"}),s[50]||(s[50]=n("code",null,"propjockey/css-sweeper",-1)),s[51]||(s[51]=a(")",-1))]),s[56]||(s[56]=a(":",-1))]),s[73]||(s[73]=i(`<ul><li>Consider the value <em>(space)</em> to be the ON position, and the value of <code>initial</code> to be the OFF position.</li><li>Assign property values to new custom properties using the syntax <code>--value-to-use-if-custom-toggle-is-on: var(--my-custom-toggle) value;</code>, where you put the value to be used <strong>after</strong> the CSS Variable.</li></ul><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--toggler</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></span>
<span class="line"><span class="token property">--red-if-toggler</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--toggler<span class="token punctuation">)</span> red<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>To use the value, use the <code>var()</code> syntax as before <em>(e.g. adding a fallback value)</em>:</li></ul><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--red-if-toggler<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* will be green! */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>If you have more than one property than can affect a toggle, you can chain them up:</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="AND Logic"><span>AND Logic</span></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--red-if-togglersalltrue</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog1<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog2<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog3<span class="token punctuation">)</span> red<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="OR Logic"><span>OR Logic</span></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--red-if-anytogglertrue</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog1<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog2<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--tog3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> red<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>So it boils down to a custom property being either a space ( ) or <code>initial</code>. ON or OFF. Depending on that you can get two values: one for when it‚Äôs ON, and one for when it‚Äôs OFF. It relies on CSS eating spaces (e.g. <code> green</code> becomes simply <code>green</code>) and CSS falling back to the fallback value of <code>var()</code> when the referred to custom property contains <code>initial</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--toggler</span><span class="token punctuation">:</span> <span class="token punctuation">;</span> <span class="token comment">/* Or initial */</span></span>
<span class="line"><span class="token property">--red-if-toggler</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--toggler<span class="token punctuation">)</span> red<span class="token punctuation">;</span></span>
<span class="line"><span class="token property">--green-if-no-toggler</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--toggler<span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--red-if-toggler<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--green-if-no-toggler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here‚Äôs a pen that applies his technique, with some cleaned up property names:</p>`,10)),e(v,{user:"bramus","slug-hash":"GRjPPBB",title:"3. Binary Custom Properties + ‚ÄúThe CSS Custom Property Toggle Trick‚Äù (Renamed)","default-tab":["css","result"],theme:m.dark},null,8,["theme"]),s[74]||(s[74]=n("p",null,"Thanks for clarifying James0x57, as I only understood half of your hack before üòÖ",-1)),s[75]||(s[75]=n("hr",null,null,-1)),s[76]||(s[76]=n("h2",{id:"future-solution-higher-level-custom-properties",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#future-solution-higher-level-custom-properties"},[n("span",null,"Future Solution: Higher Level Custom Properties")])],-1)),n("p",null,[s[64]||(s[64]=a("So the problem is that, as it stands today, we can‚Äôt have one single CSS Custom Property affect a varying set of other CSS Properties, or at least not in an easy way. At ",-1)),n("a",O,[e(o,{icon:"iconfont icon-w3c"}),s[57]||(s[57]=a("the CSS WG Telecon from early December 2020",-1))]),s[65]||(s[65]=a()),n("a",N,[s[58]||(s[58]=a("Lea Verou (",-1)),e(o,{icon:"fa-brands fa-x-twitter"}),s[59]||(s[59]=n("code",null,"LeaVerou",-1)),s[60]||(s[60]=a(")",-1))]),s[66]||(s[66]=a(" proposed something called ",-1)),n("a",D,[s[61]||(s[61]=a("‚ÄúHigher Level Custom Properties‚Äù (",-1)),e(o,{icon:"iconfont icon-github"}),s[62]||(s[62]=n("code",null,"w3c/csswg-drafts",-1)),s[63]||(s[63]=a(")",-1))]),s[67]||(s[67]=a(", which would allow exactly that!",-1))]),s[77]||(s[77]=n("p",null,"::: critical",-1)),n("p",null,[s[70]||(s[70]=a("Do note that this proposal is still in it‚Äôs very very early stages and ",-1)),n("a",F,[s[68]||(s[68]=a("part of an ongoing discussion (",-1)),e(o,{icon:"iconfont icon-github"}),s[69]||(s[69]=a("`w3c/csswg-drafts)",-1))]),s[71]||(s[71]=a(". The CSS WG has merely expressed interest in this proposal, suggesting that it should be explored further. If if tends to be helpful and possible, only then work on a Working Draft will start. Right now it still is a concept.",-1))])]),s[142]||(s[142]=n("h3",{id:"definition-and-example",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#definition-and-example"},[n("span",null,"Definition and Example")])],-1)),n("p",null,[s[81]||(s[81]=a("‚ÄúHigher Level Custom Properties‚Äù are Custom Properties that control a number of other CSS Properties. As ",-1)),n("a",R,[s[78]||(s[78]=a("the proposal stands right now (",-1)),e(o,{icon:"iconfont icon-github"}),s[79]||(s[79]=n("code",null,"w3c/csswg-drafts",-1)),s[80]||(s[80]=a(")",-1))]),s[82]||(s[82]=a(" you use them in combination with a newly proposed ",-1)),s[83]||(s[83]=n("code",null,"@if",-1)),s[84]||(s[84]=a(" at-rule, like so:",-1))]),s[143]||(s[143]=i(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.square</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> 2vw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> 0.25vw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1/1<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@if</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--size<span class="token punctuation">)</span> = big<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> 16vw<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">padding</span><span class="token punctuation">:</span> 1vw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Unlike the Custom Properties we know today, a Higher Level Custom Property controls multiple declarations, way beyond simple variable substitution. In the example above we set our HLCP <code>--size</code> to have a value of <code>big</code>. This value isn‚Äôt used directly, but affects the other properties <code>width</code> and <code>padding</code>.</p><p>Using this HLCP also improves the meaning of our code. Setting <code>width: 16vw;</code> does not clearly express our intent, whereas setting <code>--size: big;</code> does.</p><div class="hint-container info"><p class="hint-container-title">üíÅ‚Äç‚ôÇÔ∏è</p><p>If you don‚Äôt like <code>@if</code> then please don‚Äôt discard the whole idea immediately, but focus on the problem it‚Äôs trying to fix here. Lea‚Äôs proposal is <strong>a</strong> possible solution, not <strong>the</strong> solution. Could be that ‚Äî in the end ‚Äî we end up with a totally different syntax.</p></div><h3 id="issues-that-still-need-to-be-tackled" tabindex="-1"><a class="header-anchor" href="#issues-that-still-need-to-be-tackled"><span>Issues that still need to be tackled</span></a></h3>`,5)),n("p",null,[s[88]||(s[88]=a("Before you get too excited, there are still some cases that need to be taken care of. In a follow-up comment on the proposal, Lea ",-1)),n("a",B,[s[85]||(s[85]=a("documented some already identified issues (",-1)),e(o,{icon:"iconfont icon-github"}),s[86]||(s[86]=n("code",null,"w3c/csswg-drafts",-1)),s[87]||(s[87]=a(")",-1))]),s[89]||(s[89]=a(".",-1))]),s[144]||(s[144]=n("p",null,"::: critical üö®",-1)),s[145]||(s[145]=n("p",null,"Note that these issues are blocking issues. As long as these aren‚Äôt resolved, HLCPs won‚Äôt happen.",-1)),s[146]||(s[146]=n("p",null,":::",-1)),s[147]||(s[147]=n("h4",{id:"partial-application",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#partial-application"},[n("span",null,"Partial Application")])],-1)),n("p",null,[s[95]||(s[95]=a("A first issue is a problem with the desugaring of ",-1)),s[96]||(s[96]=n("code",null,"@if",-1)),s[97]||(s[97]=a(" and partial application. Behind the scenes a ",-1)),s[98]||(s[98]=n("code",null,"@if",-1)),s[99]||(s[99]=a(" at-rule desugars to ",-1)),n("a",z,[s[90]||(s[90]=a("the still discussed ",-1)),s[91]||(s[91]=n("code",null,"if()",-1)),s[92]||(s[92]=a(" function call (",-1)),e(o,{icon:"iconfont icon-github"}),s[93]||(s[93]=n("code",null,"w3c/csswg-drafts",-1)),s[94]||(s[94]=a(")",-1))]),s[100]||(s[100]=a(". The example above eventually becomes this:",-1))]),s[148]||(s[148]=i(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.square</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">if</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--size<span class="token punctuation">)</span> = big<span class="token punctuation">,</span> 16vw<span class="token punctuation">,</span> 2vw<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">if</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--size<span class="token punctuation">)</span> = big<span class="token punctuation">,</span> 1vw<span class="token punctuation">,</span> 0.25vw<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1/1<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This leads to no issue here, but it becomes quirky when comparing against percentages for example.</p><div class="hint-container tip"><p class="hint-container-title">e.g.</p><p>consider this</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.foo</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@if</span> <span class="token punctuation">(</span>1em &gt; 5%<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>which desugars to:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.foo</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">if</span><span class="token punctuation">(</span>1em &gt; 5%<span class="token punctuation">,</span> 400px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">if</span><span class="token punctuation">(</span>1em &gt; 5%<span class="token punctuation">,</span> 300px<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now consider that an element that matches <code>.foo</code> is inside a <code>600px</code> by <code>400px</code> container and has a computed <code>font-size</code> of <code>25px</code>; This makes <code>1em &gt; 5%</code> evaluate to <code>false</code> on the <code>width</code> property and <code>true</code> on the <code>height</code> property, which would make the <code>@if</code> partially applied. We most definitely don‚Äôt want that.</p></div><p>There are some ideas floating around to fix this ‚Äî such as forcing percentages/lengths to always be compared against the <code>width</code> ‚Äî but that‚Äôs still a bit vague right now.</p><h4 id="cascading" tabindex="-1"><a class="header-anchor" href="#cascading"><span>Cascading</span></a></h4><p>Another issue that was pointed out is one on Cascading. I especially like this one, as it gives us a good insight in how CSS behaves and works:</p>`,6)),n("div",W,[s[106]||(s[106]=n("p",{class:"hint-container-title"},"Info",-1)),n("p",null,[s[102]||(s[102]=a("Inline conditionals will have the ",-1)),n("a",M,[e(o,{icon:"iconfont icon-w3c"}),s[101]||(s[101]=a("IACVT (Invalid At Computed Value Time)",-1))]),s[103]||(s[103]=a(" behavior that we have come to know and love (?) from Custom Properties. Since ",-1)),s[104]||(s[104]=n("code",null,"@if",-1)),s[105]||(s[105]=a(" will desugar to inline conditionals, it will also fall back to that, which may sometimes be surprising. This means that these two snippets are not equivalent:",-1))]),s[107]||(s[107]=i(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.notice</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> palegoldenrod<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.notice</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* Desugars to background: if(var(--warning) = on, orange, unset); */</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@if</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--warning<span class="token punctuation">)</span> = on<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">background</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.notice</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* Desugars to background: if(var(--warning) = on, orange, palegoldenrod); */</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> palegoldenrod<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@if</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--warning<span class="token punctuation">)</span> = on<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">background</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2))]),n("p",null,[s[109]||(s[109]=a("You can file ",-1)),n("a",U,[e(o,{icon:"iconfont icon-w3c"}),s[108]||(s[108]=a("IACVT (Invalid At Computed Value Time)",-1))]),s[110]||(s[110]=a(" in the #TIL section there.",-1))]),n("div",E,[n("p",G,[s[111]||(s[111]=a("IACVT (Invalid At Computed Value Time) (",-1)),e(o,{icon:"iconfont icon-w3c"}),s[112]||(s[112]=n("code",null,"w3.org",-1)),s[113]||(s[113]=a(")",-1))]),s[114]||(s[114]=n("blockquote",null,[n("p",null,[a("A declaration can be invalid at computed-value [‚Ä¶] if it uses a valid custom property, but the property value, after substituting its "),n("code",null,"var()"),a(" functions, is invalid. When this happens, the computed value of the property is either the property‚Äôs inherited value or its initial value [‚Ä¶].")])],-1))]),s[149]||(s[149]=i(`<p>This explains why in the example below the background won‚Äôt be <code>red</code> but <em>(the default)</em> <code>transparent</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">:root</span> <span class="token punctuation">{</span> <span class="token property">--not-a-color</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--not-a-color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">üëâ</p><p>As <code>20px</code> is no valid <code>&lt;color&gt;</code> value, the last declaration will become <code>background-color: initial;</code>.</p></div><div class="hint-container info"><p class="hint-container-title">üí°</p><p>If we would have written <code>background-color: 20px</code> directly (e.g. without the use of Custom Properties), then that declaration would have simply been discarded due to being invalid, and we would have ended up with a <code>red</code> background.</p></div><hr><h2 id="in-closing" tabindex="-1"><a class="header-anchor" href="#in-closing"><span># In Closing</span></a></h2><p>The ‚ÄúHigher Level Custom Properties‚Äù idea by Lea Verou is one that quite excites me, as it solves an actual issue one can have in their code and would avoid having to use one of the nasty hacks.</p><p>There‚Äôs still a long way to go before we might actually see this land, yet as the CSS WG has expressed interest I‚Äôm hopeful that the already identified issues will be wrinkled out, and that work on an official spec can start.</p>`,8)),n("p",null,[s[118]||(s[118]=a("If you have your own input on this subject, then I suggest to participate in ",-1)),n("a",J,[s[115]||(s[115]=a("the Higher Level Custom Properties discussion on GitHub (",-1)),e(o,{icon:"iconfont icon-github"}),s[116]||(s[116]=n("code",null,"w3c/csswg-drafts",-1)),s[117]||(s[117]=a(")",-1))]),s[119]||(s[119]=a(".",-1))]),n("div",Y,[s[136]||(s[136]=n("p",{class:"hint-container-title"},"üìö",-1)),s[137]||(s[137]=n("p",null,[a("This post is part of a series called "),n("strong",null,"[custom-tax id=‚Äùserie‚Äù]"),a(". Latest posts in this series:")],-1)),n("ul",null,[n("li",null,[e(l,{to:"/bram.us/css-custom-functions-teaser.html"},{default:t(()=>[...s[120]||(s[120]=[n("strong",null,"CSS Custom Functions are coming ‚Ä¶ and they are going to be a game changer!",-1)])]),_:1}),s[121]||(s[121]=a(" February 9, 2025",-1))]),n("li",null,[e(l,{to:"/bram.us/the-future-of-css-construct-custom-idents-and-dashed-idents-with-ident.html"},{default:t(()=>[...s[122]||(s[122]=[n("strong",null,[a("The Future of CSS: Construct "),n("code",null,"<custom-ident>"),a(" and "),n("code",null,"<dashed-ident>"),a(" values with "),n("code",null,"ident()")],-1)])]),_:1}),s[123]||(s[123]=a(" December 18, 2024",-1))]),n("li",null,[e(l,{to:"/bram.us/help-choose-the-syntax-for-css-nesting.html"},{default:t(()=>[...s[124]||(s[124]=[n("strong",null,"Help choose the syntax for CSS Nesting!",-1)])]),_:1}),s[125]||(s[125]=a(" December 16, 2022",-1))]),n("li",null,[e(l,{to:"/bram.us/the-future-of-css-variable-units-powered-by-custom-properties.html"},{default:t(()=>[...s[126]||(s[126]=[n("strong",null,"The Future of CSS: Variable Units, powered by Custom Properties",-1)])]),_:1}),s[127]||(s[127]=a(" July 8, 2022",-1))]),n("li",null,[e(l,{to:"/bram.us/scroll-linked-animations-with-the-web-animations-api-waapi-and-scrolltimeline.html"},{default:t(()=>[...s[128]||(s[128]=[n("strong",null,[a("The Future of CSS: Scroll-Linked Animations with "),n("code",null,"@scroll-timeline"),a(),n("em",null,"(Part 4)")],-1)])]),_:1}),s[129]||(s[129]=a(" November 24, 2021",-1))]),n("li",null,[e(l,{to:"/bram.us/media-queries-level-4-media-query-range-contexts.html"},{default:t(()=>[...s[130]||(s[130]=[n("strong",null,[a("Media Queries Level 4: Media Query Range Contexts "),n("em",null,"(Media Query Ranges)")],-1)])]),_:1}),s[131]||(s[131]=a(" October 26, 2021",-1))])]),e(p,u(c({title:"The Future of CSS: Cascade Layers (CSS @layer)",desc:"When authoring CSS we have to carefully think about how we write and structure our code. Cascade Layers (CSS @layer) aim to ease this task.",link:"/bram.us/the-future-of-css-cascade-layers-css-at-layer.md",logo:"https://bramu.us/favicon.ico",background:"rgba(17,17,17,0.2)"})),null,16),n("ul",null,[n("li",null,[e(l,{to:"/bram.us/practical-use-cases-for-scroll-linked-animations-with-css-scroll-timeline.html"},{default:t(()=>[...s[132]||(s[132]=[n("strong",null,[a("The Future of CSS: Scroll-Linked Animations with "),n("code",null,"@scroll-timeline"),a(),n("em",null,"(Part 3)")],-1)])]),_:1}),s[133]||(s[133]=a(" July 19, 2021",-1))])]),e(p,u(c({title:"The Large, Small, and Dynamic Viewports",desc:"There are some changes being proposed regarding viewport units, finally solving that ‚Äù100vh in Safari on iOS‚Äù issue ‚Ä¶",link:"/bram.us/the-large-small-and-dynamic-viewports.md",logo:"https://bramu.us/favicon.ico",background:"rgba(17,17,17,0.2)"})),null,16),n("ul",null,[n("li",null,[e(l,{to:"/bram.us/create-a-color-theme-with-css-relative-color-syntax-css-color-mix-and-css-color-contrast.html"},{default:t(()=>[...s[134]||(s[134]=[n("strong",null,[a("Create a color theme with CSS Relative Color Syntax, CSS "),n("code",null,"color-mix()"),a(", and CSS "),n("code",null,"color-contrast()")],-1)])]),_:1}),s[135]||(s[135]=a(" April 28, 2021",-1))])])]),b(" TODO: add ARTICLE CARD "),e(p,u(c({title:"The future of CSS: Higher Level Custom Properties to control multiple declarations",desc:"‚ÄúHigher Level Custom Properties‚Äù are Custom Properties that control multiple other CSS Properties. Although still a proposal it's worth having a look already as they're really exciting.",link:"https://chanhi2000.github.io/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html",logo:"https://bramu.us/favicon.ico",background:"rgba(17,17,17,0.2)"})),null,16)])}const $=g(w,[["render",Q]]),K=JSON.parse('{"path":"/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html","title":"The future of CSS: Higher Level Custom Properties to control multiple declarations","lang":"en-US","frontmatter":{"lang":"en-US","title":"The future of CSS: Higher Level Custom Properties to control multiple declarations","description":"Article(s) > The future of CSS: Higher Level Custom Properties to control multiple declarations","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","bram.us","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"The future of CSS: Higher Level Custom Properties to control multiple declarations\\",\\"image\\":[\\"https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png\\"],\\"datePublished\\":\\"2020-12-31T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bramus!\\",\\"url\\":\\"https://bram.us/author/bramus/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"The future of CSS: Higher Level Custom Properties to control multiple declarations"}],["meta",{"property":"og:description","content":"Article(s) > The future of CSS: Higher Level Custom Properties to control multiple declarations"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png"}],["meta",{"name":"twitter:image:alt","content":"The future of CSS: Higher Level Custom Properties to control multiple declarations"}],["meta",{"property":"article:author","content":"Bramus!"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"bram.us"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2020-12-31T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > The future of CSS: Higher Level Custom Properties to control multiple declarations"},{"property":"og:description","content":"The future of CSS: Higher Level Custom Properties to control multiple declarations"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.html"}]],"prev":"/programming/css/articles/README.md","date":"2020-12-31T00:00:00.000Z","isOriginal":false,"author":[{"name":"Bramus!","url":"https://bram.us/author/bramus/"}],"cover":"https://bram.us/wordpress/wp-content/uploads/2020/12/higher-level-custom-properties.png"},"git":{},"readingTime":{"minutes":11.24,"words":3373},"filePathRelative":"bram.us/the-future-of-css-higher-level-custom-properties-to-control-multiple-declarations.md","copyright":{"author":"Bramus!"}}');export{$ as comp,K as data};
