import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as u,d as o,f as n,b as d,a as f,t as k,n as a,g as l,w as m,e as t,r as i,o as w}from"./app-BItykJLQ.js";const v={},y={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},b={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},D={class:"table-of-contents"},I={href:"https://docs.docker.com/docker-for-windows/edge-release-notes/#docker-desktop-community-2170",target:"_blank",rel:"noopener noreferrer"},A={href:"https://en.wikipedia.org/wiki/Filesystem_in_Userspace",target:"_blank",rel:"noopener noreferrer"},N={class:"hint-container info"},T={href:"https://docs.docker.com/docker-for-windows/edge-release-notes/#docker-desktop-community-2170",target:"_blank",rel:"noopener noreferrer"},W={href:"https://github.com/docker/for-win",target:"_blank",rel:"noopener noreferrer"},E={href:"https://download.docker.com/win/edge/41561/Docker%20Desktop%20Installer.exe",target:"_blank",rel:"noopener noreferrer"},S={href:"https://symfony.com/",target:"_blank",rel:"noopener noreferrer"},U={href:"https://github.com/djs55/symfony-demo",target:"_blank",rel:"noopener noreferrer"};function x(c,e){const s=i("VPCard"),p=i("router-link"),h=i("SiteInfo"),r=i("VPIcon");return w(),u("div",null,[o("h1",y,[o("a",b,[o("span",null,k(c.$frontmatter.title)+" ê´€ë ¨",1)])]),n(s,a(l({title:"Docker > Article(s)",desc:"Article(s)",link:"/devops/docker/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n(s,a(l({title:"Windows > Article(s)",desc:"Article(s)",link:"/devops/win/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),o("nav",D,[o("ul",null,[o("li",null,[n(p,{to:"#big-performance-improvements"},{default:m(()=>[...e[0]||(e[0]=[t("Big performance improvements",-1)])]),_:1})]),o("li",null,[n(p,{to:"#additional-enhancements"},{default:m(()=>[...e[1]||(e[1]=[t("Additional enhancements",-1)])]),_:1})])])]),e[26]||(e[26]=o("hr",null,null,-1)),n(h,{name:"New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker",desc:"The latest Edge release of Docker Desktop for Windows 2.1.7.0 has a completely new filesharing implementation using Filesystem in Userspace (FUSE) instead of Samba.",url:"https://docker.com/blog/new-filesharing-implementation-in-docker-desktop-windows",logo:"https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png",preview:"https://docker.com/app/uploads/2019/12/helloquence-5fNmWej4tAA-unsplash-1110x741.jpg"}),e[27]||(e[27]=d(`<p>A common developer workflow when using frameworks like Symfony or React is to edit the source code using a Windows IDE while running the app itself in a Docker container. The source is shared between the host and the container with a command like the following:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> C:<span class="token punctuation">\\</span>Users<span class="token punctuation">\\</span>me:/code <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 my-symfony-app</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This allows the developer to edit the source code, save the changes and immediately see the results in their browser. This is where file sharing performance becomes critical.</p>`,3)),o("p",null,[e[4]||(e[4]=t("The latest ",-1)),o("a",I,[n(r,{icon:"fa-brands fa-docker"}),e[2]||(e[2]=t("Edge release of Docker Desktop for Windows 2.1.7.0",-1))]),e[5]||(e[5]=t(" has ",-1)),e[6]||(e[6]=o("strong",null,"a completely new filesharing implementation",-1)),e[7]||(e[7]=t(" using ",-1)),o("a",A,[n(r,{icon:"fa-brands fa-wikipedia-w"}),e[3]||(e[3]=t("Filesystem in Userspace (FUSE)",-1))]),e[8]||(e[8]=t(" instead of Samba which:",-1))]),e[28]||(e[28]=o("ul",null,[o("li",null,"uses caching to (for example) reduce page load time in Symfony by up to 60%;"),o("li",null,"supports Linux inotify events, triggering automatic recompilation / reload when the source code is changed;"),o("li",null,"is independent of how you authenticate to Windows: smartcard, Azure AD are all fine;"),o("li",null,"always works irrespective of whether your VPN is connected or disconnected;"),o("li",null,"reduces the amount of code running as Administrator.")],-1)),o("div",N,[e[17]||(e[17]=o("p",{class:"hint-container-title"},"Your feedback needed!",-1)),o("p",null,[e[13]||(e[13]=t("This improvement is available today in the ",-1)),o("a",T,[n(r,{icon:"fa-brands fa-docker"}),e[9]||(e[9]=t("Edge 2.1.7.0 release",-1))]),e[14]||(e[14]=t(" and will roll-out to the stable channel later once weâ€™ve had enough positive feedback. Please download it, give it a try and let us know how it goes. If you discover any problems, please report them on ",-1)),o("a",W,[e[10]||(e[10]=t("GitHub (",-1)),n(r,{icon:"iconfont icon-github"}),e[11]||(e[11]=o("code",null,"docker/for-win",-1)),e[12]||(e[12]=t(")",-1))]),e[15]||(e[15]=t(" and make sure you fill descriptions and reproduction steps so that we can quickly investigate.",-1))]),o("p",null,[o("a",E,[n(r,{icon:"fas fa-download"}),e[16]||(e[16]=t("DOWNLOAD",-1))])])]),e[29]||(e[29]=o("hr",null,null,-1)),e[30]||(e[30]=o("h2",{id:"big-performance-improvements",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#big-performance-improvements"},[o("span",null,"Big performance improvements")])],-1)),o("p",null,[e[19]||(e[19]=t("Performance is vital when application source code is being shared between the host and a container. For example when a developer uses the ",-1)),o("a",S,[n(r,{icon:"fas fa-globe"}),e[18]||(e[18]=t("Symfony PHP framework",-1))]),e[20]||(e[20]=t(", edits the source code and then reloads the page in the browser, the web-server in the container must re-read many PHP files stored on the host. This must be fast.",-1))]),o("p",null,[e[24]||(e[24]=t("The following graph shows the time taken to load a page of a ",-1)),o("a",U,[e[21]||(e[21]=t("simple symfony demo (",-1)),n(r,{icon:"iconfont icon-github"}),e[22]||(e[22]=o("code",null,"djs55/symfony-demo",-1)),e[23]||(e[23]=t(")",-1))]),e[25]||(e[25]=t(" in three configurations:",-1))]),e[31]||(e[31]=d('<ol><li><strong>Previous version</strong>: this is the implementation in earlier versions of Docker Desktop</li><li><strong>Docker Desktop Edge 2.1.7.0</strong>: this is the new (faster!) implementation</li><li><strong>In-container</strong>: the files are not shared from the host at all, instead they are stored in the container to show the upper limit on possible future performance.</li></ol><figure><img src="https://docker.com/app/uploads/2019/12/imageLikeEmbed.png?fit=1110%2C686&amp;ssl=1" alt="imageLikeEmbed" tabindex="0" loading="lazy"><figcaption>imageLikeEmbed</figcaption></figure><p>The two bars on the left hand side show the latency (in seconds) using an older version of Docker Desktop. Note that the second fetch is only slightly better than the first, suggesting that the effect of caching is small.</p><p>The two bars on the right hand side show the latency when the files are not shared at all, but are stored entirely inside the VM. This is the upper limit on performance if the volume sharing system were perfect and had zero overheads.</p><p>The two bars in the middle show the latency when the files are shared with the new system in Docker Desktop Edge 2.1.7.0. The initial (uncached) fetch is already better than with the previous Desktop version, but the second (cached) fetch is <strong>60% faster!</strong></p><hr><h2 id="additional-enhancements" tabindex="-1"><a class="header-anchor" href="#additional-enhancements"><span>Additional enhancements</span></a></h2><p>As well as big performance improvements, the new implementation has the following additional benefits:</p><ul><li>The new version <strong>canâ€™t conflict with organisation-wide security policies</strong> as we donâ€™t need to use Administrator privileges to share the drive and create a firewall exception for port 445.</li><li>The new version <strong>doesnâ€™t require the user to enter their domain credentials</strong>. Not only is this fundamentally more secure, but it avoids the user having to re-enter their credentials every time they change their password. Many organisations require regular password changes, which means the user needed to refresh the credentials frequently.</li><li>The new version supports users who <strong>authenticate via a smartcard</strong>, or AzureAD or any other method. Previously we could only support users who login with a username and password.</li><li>The new version is <strong>immune to a class of problems caused by enterprise VPN clients and endpoint security software</strong> clashing with the Hyper-V network adapter.</li></ul><p>Stay tuned for a follow up post that deep dives into the new Docker Desktop filesharing implementation using FUSE.</p>',10)),f(" TODO: add ARTICLE CARD "),n(s,a(l({title:"New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker",desc:"The latest Edge release of Docker Desktop for Windows 2.1.7.0 has a completely new filesharing implementation using Filesystem in Userspace (FUSE) instead of Samba.",link:"https://chanhi2000.github.io/bookshelf/docker.com/new-filesharing-implementation-in-docker-desktop-windows.html",logo:"https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png",background:"rgba(29,99,237,0.2)"})),null,16)])}const L=g(v,[["render",x]]),V=JSON.parse('{"path":"/docker.com/new-filesharing-implementation-in-docker-desktop-windows.html","title":"New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker","lang":"en-US","frontmatter":{"lang":"en-US","title":"New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker","description":"Article(s) > New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker","icon":"fa-brands fa-docker","category":["DevOps","Docker","Windows","Article(s)"],"tag":["blog","docker.com","devops","docker","win","windows"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker\\",\\"image\\":[\\"https://docker.com/app/uploads/2019/12/imageLikeEmbed.png?fit=1110%2C686&ssl=1\\"],\\"datePublished\\":\\"2019-12-12T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"David Scott\\",\\"url\\":\\"https://docker.com/author/dscott/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/docker.com/new-filesharing-implementation-in-docker-desktop-windows.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker"}],["meta",{"property":"og:description","content":"Article(s) > New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://docker.com/app/uploads/2019/12/helloquence-5fNmWej4tAA-unsplash-1110x741.jpg"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://docker.com/app/uploads/2019/12/helloquence-5fNmWej4tAA-unsplash-1110x741.jpg"}],["meta",{"name":"twitter:image:alt","content":"New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker"}],["meta",{"property":"article:author","content":"David Scott"}],["meta",{"property":"article:tag","content":"windows"}],["meta",{"property":"article:tag","content":"win"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:tag","content":"docker.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2019-12-12T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker"},{"property":"og:description","content":"New Filesharing Implementation in Docker Desktop Windows Improves Developer Inner Loop UXDocker"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/docker.com/new-filesharing-implementation-in-docker-desktop-windows.html"}]],"prev":"/devops/docker/articles/README.md","date":"2019-12-12T00:00:00.000Z","isOriginal":false,"author":[{"name":"David Scott","url":"https://docker.com/author/dscott/"}],"cover":"https://docker.com/app/uploads/2019/12/helloquence-5fNmWej4tAA-unsplash-1110x741.jpg"},"git":{},"readingTime":{"minutes":3.54,"words":1063},"filePathRelative":"docker.com/new-filesharing-implementation-in-docker-desktop-windows.md","copyright":{"author":"David Scott"}}');export{L as comp,V as data};
