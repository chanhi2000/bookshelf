import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as k,d as s,f as t,b as l,t as m,n as v,g as h,w as o,e as a,r as i,o as g}from"./app-BVguHYKu.js";const w={},y={id:"frontmatter-title-관련",tabindex:"-1"},b={class:"header-anchor",href:"#frontmatter-title-관련"},f={class:"table-of-contents"},q={href:"https://raywenderlich.com/126528/android-recyclerview-tutorial",target:"_blank",rel:"noopener noreferrer"},R={href:"https://koenig-media.raywenderlich.com/uploads/2017/12/marsrovers-starter-1.zip",target:"_blank",rel:"noopener noreferrer"},x={href:"https://github.com/bumptech/glide",target:"_blank",rel:"noopener noreferrer"},A={href:"https://koenig-media.raywenderlich.com/uploads/2017/12/marsrovers-final-1.zip",target:"_blank",rel:"noopener noreferrer"},V={href:"https://developer.android.com/guide/topics/ui/layout/recyclerview?hl=ko",target:"_blank",rel:"noopener noreferrer"},P={href:"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.html",target:"_blank",rel:"noopener noreferrer"},T={href:"https://developer.android.com/reference/android/support/v7/util/DiffUtil.html",target:"_blank",rel:"noopener noreferrer"};function I(c,n){const u=i("VPCard"),p=i("router-link"),r=i("SiteInfo"),e=i("VPIcon");return g(),k("div",null,[s("h1",y,[s("a",b,[s("span",null,m(c.$frontmatter.title)+" 관련",1)])]),t(u,v(h({title:"Android > Article(s)",desc:"Article(s)",link:"/programming/java-android/articles/README.md",logo:"https://chanhi2000.github.io/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",f,[s("ul",null,[s("li",null,[t(p,{to:"#getting-started"},{default:o(()=>n[0]||(n[0]=[a("Getting Started")])),_:1,__:[0]}),s("ul",null,[s("li",null,[t(p,{to:"#manifest"},{default:o(()=>n[1]||(n[1]=[a("Manifest")])),_:1,__:[1]})]),s("li",null,[t(p,{to:"#string-data"},{default:o(()=>n[2]||(n[2]=[a("String Data")])),_:1,__:[2]})])])]),s("li",null,[t(p,{to:"#main-layout"},{default:o(()=>n[3]||(n[3]=[a("Main Layout")])),_:1,__:[3]})]),s("li",null,[t(p,{to:"#viewholder"},{default:o(()=>n[4]||(n[4]=[a("ViewHolder")])),_:1,__:[4]})]),s("li",null,[t(p,{to:"#adapter-layouts"},{default:o(()=>n[5]||(n[5]=[a("Adapter Layouts")])),_:1,__:[5]}),s("ul",null,[s("li",null,[t(p,{to:"#header-style"},{default:o(()=>n[6]||(n[6]=[a("Header Style")])),_:1,__:[6]})])])]),s("li",null,[t(p,{to:"#data"},{default:o(()=>n[7]||(n[7]=[a("Data")])),_:1,__:[7]})]),s("li",null,[t(p,{to:"#adapter"},{default:o(()=>n[8]||(n[8]=[a("Adapter")])),_:1,__:[8]})]),s("li",null,[t(p,{to:"#section-headers"},{default:o(()=>n[9]||(n[9]=[a("Section Headers")])),_:1,__:[9]})]),s("li",null,[t(p,{to:"#diffutil"},{default:o(()=>n[10]||(n[10]=[a("DiffUtil")])),_:1,__:[10]}),s("ul",null,[s("li",null,[t(p,{to:"#additional-methods"},{default:o(()=>n[11]||(n[11]=[a("Additional Methods")])),_:1,__:[11]})])])]),s("li",null,[t(p,{to:"#retrofit"},{default:o(()=>n[12]||(n[12]=[a("Retrofit")])),_:1,__:[12]})]),s("li",null,[t(p,{to:"#updating-the-main-ui"},{default:o(()=>n[13]||(n[13]=[a("Updating the main UI")])),_:1,__:[13]})]),s("li",null,[t(p,{to:"#filtering"},{default:o(()=>n[14]||(n[14]=[a("Filtering")])),_:1,__:[14]})]),s("li",null,[t(p,{to:"#itemdecorators"},{default:o(()=>n[15]||(n[15]=[a("ItemDecorators")])),_:1,__:[15]})]),s("li",null,[t(p,{to:"#animations"},{default:o(()=>n[16]||(n[16]=[a("Animations")])),_:1,__:[16]})]),s("li",null,[t(p,{to:"#swiping"},{default:o(()=>n[17]||(n[17]=[a("Swiping")])),_:1,__:[17]})]),s("li",null,[t(p,{to:"#where-to-go-from-here"},{default:o(()=>n[18]||(n[18]=[a("Where to go from here")])),_:1,__:[18]})])])]),n[140]||(n[140]=s("hr",null,null,-1)),t(r,{name:"Intermediate RecyclerView Tutorial with Kotlin",desc:"In this RecyclerView tutorial you will learn how to build out intermediate techniques like swiping, animation and filtering in Kotlin.",url:"https://kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin",logo:"https://assets.carolus.kodeco.com/assets/murakami/category-icons/category-user-interface-android-d049bddfca80caac9854127a21a7287890d0ad1cd10fc7d7cb6538dc0d8d76a0.svg",preview:"https://koenig-media.raywenderlich.com/uploads/2017/12/RecyclerViewIntermediate-twitter.png"}),n[141]||(n[141]=s("p",null,"Have you ever wanted to go to Mars or just look out over Mars’ horizon? We can’t send you there but we can give you the next best thing: an app with images from all the Mars rovers.",-1)),n[142]||(n[142]=s("p",null,[a("To show those images, we’ll use one of Android’s most popular views: the "),s("code",null,"RecyclerView"),a(".")],-1)),n[143]||(n[143]=s("p",null,[a("The "),s("code",null,"RecyclerView"),a(" layout was introduced in the Lollipop support library and Android developers have been using it for awhile. It is one of the most useful layouts and gives you more flexibility compared to a "),s("code",null,"ListView"),a(" in a much more performant package.")],-1)),n[144]||(n[144]=s("p",null,"However, you may not know all that you can do with it. In this tutorial, you’ll see how to add sections, animations, dividers, and swipe gestures.",-1)),s("p",null,[n[20]||(n[20]=a("You should be familiar with the basics of using ")),n[21]||(n[21]=s("code",null,"ReyclerView",-1)),n[22]||(n[22]=a(". If not, you can read an introduction to using ")),n[23]||(n[23]=s("code",null,"RecyclerView",-1)),n[24]||(n[24]=a()),s("a",q,[t(e,{icon:"fas fa-globe"}),n[19]||(n[19]=a("here"))]),n[25]||(n[25]=a("."))]),n[145]||(n[145]=s("p",null,"Here is a screenshot from the final version of our app:",-1)),n[146]||(n[146]=s("p",null,"![mars rover screenshot](https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507091574-281x500.png =240x)",-1)),n[147]||(n[147]=s("p",null,"Checkout those amazing Mars landscapes!",-1)),n[148]||(n[148]=s("p",null,[a("You’re going to continue with the NASA site used in the previous "),s("code",null,"RecyclerView"),a(" tutorial, but do things a bit differently. You’ll be using an API that will return a list of Mars rover photos. Along with the "),s("code",null,"RecyclerView"),a(" of photos, there are two spinners to change the list of photos: one for rovers and the other for cameras.")],-1)),n[149]||(n[149]=s("hr",null,null,-1)),n[150]||(n[150]=s("h2",{id:"getting-started",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#getting-started"},[s("span",null,"Getting Started")])],-1)),s("p",null,[n[27]||(n[27]=a("Download the starter project ")),s("a",R,[t(e,{icon:"iconfont icon-select"}),n[26]||(n[26]=a("here"))]),n[28]||(n[28]=a(". Open it up in Android Studio 3.0.1 or later."))]),n[151]||(n[151]=s("p",null,[a("Next, head to the NASA site ("),s("a",{href:"https://api.nasa.gov/index.html#apply-for-an-api-key",target:"_blank",rel:"noopener noreferrer"},"https://api.nasa.gov/index.html#apply-for-an-api-key"),a(") and get an API key to use for the rover photos.")],-1)),n[152]||(n[152]=s("p",null,[a("Build and run your app on an emulator or phone. You should see a default “Hello World!” "),s("strong",null,"TextView"),a(" in the center.")],-1)),n[153]||(n[153]=s("p",null,"![screenshot](https://koenig-media.raywenderlich.com/uploads/2017/09/Screenshot_20170925-222953-281x500.png =240x)",-1)),n[154]||(n[154]=s("h3",{id:"manifest",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#manifest"},[s("span",null,"Manifest")])],-1)),s("p",null,[n[29]||(n[29]=a("Add the following to your ")),t(e,{icon:"fa-brands fa-android"}),n[30]||(n[30]=a("``AndroidManifest.xml` file before the application tag:"))]),n[155]||(n[155]=l(`<div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This will allow you to get information from the NASA website. Note that this is not considered a “dangerous” permission and the user will not be asked to approve it.</p><h3 id="string-data" tabindex="-1"><a class="header-anchor" href="#string-data"><span>String Data</span></a></h3>`,3)),s("p",null,[n[31]||(n[31]=a("To populate the spinners on the main screen, you will need to add strings for the spinners to the ")),t(e,{icon:"iconfont icon-code"}),n[32]||(n[32]=s("code",null,"strings.xml",-1)),n[33]||(n[33]=a(" file. Open ")),t(e,{icon:"iconfont icon-code"}),n[34]||(n[34]=s("code",null,"strings.xml",-1)),n[35]||(n[35]=a(" in the ")),t(e,{icon:"fas fa-folder-open"}),n[36]||(n[36]=s("code",null,"res/values",-1)),n[37]||(n[37]=a(" folder and add the following after the ")),n[38]||(n[38]=s("code",null,"app_name",-1)),n[39]||(n[39]=a(" string:"))]),n[156]||(n[156]=l(`<div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>api_error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Problems getting Photos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rovers<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Rovers<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cameras<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Cameras<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string-array</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rovers<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Curiosity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Opportunity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Spirit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string-array</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string-array</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>camera_names<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Front Hazard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Rear Hazard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Navigation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Panoramic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>Mast<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string-array</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string-array</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>camera_values<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>FHAZ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>RHAZ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>NAVCAM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>PANCAM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>MAST<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string-array</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="main-layout" tabindex="-1"><a class="header-anchor" href="#main-layout"><span>Main Layout</span></a></h2>`,3)),s("p",null,[n[40]||(n[40]=a("You need to modify the main layout and add some code to the ")),n[41]||(n[41]=s("code",null,"MainActivity",-1)),n[42]||(n[42]=a(" class. Start out by replacing the layout in the ")),t(e,{icon:"iconfont icon-code"}),n[43]||(n[43]=s("code",null,"activity_main.xml",-1)),n[44]||(n[44]=a(" file."))]),n[157]||(n[157]=l(`<div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.constraint.ConstraintLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">xmlns:</span>app</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res-auto<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">tools:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.raywenderlich.marsrovers.MainActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.constraint.ConstraintLayout</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/control_layout<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintLeft_toLeftOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toTopOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/roverLabel<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/rovers<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toTopOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.v7.widget.AppCompatSpinner</span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/rovers<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toTopOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/cameraLabel<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/cameras<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/roverLabel<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.v7.widget.AppCompatSpinner</span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/cameras<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/rovers<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>android.support.constraint.ConstraintLayout</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.v7.widget.RecyclerView</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/recycler_view<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gone<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintBottom_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintLeft_toLeftOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/control_layout<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ProgressBar</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/progress<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>indeterminate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintBottom_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintLeft_toLeftOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/control_layout<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>android.support.constraint.ConstraintLayout</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This uses Android&#39;s new <code>ConstraintLayout</code> to add two rows of spinners, one for the Rover and one for the camera. There’s a <code>RecyclerView</code> below the spinners. Below the <code>RecyclerView</code> there is a <code>ProgressBar</code> that will spin while the data is loading.</p>`,2)),s("p",null,[n[45]||(n[45]=a("Now, time to modify ")),t(e,{icon:"iconfont icon-java"}),n[46]||(n[46]=s("code",null,"MainActivity.kt",-1)),n[47]||(n[47]=a(". In the ")),n[48]||(n[48]=s("code",null,"onCreate()",-1)),n[49]||(n[49]=a(" method, after the call to ")),n[50]||(n[50]=s("code",null,"setContentView",-1)),n[51]||(n[51]=a(", add the following:"))]),n[158]||(n[158]=l(`<div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line">recycler_view<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE</span>
<span class="line">recycler_view<span class="token punctuation">.</span>layoutManager <span class="token operator">=</span> <span class="token function">LinearLayoutManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),s("p",null,[n[52]||(n[52]=a("When Android Studio gives you an error on ")),n[53]||(n[53]=s("code",null,"recycler_view",-1)),n[54]||(n[54]=a(", put your cursor on ")),n[55]||(n[55]=s("code",null,"recycler_view",-1)),n[56]||(n[56]=a(" and hit ")),n[57]||(n[57]=s("kbd",null,"option",-1)),n[58]||(n[58]=a("+")),n[59]||(n[59]=s("kbd",null,"return",-1)),n[60]||(n[60]=a(" on Mac or ")),n[61]||(n[61]=s("kbd",null,"Alt",-1)),n[62]||(n[62]=a("+")),n[63]||(n[63]=s("kbd",null,"Enter",-1)),n[64]||(n[64]=a(" on PC and select ")),t(e,{icon:"iconfont icon-select"}),n[65]||(n[65]=s("code",null,"[Import]",-1)),n[66]||(n[66]=a(". This uses the Kotlin Android Extensions to turn the ")),n[67]||(n[67]=s("code",null,"R.id.recycler_view",-1)),n[68]||(n[68]=a(" id into a ")),n[69]||(n[69]=s("code",null,"recycler_view",-1)),n[70]||(n[70]=a(" variable."))]),n[159]||(n[159]=l('<p>Now, run the app and you should see the following:</p><p>![mars rover screenshot](https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507085951-281x500.png =240x)</p><hr><h2 id="viewholder" tabindex="-1"><a class="header-anchor" href="#viewholder"><span>ViewHolder</span></a></h2><p>The <code>ViewHolder</code> class holds the inflated view, is created in a <code>RecyclerView.Adapter</code> in <code>onCreateViewHolder</code> and bound in <code>onBindViewHolder</code>.</p><p>Before <code>RecyclerView</code>, Android developers used <code>ListView</code> to achieve similar behavior. As <code>ListView</code> usage matured, developers started using the “view holder” pattern and Google then made <code>ViewHolder</code> a key part of the <code>RecyclerView</code> API.</p><p>You’ll be creating a special <code>ViewHolder</code> class that will allow you to handle text and image views without using <code>findViewById</code>. In this <code>DefaultViewHolder</code> class, you’ll start by going through all of the child views and putting them in a map so that you can easily retrieve the view later. See the starter project for the full <code>DefaultViewHolder</code> class.</p><hr><h2 id="adapter-layouts" tabindex="-1"><a class="header-anchor" href="#adapter-layouts"><span>Adapter Layouts</span></a></h2><p>You need to create the two layouts that will be used in the adapter, one for the section headers, and one for the rows themselves. First, you’ll add the header style needed for the header item layout.</p><h3 id="header-style" tabindex="-1"><a class="header-anchor" href="#header-style"><span>Header Style</span></a></h3>',11)),s("p",null,[n[71]||(n[71]=a("Open the ")),t(e,{icon:"iconfont icon-code"}),n[72]||(n[72]=s("code",null,"styles.xml",-1)),n[73]||(n[73]=a(" file in the values resource folder and add the following style that will be used in the ")),t(e,{icon:"iconfont icon-code"}),n[74]||(n[74]=s("code",null,"header_item.xml",-1)),n[75]||(n[75]=a(" file:"))]),n[160]||(n[160]=l(`<div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android:textSize<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>16sp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android:textColor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>@android:color/holo_red_dark<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),s("p",null,[n[76]||(n[76]=a("You can use any color you’d like. To create the header, go to the ")),t(e,{icon:"fas fa-folder-open"}),n[77]||(n[77]=s("code",null,"res/layout",-1)),n[78]||(n[78]=a(" folder. Right-click and choose ")),t(e,{icon:"iconfont icon-select"}),n[79]||(n[79]=s("code",null,"[New/Layout resource file]",-1)),n[80]||(n[80]=a(". Name the file ")),t(e,{icon:"iconfont icon-code"}),n[81]||(n[81]=s("code",null,"header_item.xml",-1)),n[82]||(n[82]=a(". You can leave the root element as suggested and then replace everything with the following:"))]),n[161]||(n[161]=l(`<div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10dp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/header_text<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@style/header<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">tools:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Front Hazard<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This is just a <code>TextView</code> for the header text.</p>`,2)),s("p",null,[n[83]||(n[83]=a("Next, right-click on the layout folder and create a new layout named ")),t(e,{icon:"iconfont icon-code"}),n[84]||(n[84]=s("code",null,"row_item.xml",-1)),n[85]||(n[85]=a(". Again, leave the root element and replace with:"))]),n[162]||(n[162]=l(`<div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageView</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/camera_image<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>adjustViewBounds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>scaleType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fitXY<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/date<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">tools:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10/07/2017<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This has an <code>ImageView</code> for the mars photo and a <code>TextView</code> for the date of the image below it.</p><hr><h2 id="data" tabindex="-1"><a class="header-anchor" href="#data"><span>Data</span></a></h2><p>You’ll be populating the <code>RecyclerView.Adapter</code> using data from the NASA site: <a href="https://api.nasa.gov/api.html#MarsPhotos" target="_blank" rel="noopener noreferrer">https://api.nasa.gov/api.html#MarsPhotos</a>.</p><p>An easy way to test an API is to use the Postman Chrome extension or the Postman app <a href="https://www.getpostman.com/" target="_blank" rel="noopener noreferrer">https://www.getpostman.com</a>. Once you’ve installed it, take the url <code>https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?sol=1000&amp;api_key=</code> and add your key to the end.</p><p>Hit the “Send” button in Postman and you’ll see the returned JSON in the Response section. Notice how it returns an object that has 1 item named photos, which is an array of objects. Now, you’ll create models to hold the data that comes back.</p>`,7)),s("p",null,[n[86]||(n[86]=a("In Android Studio, navigate to the ")),n[87]||(n[87]=s("code",null,"com.raywenderlich.marsrovers",-1)),n[88]||(n[88]=a(" package. Right click and select ")),t(e,{icon:"iconfont icon-select"}),n[89]||(n[89]=s("code",null,"[New/Package]",-1)),n[90]||(n[90]=a(" to create a new package named ")),n[91]||(n[91]=s("code",null,"models",-1)),n[92]||(n[92]=a("."))]),s("p",null,[n[93]||(n[93]=a("Next, right-click on the ")),n[94]||(n[94]=s("code",null,"models",-1)),n[95]||(n[95]=a(" package and select ")),t(e,{icon:"iconfont icon-select"}),n[96]||(n[96]=s("code",null,"[New/Kotlin File/Class]",-1)),n[97]||(n[97]=a(". Name the file ")),n[98]||(n[98]=s("code",null,"Camera",-1)),n[99]||(n[99]=a(", choose ")),n[100]||(n[100]=s("code",null,"Class",-1)),n[101]||(n[101]=a(" as the “Kind” and replace the generated code with the following:"))]),n[163]||(n[163]=l(`<div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Camera</span><span class="token punctuation">(</span><span class="token keyword">val</span> id<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> rover_id<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">val</span> full_name<span class="token operator">:</span> String<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Notice that you are using the <code>data</code> keyword to have Kotlin create the getters and setters for you, and that the class doesn’t need a beginning or ending brace as there are no methods. The field names match the names of the fields in the JSON response returned from the NASA API endpoint. You could make the names more readable, but you’d have to add some annotations to do that. For now, just use the given names.</p><p>Next, right-click on the <code>models</code> package and create a new Kotlin class named <code>Photo</code> and replace with the following:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Photo</span><span class="token punctuation">(</span><span class="token keyword">val</span> id <span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">val</span> img_src <span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> earth_date<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> camera<span class="token operator">:</span> Camera<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Create another Kotlin class named <code>PhotoList</code>. The <code>PhotoList</code> class just holds a list of photos and is the root element of the JSON data:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">PhotoList</span><span class="token punctuation">(</span><span class="token keyword">val</span> photos<span class="token operator">:</span> List<span class="token operator">&lt;</span>Photo<span class="token operator">&gt;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Finally, create a <code>PhotoRow</code> class that will be used to indicate that a row is either a photo or a header. This way, you can just have a list of <code>PhotoRow</code> objects and check which type to show based on the value of the <code>RowType</code> enum. Create a new Kotlin file called <code>PhotoRow</code> in the <code>models</code> package and add the following:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">enum</span> <span class="token keyword">class</span> RowType <span class="token punctuation">{</span></span>
<span class="line">   PHOTO<span class="token punctuation">,</span></span>
<span class="line">   HEADER</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">PhotoRow</span><span class="token punctuation">(</span><span class="token keyword">var</span> type<span class="token operator">:</span> RowType<span class="token punctuation">,</span> <span class="token keyword">var</span> photo<span class="token operator">:</span> Photo<span class="token operator">?</span><span class="token punctuation">,</span> <span class="token keyword">var</span> header<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>type</code> property will distinguish between photos and headers. The row will have either a photo or a header string. Both the photo and header variables are nullable.</p><hr><h2 id="adapter" tabindex="-1"><a class="header-anchor" href="#adapter"><span>Adapter</span></a></h2>`,11)),s("p",null,[n[102]||(n[102]=a("Your adapter will extend the ")),n[103]||(n[103]=s("code",null,"RecyclerView.Adapter",-1)),n[104]||(n[104]=a(" class and use ")),n[105]||(n[105]=s("code",null,"DefaultViewHolder",-1)),n[106]||(n[106]=a(". Navigate to the ")),t(e,{icon:"fas fa-folder-open"}),n[107]||(n[107]=s("code",null,"com.raywenderlich.marsrovers.recyclerview",-1)),n[108]||(n[108]=a(" package and add a new Kotlin class called ")),n[109]||(n[109]=s("code",null,"PhotoAdapter",-1)),n[110]||(n[110]=a("."))]),n[164]||(n[164]=l(`<p>The class will start out like so:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">class</span> <span class="token function">PhotoAdapter</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">var</span> photoList<span class="token operator">:</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span>Adapter<span class="token operator">&lt;</span>DefaultViewHolder<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Along with the passed in list of photos, create two more variables at the beginning of the class:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">var</span> filteredPhotos <span class="token operator">=</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">var</span> filtering <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>filterPhotos</code> list is used to hold photos for a specific camera, and the <code>filtering</code> flag will be true when the user is filtering.</p><p>There are three abstract methods of <code>RecyclerView.Adapter</code> that have to be implemented: <code>getItemCount</code>, <code>onCreateViewHolder</code>, and <code>onBindViewHolder</code>. You will also override the <code>getItemViewType</code> method to return different values for the header and photo row type.</p><p><code>getItemCount</code> returns the number of photos available. If filtering is on, return the size from the filtered list:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span></span>
<span class="line"> <span class="token keyword">if</span> <span class="token punctuation">(</span>filtering<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">     <span class="token keyword">return</span> filteredPhotos<span class="token punctuation">.</span>size</span>
<span class="line"> <span class="token punctuation">}</span></span>
<span class="line"> <span class="token keyword">return</span> photoList<span class="token punctuation">.</span>size</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>onBindViewHolder</code> is where you load the photo or set the header text.</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span>holder<span class="token operator">:</span> DefaultViewHolder<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">val</span> photoRow <span class="token operator">:</span> PhotoRow <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>filtering<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    filteredPhotos<span class="token punctuation">[</span>position<span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    photoList<span class="token punctuation">[</span>position<span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>photoRow<span class="token punctuation">.</span>type <span class="token operator">==</span> RowType<span class="token punctuation">.</span>PHOTO<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> photo <span class="token operator">=</span> photoRow<span class="token punctuation">.</span>photo</span>
<span class="line">    Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>holder<span class="token punctuation">.</span>itemView<span class="token punctuation">.</span>context<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>photo<span class="token operator">?</span><span class="token punctuation">.</span>img_src<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>holder<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>camera_image<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    photo<span class="token operator">?</span><span class="token punctuation">.</span>earth_date<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> holder<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>date<span class="token punctuation">,</span> it<span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    photoRow<span class="token punctuation">.</span>header<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> holder<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>header_text<span class="token punctuation">,</span> it<span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10)),s("p",null,[n[112]||(n[112]=a("You can see that you’re using ")),s("a",x,[t(e,{icon:"iconfont icon-github"}),n[111]||(n[111]=s("code",null,"bumptech/glide",-1))]),n[113]||(n[113]=a(" to load images into the ")),n[114]||(n[114]=s("code",null,"ImageView",-1)),n[115]||(n[115]=a(". Glide seemed to work better for all of the Mars photos than ")),n[116]||(n[116]=s("a",{href:"http://square.github.io/picasso/",target:"_blank",rel:"noopener noreferrer"},"Picasso",-1)),n[117]||(n[117]=a(", which was only able to load some of the images."))]),n[165]||(n[165]=l(`<p><code>onCreateViewHolder</code> is where you inflate the layout and return the <strong>ViewHolder</strong>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> ViewGroup<span class="token punctuation">,</span> viewType<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> DefaultViewHolder <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">val</span> layoutInflater <span class="token operator">=</span> LayoutInflater<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>context<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">val</span> inflatedView <span class="token operator">:</span> View <span class="token operator">=</span> <span class="token keyword">when</span> <span class="token punctuation">(</span>viewType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    RowType<span class="token punctuation">.</span>PHOTO<span class="token punctuation">.</span>ordinal <span class="token operator">-&gt;</span> layoutInflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>row_item<span class="token punctuation">,</span> parent<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">else</span> <span class="token operator">-&gt;</span> layoutInflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>header_item<span class="token punctuation">,</span> parent<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token function">DefaultViewHolder</span><span class="token punctuation">(</span>inflatedView<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For the two methods <code>onCreateViewHolder</code> and <code>onBindViewHolder</code>, you need to distinguish between a header and photo row. You can do that by checking the PhotoRow’s type, as you’ll see in the next section.</p><hr><h2 id="section-headers" tabindex="-1"><a class="header-anchor" href="#section-headers"><span>Section Headers</span></a></h2><p>To provide headers for rows, you just need to have different row types. This is done by letting the <code>RecyclerView</code> know what type to use for each row.</p><p>Override the <code>getItemViewType</code> method and return a different integer for each type. You will be returning two different types, one for the header and one for the photo. You can use the ordinal of the enum (so the returned values will be 0 and 1). Add the following method after <code>onCreateViewHolder</code>.</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getItemViewType</span><span class="token punctuation">(</span>position<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">=</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>filtering<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    filteredPhotos<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token punctuation">.</span>ordinal</span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    photoList<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token punctuation">.</span>ordinal</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Both <code>getItemCount</code> and <code>getItemViewType</code> need to take into account the filtering flags to use either the original <code>photoList</code> or the <code>filteredPhotos</code> list.</p><p>In <code>onCreateViewHolder</code>, you load in a row_item layout for photos and a head_item layout for the header. The <code>onBindViewHolder</code> checks the type and binds the appropriate items to the <strong>ViewHolder</strong>.</p><p>Now run the app to make sure it builds. Since you haven’t added the adapter to the <strong>RecyclerView</strong> yet, you won’t see anything quite yet, only the spinning ProgressBar.</p><hr><h2 id="diffutil" tabindex="-1"><a class="header-anchor" href="#diffutil"><span>DiffUtil</span></a></h2><p><code>DiffUtil</code> is a utility class from the <code>RecyclerView</code> support library used to calculate the difference between two lists and create the operations that will morph one list into another. It will be used by the <code>RecyclerView.Adapter</code> to trigger the optimal data change notifications that are used to animate the <strong>RecyclerView</strong>‘s rows.</p><p>To use this method, you need to implement the <code>DiffUtil.Callback</code>. Add this to the end of the <code>PhotoAdapter</code> class:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">class</span> <span class="token function">PhotoRowDiffCallback</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">val</span> newRows <span class="token operator">:</span> List<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token keyword">private</span> <span class="token keyword">val</span> oldRows <span class="token operator">:</span> List<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">:</span> DiffUtil<span class="token punctuation">.</span><span class="token function">Callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">areItemsTheSame</span><span class="token punctuation">(</span>oldItemPosition<span class="token operator">:</span> Int<span class="token punctuation">,</span> newItemPosition<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> oldRow <span class="token operator">=</span> oldRows<span class="token punctuation">[</span>oldItemPosition<span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">val</span> newRow <span class="token operator">=</span> newRows<span class="token punctuation">[</span>newItemPosition<span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">return</span> oldRow<span class="token punctuation">.</span>type <span class="token operator">==</span> newRow<span class="token punctuation">.</span>type</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getOldListSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span> oldRows<span class="token punctuation">.</span>size</span>
<span class="line"></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getNewListSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span> newRows<span class="token punctuation">.</span>size</span>
<span class="line"></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">areContentsTheSame</span><span class="token punctuation">(</span>oldItemPosition<span class="token operator">:</span> Int<span class="token punctuation">,</span> newItemPosition<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> oldRow <span class="token operator">=</span> oldRows<span class="token punctuation">[</span>oldItemPosition<span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">val</span> newRow <span class="token operator">=</span> newRows<span class="token punctuation">[</span>newItemPosition<span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">return</span> oldRow <span class="token operator">==</span> newRow</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This class checks the items to see if they are the same type or have the same values. The <code>areItemsTheSame</code> method just checks the row type but the <code>areContentsTheSame</code> checks to see if the rows are equal.</p><h3 id="additional-methods" tabindex="-1"><a class="header-anchor" href="#additional-methods"><span>Additional Methods</span></a></h3><p>To update the photo list, you need to pass in a new list, calculate the difference between the two lists and clear the filter. Add the following methods after <code>getItemViewType</code> in <code>PhotoAdapter</code> to support clearing the filter list, use <code>DiffUtil</code> to tell the <strong>Adapter</strong> how to update the photo views, and remove rows:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">clearFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    filtering <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line">    filteredPhotos<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">fun</span> <span class="token function">updatePhotos</span><span class="token punctuation">(</span>photos <span class="token operator">:</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   DiffUtil<span class="token punctuation">.</span><span class="token function">calculateDiff</span><span class="token punctuation">(</span><span class="token function">PhotoRowDiffCallback</span><span class="token punctuation">(</span>photos<span class="token punctuation">,</span> photoList<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dispatchUpdatesTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span></span>
<span class="line">   photoList <span class="token operator">=</span> photos</span>
<span class="line">   <span class="token function">clearFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">fun</span> <span class="token function">removeRow</span><span class="token punctuation">(</span>row <span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token keyword">if</span> <span class="token punctuation">(</span>filtering<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       filteredPhotos<span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span></span>
<span class="line">   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">       photoList<span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line">   <span class="token function">notifyItemRemoved</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Notice the <code>notifyItemRemoved</code> method. That method will allow animations to occur for the rows around the deleted row because it tells <strong>RecyclerView</strong> exactly how the data in the adapter has changed. It’s best not to use <code>notifyDataSetChanged</code> for this case, as that does not provide <strong>RecyclerView</strong> with details about exactly what has changed.</p><hr><h2 id="retrofit" tabindex="-1"><a class="header-anchor" href="#retrofit"><span>Retrofit</span></a></h2><p>To get the data from NASA, you’ll be using the <a href="http://square.github.io/retrofit/" target="_blank" rel="noopener noreferrer">Retrofit</a> and <a href="https://github.com/square/moshi" target="_blank" rel="noopener noreferrer">Moshi</a> libraries. You’ll use Retrofit for downloading the data and Moshi for converting it from JSON to our models.</p><p>First, create a service interface. Create a new package named <strong>service</strong> and then right click to create a new Kotlin interface named <em><code>NasaApi</code></em>. Replace the code with the following:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">interface</span> NasaApi <span class="token punctuation">{</span></span>
<span class="line">   <span class="token annotation builtin">@GET</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;mars-photos/api/v1/rovers/{rover}/photos?sol=1000&amp;api_key=&lt;key&gt;&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">fun</span> <span class="token function">getPhotos</span><span class="token punctuation">(</span><span class="token annotation builtin">@Path</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;rover&quot;</span></span><span class="token punctuation">)</span> rover<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> Call<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Substitute your key from the NASA site for <code>&lt;key&gt;</code>. This sets up the method to get the list of Photos. The passed in rover string will be substitued for {rover}.</p><p>If you need to add an import for <code>Call</code>, be sure to use the one from the <code>retrofit2</code> package.</p><p>Next, you’ll need to create the actual service. Your service should be a Singleton and in Kotlin, creating one is extremely easy.</p>`,29)),s("p",null,[n[118]||(n[118]=a("Right click on the ")),n[119]||(n[119]=s("code",null,"service",-1)),n[120]||(n[120]=a(" package and select ")),t(e,{icon:"iconfont icon-select"}),n[121]||(n[121]=s("code",null,"[New/Kotlin File/Class]",-1)),n[122]||(n[122]=a(", name it ")),n[123]||(n[123]=s("code",null,"NasaPhotos",-1)),n[124]||(n[124]=a(", and change the ")),n[125]||(n[125]=s("strong",null,"Kind",-1)),n[126]||(n[126]=a(" to ")),t(e,{icon:"iconfont icon-select"}),n[127]||(n[127]=s("code",null,"[Object]",-1)),n[128]||(n[128]=a(". That’s it! You now have a Kotlin Singleton."))]),n[166]||(n[166]=l(`<p>Create a variable named <code>service</code> that is used in the <code>getPhotos</code> method:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">object</span> NasaPhotos <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">val</span> service <span class="token operator">:</span> NasaApi</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>And then add an <code>init</code> method. This will create the instance of Retrofit, set Moshi as the JSON converter, and finally create the <code>service</code> object:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">init</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> retrofit <span class="token operator">=</span> Retrofit<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">       <span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;https://api.nasa.gov/&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">       <span class="token punctuation">.</span><span class="token function">addConverterFactory</span><span class="token punctuation">(</span>MoshiConverterFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">       <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    service <span class="token operator">=</span> retrofit<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>NasaApi<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then, create a new method to make the call for the photos:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">fun</span> <span class="token function">getPhotos</span><span class="token punctuation">(</span>rover<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> Call<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span> <span class="token operator">=</span> service<span class="token punctuation">.</span><span class="token function">getPhotos</span><span class="token punctuation">(</span>rover<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>You’re almost there. You just need to setup the spinners and the <strong>RecyclerView</strong> adapter, which you’ll do next.</p><hr><h2 id="updating-the-main-ui" tabindex="-1"><a class="header-anchor" href="#updating-the-main-ui"><span>Updating the main UI</span></a></h2><p>It’s time to update <code>MainActivity</code> to setup the spinners and load some photos!</p><p>Add a few variables to hold the current rover string and the spinner positions, at the top of <code>MainActivity</code></p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">var</span> currentRover <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;curiosity&quot;</span></span></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">var</span> currentRoverPosition <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">var</span> currentCameraPosition <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Above the <code>MainActivity</code> class declaration add:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">val</span> TAG <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;MarsRover&quot;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The <code>TAG</code> will be used for logging errors.</p><p>Add the following below the <code>onCreate</code> method:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">setupSpinners</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token function">setupRoverSpinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token function">setupCameraSpinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">setupCameraSpinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token comment">// Camera spinner</span></span>
<span class="line">   <span class="token keyword">val</span> cameraStrings <span class="token operator">=</span> resources<span class="token punctuation">.</span><span class="token function">getStringArray</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>camera_values<span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">val</span> cameraAdapter <span class="token operator">=</span> ArrayAdapter<span class="token punctuation">.</span><span class="token function">createFromResource</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>camera_names<span class="token punctuation">,</span> android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_item<span class="token punctuation">)</span></span>
<span class="line">   cameraAdapter<span class="token punctuation">.</span><span class="token function">setDropDownViewResource</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_dropdown_item<span class="token punctuation">)</span></span>
<span class="line">   cameras<span class="token punctuation">.</span>adapter <span class="token operator">=</span> cameraAdapter</span>
<span class="line">   cameras<span class="token punctuation">.</span>onItemSelectedListener <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> AdapterView<span class="token punctuation">.</span><span class="token function">OnItemSelectedListener</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onNothingSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onItemSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> view<span class="token operator">:</span> View<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">,</span> id<span class="token operator">:</span> Long<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">           currentCameraPosition <span class="token operator">=</span> position</span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">setupRoverSpinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token comment">// Setup the spinners for selecting different rovers and cameras</span></span>
<span class="line">   <span class="token keyword">val</span> roverStrings <span class="token operator">=</span> resources<span class="token punctuation">.</span><span class="token function">getStringArray</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>rovers<span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">val</span> adapter <span class="token operator">=</span> ArrayAdapter<span class="token punctuation">.</span><span class="token function">createFromResource</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>rovers<span class="token punctuation">,</span> android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_item<span class="token punctuation">)</span></span>
<span class="line">   adapter<span class="token punctuation">.</span><span class="token function">setDropDownViewResource</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_dropdown_item<span class="token punctuation">)</span></span>
<span class="line">   rovers<span class="token punctuation">.</span>adapter <span class="token operator">=</span> adapter</span>
<span class="line">   rovers<span class="token punctuation">.</span>onItemSelectedListener <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> AdapterView<span class="token punctuation">.</span><span class="token function">OnItemSelectedListener</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onNothingSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onItemSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> view<span class="token operator">:</span> View<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">,</span> id<span class="token operator">:</span> Long<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">           <span class="token keyword">if</span> <span class="token punctuation">(</span>currentRoverPosition <span class="token operator">!=</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">               currentRover <span class="token operator">=</span> roverStrings<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">               <span class="token function">loadPhotos</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">           <span class="token punctuation">}</span></span>
<span class="line">           currentRoverPosition <span class="token operator">=</span> position</span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>These setup the spinners to hold the corresponding string arrays.</p><p>At the end of the <code>onCreate</code> method, add the following two lines that will setup the spinners and load the photos:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token function">setupSpinners</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">loadPhotos</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Next, you’ll load and sort our photos. Add the following after <code>setupRoverSpinner</code> in the <code>MainActivity</code>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">loadPhotos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    progress<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE</span>
<span class="line">    recycler_view<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE</span>
<span class="line">    NasaPhotos<span class="token punctuation">.</span><span class="token function">getPhotos</span><span class="token punctuation">(</span>currentRover<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span> Callback<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span><span class="token operator">?</span><span class="token punctuation">,</span> t<span class="token operator">:</span> Throwable<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">           Snackbar<span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>recycler_view<span class="token punctuation">,</span> R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>api_error<span class="token punctuation">,</span> Snackbar<span class="token punctuation">.</span>LENGTH_LONG<span class="token punctuation">)</span></span>
<span class="line">           Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;Problems getting Photos with error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">t</span></span><span class="token string">.msg&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">       <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResponse</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span><span class="token operator">?</span><span class="token punctuation">,</span> response<span class="token operator">:</span> Response<span class="token operator">&lt;</span>PhotoList<span class="token operator">&gt;</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">           response<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> photoResponse <span class="token operator">-&gt;</span></span>
<span class="line">               <span class="token keyword">if</span> <span class="token punctuation">(</span>photoResponse<span class="token punctuation">.</span>isSuccessful<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                  <span class="token keyword">val</span> body <span class="token operator">=</span> photoResponse<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                  body<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span></span>
<span class="line">                     Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;Received </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">body<span class="token punctuation">.</span>photos<span class="token punctuation">.</span>size</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> photos&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                     <span class="token keyword">if</span> <span class="token punctuation">(</span>recycler_view<span class="token punctuation">.</span>adapter <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                        <span class="token keyword">val</span> adapter <span class="token operator">=</span> <span class="token function">PhotoAdapter</span><span class="token punctuation">(</span><span class="token function">sortPhotos</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">                        recycler_view<span class="token punctuation">.</span>adapter <span class="token operator">=</span> adapter</span>
<span class="line">                     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                        <span class="token punctuation">(</span>recycler_view<span class="token punctuation">.</span>adapter <span class="token keyword">as</span> PhotoAdapter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">updatePhotos</span><span class="token punctuation">(</span><span class="token function">sortPhotos</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">                     <span class="token punctuation">}</span></span>
<span class="line">                   <span class="token punctuation">}</span></span>
<span class="line">                   recycler_view<span class="token punctuation">.</span><span class="token function">scrollToPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">                   recycler_view<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE</span>
<span class="line">                   progress<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE</span>
<span class="line">               <span class="token punctuation">}</span></span>
<span class="line">           <span class="token punctuation">}</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line">   <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">fun</span> <span class="token function">sortPhotos</span><span class="token punctuation">(</span>photoList<span class="token operator">:</span> PhotoList<span class="token punctuation">)</span> <span class="token operator">:</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token keyword">val</span> map <span class="token operator">=</span> HashMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> ArrayList<span class="token operator">&lt;</span>Photo<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">for</span> <span class="token punctuation">(</span>photo <span class="token keyword">in</span> photoList<span class="token punctuation">.</span>photos<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token keyword">var</span> photos <span class="token operator">=</span> map<span class="token punctuation">[</span>photo<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>full_name<span class="token punctuation">]</span></span>
<span class="line">       <span class="token keyword">if</span> <span class="token punctuation">(</span>photos <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">           photos <span class="token operator">=</span> <span class="token function">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">           map<span class="token punctuation">[</span>photo<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>full_name<span class="token punctuation">]</span> <span class="token operator">=</span> photos</span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line">       photos<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>photo<span class="token punctuation">)</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line">   <span class="token keyword">val</span> newPhotos <span class="token operator">=</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token keyword">in</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       newPhotos<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">PhotoRow</span><span class="token punctuation">(</span>RowType<span class="token punctuation">.</span>HEADER<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">       value<span class="token punctuation">.</span><span class="token function">mapTo</span><span class="token punctuation">(</span>newPhotos<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">PhotoRow</span><span class="token punctuation">(</span>RowType<span class="token punctuation">.</span>PHOTO<span class="token punctuation">,</span> it<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line">   <span class="token keyword">return</span> newPhotos</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You’ll have to import a few classes to get rid of the errors. Note that any of the imports that provide multiple options should use the ones in the <code>retrofit2</code> package.</p><p>In the <code>sortPhotos</code> method, you put the photos into sections arranged by camera.</p><p>Now it’s time to try it out. Build and run the app, and within about 10 or 20 seconds, you should see something like:</p><p>![mars rover screenshot](https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507091574-281x500.png =240x)</p><p>If you don’t see any images, make sure you have your personal key in the Retrofit <code>@GET</code> annotation.</p><p>You can choose different rovers from the spinner in the top right and different cameras from the spinner below the rover spinner but they won’t do anything until they are hooked up. Note also that not all rovers have images from all cameras.</p><hr><h2 id="filtering" tabindex="-1"><a class="header-anchor" href="#filtering"><span>Filtering</span></a></h2><p>In order to filter the list, add the filterCamera method to PhotoAdapter below <code>getItemViewType</code>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">fun</span> <span class="token function">filterCamera</span><span class="token punctuation">(</span>camera<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   filtering <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line">   <span class="token keyword">val</span> newPhotos <span class="token operator">=</span> photoList<span class="token punctuation">.</span><span class="token function">filter</span> <span class="token punctuation">{</span> photo <span class="token operator">-&gt;</span> photo<span class="token punctuation">.</span>type <span class="token operator">==</span> RowType<span class="token punctuation">.</span>PHOTO <span class="token operator">&amp;&amp;</span> photo<span class="token punctuation">.</span>photo<span class="token operator">?</span><span class="token punctuation">.</span>camera<span class="token operator">?</span><span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>camera<span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> ArrayList<span class="token operator">&lt;</span>PhotoRow<span class="token operator">&gt;</span></span>
<span class="line">   DiffUtil<span class="token punctuation">.</span><span class="token function">calculateDiff</span><span class="token punctuation">(</span><span class="token function">PhotoRowDiffCallback</span><span class="token punctuation">(</span>newPhotos<span class="token punctuation">,</span> photoList<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dispatchUpdatesTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span></span>
<span class="line">   filteredPhotos <span class="token operator">=</span> newPhotos</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now go back to your <code>MainActivity</code> and hook up the camera filtering. Add the following code to the beginning of the <code>OnItemSelectedListener.onItemSelected()</code> in the <code>setupCameraSpinner</code> method:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>recycler_view<span class="token punctuation">.</span>adapter <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> currentCameraPosition <span class="token operator">!=</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token punctuation">(</span>recycler_view<span class="token punctuation">.</span>adapter <span class="token keyword">as</span> PhotoAdapter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterCamera</span><span class="token punctuation">(</span>cameraStrings<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You pass in the camera string to filter on and create a new list with just those photos. You use Kotlin’s <code>filter</code> function on the collection and return a list of photos and has the given camera value.</p><p>![Now run the app and choose Opportunity as the new rover and you should see something like](https://koenig-media.raywenderlich.com/uploads/2017/12/opportunity-281x500.png =240x)</p><hr><h2 id="itemdecorators" tabindex="-1"><a class="header-anchor" href="#itemdecorators"><span>ItemDecorators</span></a></h2><p>Unlike <strong>ListView</strong>, <strong>RecyclerView</strong> does not come with any built-in dividers. Instead, <strong>RecyclerView</strong> allows you to add your own decorators.</p><p>The <strong>RecyclerView</strong> library comes with a <code>DividerItemDecoration</code> that can be used to put dividers between your rows. You can add a divider with this one line, which you should add to <code>onCreate()</code> in <code>MainActivity</code> after the line: <code>recycler_view.visibility = View.GONE</code>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line">recycler_view<span class="token punctuation">.</span><span class="token function">addItemDecoration</span><span class="token punctuation">(</span><span class="token function">DividerItemDecoration</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> DividerItemDecoration<span class="token punctuation">.</span>VERTICAL<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>You can see the divider after the photo date on the last photo in a section.</p><p>To create your own decorator, just subclass <code>ItemDecoration</code> and implement the <code>onDraw</code> and/or the <code>onDrawOver</code> methods.</p><hr><h2 id="animations" tabindex="-1"><a class="header-anchor" href="#animations"><span>Animations</span></a></h2><p>__RecyclerView__s allow animations for each row and provides built-in animations for adding and removing rows.</p><p>To show an animation for adding a row, make sure you use <code>notifyItemAdded(position)</code> instead of calling <code>notifyDataChanged()</code>. This lets the view know that just one row has been added and can animate that addition.</p><p>For deleting, call <code>notifyItemRemoved(position)</code>.</p><p>To animate the addition of each item, add the following method to <code>PhotoAdapter</code>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">setAnimation</span><span class="token punctuation">(</span>viewToAnimate<span class="token operator">:</span> View<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>viewToAnimate<span class="token punctuation">.</span>animation <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> animation <span class="token operator">=</span> AnimationUtils<span class="token punctuation">.</span><span class="token function">loadAnimation</span><span class="token punctuation">(</span>viewToAnimate<span class="token punctuation">.</span>context<span class="token punctuation">,</span> android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>anim<span class="token punctuation">.</span>slide_in_left<span class="token punctuation">)</span></span>
<span class="line">    viewToAnimate<span class="token punctuation">.</span>animation <span class="token operator">=</span> animation</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This will provide an animation where the row slides in from the left.</p><p>Then add:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token function">setAnimation</span><span class="token punctuation">(</span>holder<span class="token punctuation">.</span>itemView<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>as the last line in <code>onBindViewHolder</code>. Now try running again.</p><p>![The animation adds a nice dynamic effect to the presentation of the photos.](https://koenig-media.raywenderlich.com/uploads/2017/10/mars4.gif =240x)</p><hr><h2 id="swiping" tabindex="-1"><a class="header-anchor" href="#swiping"><span>Swiping</span></a></h2><p>Swiping is great way to let your user delete rows. You’re going to implement swiping in both the left and right direction to delete a row.</p><p><strong>RecyclerView</strong> uses an <code>ItemTouchHelper</code> class along with a swipe callback to handle the movement. The callback is simple and you will just call your adapter’s <code>removeRow</code> method in the <code>onSwiped</code> callback.</p>`,59)),s("p",null,[n[129]||(n[129]=a("Open ")),t(e,{icon:"iconfont icon-java"}),n[130]||(n[130]=s("code",null,"MainActivity.kt",-1)),n[131]||(n[131]=a(" and add the following at the bottom of the class:"))]),n[167]||(n[167]=l(`<div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">class</span> <span class="token function">SwipeHandler</span><span class="token punctuation">(</span><span class="token keyword">val</span> adapter<span class="token operator">:</span> PhotoAdapter<span class="token punctuation">,</span> dragDirs <span class="token operator">:</span> Int<span class="token punctuation">,</span> swipeDirs <span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> ItemTouchHelper<span class="token punctuation">.</span><span class="token function">SimpleCallback</span><span class="token punctuation">(</span>dragDirs<span class="token punctuation">,</span> swipeDirs<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onMove</span><span class="token punctuation">(</span>recyclerView<span class="token operator">:</span> RecyclerView<span class="token operator">?</span><span class="token punctuation">,</span> viewHolder<span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span>ViewHolder<span class="token operator">?</span><span class="token punctuation">,</span> target<span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span>ViewHolder<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onSwiped</span><span class="token punctuation">(</span>viewHolder<span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span>ViewHolder<span class="token punctuation">,</span> direction<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    adapter<span class="token punctuation">.</span><span class="token function">removeRow</span><span class="token punctuation">(</span>viewHolder<span class="token punctuation">.</span>adapterPosition<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In <code>loadPhotos</code> you will find the following in the <code>onResponse</code> method:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>recycler_view<span class="token punctuation">.</span>adapter <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">val</span> adapter <span class="token operator">=</span> <span class="token function">PhotoAdapter</span><span class="token punctuation">(</span><span class="token function">sortPhotos</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  recycler_view<span class="token punctuation">.</span>adapter <span class="token operator">=</span> adapter</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Add the following after setting the <code>adapter</code> value:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">val</span> touchHandler <span class="token operator">=</span> <span class="token function">ItemTouchHelper</span><span class="token punctuation">(</span><span class="token function">SwipeHandler</span><span class="token punctuation">(</span>adapter<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ItemTouchHelper<span class="token punctuation">.</span>LEFT <span class="token operator">or</span> ItemTouchHelper<span class="token punctuation">.</span>RIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">touchHandler<span class="token punctuation">.</span><span class="token function">attachToRecyclerView</span><span class="token punctuation">(</span>recycler_view<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>![Run the app and try swiping left or right to delete a row.](https://koenig-media.raywenderlich.com/uploads/2017/10/mars5.gif =240x)</p><p>Awesome! You’re just deleting the row from the display in the <strong>RecyclerView</strong>. In another app you would likely delete the item from a database and/or make an API call to delete the corresponding item on a server.</p><hr><h2 id="where-to-go-from-here" tabindex="-1"><a class="header-anchor" href="#where-to-go-from-here"><span>Where to go from here</span></a></h2><p>You’ve done a lot of work and now you know how to add animations, provide a swipe handler, add section headers, and use the <code>DiffUtil</code> class. Well done!</p><p>A great next step would be to eliminate the <code>PhotoRow</code> model class and <code>DefaultViewHolder</code> and get the project working with separate Header and Photo model objects and a dedicated <code>ViewHolder</code> for each.</p>`,11)),s("p",null,[n[133]||(n[133]=a("The final project for this tutorial is available ")),s("a",A,[t(e,{icon:"fas fa-file-zipper"}),n[132]||(n[132]=a("here"))]),n[134]||(n[134]=a(". In the final project, be sure to remember to set the API key in ")),t(e,{icon:"iconfont icon-java"}),n[135]||(n[135]=s("code",null,"NasaApi.kt",-1)),n[136]||(n[136]=a("."))]),n[168]||(n[168]=s("p",null,[a("If you need more information on "),s("code",null,"RecyclerView"),a("s, you can check out the following Android developer documentation:")],-1)),s("ul",null,[s("li",null,[s("a",V,[t(e,{icon:"iconfont icon-android"}),n[137]||(n[137]=a("Recyclerview Layouts"))])]),s("li",null,[s("a",P,[t(e,{icon:"iconfont icon-android"}),n[138]||(n[138]=a("RecyclerView Class"))])]),s("li",null,[s("a",T,[t(e,{icon:"iconfont icon-android"}),n[139]||(n[139]=a("DiffUtil Class"))])])]),n[169]||(n[169]=s("p",null,"I hope you enjoyed this Intermediate RecyclerView tutorial, and if you have any questions or comments, please join the forum discussion below!",-1)),n[170]||(n[170]=s("p",null,[a("Go forward and make great animated "),s("code",null,"RecyclerViews"),a("!")],-1))])}const C=d(w,[["render",I]]),j=JSON.parse('{"path":"/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html","title":"Intermediate RecyclerView Tutorial with Kotlin","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Intermediate RecyclerView Tutorial with Kotlin","description":"Article(s) > Intermediate RecyclerView Tutorial with Kotlin","icon":"fa-brands fa-android","category":["Java","Kotlin","Android","Gradle","Article(s)"],"tag":["blog","kodeco.com","java","kotiln","android","gradle"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Intermediate RecyclerView Tutorial with Kotlin\\",\\"image\\":[\\"https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507091574-281x500.png =240x\\",\\"https://koenig-media.raywenderlich.com/uploads/2017/09/Screenshot_20170925-222953-281x500.png =240x\\",\\"https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507085951-281x500.png =240x\\",\\"https://koenig-media.raywenderlich.com/uploads/2017/10/Screenshot_1507091574-281x500.png =240x\\",\\"https://koenig-media.raywenderlich.com/uploads/2017/12/opportunity-281x500.png =240x\\",\\"https://koenig-media.raywenderlich.com/uploads/2017/10/mars4.gif =240x\\",\\"https://koenig-media.raywenderlich.com/uploads/2017/10/mars5.gif =240x\\"],\\"datePublished\\":\\"2017-12-06T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"Intermediate RecyclerView Tutorial with Kotlin"}],["meta",{"property":"og:description","content":"Article(s) > Intermediate RecyclerView Tutorial with Kotlin"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://koenig-media.raywenderlich.com/uploads/2017/12/RecyclerViewIntermediate-twitter.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://koenig-media.raywenderlich.com/uploads/2017/12/RecyclerViewIntermediate-twitter.png"}],["meta",{"name":"twitter:image:alt","content":"Intermediate RecyclerView Tutorial with Kotlin"}],["meta",{"property":"article:tag","content":"gradle"}],["meta",{"property":"article:tag","content":"android"}],["meta",{"property":"article:tag","content":"kotiln"}],["meta",{"property":"article:tag","content":"java"}],["meta",{"property":"article:tag","content":"kodeco.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2017-12-06T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Intermediate RecyclerView Tutorial with Kotlin"},{"property":"og:description","content":"Intermediate RecyclerView Tutorial with Kotlin"},{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.html"}]],"prev":"/programming/java-android/articles/README.md","date":"2017-12-06T00:00:00.000Z","isOriginal":false,"cover":"https://koenig-media.raywenderlich.com/uploads/2017/12/RecyclerViewIntermediate-twitter.png"},"git":{},"readingTime":{"minutes":14.51,"words":4354},"filePathRelative":"kodeco.com/272-intermediate-recyclerview-tutorial-with-kotlin.md"}');export{C as comp,j as data};
