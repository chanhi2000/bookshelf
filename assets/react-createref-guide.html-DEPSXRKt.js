import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as f,d as s,f as e,b as c,a as r,t as h,n as d,g as k,w as t,e as a,r as i,o as b}from"./app-BVguHYKu.js";const w="/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/banner.png",y="/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/React-ref-input-example.png",R="/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/react-create-ref-current.webp",x="/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/react-create-ref-target-value.png",j="/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/react-create-ref-uncontrolled-component-demo.webp",C="/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/react-create-ref-error.png",H={},T={id:"frontmatter-title-관련",tabindex:"-1"},I={class:"header-anchor",href:"#frontmatter-title-관련"},q={class:"table-of-contents"},F={href:"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction",target:"_blank",rel:"noopener noreferrer"},M={href:"http://jquery.com/",target:"_blank",rel:"noopener noreferrer"},A={href:"https://mootools.net/",target:"_blank",rel:"noopener noreferrer"},S={href:"http://prototypejs.org/learn/",target:"_blank",rel:"noopener noreferrer"},O={href:"https://blog.logrocket.com/tag/react/",target:"_blank",rel:"noopener noreferrer"},D={href:"https://blog.logrocket.com/tag/angular/",target:"_blank",rel:"noopener noreferrer"},U={href:"https://blog.logrocket.com/tag/vue/",target:"_blank",rel:"noopener noreferrer"},W={href:"https://reactjs.org/docs/refs-and-the-dom.html",target:"_blank",rel:"noopener noreferrer"},E={href:"https://reactjs.org/docs/refs-and-the-dom.html#callback-refs",target:"_blank",rel:"noopener noreferrer"},L={href:"https://reactjs.org/docs/forwarding-refs.html",target:"_blank",rel:"noopener noreferrer"};function P(m,n){const u=i("VPCard"),p=i("router-link"),v=i("SiteInfo"),o=i("VPIcon"),l=i("RouteLink");return b(),f("div",null,[s("h1",T,[s("a",I,[s("span",null,h(m.$frontmatter.title)+" 관련",1)])]),e(u,d(k({title:"React.js > Article(s)",desc:"Article(s)",link:"/programming/js-react/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",q,[s("ul",null,[s("li",null,[e(p,{to:"#what-are-react-refs-and-dom"},{default:t(()=>n[0]||(n[0]=[a("What are React refs and DOM?")])),_:1,__:[0]})]),s("li",null,[e(p,{to:"#creating-refs-in-react"},{default:t(()=>n[1]||(n[1]=[a("Creating refs in React")])),_:1,__:[1]}),s("ul",null,[s("li",null,[e(p,{to:"#string-refs-in-react"},{default:t(()=>n[2]||(n[2]=[a("String refs in React")])),_:1,__:[2]})]),s("li",null,[e(p,{to:"#using-callback-refs-in-react"},{default:t(()=>n[3]||(n[3]=[a("Using callback refs in React")])),_:1,__:[3]})])])]),s("li",null,[e(p,{to:"#examples-of-using-react-createref"},{default:t(()=>n[4]||(n[4]=[a("Examples of using React.createRef()")])),_:1,__:[4]}),s("ul",null,[s("li",null,[e(p,{to:"#working-with-the-react-useref-hook"},{default:t(()=>n[5]||(n[5]=[a("Working with the React useRef Hook")])),_:1,__:[5]})])])]),s("li",null,[e(p,{to:"#building-component-refs-in-react"},{default:t(()=>n[6]||(n[6]=[a("Building component refs in React")])),_:1,__:[6]})]),s("li",null,[e(p,{to:"#refs-in-controlled-and-uncontrolled-components"},{default:t(()=>n[7]||(n[7]=[a("Refs in controlled and uncontrolled components")])),_:1,__:[7]}),s("ul",null,[s("li",null,[e(p,{to:"#controlled-components"},{default:t(()=>n[8]||(n[8]=[a("Controlled components")])),_:1,__:[8]})]),s("li",null,[e(p,{to:"#refs-in-uncontrolled-components"},{default:t(()=>n[9]||(n[9]=[a("Refs in uncontrolled components")])),_:1,__:[9]})])])]),s("li",null,[e(p,{to:"#ref-forwarding-in-react"},{default:t(()=>n[10]||(n[10]=[a("Ref forwarding in React")])),_:1,__:[10]})]),s("li",null,[e(p,{to:"#common-errors-with-react-refs"},{default:t(()=>n[11]||(n[11]=[a("Common errors with React refs")])),_:1,__:[11]}),s("ul",null,[s("li",null,[e(p,{to:"#refs-return-undefined-or-null"},{default:t(()=>n[12]||(n[12]=[a("Refs return undefined or null")])),_:1,__:[12]})])])]),s("li",null,[e(p,{to:"#storing-mutating-state-with-react-ref"},{default:t(()=>n[13]||(n[13]=[a("Storing mutating state with React ref")])),_:1,__:[13]})]),s("li",null,[e(p,{to:"#conclusion"},{default:t(()=>n[14]||(n[14]=[a("Conclusion")])),_:1,__:[14]})])])]),n[96]||(n[96]=s("hr",null,null,-1)),e(v,{name:"How to use React createRef",desc:"Learn how to use the React.createRef() method and useRef Hook in React to simplify creating refs and interact with the HTML DOM.",url:"https://blog.logrocket.com/react-createref-guide",logo:"/assets/image/blog.logrocket.com/favicon.png",preview:"/assets/image/blog.logrocket.com/react-createref-guide/banner.png"}),n[97]||(n[97]=s("div",{class:"hint-container note"},[s("p",{class:"hint-container-title"},"Editor’s note"),s("p",null,[a("This guide to using React "),s("code",null,"createRef"),a(" was last updated on 15 November 2022 to include information about common errors with React refs and storing mutating state with ref.")])],-1)),n[98]||(n[98]=s("figure",null,[s("img",{src:w,alt:"How to Use React createRef",tabindex:"0",loading:"lazy"}),s("figcaption",null,"How to Use React createRef")],-1)),s("p",null,[n[19]||(n[19]=a("If you’ve been developing web applications long enough, you’ve likely used JavaScript ")),s("a",F,[e(o,{icon:"fa-brands fa-firefox"}),n[15]||(n[15]=a("DOM"))]),n[20]||(n[20]=a(" libraries such as ")),s("a",M,[e(o,{icon:"iconfont icon-jQuery"}),n[16]||(n[16]=a("jQuery"))]),n[21]||(n[21]=a(", ")),s("a",A,[e(o,{icon:"fas fa-globe"}),n[17]||(n[17]=a("Mootools"))]),n[22]||(n[22]=a(", ")),s("a",S,[e(o,{icon:"fas fa-globe"}),n[18]||(n[18]=a("Prototype.js"))]),n[23]||(n[23]=a(", and more. These libraries brought about a significant shift in how interactive web applications were built. With DOM abstraction APIs, manipulating a web app’s contents became much easier."))]),n[99]||(n[99]=c(`<p>For example, you would find yourself doing something like this with jQuery:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#button&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  evt<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line">Random Post Title</span>
<span class="line">Random post text.</span>
<span class="line"></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#element&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2)),s("p",null,[n[27]||(n[27]=a("These days, JavaScript frameworks like ")),s("a",O,[e(o,{icon:"fas fa-globe"}),n[24]||(n[24]=a("React"))]),n[28]||(n[28]=a(", ")),s("a",D,[e(o,{icon:"fas fa-globe"}),n[25]||(n[25]=a("Angular"))]),n[29]||(n[29]=a(", and ")),s("a",U,[e(o,{icon:"fas fa-globe"}),n[26]||(n[26]=a("Vue.js"))]),n[30]||(n[30]=a(" are commonly used for building modern-day applications. These frameworks are all made with a component-based architecture. While you can do a lot by leveraging their built-in functionalities, you sometimes need to interact with the actual DOM for some native behavior. Most modern frameworks provide APIs through which you can access the native DOM representation of your app, and React is no exception."))]),s("p",null,[n[32]||(n[32]=a("In this tutorial, we will consider how we can interact with the DOM in a React application. We will also see how we can use the ")),n[33]||(n[33]=s("code",null,"React.createRef()",-1)),n[34]||(n[34]=a(" feature introduced in React v16.3, and the ")),n[35]||(n[35]=s("code",null,"useRef",-1)),n[36]||(n[36]=a(" Hook introduced in a later version of React. To learn more about virtual DOMs in React, check out this ")),e(l,{to:"/blog.logrocket.com/virtual-dom-react.html"},{default:t(()=>n[31]||(n[31]=[s("strong",null,"guide",-1)])),_:1,__:[31]}),n[37]||(n[37]=a("."))]),n[100]||(n[100]=s("hr",null,null,-1)),n[101]||(n[101]=s("h2",{id:"what-are-react-refs-and-dom",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#what-are-react-refs-and-dom"},[s("span",null,"What are React refs and DOM?")])],-1)),s("p",null,[n[39]||(n[39]=a("React provides a feature known as ")),e(l,{to:"/blog.logrocket.com/complete-guide-react-refs.html"},{default:t(()=>n[38]||(n[38]=[s("strong",null,"refs",-1)])),_:1,__:[38]}),n[40]||(n[40]=a(" that allow for DOM access from components. You simply attach a ref to an element in your application to provide access to the element’s DOM from anywhere within your component."))]),s("p",null,[n[42]||(n[42]=a("The ")),s("a",W,[e(o,{icon:"fa-brands fa-react"}),n[41]||(n[41]=a("React documentation"))]),n[43]||(n[43]=a(" refers to refs as tools for providing direct access to React elements and DOM nodes created in the render method. Generally, using refs should only be considered when the required interaction cannot be achieved using the mechanisms of ")),n[44]||(n[44]=s("a",{href:"https://blog.logrocket.com/the-beginners-guide-to-mastering-react-props-3f6f01fd7099/",target:"_blank",rel:"noopener noreferrer"},"state and props",-1)),n[45]||(n[45]=a("."))]),r(" TODO: /blog.logrocket.com/the-beginners-guide-to-mastering-react-props.md "),s("p",null,[n[47]||(n[47]=a("However, there are a couple of cases where using a ref is appropriate. One of which is when integrating with third-party DOM libraries. Also, deep interactions, such as handling text selections or managing media playback behavior, require refs on the corresponding elements. You can check out our ")),e(l,{to:"/blog.logrocket.com/react-reference-guide-refs-dom.html#creatingrefs"},{default:t(()=>n[46]||(n[46]=[s("strong",null,"React reference guide",-1)])),_:1,__:[46]}),n[48]||(n[48]=a(" to learn more."))]),n[102]||(n[102]=c(`<hr><h2 id="creating-refs-in-react" tabindex="-1"><a class="header-anchor" href="#creating-refs-in-react"><span>Creating refs in React</span></a></h2><p>There are four major ways of creating refs in React. Here is a list of the different methods, starting with the oldest:</p><ol><li>String refs (legacy method)</li><li>Callback refs</li><li><code>React.createRef</code> (from React v16.3)</li><li>The <code>useRef</code> Hook (from React v16.8)</li></ol><h3 id="string-refs-in-react" tabindex="-1"><a class="header-anchor" href="#string-refs-in-react"><span>String refs in React</span></a></h3><p>The legacy way of creating refs in a React application is using string refs. This is the oldest method and is considered legacy and deprecated. String refs are created by adding a <code>ref</code> prop to the desired element and passing a <code>string</code> name for the <code>ref</code> as its value.</p><p>Here is a simple example:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="MyComponent.jsx"><span>MyComponent.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>toggleInputCase <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggleInputCase</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">uppercase</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">toggleInputCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> isUpper <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>uppercase<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Accessing the ref using this.refs.inputField</span></span>
<span class="line">    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>inputField<span class="token punctuation">.</span>value<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>inputField<span class="token punctuation">.</span>value <span class="token operator">=</span></span>
<span class="line">      isUpper</span>
<span class="line">        <span class="token operator">?</span> value<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token operator">:</span> value<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">uppercase</span><span class="token operator">:</span> <span class="token operator">!</span>isUpper <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token punctuation">{</span><span class="token comment">/* Creating a string ref named: inputField */</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inputField<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>toggleInputCase<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">          Toggle Case</span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Here, we created a simple React component that renders an <code>&lt;input&gt;</code> element and a <code>&lt;button&gt;</code> element that allows us to toggle the case of the input between uppercase and lowercase.</p><p>We initialized the component’s state with an <code>uppercase</code> property set to <code>false</code>. This property allows us to determine the current case of the input.</p>`,10)),s("p",null,[n[50]||(n[50]=a("The main emphasis is on the string ref we created on the ")),n[51]||(n[51]=s("code",null,"<input>",-1)),n[52]||(n[52]=a(" element. We also made a ref to ")),n[53]||(n[53]=s("code",null,"<input>",-1)),n[54]||(n[54]=a(" named ")),n[55]||(n[55]=s("code",null,"inputField",-1)),n[56]||(n[56]=a(". Later, in the ")),e(l,{to:"/blog.logrocket.com/react-onclick-event-handlers-guide.html"},{default:t(()=>n[49]||(n[49]=[s("strong",null,[s("code",null,"onClick"),a(" event handler")],-1)])),_:1,__:[49]}),n[57]||(n[57]=a(" for the ")),n[58]||(n[58]=s("code",null,"<button>",-1)),n[59]||(n[59]=a(", we accessed the ref via ")),n[60]||(n[60]=s("code",null,"this.refs.inputField",-1)),n[61]||(n[61]=a(". Then, we manipulated the DOM of ")),n[62]||(n[62]=s("code",null,"<input>",-1)),n[63]||(n[63]=a(" to change the value of the input."))]),n[103]||(n[103]=s("p",null,"Below is a sample demo of what the interaction looks like:",-1)),n[104]||(n[104]=s("figure",null,[s("img",{src:y,alt:"React String Ref Example",tabindex:"0",loading:"lazy"}),s("figcaption",null,"React String Ref Example")],-1)),n[105]||(n[105]=s("p",null,"Although this is a trivial example of how to use refs, it shows us how string refs can be used in a React component. As stated earlier, using string refs in your React application should be discouraged.",-1)),n[106]||(n[106]=s("h3",{id:"using-callback-refs-in-react",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#using-callback-refs-in-react"},[s("span",null,"Using callback refs in React")])],-1)),s("p",null,[n[65]||(n[65]=a("Callback refs use a callback function for creating refs instead of passing the ref’s name as a string. If you are using versions of ")),s("a",E,[e(o,{icon:"fa-brands fa-react"}),n[64]||(n[64]=a("React earlier than v16.3"))]),n[66]||(n[66]=a(", this should be your preferred method of creating refs."))]),n[107]||(n[107]=c(`<p>The callback function receives the <code>React Component</code> instance or <code>HTML DOM</code> element as its argument, which can be stored and accessed elsewhere. Using a callback <code>ref</code>, our previous code snippet will become the following:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="MyComponent.jsx"><span>MyComponent.jsx</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>toggleInputCase <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggleInputCase</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">uppercase</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">toggleInputCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> isUpper <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>uppercase<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Accessing the ref using this.inputField</span></span>
<span class="line">    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputField<span class="token punctuation">.</span>value<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>inputField<span class="token punctuation">.</span>value <span class="token operator">=</span></span>
<span class="line">      isUpper</span>
<span class="line">        <span class="token operator">?</span> value<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token operator">:</span> value<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">uppercase</span><span class="token operator">:</span> <span class="token operator">!</span>isUpper <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span></span>
<span class="line">        <span class="token punctuation">{</span><span class="token comment">/* Creating a callback ref and storing it in this.inputField */</span><span class="token punctuation">}</span></span>
<span class="line">        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">elem</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputField <span class="token operator">=</span> elem<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>toggleInputCase<span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="line">          Toggle Case</span>
<span class="line">        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Here, we have made two major changes. First, we defined the <code>ref</code> using a callback function and stored it in <code>this.inputField</code> as follows:</p><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">elem</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputField <span class="token operator">=</span> elem<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then, in the event handler, we access the <code>ref</code> using <code>this.inputField</code> instead of <code>this.refs.inputField</code>.</p><p>When using inline callback <code>refs</code>, as we did in our example, it is important to know that for every update to the component, the callback function is called twice — first with <code>null</code>, then again with the <code>DOM</code> element.</p><p>However, creating the callback function as a <code>bound</code> method of the component class can be used to avoid this behavior. Using a callback function for creating refs can give you more control over how a ref is created, set, and unset.</p><hr><h2 id="examples-of-using-react-createref" tabindex="-1"><a class="header-anchor" href="#examples-of-using-react-createref"><span>Examples of using <code>React.createRef()</code></span></a></h2>`,9)),s("p",null,[n[68]||(n[68]=a("Starting from React v16.3, the ")),e(l,{to:"/blog.logrocket.com/modern-api-data-fetching-methods-react.html"},{default:t(()=>n[67]||(n[67]=[s("strong",null,"React API",-1)])),_:1,__:[67]}),n[69]||(n[69]=a(" included a ")),n[70]||(n[70]=s("code",null,"createRef()",-1)),n[71]||(n[71]=a(" method that can be used for creating refs in much the same way as we did using the callback function. Simply create a ref by calling ")),n[72]||(n[72]=s("code",null,"React.createRef()",-1)),n[73]||(n[73]=a(" and assign the resulting ")),n[74]||(n[74]=s("code",null,"ref",-1)),n[75]||(n[75]=a(" to an element."))]),n[108]||(n[108]=c(`<p>Using <code>React.createRef()</code>, our previous example will now look like this:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="MyComponent.jsx"><span>MyComponent.jsx</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>inputField <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>toggleInputCase <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggleInputCase</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">uppercase</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">toggleInputCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> isUpper <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>uppercase<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Accessing the ref using this.inputField.current</span></span>
<span class="line">    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputField<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>inputField<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value <span class="token operator">=</span></span>
<span class="line">      isUpper</span>
<span class="line">        <span class="token operator">?</span> value<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token operator">:</span> value<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">uppercase</span><span class="token operator">:</span> <span class="token operator">!</span>isUpper <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span></span>
<span class="line">        <span class="token punctuation">{</span><span class="token comment">/* Referencing the ref from this.inputField */</span><span class="token punctuation">}</span></span>
<span class="line">        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>inputField<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>toggleInputCase<span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="line">          Toggle Case</span>
<span class="line">        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Here, we see a couple of changes. First, in the <code>constructor()</code>, we created a <code>ref</code> using <code>React.createRef()</code> and stored it in <code>this.inputField</code> as follows:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">this</span><span class="token punctuation">.</span>inputField <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Next, in the event handler, we access the <code>ref</code> using <code>this.inputField.current</code> instead of <code>this.inputField</code>. This is worth noting for refs created with <code>React.createRef()</code>. The reference to the node becomes accessible at the <code>current</code> attribute of the ref.</p><p>Finally, we pass the <code>ref</code> to the <code>&lt;input&gt;</code> component as follows:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>inputField<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We have explored the various methods of creating refs in our React application. In the following sections, we will take a closer look at the more interesting characteristics of <code>React.createRef</code>.</p><h3 id="working-with-the-react-useref-hook" tabindex="-1"><a class="header-anchor" href="#working-with-the-react-useref-hook"><span>Working with the React <code>useRef</code> Hook</span></a></h3>`,9)),s("p",null,[n[79]||(n[79]=a("With its release in React v16, the ")),e(l,{to:"/blog.logrocket.com/react-reference-guide-hooks-api.html"},{default:t(()=>n[76]||(n[76]=[s("strong",null,"Hooks API",-1)])),_:1,__:[76]}),n[80]||(n[80]=a(" has become the de facto means of abstracting and reusing code in React applications. One such Hook is ")),e(l,{to:"/blog.logrocket.com/usestate-vs-useref.html"},{default:t(()=>n[77]||(n[77]=[s("strong",null,[s("code",null,"useRef")],-1)])),_:1,__:[77]}),n[81]||(n[81]=a(", which allows us to create and use refs in ")),e(l,{to:"/blog.logrocket.com/fundamentals-functional-programming-react.html"},{default:t(()=>n[78]||(n[78]=[s("strong",null,"functional components",-1)])),_:1,__:[78]}),n[82]||(n[82]=a("."))]),s("p",null,[n[84]||(n[84]=a("It’s worth noting that even with the ")),n[85]||(n[85]=s("code",null,"useRef",-1)),n[86]||(n[86]=a(" Hook, you still, by default, cannot use the ref attribute on functional components because we cannot create instances of functions. We will discuss how to get around this with ")),e(l,{to:"/blog.logrocket.com/use-forwardref-react.html"},{default:t(()=>n[83]||(n[83]=[s("strong",null,"ref forwarding",-1)])),_:1,__:[83]}),n[87]||(n[87]=a(" later in this article."))]),n[109]||(n[109]=c(`<p>To use the <code>useRef</code> Hook, you pass in the object that <code>ref.current</code> should refer to into the <code>useRef</code> Hook and call it. This Hook call should return a <code>ref</code> object you can use as if using the <code>createRef</code> method discussed earlier.</p><p>Here’s what our previous example should look like if we use the <code>useRef</code> Hook:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="MyComponent.jsx"><span>MyComponent.jsx</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>uppercase<span class="token punctuation">,</span> setUppercase<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">const</span> inputField <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">toggleInputCase</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Accessing the ref using inputField.current</span></span>
<span class="line">    <span class="token keyword">const</span> value <span class="token operator">=</span> inputField<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">;</span></span>
<span class="line">    inputField<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value <span class="token operator">=</span> uppercase <span class="token operator">?</span> value<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">setUppercase</span><span class="token punctuation">(</span><span class="token parameter">previousValue</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>previousValue<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token punctuation">{</span><span class="token comment">/* Referencing the ref from this.inputField */</span><span class="token punctuation">}</span></span>
<span class="line">      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span>inputField<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleInputCase<span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="line">        Toggle Case  </span>
<span class="line">      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>As you can see, the code is pretty similar to that of the <code>React.createRef</code> implementation. We create a <code>ref</code> using the <code>useRef</code> Hook and pass that <code>ref</code> to the ref attribute of <code>&lt;input&gt;</code>.</p><p>The process for the <code>&lt;button&gt;</code>‘s event handler is the same as before. We update the <code>value</code> property of the HTML element that our <code>ref</code> points (which can be accessed by using <code>ref.current</code>) depending on the current value of the state variable, <code>uppercase</code>.</p><hr><h2 id="building-component-refs-in-react" tabindex="-1"><a class="header-anchor" href="#building-component-refs-in-react"><span>Building component refs in React</span></a></h2><p>In the previous section, we saw how we could create refs using the <code>React.createRef</code> API. The actual reference is stored in the <code>current</code> attribute of the <code>ref</code>.</p><p>In our examples, we have only created refs to DOM nodes in our React application. But it is also possible to create refs to React components, which will give us access to the <code>instance</code>methods of such components.</p><p>Keep in mind that we can only create refs on <code>class</code> components since they create an <code>instance</code>of the class when mounted. Refs cannot be used on functional components.</p><p>Let’s consider a very simple example of using refs on React components. We will create two components in this example:</p><ul><li><code>FormInput</code>: This component will wrap an <code>&lt;input&gt;</code> element and provide a method for knowing when the input contains some value and a method for selecting the input text</li><li><code>MyComponent</code>: Wraps the <code>FormInput</code> component and a button to select the text in the input when <strong>selected</strong></li></ul><p>Here are the code snippets for the components:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="FormInput.jsx"><span>FormInput.jsx</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">FormInput</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>textInput <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">hasText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>textInput<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">selectInputText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>textInput<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Like before, we created a <code>ref</code> using <code>React.createRef()</code> and added the <code>ref</code> to the <code>&lt;input&gt;</code> element in the <code>render</code> function. We created two methods:</p><ul><li><code>hasText()</code>: Returns a <code>Boolean</code> indicating that the <code>input</code> element’s value is not empty. Hence, it returns <code>false</code> when empty. Otherwise, it returns <code>true</code></li><li><code>selectInputText()</code>: Makes a selection of the whole text in the <code>input</code></li></ul><p>Notice that we get a reference to the <code>input</code> in our methods by accessing the <code>current</code> attribute of the <code>ref</code> we created: <code>this.textInput.current</code>.</p><p>Now, let’s create <code>MyComponent</code>. Here is the code snippet:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="MyComponent.jsx"><span>MyComponent.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">const</span> formInput <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">inputSelection</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> input <span class="token operator">=</span> formInput<span class="token punctuation">.</span>current<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      input<span class="token punctuation">.</span><span class="token function">selectInputText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputSelection<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        Select Input</span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInput</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formInput<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>In this snippet, I use a functional component instead of a class component, as this is a stateless component. I also want to use this component to demonstrate how refs can be used inside functional components.</p><p>Here, we create a <code>ref</code> using <code>React.createRef()</code> and store it in the <code>formInput</code> constant. Notice that we are not using <code>this</code> since functional components are not classes and do not create instances.</p><p>Take note that in the <code>render()</code> method, we added the <code>ref</code> we created to the <code>&lt;FormInput&gt;</code> component we made earlier. Unlike the previous examples where we added refs to DOM nodes, here, we are adding a ref to a component.</p><p>Additionally, a ref can only be created for a class component, not a functional component. <code>FormInput</code> is a class component, so we can create a reference to it. However, we can use a ref inside a functional component as we did in this example using <code>formInput</code>.</p><p>Finally, in the <code>inputSelection()</code> function, we access the reference to our component using the <code>current</code> attribute of the <code>ref</code> as before.</p><p>We can access the <code>hasText()</code> and <code>selectInputText()</code> methods of the <code>FormInput</code> component because the reference points to an instance of the <code>FormInput</code> component. This validates why refs cannot be created for functional components.</p><p>Here is a sample demo of what the interaction looks like:</p><figure><img src="`+R+'" alt="React createRef Form Component Example" tabindex="0" loading="lazy"><figcaption>React createRef Form Component Example</figcaption></figure><hr><h2 id="refs-in-controlled-and-uncontrolled-components" tabindex="-1"><a class="header-anchor" href="#refs-in-controlled-and-uncontrolled-components"><span>Refs in controlled and uncontrolled components</span></a></h2><p>All components in React are controlled by default because React is responsible for handling updates to the component when form data changes.</p>',30)),s("p",null,[n[89]||(n[89]=a("When dealing with uncontrolled components in React, refs are very handy. This is because instead of using event handlers to update ")),n[90]||(n[90]=s("code",null,"state",-1)),n[91]||(n[91]=a(" when form data changes, you rely on refs to get form values from the DOM. You can learn more about ")),e(l,{to:"/blog.logrocket.com/controlled-vs-uncontrolled-components-in-react.html"},{default:t(()=>n[88]||(n[88]=[s("strong",null,"uncontrolled components here",-1)])),_:1,__:[88]}),n[92]||(n[92]=a("."))]),n[110]||(n[110]=c(`<h3 id="controlled-components" tabindex="-1"><a class="header-anchor" href="#controlled-components"><span>Controlled components</span></a></h3><p>Let’s create a simple controlled component and then an uncontrolled component to demonstrate how we can use refs to get form values from the DOM:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="ControlledFormInput.jsx"><span>ControlledFormInput.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">class</span> <span class="token class-name">ControlledFormInput</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>handleChange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;Glad&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">  <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> evt<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token plain-text">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Enter your name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>The above code snippet shows a controlled component that contains an <code>&lt;input&gt;</code> element. Notice that the value of the <code>&lt;input&gt;</code> is from the <code>value</code> property of the state. We initialized the <code>value</code> on the state to <code>&quot;Glad&quot;</code> (that’s my name, anyway).</p><p>Also, notice that we use the <code>handleChange()</code> event handler to update the <code>value</code> property in the <code>state</code> with the value of the <code>input</code> element we got from accessing <code>evt.target.value</code>.</p><p>Here is a sample demo of what the interaction looks like:</p><figure><img src="`+x+`" alt="React createRef Target Value Example" tabindex="0" loading="lazy"><figcaption>React createRef Target Value Example</figcaption></figure><h3 id="refs-in-uncontrolled-components" tabindex="-1"><a class="header-anchor" href="#refs-in-uncontrolled-components"><span>Refs in uncontrolled components</span></a></h3><p>Here is the uncontrolled version of the component:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="UncontrolledFormInput.jsx"><span>UncontrolledFormInput.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">class</span> <span class="token class-name">UncontrolledFormInput</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>inputField <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>handleChange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;Glad&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputField<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token plain-text">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token punctuation">{</span><span class="token comment">/* Attach the created ref: this.inputField */</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>inputField<span class="token punctuation">}</span></span> <span class="token attr-name">defaultValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Enter your name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>We have made some changes for the uncontrolled version of our previous component. First, we create a <code>ref</code> using <code>React.createRef()</code> and store it in the <code>this.inputField</code> instance property. We also attach the <code>ref</code> to <code>&lt;input&gt;</code> in the <code>render()</code> method.</p><p>We also use the <code>defaultValue</code> prop to assign <code>this.state.value</code> as the default value of the <code>&lt;input&gt;</code> element —  which is only useful until the input value is first changed.</p><p>If we had used the <code>value</code> prop to specify a default value for the <code>input</code>, we would no longer get updated values from the <code>input</code>. This is because the <code>value</code> prop automatically overrides the value in the DOM in React.</p><p>Finally, in our event handler, we access the value of the <code>input</code> element using the <code>ref</code> instead of the event object:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputField<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Instead of doing this:</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> evt<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The demo is the same as with the controlled version. Here is a sample demo of what the interaction looks like:</p><figure><img src="`+j+'" alt="React  Uncontrolled Component Demo" tabindex="0" loading="lazy"><figcaption>React <code>createRef</code> Uncontrolled Component Demo</figcaption></figure><hr><h2 id="ref-forwarding-in-react" tabindex="-1"><a class="header-anchor" href="#ref-forwarding-in-react"><span>Ref forwarding in React</span></a></h2>',19)),s("p",null,[n[94]||(n[94]=a("Ordinarily, React components cannot access the refs used in their children components. While, according to the ")),s("a",L,[e(o,{icon:"fa-brands fa-react"}),n[93]||(n[93]=a("React documentation"))]),n[95]||(n[95]=a(", this is good as it prevents components from relying on each other’s refs, there are instances where you might need to have access to a child component’s DOM element."))]),n[111]||(n[111]=c(`<p>For example, suppose you have a custom text field component that you use throughout your React app. In most cases, this text field component will render a standard HTML <code>&lt;input&gt;</code> text field with some customization, most likely through props:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">TextField</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>placeholder<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> placeholder<span class="token operator">=</span><span class="token punctuation">{</span>placeholder<span class="token punctuation">}</span><span class="token punctuation">.</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If we wanted to access the <code>input</code> element directly in a parent component of <code>TextField</code> to perform some function like selecting the text, there’s no way to do that by default. However, we could employ two methods to achieve this.</p><p>The first method is turning <code>TextField</code> into a class component and creating a <code>ref</code> in the <code>TextField</code> component that points to the <code>&lt;input&gt;</code>. Because <code>TextField</code> is a class component, we can access its methods from a parent component. We can now create a method inside <code>TextField</code> that selects (highlights) the <code>&lt;input&gt;&#39;s</code> text.</p><p>Our second option is to create the <code>ref</code> object in our parent component and “forward” the <code>ref</code> to the <code>&lt;input&gt;</code> element of <code>TextField</code>. This is called <a href="https://blog.logrocket.com/use-forwardref-react/" target="_blank" rel="noopener noreferrer"><strong>ref forwarding</strong></a>.</p><p>Ref forwarding allows us to create a <code>ref</code> in a parent component and forward that <code>ref</code> to its children. This allows us to interact with HTML elements within those children components on the DOM level.</p><p>Here’s how we would use ref forwarding to achieve our objective:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="Parent.jsx"><span>Parent.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Parent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">selectInputText</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      &lt;TextField ref = </span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span><span class="token plain-text"> placeholder=&quot;I am a text field!&quot;/&gt;</span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selectInputText<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Select Text</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>As you can see, we created a ref object in <code>Parent</code> and passed it to the <code>TextField</code> component. In the <code>TextField</code> component, we used the <code>forwardRef</code> function, which receives a functional component as an argument and passes the ref as a second argument to it.</p><p>Then, we passed this <code>ref</code> to the ref attribute of our <code>&lt;input&gt;</code> element. The <code>ref</code> created in <code>Parent</code> now refers to this <code>&lt;input&gt;</code> element and can interact with it.</p><p>Note, that even though we could pass refs to a functional component, this ref cannot be used to access functions and variables local to that functional component.</p><p>Lastly, refs can also be forwarded to class components, like so:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="ComponentB.jsx"><span>ComponentB.jsx</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> ComponentB <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> placeholder <span class="token punctuation">}</span><span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>         </span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><hr><h2 id="common-errors-with-react-refs" tabindex="-1"><a class="header-anchor" href="#common-errors-with-react-refs"><span>Common errors with React refs</span></a></h2><p>When working with refs in React, you may run into the problem — <code>&quot;TypeError: Cannot read properties of undefined&quot;</code>. This error can occur when you try to access the <code>.current</code> property of the <code>ref</code> object before any value gets assigned.</p><h3 id="refs-return-undefined-or-null" tabindex="-1"><a class="header-anchor" href="#refs-return-undefined-or-null"><span>Refs return undefined or null</span></a></h3><p>Let’s understand this with an example. Have a look at the following code snippet:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="App.jsx"><span>App.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello World!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Here, we have a <code>ref</code> object that references an input field. The input field is focused once the <code>App</code> component is rendered.</p><p>Let’s consider that the input field should be hidden when the page loads and only appear when clicking the <strong>button</strong> on the page. Simple, right? You’d use a state variable to control the visibility of the <code>input</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="App.jsx"><span>App.jsx</span></div><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code class="language-jsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>isHidden<span class="token punctuation">,</span> setHidden<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello World!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token punctuation">{</span><span class="token operator">!</span>isHidden <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setHidden</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">isHidden</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>isHidden<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token punctuation">{</span>isHidden <span class="token operator">?</span> <span class="token string">&quot;Show Input&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Hide Input&quot;</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>However, you’ll notice an error screen when you check the output for the above code:</p><figure><img src="`+C+`" alt="React createRef Error Message" tabindex="0" loading="lazy"><figcaption>React createRef Error Message</figcaption></figure><p>This is because the <code>ref</code> object does not have any value until React renders the input <code>DOM</code> element, and since the default value of the <code>ref</code> is undefined, you get the error <code>&quot;Cannot read property of undefined&quot;</code>.</p><p>If <code>null</code> were passed as an initial value, the error would be <code>&quot;Cannot read property of null&quot;</code>. Both errors mean the same thing: the <code>ref</code> object does not have any value when you read the <code>.current</code> property.</p><p>To fix this problem, you can use the <code>isHidden</code> state inside the <code>useEffect</code> callback and only focus on the input field when the <code>isHidden</code> state is <code>false</code>:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// ...</span></span>
<span class="line"></span>
<span class="line"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isHidden<span class="token punctuation">)</span> inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>isHidden<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ...</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="storing-mutating-state-with-react-ref" tabindex="-1"><a class="header-anchor" href="#storing-mutating-state-with-react-ref"><span>Storing mutating state with React ref</span></a></h2><p>Besides accessing DOM elements directly, refs can also have mutable values. The ref object is mutable, which means you can update its value by assigning a new value to the <code>.current</code> property. But what makes it different from state variables?</p><ul><li>The ref value is persisted across component re-renders</li><li>Unlike state variables, if the ref value changes, it does not trigger the component to re-render</li></ul><p>Take a look at the example below:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="App.jsx"><span>App.jsx</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>isHidden<span class="token punctuation">,</span> setHidden<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> buttonClicks <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isHidden<span class="token punctuation">)</span> inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>isHidden<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">handleToggle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    buttonClicks<span class="token punctuation">.</span>current<span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">setHidden</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">isHidden</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>isHidden<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello World<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token punctuation">{</span><span class="token operator">!</span>isHidden <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span></span>
<span class="line">      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleToggle<span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="line">        <span class="token punctuation">{</span>isHidden <span class="token operator">?</span> <span class="token string">&quot;Show Input&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Hide Input&quot;</span><span class="token punctuation">}</span></span>
<span class="line">      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">button clicks: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>buttonClicks<span class="token punctuation">.</span>current<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="line">        Alert Button Clicks</span>
<span class="line">      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Here, the <code>ref</code> is used to track button clicks. When the value of <code>buttonClick</code> ref changes, it does not trigger a re-render. Hence, it improves the usability and performance of the component. Avoiding unnecessary re-render is trivial for optimizing the performance of UI.</p><p>You can use ref to store values not required on the UI. An important thing to note here is that since refs do not trigger re-renders, you shouldn’t use its value in the JSX of the component as it would be unpredictable and can lead to bugs. It would be best to use state variables in scenarios where you want to display or have some logic in JSX based on the data.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>In this tutorial, we have considered various methods to interact with the DOM in a React application. We’ve also seen how we can use the <code>React.createRef()</code> method and <code>useRef</code> Hook in React to simplify creating refs.</p><p>You also now know how we can use refs in uncontrolled components. You can refer to the React documentation to learn more about what you can do with refs.</p>`,40)),r(" TODO: add ARTICLE CARD "),e(u,d(k({title:"How to use React createRef",desc:"Learn how to use the React.createRef() method and useRef Hook in React to simplify creating refs and interact with the HTML DOM.",link:"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/react-createref-guide.html",logo:"/assets/image/blog.logrocket.com/favicon.png",background:"rgba(112,76,182,0.2)"})),null,16)])}const N=g(H,[["render",P]]),z=JSON.parse('{"path":"/blog.logrocket.com/react-createref-guide.html","title":"How to use React createRef","lang":"en-US","frontmatter":{"lang":"en-US","title":"How to use React createRef","description":"Article(s) > How to use React createRef","icon":"fa-brands fa-react","category":["Node.js","React.js","Article(s)"],"tag":["blog","blog.logrocket.com","node","nodejs","node-js","react","reactjs","react-js"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to use React createRef\\",\\"image\\":[\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/banner.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/React-ref-input-example.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/react-create-ref-current.webp\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/react-create-ref-target-value.png\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/react-create-ref-uncontrolled-component-demo.webp\\",\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/react-create-ref-error.png\\"],\\"datePublished\\":\\"2022-11-15T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Glad Chinda\\",\\"url\\":\\"https://blog.logrocket.com/author/gladchinda/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/react-createref-guide.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"How to use React createRef"}],["meta",{"property":"og:description","content":"Article(s) > How to use React createRef"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/banner.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/react-createref-guide/banner.png"}],["meta",{"name":"twitter:image:alt","content":"How to use React createRef"}],["meta",{"property":"article:author","content":"Glad Chinda"}],["meta",{"property":"article:tag","content":"react-js"}],["meta",{"property":"article:tag","content":"reactjs"}],["meta",{"property":"article:tag","content":"react"}],["meta",{"property":"article:tag","content":"node-js"}],["meta",{"property":"article:tag","content":"nodejs"}],["meta",{"property":"article:tag","content":"node"}],["meta",{"property":"article:tag","content":"blog.logrocket.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2022-11-15T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > How to use React createRef"},{"property":"og:description","content":"How to use React createRef"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/react-createref-guide.html"}]],"prev":"/programming/js-react/articles/README.md","date":"2022-11-15T00:00:00.000Z","isOriginal":false,"author":[{"name":"Glad Chinda","url":"https://blog.logrocket.com/author/gladchinda/"}],"cover":"/assets/image/blog.logrocket.com/react-createref-guide/banner.png"},"git":{},"readingTime":{"minutes":13.4,"words":4019},"filePathRelative":"blog.logrocket.com/react-createref-guide.md","copyright":{"author":"Glad Chinda"}}');export{N as comp,z as data};
