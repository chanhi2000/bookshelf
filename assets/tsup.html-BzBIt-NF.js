import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as b,d as s,f as e,b as p,a as f,t as v,n as u,g as d,w as t,e as a,r as l,o as y}from"./app-BVguHYKu.js";const h="/bookshelf/assets/image/blog.logrocket.com/tsup/banner.png",x={},w={id:"frontmatter-title-관련",tabindex:"-1"},j={class:"header-anchor",href:"#frontmatter-title-관련"},S={class:"table-of-contents"},T={href:"https://github.com/tulios/mappersmith",target:"_blank",rel:"noopener noreferrer"},E={id:"the-tsup-config-ts-file",tabindex:"-1"},q={class:"header-anchor",href:"#the-tsup-config-ts-file"};function C(m,n){const c=l("VPCard"),i=l("router-link"),o=l("VPIcon"),g=l("SiteInfo"),r=l("RouteLink");return y(),b("div",null,[s("h1",w,[s("a",j,[s("span",null,v(m.$frontmatter.title)+" 관련",1)])]),e(c,u(d({title:"TypeScript > Article(s)",desc:"Article(s)",link:"/programming/ts/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",S,[s("ul",null,[s("li",null,[e(i,{to:"#what-is-tsup"},{default:t(()=>n[0]||(n[0]=[a("What is tsup?")])),_:1,__:[0]})]),s("li",null,[e(i,{to:"#what-is-tsup-used-for"},{default:t(()=>n[1]||(n[1]=[a("What is tsup used for?")])),_:1,__:[1]})]),s("li",null,[e(i,{to:"#setting-up-tsup-in-a-typescript-project"},{default:t(()=>n[2]||(n[2]=[a("Setting up tsup in a TypeScript project")])),_:1,__:[2]})]),s("li",null,[e(i,{to:"#customizing-output-extensions-with-outextension"},{default:t(()=>n[3]||(n[3]=[a("Customizing output extensions with outExtension")])),_:1,__:[3]}),s("ul",null,[s("li",null,[e(i,{to:"#supporting-both-esm-and-cjs-formats"},{default:t(()=>n[4]||(n[4]=[a("Supporting both ESM and CJS formats")])),_:1,__:[4]})])])]),s("li",null,[e(i,{to:"#how-is-tsup-used-in-real-world-scenarios"},{default:t(()=>n[5]||(n[5]=[a("How is tsup used in real-world scenarios?")])),_:1,__:[5]}),s("ul",null,[s("li",null,[e(i,{to:"#the-tsup-config-ts-file"},{default:t(()=>[n[6]||(n[6]=a("The ")),e(o,{icon:"iconfont icon-typescript"}),n[7]||(n[7]=a("tsup.config.ts file"))]),_:1,__:[6,7]})])])]),s("li",null,[e(i,{to:"#handling-minified-outputs-with-outextension"},{default:t(()=>n[8]||(n[8]=[a("Handling minified outputs with outExtension")])),_:1,__:[8]})]),s("li",null,[e(i,{to:"#generating-multiple-entry-points"},{default:t(()=>n[9]||(n[9]=[a("Generating multiple entry points")])),_:1,__:[9]})]),s("li",null,[e(i,{to:"#handling-assets-and-external-dependencies"},{default:t(()=>n[10]||(n[10]=[a("Handling assets and external dependencies")])),_:1,__:[10]})]),s("li",null,[e(i,{to:"#best-practices-to-avoid-common-pitfalls"},{default:t(()=>n[11]||(n[11]=[a("Best practices to avoid common pitfalls")])),_:1,__:[11]}),s("ul",null,[s("li",null,[e(i,{to:"#specify-both-esm-and-cjs-formats-for-maximum-compatibility"},{default:t(()=>n[12]||(n[12]=[a("Specify both ESM and CJS formats for maximum compatibility")])),_:1,__:[12]})]),s("li",null,[e(i,{to:"#generate-typescript-declaration-files-d-ts"},{default:t(()=>n[13]||(n[13]=[a("Generate TypeScript declaration files (.d.ts)")])),_:1,__:[13]})]),s("li",null,[e(i,{to:"#explicitly-define-outextension-for-node-js-compatibility"},{default:t(()=>n[14]||(n[14]=[a("Explicitly define outExtension for Node.js compatibility")])),_:1,__:[14]})]),s("li",null,[e(i,{to:"#avoid-hardcoding-paths-in-configurations"},{default:t(()=>n[15]||(n[15]=[a("Avoid hardcoding paths in configurations")])),_:1,__:[15]})]),s("li",null,[e(i,{to:"#enable-source-maps-when-minifying"},{default:t(()=>n[16]||(n[16]=[a("Enable source maps when minifying")])),_:1,__:[16]})]),s("li",null,[e(i,{to:"#handling-dependency-resolution-issues"},{default:t(()=>n[17]||(n[17]=[a("Handling dependency resolution issues")])),_:1,__:[17]})]),s("li",null,[e(i,{to:"#performance-optimizations"},{default:t(()=>n[18]||(n[18]=[a("Performance optimizations")])),_:1,__:[18]})])])]),s("li",null,[e(i,{to:"#conclusion"},{default:t(()=>n[19]||(n[19]=[a("Conclusion")])),_:1,__:[19]})])])]),n[80]||(n[80]=s("hr",null,null,-1)),e(g,{name:"Using tsup to bundle your TypeScript package",desc:"Learn how to bundle your TypeScript package with tsup, including setup, custom output extensions, and best practices for optimized builds.",url:"https://blog.logrocket.com/tsup",logo:"/assets/image/blog.logrocket.com/favicon.png",preview:"/assets/image/blog.logrocket.com/tsup/banner.png"}),n[81]||(n[81]=s("p",null,"tsup is a fast and efficient, zero-configuration TypeScript bundler designed to streamline the process of compiling, optimizing, and outputting different module formats. Unlike older bundlers, tsup leverages esbuild under the hood for high-speed performance, supports modern ECMAScript modules and CommonJS(CJS), and provides built-in features like tree shaking, minification, and code splitting.",-1)),n[82]||(n[82]=s("figure",null,[s("img",{src:h,alt:"Using tsup To Bundle Your TypeScript Package",tabindex:"0",loading:"lazy"}),s("figcaption",null,"Using tsup To Bundle Your TypeScript Package")],-1)),n[83]||(n[83]=s("p",null,[a("This guide walks through setting up tsup, configuring the output, and using the "),s("code",null,"outExtension"),a(" option to customize file extensions.")],-1)),n[84]||(n[84]=s("hr",null,null,-1)),n[85]||(n[85]=s("h2",{id:"what-is-tsup",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#what-is-tsup"},[s("span",null,"What is tsup?")])],-1)),s("p",null,[n[21]||(n[21]=a("tsup is a modern, fast, and zero-configuration bundler for TypeScript and JavaScript projects. It simplifies the process of bundling libraries or applications written in TypeScript or JavaScript, making it easier to produce optimized and production-ready code. tsup ")),e(r,{to:"/blog.logrocket.com/fast-javascript-bundling-with-esbuild.html"},{default:t(()=>n[20]||(n[20]=[s("strong",null,"uses esbuild under the hood for rapid build times",-1)])),_:1,__:[20]}),n[22]||(n[22]=a("."))]),n[86]||(n[86]=s("hr",null,null,-1)),n[87]||(n[87]=s("h2",{id:"what-is-tsup-used-for",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#what-is-tsup-used-for"},[s("span",null,"What is tsup used for?")])],-1)),n[88]||(n[88]=s("p",null,"tsup is primarily used to bundle TypeScript and JavaScript projects into distributable formats. It automatically handles TypeScript compilation, tree shaking, and bundling without requiring complex configuration. It supports multiple output formats like ESM, CJS, and IIFE, making it versatile for various environments.",-1)),n[89]||(n[89]=s("p",null,"It’s ideal for building libraries, applications, or any project that needs to be packaged for deployment. tsup optimizes code by removing unused sections (tree shaking) and minifying output for production. It has native TypeScript support, allowing you to bundle your code directly without precompilation. Additionally, tsup can generate development builds with source maps for debugging and production-ready builds with minification.",-1)),n[90]||(n[90]=s("p",null,"tsup minimizes setup complexity by offering a zero-configuration approach, allowing developers to bundle TypeScript and JavaScript projects without extensive configuration files. Unlike traditional bundlers that require complex setups with multiple plugins and custom build scripts, tsup works out of the box by automatically detecting entry points, handling TypeScript compilation, and optimizing output formats. This streamlined workflow significantly reduces the time spent configuring a build system, making it easier to focus on development rather than setup.",-1)),n[91]||(n[91]=s("figure",null,[s("img",{src:"https://paper-attachments.dropboxusercontent.com/s_3FB3A3B70A676F901D54C587AA05F2EF26F6E1204D6CB56636CAF46CA0741547_1739144457617_image.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1)),s("p",null,[n[24]||(n[24]=a("If you’re considering alternative bundlers, check out our article “")),e(r,{to:"/blog.logrocket.com/using-rollup-package-library-typescript-javascript.html"},{default:t(()=>n[23]||(n[23]=[s("strong",null,"Using Rollup to package a library for TypeScript and JavaScript",-1)])),_:1,__:[23]}),n[25]||(n[25]=a("” for a detailed comparison."))]),n[92]||(n[92]=p(`<hr><h2 id="setting-up-tsup-in-a-typescript-project" tabindex="-1"><a class="header-anchor" href="#setting-up-tsup-in-a-typescript-project"><span>Setting up tsup in a TypeScript project</span></a></h2><p>Before bundling with tsup, start by creating a new TypeScript package. Initialize a project directory and set up TypeScript:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">mkdir</span> my-ts-package <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> my-ts-package</span>
<span class="line"><span class="token function">npm</span> init <span class="token parameter variable">-y</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> typescript --save-dev</span>
<span class="line">npx tsc <span class="token parameter variable">--init</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4)),s("p",null,[n[26]||(n[26]=a("This initializes a TypeScript package with a default ")),e(o,{icon:"iconfont icon-json"}),n[27]||(n[27]=s("code",null,"tsconfig.json",-1)),n[28]||(n[28]=a("."))]),n[93]||(n[93]=p(`<p>To integrate <code>tsup</code> into a TypeScript project, install it via npm:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> <span class="token function">install</span> tsup --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,2)),s("p",null,[n[29]||(n[29]=a("Then, update the ")),e(o,{icon:"iconfont icon-json"}),n[30]||(n[30]=s("code",null,"package.json",-1)),n[31]||(n[31]=a(" file to add a build script:"))]),n[94]||(n[94]=p(`<div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsup&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),s("p",null,[n[32]||(n[32]=a("By default, tsup looks for an ")),e(o,{icon:"iconfont icon-typescript"}),n[33]||(n[33]=s("code",null,"index.ts",-1)),n[34]||(n[34]=a(" or ")),e(o,{icon:"fas fa-folder-open"}),n[35]||(n[35]=s("code",null,"src/",-1)),e(o,{icon:"iconfont icon-typescript"}),n[36]||(n[36]=s("code",null,"index.ts",-1)),n[37]||(n[37]=a(" entry point. To specify an entry file manually, pass it as an argument. For example, if you have a ")),e(o,{icon:"iconfont icon-typescript"}),n[38]||(n[38]=s("code",null,"main.ts",-1)),n[39]||(n[39]=a(" file inside ")),e(o,{icon:"fas fa-folder-open"}),n[40]||(n[40]=s("code",null,"src/",-1)),n[41]||(n[41]=a(", you can define a simple function:"))]),n[95]||(n[95]=p(`<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token string">&quot;Hello from tsup!&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Run the following <code>tsup</code> command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">npx tsup src/main.ts <span class="token parameter variable">--format</span> esm,cjs <span class="token parameter variable">--dts</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This command instructs tsup to generate both ESM and CJS outputs and includes TypeScript declaration files (<code>.d.ts</code>). These files are essential for TypeScript libraries because they provide type definitions that enable editors and compilers to understand the package’s API without needing access to the original TypeScript source. Manually generating these files with <code>tsc</code> can be cumbersome, requiring additional configurations, but tsup simplifies this by handling it automatically with the <code>--dts</code> flag.</p>`,4)),s("p",null,[n[43]||(n[43]=a("For those exploring other modern bundling options, our post “")),e(r,{to:"/blog.logrocket.com/migrating-typescript-app-node-js-bun.html"},{default:t(()=>n[42]||(n[42]=[s("strong",null,"Migrating a TypeScript app from Node.js to Bun",-1)])),_:1,__:[42]}),n[44]||(n[44]=a("” offers valuable insights on an emerging alternative."))]),n[96]||(n[96]=p(`<hr><h2 id="customizing-output-extensions-with-outextension" tabindex="-1"><a class="header-anchor" href="#customizing-output-extensions-with-outextension"><span>Customizing output extensions with <code>outExtension</code></span></a></h2><p>By default, tsup outputs <code>.js</code> files for both ESM and CJS formats. However, certain environments and packaging requirements may require different extensions. The <code>outExtension</code> option allows renaming output files.</p><p>In a <code>tsup.config.ts</code> file, define:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="tsup.config.ts"><span>tsup.config.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;tsup&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  entry<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src/index.ts&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  format<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;esm&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cjs&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  dts<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function">outExtension</span><span class="token punctuation">(</span><span class="token punctuation">{</span> format <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> format <span class="token operator">===</span> <span class="token string">&#39;esm&#39;</span> <span class="token operator">?</span> <span class="token punctuation">{</span> js<span class="token operator">:</span> <span class="token string">&#39;.mjs&#39;</span> <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span> js<span class="token operator">:</span> <span class="token string">&#39;.cjs&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>This configuration ensures that ESM outputs use <code>.mjs</code>, while CJS outputs use <code>.cjs</code>, making module resolution more explicit in Node.js environments.</p><h3 id="supporting-both-esm-and-cjs-formats" tabindex="-1"><a class="header-anchor" href="#supporting-both-esm-and-cjs-formats"><span>Supporting both ESM and CJS formats</span></a></h3><p>Supporting both ESM and CJS in a TypeScript package is crucial for module format compatibility across different environments. ESM (ECMAScript Modules) is the modern standard, optimized for tree shaking and better performance in bundlers like Webpack and Vite. CJS, on the other hand, is still widely used in Node.js projects and older toolchains. By generating both formats, the package is flexible, allowing users to consume it regardless of their module system.</p><p>tsup simplifies this dual support by allowing both formats to be defined in a single command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">npx tsup src/index.ts <span class="token parameter variable">--format</span> esm,cjs <span class="token parameter variable">--dts</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This approach ensures that both modern and legacy projects can import the package without issues.</p>`,11)),s("p",null,[n[46]||(n[46]=a("For more on the differences between ESM and CommonJS — and why these distinctions matter — see our guide on ")),e(r,{to:"/blog.logrocket.com/commonjs-vs-es-modules-node-js.html"},{default:t(()=>n[45]||(n[45]=[s("strong",null,"CommonJS vs. ES modules in Node.js",-1)])),_:1,__:[45]}),n[47]||(n[47]=a("."))]),n[97]||(n[97]=s("hr",null,null,-1)),n[98]||(n[98]=s("h2",{id:"how-is-tsup-used-in-real-world-scenarios",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#how-is-tsup-used-in-real-world-scenarios"},[s("span",null,"How is tsup used in real-world scenarios?")])],-1)),s("p",null,[n[51]||(n[51]=s("code",null,"tsup",-1)),n[52]||(n[52]=a(" plays a crucial role in efficiently bundling TypeScript code. The configuration in ")),s("a",T,[n[48]||(n[48]=a("Mappersmith’s (")),e(o,{icon:"iconfont icon-github"}),n[49]||(n[49]=s("code",null,"tulios/mappersmith",-1)),n[50]||(n[50]=a(")"))]),n[53]||(n[53]=a()),e(o,{icon:"iconfont icon-typescript"}),n[54]||(n[54]=s("code",null,"tsup.config.ts",-1)),n[55]||(n[55]=a(" provides an excellent example of setting up bundling for different environments, target versions, and output formats. It showcases how to define entry points, handle different build scenarios like Node.js and browser environments, and manage sourcemaps, type declarations, and minification."))]),s("p",null,[n[56]||(n[56]=a("The ")),e(o,{icon:"iconfont icon-json"}),n[57]||(n[57]=s("code",null,"package.json",-1)),n[58]||(n[58]=a(" script in Mappersmith integrates ")),n[59]||(n[59]=s("code",null,"tsup",-1)),n[60]||(n[60]=a(" as part of a larger build process. It begins by copying version files, running ")),n[61]||(n[61]=s("code",null,"tsup",-1)),n[62]||(n[62]=a(" to bundle the code, and finally generating type declarations. This modular approach keeps the workflow clean and focused on different aspects of the build process. The build script ties together multiple tasks, demonstrating how ")),n[63]||(n[63]=s("code",null,"tsup",-1)),n[64]||(n[64]=a(" fits into a broader toolchain."))]),s("h3",E,[s("a",q,[s("span",null,[n[65]||(n[65]=a("The ")),e(o,{icon:"iconfont icon-typescript"}),n[66]||(n[66]=s("code",null,"tsup.config.ts",-1)),n[67]||(n[67]=a(" file"))])])]),n[99]||(n[99]=p(`<p>For Mappersmith’s <code>tsup</code> configuration, the following setup is used:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="tsup.config.ts"><span>tsup.config.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig<span class="token punctuation">,</span> Options <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;tsup&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> esbuildPluginFilePathExtensions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;esbuild-plugin-file-path-extensions&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Inspired by https://github.com/immerjs/immer/pull/1032/files</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> commonOptions<span class="token operator">:</span> Partial <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    entry<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src/**/*.[jt]s&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;!./src/**/*.d.ts&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;!./src/**/*.spec.[jt]s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    platform<span class="token operator">:</span> <span class="token string">&#39;node&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    target<span class="token operator">:</span> <span class="token string">&#39;node16&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// \`splitting\` should be false, it ensures we are not getting any \`chunk-*\` files in the output.</span></span>
<span class="line">    splitting<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// \`bundle\` should be false, it ensures we are not getting the entire bundle in EVERY file of the output.</span></span>
<span class="line">    bundle<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// \`sourcemap\` should be true, we want to be able to point users back to the original source.</span></span>
<span class="line">    sourcemap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    clean<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token operator">...</span>options<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">const</span> productionOptions <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    minify<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    define<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&#39;process.env.NODE_ENV&#39;</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">&#39;production&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token comment">// ESM, standard bundler dev, embedded \`process\` references.</span></span>
<span class="line">    <span class="token comment">// (this is consumed by [&quot;exports&quot; &gt; &quot;.&quot; &gt; &quot;import&quot;] and [&quot;exports &gt; &quot;.&quot; &gt; &quot;types&quot;] in package.json)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token operator">...</span>commonOptions<span class="token punctuation">,</span></span>
<span class="line">      format<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;esm&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">      clean<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      outDir<span class="token operator">:</span> <span class="token string">&#39;./dist/esm/&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      esbuildPlugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">esbuildPluginFilePathExtensions</span><span class="token punctuation">(</span><span class="token punctuation">{</span> filter<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token comment">// Yes, bundle: true =&gt; https://github.com/favware/esbuild-plugin-file-path-extensions?tab=readme-ov-file#usage</span></span>
<span class="line">      bundle<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      dts<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        compilerOptions<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">          resolveJsonModule<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">          outDir<span class="token operator">:</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// ESM for use in browsers. Minified, with \`process\` compiled away</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token operator">...</span>commonOptions<span class="token punctuation">,</span></span>
<span class="line">      <span class="token operator">...</span>productionOptions<span class="token punctuation">,</span></span>
<span class="line">      <span class="token comment">// \`splitting\` should be true (revert to the default)</span></span>
<span class="line">      splitting<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token comment">// \`bundle\` should be true, so we get everything in one file.</span></span>
<span class="line">      bundle<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      entry<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string-property property">&#39;mappersmith.production.min&#39;</span><span class="token operator">:</span> <span class="token string">&#39;src/index.ts&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      platform<span class="token operator">:</span> <span class="token string">&#39;browser&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      format<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;esm&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">      outDir<span class="token operator">:</span> <span class="token string">&#39;./dist/browser/&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// CJS</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token operator">...</span>commonOptions<span class="token punctuation">,</span></span>
<span class="line">      clean<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      format<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;cjs&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">      outDir<span class="token operator">:</span> <span class="token string">&#39;./dist/&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h4 id="breakdown-of-the-configuration" tabindex="-1"><a class="header-anchor" href="#breakdown-of-the-configuration"><span>Breakdown of the configuration</span></a></h4><p>In the above setup:</p><ul><li><code>commonOptions</code> contains settings that apply to all builds, such as defining entry files, targeting Node.js version 16, disabling code splitting, and enabling sourcemaps.</li><li><code>productionOptions</code> applies specifically to production builds, enabling minification and defining the <code>NODE_ENV</code> variable as <code>production</code>.</li><li>The first configuration generates an ESM bundle for Node.js, incorporating the <code>esbuildPluginFilePathExtensions</code> plugin and handling TypeScript declarations.</li><li>The second configuration bundles ESM code for browsers, applying production optimizations like minification.</li><li>The third configuration generates a CommonJS (CJS) bundle for environments requiring this format.</li></ul><hr><h2 id="handling-minified-outputs-with-outextension" tabindex="-1"><a class="header-anchor" href="#handling-minified-outputs-with-outextension"><span>Handling minified outputs with <code>outExtension</code></span></a></h2>`,7)),s("p",null,[n[68]||(n[68]=a("When generating production builds, it is often useful to append ")),e(o,{icon:"fa-brands fa-js"}),n[69]||(n[69]=s("code",null,".min.js",-1)),n[70]||(n[70]=a(" to minified files for better clarity and organization. The ")),n[71]||(n[71]=s("code",null,"outExtension",-1)),n[72]||(n[72]=a(" option in tsup allows you to modify output file extensions dynamically. Update your configuration as follows:"))]),n[100]||(n[100]=p(`<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;tsup&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  entry<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src/index.ts&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  format<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;esm&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cjs&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  dts<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  minify<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function">outExtension</span><span class="token punctuation">(</span><span class="token punctuation">{</span> format <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> format <span class="token operator">===</span> <span class="token string">&#39;esm&#39;</span> <span class="token operator">?</span> <span class="token punctuation">{</span> js<span class="token operator">:</span> <span class="token string">&#39;.min.mjs&#39;</span> <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span> js<span class="token operator">:</span> <span class="token string">&#39;.min.cjs&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This setup ensures:</p><ul><li>Minified ESM files are named <code>*.min.mjs</code></li><li>Minified CJS files are named <code>*.min.cjs</code></li></ul><p>This improves clarity when distributing both development and production builds. Explicitly defining file extensions prevents ambiguity in module resolution, particularly in environments requiring strict format handling.</p><hr><h2 id="generating-multiple-entry-points" tabindex="-1"><a class="header-anchor" href="#generating-multiple-entry-points"><span>Generating multiple entry points</span></a></h2><p>tsup supports multiple entry points, making it ideal for bundling libraries with several exports. To configure multiple entry points, update your <code>tsup.config.ts</code> as follows:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="tsup.config.ts"><span>tsup.config.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;tsup&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  entry<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    index<span class="token operator">:</span> <span class="token string">&#39;src/index.ts&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    utils<span class="token operator">:</span> <span class="token string">&#39;src/utils.ts&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  format<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;esm&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cjs&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  dts<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  splitting<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  sourcemap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  clean<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,8)),s("p",null,[n[73]||(n[73]=a("This configuration compiles ")),e(o,{icon:"fas fa-folder-open"}),n[74]||(n[74]=s("code",null,"src/",-1)),e(o,{icon:"iconfont icon-typescript"}),n[75]||(n[75]=s("code",null,"index.ts",-1)),n[76]||(n[76]=a(" and ")),e(o,{icon:"fas fa-folder-open"}),n[77]||(n[77]=s("code",null,"src/",-1)),e(o,{icon:"iconfont icon-typescript"}),n[78]||(n[78]=s("code",null,"utils.ts",-1)),n[79]||(n[79]=a(" separately, enabling better modularity and maintainability in larger projects."))]),n[101]||(n[101]=p(`<hr><h2 id="handling-assets-and-external-dependencies" tabindex="-1"><a class="header-anchor" href="#handling-assets-and-external-dependencies"><span>Handling assets and external dependencies</span></a></h2><p>If your project includes static assets (such as CSS or JSON files), tsup allows you to exclude external dependencies to keep the final bundle lightweight. Use the <code>external</code> option to specify dependencies that should not be bundled:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;tsup&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  entry<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src/index.ts&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  format<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;esm&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cjs&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  dts<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  external<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;react&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lodash&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This ensures that dependencies like <code>react</code> and <code>lodash</code> are referenced externally rather than bundled within the output, reducing the final file size and improving efficiency.</p><p>By leveraging these configurations, tsup provides a streamlined approach to managing multiple entry points, minified outputs, and external dependencies, making it a powerful tool for modern TypeScript project bundling.</p><hr><h2 id="best-practices-to-avoid-common-pitfalls" tabindex="-1"><a class="header-anchor" href="#best-practices-to-avoid-common-pitfalls"><span>Best practices to avoid common pitfalls</span></a></h2><p>When using <code>tsup</code> to bundle your TypeScript package, following best practices ensures a smooth and efficient workflow while avoiding common pitfalls. Below are key strategies to use <code>tsup</code> effectively:</p><h3 id="specify-both-esm-and-cjs-formats-for-maximum-compatibility" tabindex="-1"><a class="header-anchor" href="#specify-both-esm-and-cjs-formats-for-maximum-compatibility"><span>Specify both ESM and CJS formats for maximum compatibility</span></a></h3><p>To ensure your package works across different environments, always specify both ESM (ECMAScript Modules) and CJS (CommonJS) formats. Modern frameworks and tools often prefer ESM, while older systems or Node.js environments may still rely on CJS. Set the <code>format</code> option in your <code>tsup</code> configuration:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;esm&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cjs&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Failing to support both formats can limit your package’s usability, so this step is essential.</p><h3 id="generate-typescript-declaration-files-d-ts" tabindex="-1"><a class="header-anchor" href="#generate-typescript-declaration-files-d-ts"><span>Generate TypeScript declaration files (<code>.d.ts</code>)</span></a></h3><p>TypeScript declaration files provide type information for users of your package. Without them, users lose type safety and IntelliSense support. Enable <code>dts</code> in your <code>tsup</code> configuration to generate these files:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;dts&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Skipping this step can hinder the developer experience for TypeScript users.</p><h3 id="explicitly-define-outextension-for-node-js-compatibility" tabindex="-1"><a class="header-anchor" href="#explicitly-define-outextension-for-node-js-compatibility"><span>Explicitly define <code>outExtension</code> for Node.js compatibility</span></a></h3><p>Node.js has strict rules for resolving module files, requiring <code>.mjs</code> for ESM and <code>.cjs</code> for CJS. To avoid runtime errors, define the <code>outExtension</code> option in your <code>tsup</code> configuration:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;outExtension&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> format <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;.js&quot;</span><span class="token operator">:</span> format <span class="token operator">===</span> <span class="token string">&quot;cjs&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;.cjs&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;.mjs&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This ensures Node.js correctly resolves your module files, preventing import issues.</p><h3 id="avoid-hardcoding-paths-in-configurations" tabindex="-1"><a class="header-anchor" href="#avoid-hardcoding-paths-in-configurations"><span>Avoid hardcoding paths in configurations</span></a></h3><p>Hardcoding paths in your <code>tsup</code> configuration reduces flexibility and makes setup less reusable. Instead, use dynamic options to adapt to different formats or environments. Set the <code>outDir</code> dynamically:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> format <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">dist/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>format<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This approach keeps your configuration flexible and easier to maintain.</p><h3 id="enable-source-maps-when-minifying" tabindex="-1"><a class="header-anchor" href="#enable-source-maps-when-minifying"><span>Enable source maps when minifying</span></a></h3><p>Minification reduces bundle size but makes debugging difficult. Enable source maps when minifying to simplify debugging:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;minify&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;sourcemap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Without source maps, debugging minified code can be nearly impossible.</p><h3 id="handling-dependency-resolution-issues" tabindex="-1"><a class="header-anchor" href="#handling-dependency-resolution-issues"><span>Handling dependency resolution issues</span></a></h3><p>By default, tsup treats certain dependencies as external and does not include them in the bundle. If you find missing dependencies in the final output, configure the <code>external</code> option:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;external&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lodash&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This ensures dependencies like <code>react</code> and <code>lodash</code> are referenced externally rather than bundled, reducing file size.</p><h3 id="performance-optimizations" tabindex="-1"><a class="header-anchor" href="#performance-optimizations"><span>Performance optimizations</span></a></h3><p>While <code>tsup</code> is optimized for speed, enabling certain features like source maps can impact build times. Monitor your build performance and adjust configurations as needed to balance speed and debugging capabilities.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p><code>tsup</code> is a powerful bundler that simplifies the process of bundling TypeScript projects. Its support for ESM and CJS formats, along with features like <code>outExtension</code> for customized file extensions, makes it an essential tool for modern JavaScript development. By following these best practices, you can effectively integrate <code>tsup</code> into your workflow, ensuring efficient and production-ready builds. Whether you are focusing on tree shaking, module format compatibility, or streamlined builds, <code>tsup</code> provides the necessary tools for success.</p>`,38)),f(" TODO: add ARTICLE CARD "),e(c,u(d({title:"Using tsup to bundle your TypeScript package",desc:"Learn how to bundle your TypeScript package with tsup, including setup, custom output extensions, and best practices for optimized builds.",link:"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/tsup.html",logo:"/assets/image/blog.logrocket.com/favicon.png",background:"rgba(112,76,182,0.2)"})),null,16)])}const A=k(x,[["render",C]]),J=JSON.parse('{"path":"/blog.logrocket.com/tsup.html","title":"Using tsup to bundle your TypeScript package","lang":"en-US","frontmatter":{"lang":"en-US","title":"Using tsup to bundle your TypeScript package","description":"Article(s) > Using tsup to bundle your TypeScript package","icon":"iconfont icon-typescript","category":["TypeScript","Article(s)"],"tag":["blog","blog.logrocket.com","ts","typesccript"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Using tsup to bundle your TypeScript package\\",\\"image\\":[\\"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/tsup/banner.png\\",\\"https://paper-attachments.dropboxusercontent.com/s_3FB3A3B70A676F901D54C587AA05F2EF26F6E1204D6CB56636CAF46CA0741547_1739144457617_image.png\\"],\\"datePublished\\":\\"2025-02-20T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Muhammed Ali\\",\\"url\\":\\"https://blog.logrocket.com/author/muhammedali/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/tsup.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"Using tsup to bundle your TypeScript package"}],["meta",{"property":"og:description","content":"Article(s) > Using tsup to bundle your TypeScript package"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/tsup/banner.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/tsup/banner.png"}],["meta",{"name":"twitter:image:alt","content":"Using tsup to bundle your TypeScript package"}],["meta",{"property":"article:author","content":"Muhammed Ali"}],["meta",{"property":"article:tag","content":"typesccript"}],["meta",{"property":"article:tag","content":"ts"}],["meta",{"property":"article:tag","content":"blog.logrocket.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-02-20T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Using tsup to bundle your TypeScript package"},{"property":"og:description","content":"Using tsup to bundle your TypeScript package"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/blog.logrocket.com/tsup.html"}]],"prev":"/programming/ts/articles/README.md","date":"2025-02-20T00:00:00.000Z","isOriginal":false,"author":[{"name":"Muhammed Ali","url":"https://blog.logrocket.com/author/muhammedali/"}],"cover":"/assets/image/blog.logrocket.com/tsup/banner.png"},"git":{},"readingTime":{"minutes":7.83,"words":2350},"filePathRelative":"blog.logrocket.com/tsup.md","copyright":{"author":"Muhammed Ali"}}');export{A as comp,J as data};
