import{_ as b}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,d as e,f as n,b as o,a as v,t as k,n as d,g as c,w as t,e as a,r,o as f}from"./app-BItykJLQ.js";const y={},q={id:"frontmatter-title-관련",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-관련"},S={class:"table-of-contents"},L={href:"https://postgresql.org/docs/18/",target:"_blank",rel:"noopener noreferrer"};function T(u,s){const p=r("VPCard"),l=r("router-link"),g=r("SiteInfo"),i=r("VPIcon"),m=r("RouteLink");return f(),h("div",null,[e("h1",q,[e("a",w,[e("span",null,k(u.$frontmatter.title)+" 관련",1)])]),n(p,d(c({title:"Linux - Debian > Article(s)",desc:"Article(s)",link:"/devops/linux-debian/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n(p,d(c({title:"PostgreSQL > Article(s)",desc:"Article(s)",link:"/data-science/postgresql/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),e("nav",S,[e("ul",null,[e("li",null,[n(l,{to:"#how-to-install-postgresql-on-ubuntu-24-04"},{default:t(()=>[...s[0]||(s[0]=[a("How to Install PostgreSQL on Ubuntu 24.04",-1)])]),_:1})]),e("li",null,[n(l,{to:"#install-pgadmin-4-for-postgresql-administration"},{default:t(()=>[...s[1]||(s[1]=[a("Install pgAdmin 4 for PostgreSQL Administration",-1)])]),_:1})]),e("li",null,[n(l,{to:"#how-to-use-postgresql-roles-and-databases"},{default:t(()=>[...s[2]||(s[2]=[a("How to Use PostgreSQL Roles and Databases",-1)])]),_:1}),e("ul",null,[e("li",null,[n(l,{to:"#understanding-postgresql-roles"},{default:t(()=>[...s[3]||(s[3]=[a("Understanding PostgreSQL Roles",-1)])]),_:1})]),e("li",null,[n(l,{to:"#enable-encrypted-passwords-for-postgresql-roles"},{default:t(()=>[...s[4]||(s[4]=[a("Enable Encrypted Passwords for PostgreSQL Roles",-1)])]),_:1})])])]),e("li",null,[n(l,{to:"#how-to-use-postgresql-on-ubuntu"},{default:t(()=>[...s[5]||(s[5]=[a("How to Use PostgreSQL on Ubuntu",-1)])]),_:1}),e("ul",null,[e("li",null,[n(l,{to:"#create-postgresql-database-roles"},{default:t(()=>[...s[6]||(s[6]=[a("Create PostgreSQL Database Roles",-1)])]),_:1})]),e("li",null,[n(l,{to:"#create-a-role-with-a-password"},{default:t(()=>[...s[7]||(s[7]=[a("Create a Role with a Password",-1)])]),_:1})]),e("li",null,[n(l,{to:"#create-a-role-with-additional-privileges"},{default:t(()=>[...s[8]||(s[8]=[a("Create a Role with Additional Privileges",-1)])]),_:1})]),e("li",null,[n(l,{to:"#list-existing-postgresql-database-roles"},{default:t(()=>[...s[9]||(s[9]=[a("List Existing PostgreSQL Database Roles",-1)])]),_:1})]),e("li",null,[n(l,{to:"#modify-postgresql-database-roles"},{default:t(()=>[...s[10]||(s[10]=[a("Modify PostgreSQL Database Roles",-1)])]),_:1})]),e("li",null,[n(l,{to:"#drop-a-postgresql-database-role"},{default:t(()=>[...s[11]||(s[11]=[a("Drop a PostgreSQL Database Role",-1)])]),_:1})]),e("li",null,[n(l,{to:"#create-a-postgresql-database"},{default:t(()=>[...s[12]||(s[12]=[a("Create a PostgreSQL Database",-1)])]),_:1})]),e("li",null,[n(l,{to:"#grant-privileges-to-a-role"},{default:t(()=>[...s[13]||(s[13]=[a("Grant Privileges to a Role",-1)])]),_:1})]),e("li",null,[n(l,{to:"#create-a-postgresql-table"},{default:t(()=>[...s[14]||(s[14]=[a("Create a PostgreSQL Table",-1)])]),_:1})]),e("li",null,[n(l,{to:"#insert-data-into-postgresql-table"},{default:t(()=>[...s[15]||(s[15]=[a("Insert Data into PostgreSQL Table",-1)])]),_:1})]),e("li",null,[n(l,{to:"#query-data-from-postgresql-table"},{default:t(()=>[...s[16]||(s[16]=[a("Query Data from PostgreSQL Table",-1)])]),_:1})]),e("li",null,[n(l,{to:"#update-data-in-postgresql-table"},{default:t(()=>[...s[17]||(s[17]=[a("Update Data in PostgreSQL Table",-1)])]),_:1})]),e("li",null,[n(l,{to:"#delete-data-from-postgresql-table"},{default:t(()=>[...s[18]||(s[18]=[a("Delete Data from PostgreSQL Table",-1)])]),_:1})]),e("li",null,[n(l,{to:"#list-postgresql-database-tables"},{default:t(()=>[...s[19]||(s[19]=[a("List PostgreSQL Database Tables",-1)])]),_:1})]),e("li",null,[n(l,{to:"#alter-postgresql-table-structure"},{default:t(()=>[...s[20]||(s[20]=[a("Alter PostgreSQL Table Structure",-1)])]),_:1})]),e("li",null,[n(l,{to:"#delete-drop-a-postgresql-table"},{default:t(()=>[...s[21]||(s[21]=[a("Delete/Drop a PostgreSQL Table",-1)])]),_:1})]),e("li",null,[n(l,{to:"#list-all-postgresql-databases"},{default:t(()=>[...s[22]||(s[22]=[a("List All PostgreSQL Databases",-1)])]),_:1})]),e("li",null,[n(l,{to:"#delete-drop-a-postgresql-database"},{default:t(()=>[...s[23]||(s[23]=[a("Delete/Drop a PostgreSQL Database",-1)])]),_:1})]),e("li",null,[n(l,{to:"#switch-to-another-postgresql-database"},{default:t(()=>[...s[24]||(s[24]=[a("Switch to Another PostgreSQL Database",-1)])]),_:1})])])]),e("li",null,[n(l,{to:"#configure-postgresql-for-remote-access"},{default:t(()=>[...s[25]||(s[25]=[a("Configure PostgreSQL for Remote Access",-1)])]),_:1})]),e("li",null,[n(l,{to:"#basic-postgresql-performance-tuning"},{default:t(()=>[...s[26]||(s[26]=[a("Basic PostgreSQL Performance Tuning",-1)])]),_:1})]),e("li",null,[n(l,{to:"#backup-and-restore-postgresql-databases"},{default:t(()=>[...s[27]||(s[27]=[a("Backup and Restore PostgreSQL Databases",-1)])]),_:1})]),e("li",null,[n(l,{to:"#conclusion"},{default:t(()=>[...s[28]||(s[28]=[a("Conclusion",-1)])]),_:1})])])]),s[51]||(s[51]=e("hr",null,null,-1)),n(g,{name:"How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS",desc:"In this article, we will explain how to install PostgreSQL 18 on an Ubuntu 24.04 LTS server and learn essential ways to use it effectively.",url:"https://tecmint.com/install-postgresql-on-ubuntu",logo:"https://tecmint.com/wp-content/uploads/2020/07/favicon.ico",preview:"https://tecmint.com/wp-content/uploads/2025/10/Install-PostgreSQL-on-Ubuntu.webp"}),s[52]||(s[52]=o(`<p><strong>PostgreSQL</strong> (<strong>Postgres</strong> in short) is an open source, powerful, advanced, high-performance, and stable relational-document database system, which extends the SQL language and includes a wide range of features for secure data storage and management.</p><p>It is efficient, reliable, and scalable for handling large, complicated volumes of data and setting up enterprise-level and fault-tolerant environments, while ensuring high data integrity.</p><p><strong>Postgres</strong> is also highly extensible with features such as advanced indexing, full-text search, and comes with APIs so that you can develop your own solutions to solve your data storage challenges.</p><p>In this article, we will explain how to install <strong>PostgreSQL 18</strong> (which was just released on <strong>September 25, 2025</strong>) on an <strong>Ubuntu 24.04 LTS</strong> server and learn essential ways to use it effectively.</p><hr><h2 id="how-to-install-postgresql-on-ubuntu-24-04" tabindex="-1"><a class="header-anchor" href="#how-to-install-postgresql-on-ubuntu-24-04"><span>How to Install PostgreSQL on Ubuntu 24.04</span></a></h2><p><strong>PostgreSQL</strong> comes prepackaged with all <strong>Ubuntu</strong> versions by default. However, <strong>Ubuntu</strong> includes a specific “<strong>snapshot</strong>” of <strong>PostgreSQL</strong> that remains fixed for the entire lifecycle of that <strong>Ubuntu</strong> release.</p><p>If you want access to newer <strong>PostgreSQL</strong> versions, then you can use the following automated repository configuration script that automatically set up the official <strong>PostgreSQL Apt</strong> repository.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> postgresql-common ca-certificates</span>
<span class="line"><span class="token function">sudo</span> /usr/share/postgresql-common/pgdg/apt.postgresql.org.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Now update the package list and install <strong>PostgreSQL</strong> (the latest version is <strong>PostgreSQL 18</strong> as of today):</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="Install PostgreSQL 18 in Ubuntu"><span>Install PostgreSQL 18 in Ubuntu</span></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> update</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> postgresql-18 postgresql-contrib-18</span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"><span class="token comment"># Reading package lists... Done</span></span>
<span class="line"><span class="token comment"># BuiIding dependency tree... Done</span></span>
<span class="line"><span class="token comment"># Reading state information... Done</span></span>
<span class="line"><span class="token comment"># Note, selecting &#39;postgresql—18&#39; instead of &#39;postgresql—contrib—18&#39;</span></span>
<span class="line"><span class="token comment"># The following additional packages be installed.</span></span>
<span class="line"><span class="token comment">#   1ib11vm19 Iibpq5 Iiburing2 postgresql—18—jit postgresql—client—18 postgresql—client—common postgresql—common</span></span>
<span class="line"><span class="token comment"># Suggested packages:</span></span>
<span class="line"><span class="token comment">#   libpq—oauth postgresql—doc—18</span></span>
<span class="line"><span class="token comment"># The following NEW packages be installed:</span></span>
<span class="line"><span class="token comment">#   1ib11vm19 Iibpq5 Iiburing2 postgresql—18 postgresql—18—)it postgresqI—cIient—18</span></span>
<span class="line"><span class="token comment"># The following packages be upgraded:</span></span>
<span class="line"><span class="token comment">#   postgresql—client—conmon postgresql—common</span></span>
<span class="line"><span class="token comment"># 2 upgraded, 6 newly installed, 0 to remove and 360 not upgraded.</span></span>
<span class="line"><span class="token comment"># Need to get 48.6 MB of archives .</span></span>
<span class="line"><span class="token comment"># After this operation, 201 MB of additional disk space be used.</span></span>
<span class="line"><span class="token comment"># Do you want to continue? [Y/n]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><hr><h2 id="install-pgadmin-4-for-postgresql-administration" tabindex="-1"><a class="header-anchor" href="#install-pgadmin-4-for-postgresql-administration"><span>Install pgAdmin 4 for PostgreSQL Administration</span></a></h2><p>If you prefer a graphical interface to manage your <strong>PostgreSQL</strong> databases, you can install <strong>pgAdmin 4</strong>, the official <strong>PostgreSQL</strong> management tool that allows you to manage databases, users, queries, and more – all from a web-based dashboard.</p><p>On <strong>Ubuntu 24.04</strong>, <strong>pgAdmin 4</strong> isn’t available in the default repositories, so we’ll use the official <strong>pgAdmin</strong> repository.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">curl</span> ca-certificates gnupg</span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-fsS</span> https://www.pgadmin.org/static/packages_pgadmin_org.pub <span class="token operator">|</span> <span class="token function">sudo</span> gpg <span class="token parameter variable">--dearmor</span> <span class="token parameter variable">-o</span> /usr/share/keyrings/packages-pgadmin-org.gpg</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">&#39;echo &quot;deb [signed-by=/usr/share/keyrings/packages-pgadmin-org.gpg] https://ftp.postgresql.org/pub/pgadmin/pgadmin4/apt/$(lsb_release -cs) pgadmin4 main&quot; &gt; /etc/apt/sources.list.d/pgadmin4.list &amp;&amp; apt update&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Once the <strong>pgAdmin</strong> repository has been added, you can install <strong>pgAdmin 4</strong> as shown.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># Install for both desktop and web modes</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> pgadmin4</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Install for desktop mode only</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> pgadmin4-desktop</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Install for web mode only </span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> pgadmin4-web </span>
<span class="line"></span>
<span class="line"><span class="token comment"># Configure the webserver, if you installed pgadmin4-web:</span></span>
<span class="line"><span class="token function">sudo</span> /usr/pgadmin4/bin/setup-web.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>After the installation, the <strong>PostgreSQL</strong> service should start automatically, and you can confirm its status by running:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> systemctl status postgresql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To enable PostgreSQL to start on boot (if not already enabled):</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> postgresql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>After running this, you can open <code>pgAdmin</code> in your browser at:</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">http://127.0.0.1/pgadmin4</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://tecmint.com/wp-content/uploads/2018/07/pgAdmin-Management-Tool-for-PostgreSQL.png" alt=" Management Tool for PostgreSQL" tabindex="0" loading="lazy"><figcaption><code>pgAdmin</code> Management Tool for PostgreSQL</figcaption></figure><p>pgAdmin Management Tool for PostgreSQL</p><hr><h2 id="how-to-use-postgresql-roles-and-databases" tabindex="-1"><a class="header-anchor" href="#how-to-use-postgresql-roles-and-databases"><span>How to Use PostgreSQL Roles and Databases</span></a></h2>`,28)),e("p",null,[s[29]||(s[29]=a("In ",-1)),s[30]||(s[30]=e("strong",null,"PostgreSQL",-1)),s[31]||(s[31]=a(", client authentication is controlled by the ",-1)),n(i,{icon:"fas fa-folder-open"}),s[32]||(s[32]=e("code",null,"/etc/postgresql/18/main/",-1)),n(i,{icon:"fas fa-gears"}),s[33]||(s[33]=e("code",null,"pg_hba.conf",-1)),s[34]||(s[34]=a(" configuration file (the version number may differ based on your installation).",-1))]),s[53]||(s[53]=o(`<p>The default authentication method is <code>&quot;peer&quot;</code> for the database administrator, meaning it gets the client’s operating system user name and checks if it matches the requested database user name to allow access for local connections.</p><p>During the installation process, a system user account called <code>postgres</code> was created without a password, which is also the default database administrator user name.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/postgresql/18/main/pg_hba.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="understanding-postgresql-roles" tabindex="-1"><a class="header-anchor" href="#understanding-postgresql-roles"><span>Understanding PostgreSQL Roles</span></a></h3><p>In <strong>PostgreSQL</strong>, database access permission management is performed via <strong>roles</strong>. A role can be considered as either a database user, or a group of database users, depending on how the role is set up.</p><p>The default role is also <code>postgres</code>. Importantly, database roles are conceptually fully unconnected to operating system users, but practically they may be linked (particularly for authentication purposes).</p><p>Roles can:</p><ul><li>Own database objects (tables, views, functions, etc.).</li><li>Assign privileges on those objects to other roles.</li><li>Grant membership in a role to another role (role inheritance).</li></ul><h3 id="enable-encrypted-passwords-for-postgresql-roles" tabindex="-1"><a class="header-anchor" href="#enable-encrypted-passwords-for-postgresql-roles"><span>Enable Encrypted Passwords for PostgreSQL Roles</span></a></h3><p>To configure roles to use encrypted passwords instead of peer authentication, you need to modify the <code>pg_hba.conf</code> file. Change the authentication method from <code>peer</code> to <code>scram-sha-256</code> (the modern secure method) or <code>md5</code> for password authentication.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/postgresql/18/main/pg_hba.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Find the lines that look like:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="/etc/postgresql/18/main/pg_hba.conf"><span>/etc/postgresql/18/main/pg_hba.conf</span></div><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf"><pre><code class="language-conf"><span class="line"># TYPE  DATABASE        USER            ADDRESS                 METHOD</span>
<span class="line">local   all             all                                     peer</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></div><p>And change to:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="/etc/postgresql/18/main/pg_hba.conf"><span>/etc/postgresql/18/main/pg_hba.conf</span></div><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf"><pre><code class="language-conf"><span class="line"># TYPE  DATABASE        USER            ADDRESS                 METHOD</span>
<span class="line">local   all             postgres                                peer</span>
<span class="line highlighted">local   all             all                                     scram-sha-256</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>This keeps <code>peer</code> authentication for the <code>postgres</code> user but requires passwords for other users.</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="Configure PostgreSQL Roles with Encrypted Passwords (/etc/postgresql/18/main/pg_hba.conf)"><span>Configure PostgreSQL Roles with Encrypted Passwords (/etc/postgresql/18/main/pg_hba.conf)</span></div><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf"><pre><code class="language-conf"><span class="line"># Do NOT DISABLE !</span>
<span class="line"># If you change this first entry you need to make sure that the</span>
<span class="line"># database superuser can access the database using some other method.</span>
<span class="line"># Noninteractive access to all databases is required during automatic</span>
<span class="line"># maintenance (custom daily cronjobs, replication, and similar tasks).</span>
<span class="line">#</span>
<span class="line"># Database administrative login by Unix domain socket</span>
<span class="line">local   all             postgres                                peer</span>
<span class="line"></span>
<span class="line"># TYPE  DATABASE        USER            ADDRESS                 METHOD</span>
<span class="line"></span>
<span class="line"># &quot;local” is for Unix domain docket connections only</span>
<span class="line">local   all             all                                     peer</span>
<span class="line">local   all             all                                     scram-sha-256</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Then restart the <strong>PostgreSQL</strong> service to apply the changes:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> systemctl restart postgresql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="how-to-use-postgresql-on-ubuntu" tabindex="-1"><a class="header-anchor" href="#how-to-use-postgresql-on-ubuntu"><span>How to Use PostgreSQL on Ubuntu</span></a></h2><p>Once everything is set up, you can access the <strong>postgres</strong> system account with the following command, where the <code>-i</code> flag tells <code>sudo</code> to run the shell specified by the target user’s password database entry as a login shell.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-u</span> postgres</span>
<span class="line">psql    <span class="token comment"># to launch the postgres shell program</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>To access the postgres shell directly, without first accessing the postgres user account, run:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>You can quit/exit the postgres shell by typing <code>\\q</code> or pressing <kbd>Ctrl</kbd>+<kbd>D</kbd>.</p><div class="language-psql line-numbers-mode" data-highlighter="prismjs" data-ext="psql"><pre><code class="language-psql"><span class="line">\\q</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="Logging into PostgreSQL System Account"><span>Logging into PostgreSQL System Account</span></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-u</span> postgres</span>
<span class="line">psql</span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"><span class="token comment"># psql (18.0 (Ubuntu 18.0-1.pgdg24.04+3))</span></span>
<span class="line"><span class="token comment"># Type &quot;help&quot; for help.</span></span>
<span class="line"></span>
<span class="line"><span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql</span>
<span class="line"><span class="token punctuation">\\</span>q</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="create-postgresql-database-roles" tabindex="-1"><a class="header-anchor" href="#create-postgresql-database-roles"><span>Create PostgreSQL Database Roles</span></a></h3><p>Create a new user role using the following command:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> ROLE tecmint<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To create a role with a <code>LOGIN</code> attribute (roles with the <code>LOGIN</code> attribute can be considered the same as a database users):</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> ROLE tecmint LOGIN<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Or use the <code>CREATE USER</code> command, which assumes the login function by default:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> tecmint<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="create-a-role-with-a-password" tabindex="-1"><a class="header-anchor" href="#create-a-role-with-a-password"><span>Create a Role with a Password</span></a></h3><p>A role can also be created with a password, which is essential if you configured the client authentication method to require encrypted passwords:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> ROLE tecmint <span class="token keyword">WITH</span> LOGIN PASSWORD <span class="token string">&#39;secure_password_here&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Or using the <code>CREATE USER</code> syntax:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> tecmint <span class="token keyword">WITH</span> PASSWORD <span class="token string">&#39;secure_password_here&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="create-a-role-with-additional-privileges" tabindex="-1"><a class="header-anchor" href="#create-a-role-with-additional-privileges"><span>Create a Role with Additional Privileges</span></a></h3><p>You can create a role with superuser privileges (use carefully):</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> ROLE admin <span class="token keyword">WITH</span> LOGIN PASSWORD <span class="token string">&#39;admin_password&#39;</span> SUPERUSER<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Or create a role that can create databases:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> ROLE developer <span class="token keyword">WITH</span> LOGIN PASSWORD <span class="token string">&#39;dev_password&#39;</span> CREATEDB<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="list-existing-postgresql-database-roles" tabindex="-1"><a class="header-anchor" href="#list-existing-postgresql-database-roles"><span>List Existing PostgreSQL Database Roles</span></a></h3><p>To list the existing user roles, use any of these commands:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line">\\du              <span class="token comment">-- shows actual users with details</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Or:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> rolname <span class="token keyword">FROM</span> pg_roles<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To see more detailed information:</p><div class="language-psql line-numbers-mode" data-highlighter="prismjs" data-ext="psql"><pre><code class="language-psql"><span class="line">\\du+</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="modify-postgresql-database-roles" tabindex="-1"><a class="header-anchor" href="#modify-postgresql-database-roles"><span>Modify PostgreSQL Database Roles</span></a></h3><p>To change a role’s password:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">ALTER</span> ROLE tecmint <span class="token keyword">WITH</span> PASSWORD <span class="token string">&#39;new_password&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To grant superuser privileges to an existing role:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">ALTER</span> ROLE tecmint <span class="token keyword">WITH</span> SUPERUSER<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To revoke superuser privileges:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">ALTER</span> ROLE tecmint <span class="token keyword">WITH</span> NOSUPERUSER<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="drop-a-postgresql-database-role" tabindex="-1"><a class="header-anchor" href="#drop-a-postgresql-database-role"><span>Drop a PostgreSQL Database Role</span></a></h3><p>To drop an existing user role, use the <code>DROP ROLE</code> command:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">DROP</span> ROLE tecmint<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">Note</p><p>You cannot drop a role that owns database objects, you must first reassign or drop those objects.</p></div><h3 id="create-a-postgresql-database" tabindex="-1"><a class="header-anchor" href="#create-a-postgresql-database"><span>Create a PostgreSQL Database</span></a></h3><p>Once you have created a role with a particular name (for instance <code>tecmint</code> user), you can create a database which will be managed by that role:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> tecmint<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To create a database owned by a specific role:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> tecmint OWNER tecmint<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To create a database with a specific encoding:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> tecmint ENCODING <span class="token string">&#39;UTF8&#39;</span> LC_COLLATE<span class="token operator">=</span><span class="token string">&#39;en_US.UTF-8&#39;</span> LC_CTYPE<span class="token operator">=</span><span class="token string">&#39;en_US.UTF-8&#39;</span> OWNER tecmint<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="grant-privileges-to-a-role" tabindex="-1"><a class="header-anchor" href="#grant-privileges-to-a-role"><span>Grant Privileges to a Role</span></a></h3><p>After creating the database, grant all privileges to the role:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token keyword">DATABASE</span> tecmint <span class="token keyword">To</span> tecmint<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Now to manage the database <code>tecmint</code>, access the postgres shell as the <code>tecmint</code> role:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">psql <span class="token parameter variable">-U</span> tecmint <span class="token parameter variable">-d</span> tecmint</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If you’re prompted for a password, enter the password you set for the role.</p><h3 id="create-a-postgresql-table" tabindex="-1"><a class="header-anchor" href="#create-a-postgresql-table"><span>Create a PostgreSQL Table</span></a></h3><p>We’ll create a test table called <code>authors</code>, which stores information about <code>TecMint.com</code> authors:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> authors <span class="token punctuation">(</span></span>
<span class="line">    code      <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span></span>
<span class="line">    name      <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span></span>
<span class="line">    city      <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span></span>
<span class="line">    joined_on <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">Note</p><p>We’re using <code>SERIAL</code> for the primary key, which auto-generates sequential numbers, which is more practical than manually assigning codes.</p></div><h3 id="insert-data-into-postgresql-table" tabindex="-1"><a class="header-anchor" href="#insert-data-into-postgresql-table"><span>Insert Data into PostgreSQL Table</span></a></h3><p>After creating a table, populate it with some data:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> authors <span class="token punctuation">(</span></span>
<span class="line">  name<span class="token punctuation">,</span> city<span class="token punctuation">,</span> joined_on</span>
<span class="line"><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span></span>
<span class="line">  <span class="token string">&#39;Ravi Saive&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Mumbai&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2012-08-15&#39;</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span></span>
<span class="line">  <span class="token string">&#39;Aaron Kili&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Nairobi&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2014-03-20&#39;</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span></span>
<span class="line">  <span class="token string">&#39;Matei Cezar&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Bucharest&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2015-06-10&#39;</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="query-data-from-postgresql-table" tabindex="-1"><a class="header-anchor" href="#query-data-from-postgresql-table"><span>Query Data from PostgreSQL Table</span></a></h3><p>To view the data stored in a table, run a <code>SELECT</code> command:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> authors<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>For specific columns:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> city <span class="token keyword">FROM</span> authors<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>With filtering:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> authors <span class="token keyword">WHERE</span> city <span class="token operator">=</span> <span class="token string">&#39;Mumbai&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>With ordering:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> authors <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> joined_on <span class="token keyword">DESC</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="update-data-in-postgresql-table" tabindex="-1"><a class="header-anchor" href="#update-data-in-postgresql-table"><span>Update Data in PostgreSQL Table</span></a></h3><p>To modify existing data:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">UPDATE</span> authors <span class="token keyword">SET</span> city <span class="token operator">=</span> <span class="token string">&#39;Delhi&#39;</span> <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">&#39;Ravi Saive&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="delete-data-from-postgresql-table" tabindex="-1"><a class="header-anchor" href="#delete-data-from-postgresql-table"><span>Delete Data from PostgreSQL Table</span></a></h3><p>To remove specific rows:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> authors <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">&#39;Ravi Saive&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="list-postgresql-database-tables" tabindex="-1"><a class="header-anchor" href="#list-postgresql-database-tables"><span>List PostgreSQL Database Tables</span></a></h3><p>You can list all tables in the current database with:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line">\\dt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>For more detailed information:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line">\\dt<span class="token operator">+</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To see the table structure:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line">\\d authors</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="alter-postgresql-table-structure" tabindex="-1"><a class="header-anchor" href="#alter-postgresql-table-structure"><span>Alter PostgreSQL Table Structure</span></a></h3><p>To add a new column to an existing table:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> authors <span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To drop a column:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> authors <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> email<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To rename a column:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> authors <span class="token keyword">RENAME</span> <span class="token keyword">COLUMN</span> code <span class="token keyword">To</span> author_id<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="delete-drop-a-postgresql-table" tabindex="-1"><a class="header-anchor" href="#delete-drop-a-postgresql-table"><span>Delete/Drop a PostgreSQL Table</span></a></h3><p>To delete a table in the current database:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> authors<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To drop with cascade (removes dependent objects):</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> authors <span class="token keyword">CASCADE</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="list-all-postgresql-databases" tabindex="-1"><a class="header-anchor" href="#list-all-postgresql-databases"><span>List All PostgreSQL Databases</span></a></h3><p>To list all databases, use any of the following commands:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> datname <span class="token keyword">FROM</span> pg_database<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Or for a detailed description:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line">\\list</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Or the shorthand:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line">\\l</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="delete-drop-a-postgresql-database" tabindex="-1"><a class="header-anchor" href="#delete-drop-a-postgresql-database"><span>Delete/Drop a PostgreSQL Database</span></a></h3><p>If you want to delete a database:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> tecmint<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>This permanently deletes all data in the database.</p></div><h3 id="switch-to-another-postgresql-database" tabindex="-1"><a class="header-anchor" href="#switch-to-another-postgresql-database"><span>Switch to Another PostgreSQL Database</span></a></h3><p>You can switch from one database to another easily:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line">\\<span class="token keyword">connect</span> database_name</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Or the shorthand:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line">\\c database_name</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="configure-postgresql-for-remote-access" tabindex="-1"><a class="header-anchor" href="#configure-postgresql-for-remote-access"><span>Configure PostgreSQL for Remote Access</span></a></h2><p>By default, <strong>PostgreSQL</strong> only accepts connections from <strong>localhost</strong>.</p>`,136)),e("p",null,[s[35]||(s[35]=a("To allow remote connections, you need to edit ",-1)),n(i,{icon:"fas fa-gears"}),s[36]||(s[36]=e("code",null,"postgresql.conf",-1)),s[37]||(s[37]=a(" file.",-1))]),s[54]||(s[54]=o(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/postgresql/18/main/postgresql.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Find the line:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="/etc/postgresql/18/main/postgresql.conf"><span>/etc/postgresql/18/main/postgresql.conf</span></div><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf"><pre><code class="language-conf"><span class="line">#listen_addresses = &#39;localhost&#39;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>Change it to:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="/etc/postgresql/18/main/postgresql.conf"><span>/etc/postgresql/18/main/postgresql.conf</span></div><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf"><pre><code class="language-conf"><span class="line">listen_addresses = &#39;*&#39;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div>`,5)),e("p",null,[s[38]||(s[38]=a("Next, edit ",-1)),n(i,{icon:"fas fa-gears"}),s[39]||(s[39]=e("code",null,"pg_hba.conf",-1)),s[40]||(s[40]=a(" file.",-1))]),s[55]||(s[55]=o(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/postgresql/18/main/pg_hba.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Add a line to allow connections from your network (replace <code>192.168.1.0/24</code> with your network):</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="/etc/postgresql/18/main/pg_hba.conf"><span>/etc/postgresql/18/main/pg_hba.conf</span></div><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf"><pre><code class="language-conf"><span class="line"># TYPE  DATABASE        USER            ADDRESS                 METHOD</span>
<span class="line">host    all             all             192.168.1.0/24          scram-sha-256</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Or to allow from any IP (less secure):</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="/etc/postgresql/18/main/pg_hba.conf"><span>/etc/postgresql/18/main/pg_hba.conf</span></div><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf"><pre><code class="language-conf"><span class="line">host    all             all             0.0.0.0/0               scram-sha-256</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>Allow PostgreSQL through the firewall:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> ufw allow <span class="token number">5432</span>/tcp</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Finally, restart PostgreSQL.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> systemctl restart postgresql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="basic-postgresql-performance-tuning" tabindex="-1"><a class="header-anchor" href="#basic-postgresql-performance-tuning"><span>Basic PostgreSQL Performance Tuning</span></a></h2>`,11)),e("p",null,[s[41]||(s[41]=a("For better performance on ",-1)),s[42]||(s[42]=e("strong",null,"Ubuntu 24.04",-1)),s[43]||(s[43]=a(", consider adjusting these settings in ",-1)),n(i,{icon:"fas fa-gears"}),s[44]||(s[44]=e("code",null,"postgresql.conf",-1)),s[45]||(s[45]=a(":",-1))]),s[56]||(s[56]=o(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/postgresql/18/main/postgresql.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Recommended changes (adjust based on your server’s RAM):</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="/etc/postgresql/18/main/postgresql.conf"><span>/etc/postgresql/18/main/postgresql.conf</span></div><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf"><pre><code class="language-conf"><span class="line">shared_buffers = 256MB              # 25% of RAM</span>
<span class="line">effective_cache_size = 1GB          # 50-75% of RAM</span>
<span class="line">maintenance_work_mem = 64MB</span>
<span class="line">checkpoint_completion_target = 0.9</span>
<span class="line">wal_buffers = 16MB</span>
<span class="line">default_statistics_target = 100</span>
<span class="line">random_page_cost = 1.1</span>
<span class="line">effective_io_concurrency = 200</span>
<span class="line">work_mem = 4MB</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>After changes, restart PostgreSQL:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> systemctl restart postgresql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="backup-and-restore-postgresql-databases" tabindex="-1"><a class="header-anchor" href="#backup-and-restore-postgresql-databases"><span>Backup and Restore PostgreSQL Databases</span></a></h2><p>To backup a single database:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">pg_dump <span class="token parameter variable">-U</span> postgres tecmint <span class="token operator">&gt;</span> tecmint_backup.sql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To backup all databases.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">pg_dumpall <span class="token parameter variable">-U</span> postgres <span class="token operator">&gt;</span> all_databases_backup.sql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To restore a database.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">psql <span class="token parameter variable">-U</span> postgres tecmint <span class="token operator">&lt;</span> tecmint_backup.sql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><details class="hint-container details"><summary>Useful PostgreSQL Commands Reference</summary><p>Here’s a quick reference of commonly used <strong>PostgreSQL</strong> commands:</p><table><thead><tr><th><strong>Command</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><code>\\l</code> or <code>\\list</code></td><td>List all databases</td></tr><tr><td><code>\\c dbname</code></td><td>Connect to a database</td></tr><tr><td><code>\\dt</code></td><td>List all tables</td></tr><tr><td><code>\\d tablename</code></td><td>Describe table structure</td></tr><tr><td><code>\\du</code></td><td>List all roles/users</td></tr><tr><td><code>\\dn</code></td><td>List all schemas</td></tr><tr><td><code>\\df</code></td><td>List all functions</td></tr><tr><td><code>\\dv</code></td><td>List all views</td></tr><tr><td><code>\\timing</code></td><td>Toggle query timing</td></tr><tr><td><code>\\x</code></td><td>Toggle expanded display</td></tr><tr><td><code>\\i filename</code></td><td>Execute commands from a file</td></tr><tr><td><code>\\q</code></td><td>Quit psql</td></tr><tr><td><code>\\h</code></td><td>Help on SQL commands</td></tr><tr><td><code>\\?</code></td><td>Help on psql commands</td></tr></tbody></table></details><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>That’s it! In this article, we have explained how to install and use the <strong>PostgreSQL</strong> database management system on <strong>Ubuntu 24.04 LTS</strong>.</p><p>We covered installation, user management, database operations, remote access configuration, performance tuning, and backup strategies. You can send us your queries or thoughts in the comments below.</p>`,18)),e("p",null,[s[48]||(s[48]=a("For more information, refer to the ",-1)),e("a",L,[n(i,{icon:"iconfont icon-postgresql"}),s[46]||(s[46]=a("PostgreSQL 18 Official Documentation",-1))]),s[49]||(s[49]=a(", or explore ",-1)),n(m,{to:"/tecmint.com/learn-postgresql-database-system.html"},{default:t(()=>[...s[47]||(s[47]=[e("strong",null,"useful websites for learning PostgreSQL",-1)])]),_:1}),s[50]||(s[50]=a(".",-1))]),v(" ToDO: add ARTICLE CARD "),n(p,d(c({title:"How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS",desc:"In this article, we will explain how to install PostgreSQL 18 on an Ubuntu 24.04 LTS server and learn essential ways to use it effectively.",link:"https://chanhi2000.github.io/bookshelf/tecmint.com/install-postgresql-on-ubuntu.html",logo:"https://tecmint.com/wp-content/uploads/2020/07/favicon.ico",background:"rgba(5,86,243,0.2)"})),null,16)])}const x=b(y,[["render",T]]),A=JSON.parse('{"path":"/tecmint.com/install-postgresql-on-ubuntu.html","title":"How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS","lang":"en-US","frontmatter":{"lang":"en-US","title":"How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS","description":"Article(s) > How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS","icon":"fa-brands fa-ubuntu","category":["DevOps","Linux","Debian","Ubuntu","Data Science","PostgreSQL","Article(s)"],"tag":["blog","tecmint.com","devops","linux","debian","ubuntu","data-science","sql","postgres","postgresql"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS\\",\\"image\\":[\\"https://tecmint.com/wp-content/uploads/2018/07/pgAdmin-Management-Tool-for-PostgreSQL.png\\"],\\"datePublished\\":\\"2025-10-15T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Aaron Kili\\",\\"url\\":\\"https://tecmint.com/author/aaronkili/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/tecmint.com/install-postgresql-on-ubuntu.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS"}],["meta",{"property":"og:description","content":"Article(s) > How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://tecmint.com/wp-content/uploads/2025/10/Install-PostgreSQL-on-Ubuntu.webp"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://tecmint.com/wp-content/uploads/2025/10/Install-PostgreSQL-on-Ubuntu.webp"}],["meta",{"name":"twitter:image:alt","content":"How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS"}],["meta",{"property":"article:author","content":"Aaron Kili"}],["meta",{"property":"article:tag","content":"postgresql"}],["meta",{"property":"article:tag","content":"postgres"}],["meta",{"property":"article:tag","content":"sql"}],["meta",{"property":"article:tag","content":"data-science"}],["meta",{"property":"article:tag","content":"ubuntu"}],["meta",{"property":"article:tag","content":"debian"}],["meta",{"property":"article:tag","content":"linux"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:tag","content":"tecmint.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-10-15T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS"},{"property":"og:description","content":"How to Install and Use PostgreSQL 18 on Ubuntu 24.04 LTS"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/tecmint.com/install-postgresql-on-ubuntu.html"}]],"prev":"/devops/linux-debian/articles/README.md","date":"2025-10-15T00:00:00.000Z","isOriginal":false,"author":[{"name":"Aaron Kili","url":"https://tecmint.com/author/aaronkili/"}],"cover":"https://tecmint.com/wp-content/uploads/2025/10/Install-PostgreSQL-on-Ubuntu.webp"},"git":{},"readingTime":{"minutes":8.51,"words":2553},"filePathRelative":"tecmint.com/install-postgresql-on-ubuntu.md","copyright":{"author":"Aaron Kili"}}');export{x as comp,A as data};
