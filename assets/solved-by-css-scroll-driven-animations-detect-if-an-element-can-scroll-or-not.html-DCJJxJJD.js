import{_ as b}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as f,d as s,f as e,b as r,a as g,t as h,n as d,g as m,w as o,e as a,r as c,o as y}from"./app-BItykJLQ.js";const S={},w={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},x={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},D={class:"table-of-contents"},A={href:"https://scroll-driven-animations.style/",target:"_blank",rel:"noopener noreferrer"},T={href:"https://w3.org/TR/scroll-animations-1/#:~:text=If%20the%20source%20of%20a%20ScrollTimeline%20is%20an%20element%20whose%20principal%20box%20does%20not%20exist%20or%20is%20not%20a%20scroll%20container%2C%20or%20if%20there%20is%20no%20scrollable%20overflow%2C%20then%20the%20ScrollTimeline%20is%20inactive.",target:"_blank",rel:"noopener noreferrer"},C={href:"https://codepen.io/bramus/full/oNJeQjr/2611ac1421ae3f04ddbfc1c3854d5b7f",target:"_blank",rel:"noopener noreferrer"},P={href:"https://github.com/propjockey/css-sweeper#basics-of-space-toggle",target:"_blank",rel:"noopener noreferrer"},j={href:"https://github.com/propjockey/css-sweeper#basics-of-space-toggle",target:"_blank",rel:"noopener noreferrer"},I={href:"https://codepen.io/bramus/full/PoXKxzG/51cf50fdaca90ac734986c47ce3af079",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://ishadeed.com/article/css-state-queries/",target:"_blank",rel:"noopener noreferrer"},V={href:"https://developer.chrome.com/blog/style-queries/",target:"_blank",rel:"noopener noreferrer"},B={href:"https://codepen.io/shuding/pen/WNLGQor",target:"_blank",rel:"noopener noreferrer"},N={href:"https://twitter.com/bramus/status/1698593292403794266",target:"_blank",rel:"noopener noreferrer"},R={href:"https://kizu.dev/scroll-driven-animations/#proper-scrolling-shadows",target:"_blank",rel:"noopener noreferrer"};function z(l,n){const u=c("VPCard"),i=c("router-link"),v=c("SiteInfo"),t=c("VPIcon"),p=c("CodePen"),k=c("RouteLink");return y(),f("div",null,[s("h1",w,[s("a",x,[s("span",null,h(l.$frontmatter.title)+" ê´€ë ¨",1)])]),e(u,d(m({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",D,[s("ul",null,[s("li",null,[e(i,{to:"#the-code"},{default:o(()=>[...n[0]||(n[0]=[a("The Code",-1)])]),_:1})]),s("li",null,[e(i,{to:"#active-vs-inactive-scroll-driven-animations"},{default:o(()=>[...n[1]||(n[1]=[a("Active vs Inactive Scroll-Driven Animations",-1)])]),_:1})]),s("li",null,[e(i,{to:"#adding-custom-properties-to-the-mix-to-make-a-scroll-detector"},{default:o(()=>[...n[2]||(n[2]=[a("Adding Custom Properties to the mix to make a scroll detector",-1)])]),_:1})]),s("li",null,[e(i,{to:"#making-it-more-developer-friendly"},{default:o(()=>[...n[3]||(n[3]=[a("Making it more developer friendly",-1)])]),_:1}),s("ul",null,[s("li",null,[e(i,{to:"#space-toggle-variant"},{default:o(()=>[...n[4]||(n[4]=[a("Space Toggle Variant",-1)])]),_:1})]),s("li",null,[e(i,{to:"#style-query-variant"},{default:o(()=>[...n[5]||(n[5]=[a("Style Query Variant",-1)])]),_:1})])])]),s("li",null,[e(i,{to:"#practical-example"},{default:o(()=>[...n[6]||(n[6]=[a("Practical example",-1)])]),_:1})])])]),n[70]||(n[70]=s("hr",null,null,-1)),e(v,{name:"Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not",desc:"Leverage Scroll-Driven Animations + a Space Toggle or State Query to selectively style an element based on it being scrollable or not.",url:"https://bram.us/bram.us/2023/09/16/solved-by-css-scroll-driven-animations-detect-if-an-element-can-scroll-or-not/",logo:"https://bramu.us/favicon.ico",preview:"https://bram.us/wordpress/wp-content/uploads/2023/09/css-scroll-detection.png"}),n[71]||(n[71]=r(`<figure><img src="https://bram.us/wordpress/wp-content/uploads/2023/09/css-scroll-detection.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Because Scroll-Driven Animations are only active when there is scrollable overflow, it is possible to use them as a mechanism to detect if an element can scroll or not. Mix in a Space Toggle or a Style Query, and youâ€™ve got all you need to selectively style an element based on it being scrollable or not.</p><hr><h2 id="the-code" tabindex="-1"><a class="header-anchor" href="#the-code"><span>The Code</span></a></h2><p>If youâ€™re here for just the code, here it is:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> detect-scroll</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from, to</span> <span class="token punctuation">{</span> <span class="token property">--can-scroll</span><span class="token punctuation">:</span> <span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> detect-scroll linear<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">scroll</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">--bg-if-can-scroll</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--can-scroll<span class="token punctuation">)</span> lime<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--bg-if-cant-scroll</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--bg-if-can-scroll<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--bg-if-cant-scroll<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you want to know how to use it and why this works, keep on reading ðŸ˜‰</p><hr><h2 id="active-vs-inactive-scroll-driven-animations" tabindex="-1"><a class="header-anchor" href="#active-vs-inactive-scroll-driven-animations"><span>Active vs Inactive Scroll-Driven Animations</span></a></h2>`,9)),s("p",null,[n[9]||(n[9]=a("A ",-1)),s("a",A,[e(t,{icon:"fas fa-globe"}),n[7]||(n[7]=a("Scroll-Driven Animation",-1))]),n[10]||(n[10]=a(" is an animation that is driven by scroll. But what if there is no scroll distance to animate on, what happens then? Well, the spec has this covered, and ",-1)),s("a",T,[e(t,{icon:"iconfont icon-w3c"}),n[8]||(n[8]=a("states that the animation is inactive in that case",-1))]),n[11]||(n[11]=a(":",-1))]),n[72]||(n[72]=r(`<blockquote><p>If the source of a ScrollTimeline is an element whose principal box does not exist or is not a scroll container, or if there is no scrollable overflow, then the ScrollTimeline is inactive.</p></blockquote><p>Take this animation <code>anim</code> for example, which animates the color from <code>hotpink</code> to <code>lime</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">height</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> anim linear<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">scroll</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> anim</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> hotpink<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> lime<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In a scroll container that has no scrollable overflow, the animation wonâ€™t be active, and thus the text will have the color that was declared on it.</p>`,4)),e(p,{link:"https://codepen.io/bramus/pen/LYMjXpo/dbe4ab2961373fa9ceae7378d6fcdc9c",title:"Scroll Detection with CSS Scroll-Driven Animations: Inactive Animation","default-tab":["css","result"],theme:l.dark},null,8,["theme"]),n[73]||(n[73]=r(`<hr><h2 id="adding-custom-properties-to-the-mix-to-make-a-scroll-detector" tabindex="-1"><a class="header-anchor" href="#adding-custom-properties-to-the-mix-to-make-a-scroll-detector"><span>Adding Custom Properties to the mix to make a scroll detector</span></a></h2><p>Just like regular CSS Properties, Custom Properties can also be animated.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> anim</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from</span> <span class="token punctuation">{</span> <span class="token property">--foo</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span> <span class="token property">--foo</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When attached as a Scroll-Driven Animation to a scroll container that has no scrollable overflow, the value of the custom property would be <code>initial</code>, because it is not set.</p><p>To turn this into a scroll detector, itâ€™s a matter of making sure the value has one and the same value when inside the animation. This is done by setting the <code>to</code> and <code>from</code> to the same value.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> anim</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from, to</span> <span class="token punctuation">{</span> <span class="token property">--can-scroll</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Hooking that animation to a Scroll-Driven Animation and also making sure that <code>--can-scroll</code> has an initial value of <code>0</code>, the full code becomes this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">height</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">--can-scroll</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> detect-scroll<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">scroll</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> detect-scroll</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from, to</span>  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--can-scroll</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For elements that have scrollable overflow, the animation will be active, so the computed value of <code>--can-scroll</code> will be <code>1</code>. For elements without scrollable overflow, the value will be <code>0</code></p><p>This value can be used in calculations, for example:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">outline</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>10px * <span class="token function">var</span><span class="token punctuation">(</span>--can-scroll<span class="token punctuation">)</span><span class="token punctuation">)</span> dotted lime<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This code will give the scrollable container a 10px side dotted lime outline, whereas a non-scrollable container will have a 0px wide outline.</p>`,13)),e(p,{link:"https://codepen.io/bramus/pen/BavdGOw/895c51226b12b2363ebf72fc1dd66cf1",title:"Scroll Detection with CSS Scroll-Driven Animations","default-tab":["css","result"],theme:l.dark},null,8,["theme"]),s("p",null,[n[13]||(n[13]=a("Note that you donâ€™t need to ",-1)),e(k,{to:"/bram.us/the-gotcha-with-animating-custom-properties.html#intro"},{default:o(()=>[...n[12]||(n[12]=[s("strong",null,[a("register the property using "),s("code",null,"@property"),a(" here")],-1)])]),_:1}),n[14]||(n[14]=a(", as thereâ€™s no interpolation that needs to be done. The property is simply used as a telltale.",-1))]),n[74]||(n[74]=s("hr",null,null,-1)),n[75]||(n[75]=s("h2",{id:"making-it-more-developer-friendly",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#making-it-more-developer-friendly"},[s("span",null,"Making it more developer friendly")])],-1)),n[76]||(n[76]=s("p",null,"To make it easier to work with, thereâ€™s a few variations to make:",-1)),n[77]||(n[77]=s("ul",null,[s("li",null,"Use a Space Toggle"),s("li",null,"Use a Style Query")],-1)),n[78]||(n[78]=s("h3",{id:"space-toggle-variant",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#space-toggle-variant"},[s("span",null,"Space Toggle Variant")])],-1)),s("p",null,[n[21]||(n[21]=a("The ",-1)),s("a",C,[n[15]||(n[15]=a("Space Toggle Variant (",-1)),e(t,{icon:"fa-brands fa-codepen"}),n[16]||(n[16]=s("code",null,"bramus",-1)),n[17]||(n[17]=a(")",-1))]),n[22]||(n[22]=a(" follows the basic mechanics of a ",-1)),s("a",P,[n[18]||(n[18]=a("Space Toggle (",-1)),e(t,{icon:"iconfont icon-github"}),n[19]||(n[19]=s("code",null,"propjockey/css-sweeper",-1)),n[20]||(n[20]=a(")",-1))]),n[23]||(n[23]=a(" by setting the ",-1)),n[24]||(n[24]=s("code",null,"--can-scroll",-1)),n[25]||(n[25]=a(" to an initial value of ",-1)),n[26]||(n[26]=s("code",null,"initial",-1)),n[27]||(n[27]=a(" and a space as the value inside the animation. This allows you to set more than just numbers.",-1))]),n[79]||(n[79]=r(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">height</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">--can-scroll</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span> <span class="token comment">/* initial = false */</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> detect-scroll<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">scroll</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">--color-if-can-scroll</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--can-scroll<span class="token punctuation">)</span> lime<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--color-if-cant-scroll</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">outline</span><span class="token punctuation">:</span> 10px dotted <span class="token function">var</span><span class="token punctuation">(</span>--color-if-can-scroll<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-if-cant-scroll<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> detect-scroll</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from, to</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--can-scroll</span><span class="token punctuation">:</span> <span class="token punctuation">;</span> <span class="token comment">/* space = true */</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),s("p",null,[n[31]||(n[31]=a("A downside of this approach is that is a bit harder to read if youâ€™re not entirely familiar with ",-1)),s("a",j,[n[28]||(n[28]=a("how Space Toggles work (",-1)),e(t,{icon:"iconfont icon-github"}),n[29]||(n[29]=s("code",null,"propjockey/css-sweeper",-1)),n[30]||(n[30]=a(")",-1))]),n[32]||(n[32]=a(".",-1))]),e(p,{user:"bramus","slug-hash":"oNJeQjr",title:"Scroll Detection with CSS Scroll-Driven Animations (Space Toggle)","default-tab":["css","result"],theme:l.dark},null,8,["theme"]),n[80]||(n[80]=s("h3",{id:"style-query-variant",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#style-query-variant"},[s("span",null,"Style Query Variant")])],-1)),s("p",null,[n[37]||(n[37]=a("The ",-1)),s("a",I,[n[33]||(n[33]=a("Style Query Variant (",-1)),e(t,{icon:"fa-brands fa-codepen"}),n[34]||(n[34]=s("code",null,"bramus",-1)),n[35]||(n[35]=a(")",-1))]),n[38]||(n[38]=a(" uses a Style Query to respond to this change in value. This makes it act as a polyfill for a ",-1)),s("a",Q,[e(t,{icon:"fas fa-globe"}),n[36]||(n[36]=a("State Query",-1))]),n[39]||(n[39]=a(".",-1))]),n[81]||(n[81]=r(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@container</span> <span class="token function">style</span><span class="token punctuation">(</span><span class="token property">--can-scroll</span><span class="token punctuation">:</span> 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">p</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">color</span><span class="token punctuation">:</span> lime<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@container</span> <span class="token function">style</span><span class="token punctuation">(</span><span class="token property">--can-scroll</span><span class="token punctuation">:</span> 0<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">p</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),s("p",null,[n[41]||(n[41]=a("A downside of this approach is that is that you can only style child elements of the container and that â€“ at the time of writing â€“ only Chrome supports ",-1)),s("a",V,[e(t,{icon:"fa-brands fa-chrome"}),n[40]||(n[40]=a("Style Queries",-1))]),n[42]||(n[42]=a(".",-1))]),e(p,{user:"bramus","slug-hash":"PoXKxzG/51cf50fdaca90ac734986c47ce3af079",title:"Scroll Detection with CSS Scroll-Driven Animations (Style Query)","default-tab":["css","result"],theme:l.dark},null,8,["theme"]),n[82]||(n[82]=s("p",null,"~",-1)),n[83]||(n[83]=s("hr",null,null,-1)),n[84]||(n[84]=s("h2",{id:"practical-example",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#practical-example"},[s("span",null,"Practical example")])],-1)),s("p",null,[n[46]||(n[46]=a("Recently I saw ",-1)),s("a",B,[n[43]||(n[43]=a("this nice demo by Shu Ding (",-1)),e(t,{icon:"fa-brands fa-codepen"}),n[44]||(n[44]=s("code",null,"shuding",-1)),n[45]||(n[45]=a(")",-1))]),n[47]||(n[47]=a(" that shows/hides scroll indicators as you scroll up/down, powered by Scroll-Driven Animations.",-1))]),e(p,{user:"shuding","slug-hash":"WNLGQor",title:"CodePen Embed","default-tab":["css","result"],theme:l.dark},null,8,["theme"]),n[85]||(n[85]=s("p",null,"While nice, there is an issue with it though: when the content is too small for the scroller, the indicators both show!",-1)),e(p,{user:"bramus","slug-hash":"QWzMzyJ/a972a64f3625f1dc1b0da1d06b8ee76e",title:"Scroll Timeline","default-tab":["css","result"],theme:l.dark},null,8,["theme"]),n[86]||(n[86]=r(`<p>This is where the CSS scroll-detection detailed in this post can help: only show the indicators when there is scrollable overflow. I do this by conditionally setting the <code>visibility</code> to <code>hidden</code> so that thereâ€™s no layout shift when they are not visible.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> detect-scroll</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">from, to</span> <span class="token punctuation">{</span> <span class="token property">--can-scroll</span><span class="token punctuation">:</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> detect-scroll<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> --scroll-timeline<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.up, .down</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--visibility-if-can-scroll</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--can-scroll<span class="token punctuation">)</span> visible<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--visibility-if-cant-scroll</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">visibility</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--visibility-if-can-scroll<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--visibility-if-cant-scroll<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The result, looks like this:</p>`,3)),e(p,{user:"bramus","slug-hash":"MWZjGeG",title:"Conditional Revealing Scroll Indicators Scroll-Timeline","default-tab":["css","result"],theme:l.dark},null,8,["theme"]),s("p",null,[n[53]||(n[53]=a("While at it, I also made the code more reusable. Instead of limiting the ",-1)),n[54]||(n[54]=s("code",null,"reveal",-1)),n[55]||(n[55]=a(" keyframes from ",-1)),n[56]||(n[56]=s("code",null,"0%",-1)),n[57]||(n[57]=a(" to ",-1)),n[58]||(n[58]=s("code",null,"2%",-1)),n[59]||(n[59]=a(" â€“ which makes them depend on the containing blockâ€™s size â€“ they span the full ",-1)),n[60]||(n[60]=s("code",null,"0%",-1)),n[61]||(n[61]=a("â€“",-1)),n[62]||(n[62]=s("code",null,"100%",-1)),n[63]||(n[63]=a(" range. Then, ",-1)),n[64]||(n[64]=s("code",null,"animation-range: 20px 40px;",-1)),n[65]||(n[65]=a(" is used to limit when the animation should run. See ",-1)),s("a",N,[n[48]||(n[48]=a("this thread on X ",-1)),n[49]||(n[49]=s("em",null,"(nÃ©e Twitter)",-1)),n[50]||(n[50]=a(" (",-1)),e(t,{icon:"fa-brands fa-x-twitter"}),n[51]||(n[51]=s("code",null,"bramus",-1)),n[52]||(n[52]=a(")",-1))]),n[66]||(n[66]=a(" for more info.",-1))]),s("p",null,[n[68]||(n[68]=a("Also see ",-1)),s("a",R,[e(t,{icon:"fas fa-globe"}),n[67]||(n[67]=a("this demo+writeup",-1))]),n[69]||(n[69]=a(" by kizu on Proper Scroll Shadows.",-1))]),g(" TODO: add ARTICLE CARD "),e(u,d(m({title:"Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not",desc:"Leverage Scroll-Driven Animations + a Space Toggle or State Query to selectively style an element based on it being scrollable or not.",link:"https://chanhi2000.github.io/bookshelf/bram.us/solved-by-css-scroll-driven-animations-detect-if-an-element-can-scroll-or-not.html",logo:"https://bramu.us/favicon.ico",background:"rgba(17,17,17,0.2)"})),null,16)])}const L=b(S,[["render",z]]),W=JSON.parse('{"path":"/bram.us/solved-by-css-scroll-driven-animations-detect-if-an-element-can-scroll-or-not.html","title":"Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not","lang":"en-US","frontmatter":{"lang":"en-US","title":"Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not","description":"Article(s) > Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","bram.us","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not\\",\\"image\\":[\\"https://bram.us/wordpress/wp-content/uploads/2023/09/css-scroll-detection.png\\"],\\"datePublished\\":\\"2023-09-16T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bramus!\\",\\"url\\":\\"https://bram.us/author/bramus/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/bram.us/solved-by-css-scroll-driven-animations-detect-if-an-element-can-scroll-or-not.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not"}],["meta",{"property":"og:description","content":"Article(s) > Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://bram.us/wordpress/wp-content/uploads/2023/09/css-scroll-detection.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://bram.us/wordpress/wp-content/uploads/2023/09/css-scroll-detection.png"}],["meta",{"name":"twitter:image:alt","content":"Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not"}],["meta",{"property":"article:author","content":"Bramus!"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"bram.us"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2023-09-16T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not"},{"property":"og:description","content":"Solved by CSS Scroll-Driven Animations: Detect if an element can scroll or not"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/bram.us/solved-by-css-scroll-driven-animations-detect-if-an-element-can-scroll-or-not.html"}]],"prev":"/programming/css/articles/README.md","date":"2023-09-16T00:00:00.000Z","isOriginal":false,"author":[{"name":"Bramus!","url":"https://bram.us/author/bramus/"}],"cover":"https://bram.us/wordpress/wp-content/uploads/2023/09/css-scroll-detection.png"},"git":{},"readingTime":{"minutes":5.27,"words":1580},"filePathRelative":"bram.us/solved-by-css-scroll-driven-animations-detect-if-an-element-can-scroll-or-not.md","copyright":{"author":"Bramus!"}}');export{L as comp,W as data};
