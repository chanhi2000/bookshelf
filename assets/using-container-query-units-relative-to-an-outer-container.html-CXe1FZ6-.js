import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as m,d as e,f as t,b as i,a as g,t as b,n as l,g as p,e as s,r as o,o as v}from"./app-BItykJLQ.js";const f={},k={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},y={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},w={href:"https://mstdn.social/@mattwilcox/114386944917360151",target:"_blank",rel:"noopener noreferrer"},C={href:"https://ishadeed.com/article/css-container-query-guide/",target:"_blank",rel:"noopener noreferrer"},q={href:"https://github.com/w3c/csswg-drafts/issues/5888",target:"_blank",rel:"noopener noreferrer"},x={href:"https://codepen.io/thebabydino/pen/xbbgKzp",target:"_blank",rel:"noopener noreferrer"},U={href:"https://codepen.io/thebabydino/pen/GggNemJ",target:"_blank",rel:"noopener noreferrer"};function z(r,n){const c=o("VPCard"),d=o("SiteInfo"),a=o("VPIcon"),u=o("CodePen");return v(),m("div",null,[e("h1",k,[e("a",y,[e("span",null,b(r.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),t(c,l(p({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n[20]||(n[20]=e("nav",{class:"table-of-contents"},[e("ul")],-1)),n[21]||(n[21]=e("hr",null,null,-1)),t(d,{name:"Using Container Query Units Relative to an Outer Container",desc:"Container units (e.g. cqi) are only able to reference the closest container. But if you register a custom property and set that higher up, you can get your hands on other containers units.",url:"https://frontendmasters.com/blog/using-container-query-units-relative-to-an-outer-container/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5761"}),e("p",null,[n[1]||(n[1]=s("Recently, Matt Wilcox",-1)),e("a",w,[t(a,{icon:"fas fa-globe"}),n[0]||(n[0]=s("posted on Mastodon",-1))]),n[2]||(n[2]=s(":",-1))]),n[22]||(n[22]=e("blockquote",null,[e("p",null,[s("The fact you can‚Äôt specify"),e("em",null,"which"),s("container for container query units is a ballache. The moment you have nested containers you‚Äôre [screwed]; because if you want the calculated gap from the row‚Äôs container; but you‚Äôre inside a nested container‚Ä¶ tough. Your units are wrong. And you can‚Äôt just say ‚Äúno; not relative to"),e("em",null,"this"),s("container; relative to the named outer container!‚Äù")])],-1)),e("p",null,[n[7]||(n[7]=s("First off, if you‚Äôre not familiar with container queries and container query units, you can check out one of the many resources on the topic, for example this",-1)),e("a",C,[t(a,{icon:"fas fa-globe"}),n[3]||(n[3]=s("interactive guide",-1))]),n[8]||(n[8]=s("by Ahmad Shadeed, which I believe is the most recent out of all the detailed ones I‚Äôve seen. As always, the date of the resources used is important for web stuff, especially since these units in particular have changed their name since",-1)),e("a",q,[n[4]||(n[4]=s("they were first proposed (",-1)),t(a,{icon:"iconfont icon-github"}),n[5]||(n[5]=e("code",null,"w3c/csswg-drafts",-1)),n[6]||(n[6]=s(")",-1))]),n[9]||(n[9]=s("and we got an early draft of the spec.",-1))]),n[23]||(n[23]=i(`<p>Now, the problem at hand: let‚Äôs say we have an<code>.inner-container</code>inside an<code>.outer-container</code>- they are both made to be containers:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">[class*=&#39;container&#39;]</span> <span class="token punctuation">{</span> <span class="token property">container-type</span><span class="token punctuation">:</span> size <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We want any<code>.inner-child</code>of the<code>.inner-container</code>to be able to use length values set in container query units relative to the<code>.outer-container</code>(more precisely, to its<code>content-box</code>dimensions). The problem is, if we do something like this (a<code>20cqw</code>light blue strip at the start of the gradient going towards 3 o‚Äôclock):</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.inner-child</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> #0a9396 20cqw<span class="token punctuation">,</span> #0000<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>‚Ä¶ then the<code>20cqw</code>value is<code>20%</code>(a fifth) of the<code>content-box</code>width of the<code>.inner-container</code>. This can be seen below, where we have purple guidelines<code>20%</code>of the width apart.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/05/437958325-f8239b65-787e-498d-a43d-15c3373490a0-1.png?resize=1024%2C633&amp;ssl=1" alt="Screenshot illustrating how a background sized to cqw on the child of the inner container is a fifth of the inner container&#39;s width." tabindex="0" loading="lazy"><figcaption>Screenshot illustrating how a background sized to cqw on the child of the inner container is a fifth of the inner container&#39;s width.</figcaption></figure><p>what 20cqw represents</p><p>But what we want is for that<code>20cqw</code>value to be<code>20%</code>of the<code>content-box</code>width of the<code>.outer-container</code>.</p><p>Strictly for the queries themselves, we could do something like this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.outer-container</span> <span class="token punctuation">{</span> <span class="token property">container</span><span class="token punctuation">:</span> outer/ size <span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.inner-container</span> <span class="token punctuation">{</span> <span class="token property">container</span><span class="token punctuation">:</span> inner/ size <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@container</span> outer <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">.inner-child</span> <span class="token punctuation">{</span> <span class="token property">background</span><span class="token punctuation">:</span> darkorange <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This allows us to set certain styles on the<code>.inner-child</code>elements based on where the<code>width</code>of the<code>.outer-container</code>(which isn‚Äôt the<em>nearest</em>container for<code>.inner-child</code>) is situated relative to the<code>500px</code>threshold.</p><p>But we cannot do something like this to specify which container should be the one that the query units used on<code>.inner-child</code>are relative to:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.inner-child</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* can&#39;t do this */</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> #0a9396 outer 20cqw<span class="token punctuation">,</span> #0000<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Nor can we do this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.inner-child</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* can&#39;t do this either */</span></span>
<span class="line">  <span class="token property">--s</span><span class="token punctuation">:</span> outer 20cqw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> #0a9396 <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">,</span> #0000<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>However, we<em>are</em>getting closer!</p><p>What if we move the<code>--s</code>variable uspstream? After all, a<code>20cqw</code>length value set on the<code>.inner-container</code>is<code>20%</code>of the<code>content-box</code>width of its nearest container, which is the<code>.outer-container</code>. This would mean our code becomes:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">[class*=&#39;container&#39;]</span> <span class="token punctuation">{</span> <span class="token property">container-type</span><span class="token punctuation">:</span> size <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.inner-container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--s</span><span class="token punctuation">:</span> 20cqw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> </span>
<span class="line">    <span class="token function">repeating-linear-gradient</span><span class="token punctuation">(</span>45deg<span class="token punctuation">,</span> #bb3e03 0 5px<span class="token punctuation">,</span> #0000 0 1em<span class="token punctuation">)</span> </span>
<span class="line">      0/ <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span> no-repeat</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.inner-child</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> </span>
<span class="line">    <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> #0a9396cc <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">,</span> #0000<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,18)),e("p",null,[n[13]||(n[13]=i("We also give the<code>.inner-container</code>a similar<code>background</code>restricted to<code>20cqw</code>from the left along the<em>x</em>axis and make the<code>.inner-child</code>semi-transparent, just to check if the<code>--s</code>values overlap (which is what we want,<code>--s</code>being<code>20%</code>or a fifth of the<code>.outer-container</code>width). However,",19)),e("a",x,[n[10]||(n[10]=s("this fails (",-1)),t(a,{icon:"fa-brands fa-codepen"}),n[11]||(n[11]=e("code",null,"thebabydino",-1)),n[12]||(n[12]=s(")",-1))]),n[14]||(n[14]=s(", as it can be seen below:",-1))]),n[24]||(n[24]=i(`<figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/05/437957569-0be163ba-6508-49d8-8f4e-7dd96d7d38fe.png?resize=1024%2C633&amp;ssl=1" alt="Screenshot. Both the inner container and its child have a background sized to . However, the container query units are relative to the outer container only for the inner container, the container query units used on its child being still relative to the inner container (one fifth of its  width)." tabindex="0" loading="lazy"><figcaption>Screenshot. Both the inner container and its child have a background sized to <code>20cqw</code>. However, the container query units are relative to the outer container only for the inner container, the container query units used on its child being still relative to the inner container (one fifth of its <code>content-box</code> width).</figcaption></figure><p>For the<code>.inner-container</code>the<code>20cqw</code>of the<code>--s</code>is taken to be<code>20%</code>of the<code>content-box</code>width of its nearest container,<code>.outer-container</code>(dashed dark blue boundary). However, for the<code>.inner-child</code>, the<code>20cqw</code>of the<code>--s</code>aren‚Äôt taken to mean the same value. Instead, they are taken to mean<code>20%</code>of the<code>.content-box</code>width of the<code>.inner-container</code>(dotted dark red boundary).</p><p>Boo!</p><p>But what happens if we also register<code>--s</code>?</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@property</span> --s</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&#39;&lt;length&gt;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">initial-value</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">inherits</span><span class="token punctuation">:</span> true</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5)),e("p",null,[n[18]||(n[18]=s("Bingo,",-1)),e("a",U,[n[15]||(n[15]=s("this works (",-1)),t(a,{icon:"fa-brands fa-codepen"}),n[16]||(n[16]=e("code",null,"thebabydino",-1)),n[17]||(n[17]=s(")",-1))]),n[19]||(n[19]=s("!",-1))]),t(u,{user:"thebabydino","slug-hash":"GggNemJ",title:"Container query unit values relative to outer container","default-tab":["css","result"],theme:r.dark},null,8,["theme"]),n[25]||(n[25]=e("figure",null,[e("img",{src:"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/05/437957622-82985165-4171-456f-9e16-319410410db1-1.png?resize=1024%2C633&ssl=1",alt:"Screenshot. Both the inner container and its child have a background sized to 20cqw, the container query units being relative to the outer container.",tabindex:"0",loading:"lazy"}),e("figcaption",null,"Screenshot. Both the inner container and its child have a background sized to 20cqw, the container query units being relative to the outer container.")],-1)),n[26]||(n[26]=e("p",null,"I hope you‚Äôve enjoyed this little trick.",-1)),n[27]||(n[27]=e("p",null,"Where would you use this?",-1)),g(" TODO: add ARTICLE CARD "),t(c,l(p({title:"Using Container Query Units Relative to an Outer Container",desc:"Container units (e.g. cqi) are only able to reference the closest container. But if you register a custom property and set that higher up, you can get your hands on other containers units.",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/using-container-query-units-relative-to-an-outer-container.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)])}const R=h(f,[["render",z]]),T=JSON.parse('{"path":"/frontendmasters.com/using-container-query-units-relative-to-an-outer-container.html","title":"Using Container Query Units Relative to an Outer Container","lang":"en-US","frontmatter":{"lang":"en-US","title":"Using Container Query Units Relative to an Outer Container","description":"Article(s) > Using Container Query Units Relative to an Outer Container","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","frontendmasters.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Using Container Query Units Relative to an Outer Container\\",\\"image\\":[\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/05/437958325-f8239b65-787e-498d-a43d-15c3373490a0-1.png?resize=1024%2C633&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/05/437957569-0be163ba-6508-49d8-8f4e-7dd96d7d38fe.png?resize=1024%2C633&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/05/437957622-82985165-4171-456f-9e16-319410410db1-1.png?resize=1024%2C633&ssl=1\\"],\\"datePublished\\":\\"2025-05-06T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ana Tudor\\",\\"url\\":\\"https://frontendmasters.com/blog/author/anatudor/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/using-container-query-units-relative-to-an-outer-container.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Using Container Query Units Relative to an Outer Container"}],["meta",{"property":"og:description","content":"Article(s) > Using Container Query Units Relative to an Outer Container"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5761"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5761"}],["meta",{"name":"twitter:image:alt","content":"Using Container Query Units Relative to an Outer Container"}],["meta",{"property":"article:author","content":"Ana Tudor"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-05-06T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Using Container Query Units Relative to an Outer Container"},{"property":"og:description","content":"Using Container Query Units Relative to an Outer Container"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/using-container-query-units-relative-to-an-outer-container.html"}]],"prev":"/programming/css/articles/README.md","date":"2025-05-06T00:00:00.000Z","isOriginal":false,"author":[{"name":"Ana Tudor","url":"https://frontendmasters.com/blog/author/anatudor/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/5761"},"git":{},"readingTime":{"minutes":3.92,"words":1177},"filePathRelative":"frontendmasters.com/using-container-query-units-relative-to-an-outer-container.md","copyright":{"author":"Ana Tudor"}}');export{R as comp,T as data};
