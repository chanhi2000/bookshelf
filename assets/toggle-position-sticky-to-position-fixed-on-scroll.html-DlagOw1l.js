import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as v,d as n,f as a,b as l,a as h,t as g,n as u,g as d,w as p,e,r as c,o as b}from"./app-BItykJLQ.js";const f={},y={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},x={class:"table-of-contents"};function S(t,s){const r=c("VPCard"),o=c("router-link"),k=c("SiteInfo"),i=c("CodePen");return b(),v("div",null,[n("h1",y,[n("a",w,[n("span",null,g(t.$frontmatter.title)+" ê´€ë ¨",1)])]),a(r,u(d({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",x,[n("ul",null,[n("li",null,[a(o,{to:"#the-layout"},{default:p(()=>[...s[0]||(s[0]=[e("The Layout",-1)])]),_:1})]),n("li",null,[a(o,{to:"#sizing-the-sticky-element"},{default:p(()=>[...s[1]||(s[1]=[e("Sizing the Sticky Element",-1)])]),_:1})]),n("li",null,[a(o,{to:"#method-1-using-scroll-driven-animation"},{default:p(()=>[...s[2]||(s[2]=[e("Method 1: Using Scroll-Driven Animation",-1)])]),_:1})]),n("li",null,[a(o,{to:"#method-2-using-scroll-state-queries"},{default:p(()=>[...s[3]||(s[3]=[e("Method 2: Using Scroll State Queries",-1)])]),_:1})]),n("li",null,[a(o,{to:"#uses-and-variants"},{default:p(()=>[...s[4]||(s[4]=[e("Uses and Variants",-1)])]),_:1})])])]),s[5]||(s[5]=n("hr",null,null,-1)),a(k,{name:"Toggle `position: sticky` to `position: fixed` on Scroll",desc:"Fixed and sticky positioning behave very differently, but we can switch between the two at exact points for some unusual looking effects. ",url:"https://frontendmasters.com/blog/toggle-position-sticky-to-position-fixed-on-scroll/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/8090"}),s[6]||(s[6]=n("p",null,[e("Itâ€™s quite an unusual look when you see an element glide along itâ€™s parent element as "),n("code",null,"position: fixed;"),e(", the slide right on out of it, as if the positoning of it somehow magically changes at just the right moment, to "),n("code",null,"position: sticky;"),e(". This is exactly what weâ€™re going to pull of here with the help of scroll-driven animation and scroll state queries.")],-1)),s[7]||(s[7]=n("p",null,[e("Both "),n("code",null,"sticky"),e(" and "),n("code",null,"fixed"),e(" positioning are about locking an element to a point on screen where it stays stuck throughout scrolling. A sticky element is stuck within its scrollable ancestor, and a fixed element sticks to the viewport. Both great for user interfaces that have to be persistent, like alert banners. They also make for nice visual effects.")],-1)),s[8]||(s[8]=n("p",null,"Switching between these two types of position can give the illusion of an element breaking out of its scrollable container while the user is scrolling the page. Hereâ€™s an example:",-1)),a(i,{user:"anon","slug-hash":"myPamxB",title:"Toggle sticky to fixed on scroll","default-tab":["css","result"],theme:t.dark},null,8,["theme"]),s[9]||(s[9]=l(`<p>Letâ€™s see the mechanism behind that change.</p><hr><h2 id="the-layout" tabindex="-1"><a class="header-anchor" href="#the-layout"><span>The Layout</span></a></h2><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scrollPort<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visualBlock<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stickyElement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">&lt;!-- more blocks --&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token selector">.scrollPort </span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* etc. */</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">.visualBlock </span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* etc. */</span></span>
<span class="line"></span>
<span class="line">    <span class="token selector">.stickyElement </span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">position</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span></span>
<span class="line">      <span class="token property">top</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>.scrollPort</code> is a scroll container with a set of <code>.visualBlocks</code> that overflow the container. Each <code>.visualBlock</code> has a sticky element inside.</p><hr><h2 id="sizing-the-sticky-element" tabindex="-1"><a class="header-anchor" href="#sizing-the-sticky-element"><span>Sizing the Sticky Element</span></a></h2><p>Fixed units for the dimensions of the sticky element wonâ€™t be a problem, but if they have to be relative, there are some precautions to take.</p><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token selector">.visualBlock </span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* etc. */</span></span>
<span class="line">  </span>
<span class="line">  <span class="token property">container-type</span><span class="token punctuation">:</span> inline-size<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">.stickyElement </span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* etc. */</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">/* Sets the width to 80% of the query container&#39;s (.visualBlock) width */</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> 80cqw<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We canâ€™t use a percentage (like <code>80%</code>) to size the sticky element relative to its parent, because the reference element for a percentage unit is its nearest parent, which changes when the element goes from sticky to fixed<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup>.</p><p>To use the same reference for relatively sizing the sticky element, even when it becomes fixed, <strong>use container query units</strong>:</p><ol><li>Establish the <code>.visualBlock</code> as an <code>inline-size</code><sup class="footnote-ref"><a href="#footnote2">[2]</a><a class="footnote-anchor" id="footnote-ref2"></a></sup> query container</li><li>Use <code>cqw</code> unit for <code>.stickyElement</code>â€™s width</li></ol><p>With sizing done, we move onto the code to change the <code>position</code> value.</p><hr><h2 id="method-1-using-scroll-driven-animation" tabindex="-1"><a class="header-anchor" href="#method-1-using-scroll-driven-animation"><span>Method 1: Using Scroll-Driven Animation</span></a></h2><p>We use CSS <code>view()</code> function to run a keyframe animation thatâ€™ll turn <code>.stickyElement</code> from sticky to fixed.</p><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token selector">.visualBlock </span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* etc. */</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">--stickyPosition</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> toFixed<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">view</span><span class="token punctuation">(</span>block 0% 100%<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">  <span class="token selector">.stickyElement </span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* etc. */</span></span>
<span class="line">    </span>
<span class="line">    <span class="token property">position</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--stickyPosition<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* previously, position: sticky; */</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> toFixed</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">to </span><span class="token punctuation">{</span> </span>
<span class="line">    <span class="token property">--stickyPosition</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">The parts above:</p><ul><li><code>--stickyPosition: sticky;</code> â€” Set a CSS variable in <code>.visualBlock</code> with an initial value of <code>sticky</code>. This value is used by <code>.stickyElement</code> to set its <code>position</code>.</li><li><code>animation: toFixed;</code> â€” Apply the CSS animation <code>toFixed</code> (explained later) to <code>.visualBlock</code>.</li><li><code>animation-timeline: view(block 0% 100%);</code> â€” The animationâ€™s progress is based on <code>.visualBlock</code>â€™s visibility within <code>.scrollPort</code>. It starts when <code>.visualBlock</code> scrolls into view (<code>0%</code>) and ends (<code>100%</code> progress) when it scrolls out of view.</li><li><code>toFixed</code> â€” At the end<sup class="footnote-ref"><a href="#footnote3">[3]</a><a class="footnote-anchor" id="footnote-ref3"></a></sup> (<code>to</code>) of the animation progress set <code>--stickyPosition</code> to <code>fixed</code>.</li></ul></div><p>Weâ€™re not done yet, but hereâ€™s how it works when <code>toFixed</code> animation is applied through <code>view()</code>:</p>`,20)),a(i,{user:"anon","slug-hash":"ZYWNmMP",title:"sticky to fixed with view(), step 1","default-tab":["css","result"],theme:t.dark},null,8,["theme"]),s[10]||(s[10]=l(`<p>A couple of things to take care of. First, when <code>.stickyElement</code> turns <code>fixed</code> it shifts slightly, since its <code>top</code> is no longer relative to <code>.visualBlock</code>. Needs reassigning the correct top value to prevent the shift.</p><p>Second, <code>.stickyElement</code> reverts to sticky when its <code>.visualBlock</code> goes off-screen, which is too soon since we want it to reach the next <code>.stickyElement</code>. Time to expand the area tracked for the view timeline to include the space between <code>.visualBlocks</code> and above <code>.stickyElement</code>.</p><p>Iâ€™ll keep these values is CSS variables for ease of update.</p><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token selector">.scrollPort </span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* etc. */</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">container-type</span><span class="token punctuation">:</span> size<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">.visualBlock </span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* etc. */</span></span>
<span class="line"></span>
<span class="line">    <span class="token property">--visualBlockMargin</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">--stickyPosition</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">--stickyMarginTop</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">--stickyTopTemp</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">--stickyTop</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--stickyTopTemp<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--visualBlockMargin<span class="token punctuation">)</span> auto<span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">/* the space between .visualBlocks */</span></span>
<span class="line"></span>
<span class="line">    <span class="token property">animation</span><span class="token punctuation">:</span> toFixed<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">animation-timeline</span><span class="token punctuation">:</span> <span class="token function">view</span><span class="token punctuation">(</span>block <span class="token function">calc</span><span class="token punctuation">(</span>-1 <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--visualBlockMargin<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">var</span><span class="token punctuation">(</span>--stickyMarginTop<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 100%<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">/* includes the space above .visualBlock and .stickyElement */</span></span>
<span class="line"></span>
<span class="line">    <span class="token selector">.stickyElement </span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">/* etc. */</span></span>
<span class="line"></span>
<span class="line">      <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--stickyMarginTop<span class="token punctuation">)</span> auto auto<span class="token punctuation">;</span> </span>
<span class="line">     <span class="token comment">/* the space above .stickyElement */</span></span>
<span class="line"></span>
<span class="line">      <span class="token property">position</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--stickyPosition<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token property">top</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--stickyTop<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> toFixed</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">to </span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--stickyPosition</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">--stickyTop</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>50vh <span class="token operator">-</span> 50cqh <span class="token operator">+</span> <span class="token function">var</span><span class="token punctuation">(</span>--stickyTopTemp<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>--stickyMarginTop<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">/* includes the space above .scrollPort and .stickyElement */</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">Note</p><p>Negative inset values in <code>view()</code> expand the elementâ€™s visibility range outward from the boundary edges.</p></div><p>Hereâ€™s the result:</p>`,6)),a(i,{user:"anon","slug-hash":"myPYQQm",title:"sticky to fixed with view()","default-tab":["css","result"],theme:t.dark},null,8,["theme"]),s[11]||(s[11]=l(`<p>This is the method used in our first example, shown at the beginning of the article.</p><hr><h2 id="method-2-using-scroll-state-queries" tabindex="-1"><a class="header-anchor" href="#method-2-using-scroll-state-queries"><span>Method 2: Using Scroll State Queries</span></a></h2><p>The second method, using scroll state queries, is the most efficient way to achieve what we want. The only downside is that scroll state queries are not widely supported by browsers yet.</p><p>We donâ€™t need a keyframe animation for this one. What we need is a sticky scroll state container.</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scrollPort<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visualBlock<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stickyWrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stickyElement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">&lt;!-- more visual blocks --&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token selector">.stickyWrapper </span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* etc. */</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">container-type</span><span class="token punctuation">:</span> scroll-state<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">position</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--stickyTop</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">top</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--stickyTop<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">.stickyElement </span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">/* etc. */</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">Note</p><p>A scroll state container lets its <em>descendants</em> use scroll state queries to apply styles based on the containerâ€™s scrolling state.</p></div><p>Thatâ€™s why we use a <code>.stickyWrapper</code> to provide the sticky positioning and be used as the scroll state query container.</p><p>When <code>.stickyWrapper</code> gets stuck, weâ€™ll turn its child, <code>.stickyElement</code>, to fixed.</p><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token atrule"><span class="token rule">@container</span> <span class="token function">scroll-state</span><span class="token punctuation">(</span><span class="token property">stuck</span><span class="token punctuation">:</span> top<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">.stickyElement </span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">top</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>50vh <span class="token operator">-</span> 50cqh <span class="token operator">+</span> <span class="token function">var</span><span class="token punctuation">(</span>--stickyTop<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Hereâ€™s how it looks:</p>`,12)),a(i,{user:"anon","slug-hash":"qEZGQvb",title:"sticky to fixed with scroll-state","default-tab":["css","result"],theme:t.dark},null,8,["theme"]),s[12]||(s[12]=l('<p>As you can see, this method <strong>requires much less code</strong> in CSS. But since <code>view()</code> is widely supported at the moment, compared to scroll state queries, itâ€™s good to have the first method available, too. Choose whichever method or design you want. The key for this to work is to simply <strong>maintain the right size and position for the element when it shifts back and forth between its sticky and fixed behavior</strong> to look like itâ€™s moving between the visual blocks.</p><hr><h2 id="uses-and-variants" tabindex="-1"><a class="header-anchor" href="#uses-and-variants"><span>Uses and Variants</span></a></h2><p>If thereâ€™s a visual element thatâ€™s not to be unnecessarily shown to the user right off the bat, but <strong>once shown could be useful to keep it on screen</strong>, toggling its position like the examples in this post might do the trick. It could be a call-to-action button, or a banner, or it could be graphics moving between slides in a presentation once a particular slide is shown.</p><p>On top of the position change, if other visual changes are layered, that opens up even more variations for how this can play out.</p>',5)),a(i,{user:"anon","slug-hash":"ByKeGvY",title:"sticky to fixed with view() 2","default-tab":["css","result"],theme:t.dark},null,8,["theme"]),s[13]||(s[13]=n("p",null,"As mentioned before, focus on where and how you want the element to appear when its sticky and when its fixed, for the desired effect to come through as the position changes on scroll.",-1)),h(" TODO: add ARTICLE CARD "),a(r,u(d({title:"Toggle `position: sticky` to `position: fixed` on Scroll",desc:"Fixed and sticky positioning behave very differently, but we can switch between the two at exact points for some unusual looking effects. ",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/toggle-position-sticky-to-position-fixed-on-scroll.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16),s[14]||(s[14]=l('<hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p>A fixed elementâ€™s reference point in a document flow is the viewport. <a href="#footnote-ref1" class="footnote-backref">â†©ï¸Ž</a></p></li><li id="footnote2" class="footnote-item"><p>In horizontal writing, the width is along the inline axis. <a href="#footnote-ref2" class="footnote-backref">â†©ï¸Ž</a></p></li><li id="footnote3" class="footnote-item"><p>The <code>position</code> CSS property is discrete. When animated, it changes from its start to end value halfway through the animation. <a href="#footnote-ref3" class="footnote-backref">â†©ï¸Ž</a></p></li></ol></section>',2))])}const P=m(f,[["render",S]]),B=JSON.parse('{"path":"/frontendmasters.com/toggle-position-sticky-to-position-fixed-on-scroll.html","title":"Toggle `position: sticky` to `position: fixed` on Scroll","lang":"en-US","frontmatter":{"lang":"en-US","title":"Toggle `position: sticky` to `position: fixed` on Scroll","description":"Article(s) > Toggle `position: sticky` to `position: fixed` on Scroll","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","frontendmasters.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Toggle `position: sticky` to `position: fixed` on Scroll\\",\\"image\\":[\\"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/8090\\"],\\"datePublished\\":\\"2025-12-24T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Preethi Sam\\",\\"url\\":\\"https://frontendmasters.com/blog/author/preethisam/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/toggle-position-sticky-to-position-fixed-on-scroll.html"}],["meta",{"property":"og:site_name","content":"ðŸ“šBookshelf"}],["meta",{"property":"og:title","content":"Toggle `position: sticky` to `position: fixed` on Scroll"}],["meta",{"property":"og:description","content":"Article(s) > Toggle `position: sticky` to `position: fixed` on Scroll"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/8090"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/8090"}],["meta",{"name":"twitter:image:alt","content":"Toggle `position: sticky` to `position: fixed` on Scroll"}],["meta",{"property":"article:author","content":"Preethi Sam"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-12-24T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Toggle `position: sticky` to `position: fixed` on Scroll"},{"property":"og:description","content":"Toggle `position: sticky` to `position: fixed` on Scroll"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/toggle-position-sticky-to-position-fixed-on-scroll.html"}]],"prev":"/programming/css/articles/README.md","date":"2025-12-24T00:00:00.000Z","isOriginal":false,"author":[{"name":"Preethi Sam","url":"https://frontendmasters.com/blog/author/preethisam/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/8090"},"git":{},"readingTime":{"minutes":5.12,"words":1536},"filePathRelative":"frontendmasters.com/toggle-position-sticky-to-position-fixed-on-scroll.md","copyright":{"author":"Preethi Sam"}}');export{P as comp,B as data};
