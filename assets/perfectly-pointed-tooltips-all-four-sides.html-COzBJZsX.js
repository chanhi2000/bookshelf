import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as f,d as s,f as t,b as d,a as g,t as k,n as o,g as i,w as p,e as a,r as c,o as b}from"./app-BItykJLQ.js";const v={},w={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},y={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},x={class:"table-of-contents"},P={class:"hint-container info"},T={class:"hint-container info"};function C(u,n){const e=c("VPCard"),l=c("router-link"),h=c("SiteInfo"),r=c("RouteLink");return b(),f("div",null,[s("h1",w,[s("a",y,[s("span",null,k(u.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),t(e,o(i({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",x,[s("ul",null,[s("li",null,[t(l,{to:"#the-initial-configuration"},{default:p(()=>[...n[0]||(n[0]=[a("The Initial Configuration",-1)])]),_:1})]),s("li",null,[t(l,{to:"#defining-multiple-positions"},{default:p(()=>[...n[1]||(n[1]=[a("Defining Multiple Positions",-1)])]),_:1})]),s("li",null,[t(l,{to:"#disabling-the-shift-behavior"},{default:p(()=>[...n[2]||(n[2]=[a("Disabling the Shift Behavior",-1)])]),_:1})]),s("li",null,[t(l,{to:"#adding-min-width"},{default:p(()=>[...n[3]||(n[3]=[a("Adding min-width",-1)])]),_:1})]),s("li",null,[t(l,{to:"#adding-the-tail"},{default:p(()=>[...n[4]||(n[4]=[a("Adding The Tail",-1)])]),_:1})]),s("li",null,[t(l,{to:"#conclusion"},{default:p(()=>[...n[5]||(n[5]=[a("Conclusion",-1)])]),_:1})])])]),n[16]||(n[16]=s("hr",null,null,-1)),t(h,{name:"Perfectly Pointed Tooltips: All Four Sides",desc:"Tooltips are a natural fit for the abilities of Anchor Positioning, which can help place them on *any* side or corner. It does make dealing with the pointer extra tricky though.",url:"https://frontendmasters.com/blog/perfectly-pointed-tooltips-all-four-sides/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/7543"}),n[17]||(n[17]=s("p",null,[a("Time for part two! We‚Äôve got really nice functional positioned tooltips already, but they were mostly concerned with ‚Äúpointing‚Äù up or down and shifting at the edges to avoid overflow. Now we‚Äôre going to take it further, considering "),s("strong",null,[s("em",null,"four")]),a(" positions without shifts.")],-1)),s("div",P,[n[6]||(n[6]=s("p",{class:"hint-container-title"},"Article Series",-1)),t(e,o(i({title:"Perfectly Pointed Tooltips: A Foundation",desc:"The Anchor Positioning API in CSS is very powerful. This is the beginning of a series where we understand it through the perfect use-case: tooltips.",link:"/frontendmasters.com/perfectly-pointed-tooltips-a-foundation.md",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16),t(e,o(i({title:"Perfectly Pointed Tooltips: All Four Sides",desc:"Tooltips are a natural fit for the abilities of Anchor Positioning, which can help place them on *any* side or corner. It does make dealing with the pointer extra tricky though.",link:"/frontendmasters.com/perfectly-pointed-tooltips-all-four-sides.md",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16),t(e,o(i({title:"Perfectly Pointed Tooltips: To The Corners",desc:"With our foundation in positioning and flipping tooltips with anchors, and making pointer tails, we're going to get extra tricky and point them diagonally.",link:"/frontendmasters.com/perfectly-pointed-tooltips-to-the-corners.md",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)]),n[18]||(n[18]=d(`<div class="hint-container note"><p class="hint-container-title">Note</p><p>At the time of writing, only Chrome and Edge have full support of the features we will be using.</p></div><p>Here is a demo of what we are making:</p><p>CodePen Embed Fallback https://codepen.io/t_afif/pen/QwyMrvG Follow me if you can! (drag the anchor)</p><p>Drag the anchor and see how the tooltip switches between the four positions and how it remains centered relatively to the anchor.</p><hr><h2 id="the-initial-configuration" tabindex="-1"><a class="header-anchor" href="#the-initial-configuration"><span>The Initial Configuration</span></a></h2><p>We are going to use the same code structure as in the first part. We start with the tooltip placed above the anchor (the ‚Äútop‚Äù).</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>anchor<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>tooltip<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">#anchor</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">anchor-name</span><span class="token punctuation">:</span> --anchor<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">#tooltip</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--d</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span> <span class="token comment">/* distance between tooltip and anchor */</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span> </span>
<span class="line">  <span class="token property">position-anchor</span><span class="token punctuation">:</span> --anchor<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">position-area</span><span class="token punctuation">:</span> top<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CodePen Embed Fallback https://codepen.io/t_afif/pen/YPwEVqm adding gap</p><p>From here on, things will be different from the previous example.</p><hr><h2 id="defining-multiple-positions" tabindex="-1"><a class="header-anchor" href="#defining-multiple-positions"><span>Defining Multiple Positions</span></a></h2><p>The <code>position-try-fallbacks</code> property allows us to define multiple positions. Let‚Äôs try the following:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">position-try-fallbacks</span><span class="token punctuation">:</span> bottom<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Let‚Äôs not forget that the placement is related to the containing block, which is the body in our example (illustrated with the dashed border):</p><p>CodePen Embed Fallback https://codepen.io/t_afif/pen/LEGQXoG/f008b8ee74788eef7c17daf4851cbb4c Untitled</p><p>We <em>almost</em> have the same behavior as the first example; however if you are close to the right or left edges, you get the new positions. Instead of overflowing, the browser will swap to the right or left position.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/7h4aIKLl.png?resize=868%2C245&amp;ssl=1" alt="Illustration showing a tooltip following an anchor, with a crossed-out example on the left and a correct behavior on the right, displaying the text &#39;Drag the anchor and I should follow...&#39;" tabindex="0" loading="lazy"><figcaption>Illustration showing a tooltip following an anchor, with a crossed-out example on the left and a correct behavior on the right, displaying the text &#39;Drag the anchor and I should follow...&#39;</figcaption></figure><p>Similar to the first example, the gap disappears when switching to the fallback positions. We know how to fix it! Instead of explicitly defining the positions, we can rely on the ‚Äúflip‚Äù feature.</p><p>To move from top to bottom, we use <code>flip-block</code>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">position-try-fallbacks</span><span class="token punctuation">:</span> flip-block<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>From top to left, we use <code>flip-start</code>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">position-try-fallbacks</span><span class="token punctuation">:</span> flip-block<span class="token punctuation">,</span> flip-start<span class="token punctuation">,</span> right<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The <code>flip-block</code> value mirrors the position across the horizontal axis, and <code>flip-start</code> does the same across the diagonal. With this value, we can move from top to left and from bottom to right. And logically, we also have a <code>flip-inline</code> that considers the vertical axis to move from left to right.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>But how do we move from top to right? We are missing another value, right?</p></div><p>No, we have all the necessary values. To move from top to right, we <em>combine</em> two flips: <code>flip-block</code> to move to the bottom, then <code>flip-start</code> to move to the right:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">position-try-fallbacks</span><span class="token punctuation">:</span> flip-block<span class="token punctuation">,</span> flip-start<span class="token punctuation">,</span> flip-block flip-start<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Or <code>flip-start</code> to move to the left, and then <code>flip-inline</code> to move to the right:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">position-try-fallbacks</span><span class="token punctuation">:</span> flip-block<span class="token punctuation">,</span> flip-start<span class="token punctuation">,</span> flip-start flip-inline<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>CodePen Embed Fallback https://codepen.io/t_afif/pen/ZYQxKjy/d9b8e34dd58a044957b40a251b0fc415 Untitled</p><p>It should be noted that all the flips consider the initial position defined on the element and not the previous position defined on <code>position-try-fallbacks</code> or the current position. If we first perform a <code>flip-block</code> to move to the bottom, the <code>flip-start</code> of the second position will not consider the bottom position but the top position (the initial one). This can be confusing, especially when you have many positions.</p><p>Said differently, the browser will first transform all the flips into positions (considering the initial position) and then pick the suitable one when needed.</p><hr><h2 id="disabling-the-shift-behavior" tabindex="-1"><a class="header-anchor" href="#disabling-the-shift-behavior"><span>Disabling the Shift Behavior</span></a></h2><p>What we have is actually good and might work perfectly for some use-cases, but we‚Äôre aiming for slightly more advanced functionality. What we want is to flip to the left or right position as soon as the tooltip touches the edges. We don‚Äôt want to have the ‚Äúshift‚Äù behavior. I want the tooltip to remain always centered relatively to the anchor.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/SSD0LZHO.png?resize=897%2C320&amp;ssl=1" alt="Image showing four tooltip positions in relation to an anchor, with text indicating interaction." tabindex="0" loading="lazy"><figcaption>Image showing four tooltip positions in relation to an anchor, with text indicating interaction.</figcaption></figure><p>For this, we can use:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">justify-self</span><span class="token punctuation">:</span> unsafe anchor-center<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">Note</p><p>What is this strange value!?</p></div><p>After defining the position of an element using <code>position-area</code> we can also control its alignment using <code>justify-self</code> and <code>align-self</code> (or the shorthand <code>place-self</code>). However, we get a default alignment that you rarely need to change.</p><p>For <code>position-area: top</code>, the default alignment is equivalent to <code>justify-self: anchor-center</code> and <code>align-self: end</code>.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>Don‚Äôt we have a <code>center</code> value? Why is it called <code>anchor-center</code>?</p></div><p>The <code>center</code> value exists, but its behavior is different from <code>anchor-center</code>. The <code>center</code> value considers the center of the area, while <code>anchor-center</code> considers the center of the anchor in the relevant axis.</p>`,44)),s("p",null,[n[8]||(n[8]=a("Here is a screenshot taken from ",-1)),t(r,{to:"/css-tip.com/position-area.html"},{default:p(()=>[...n[7]||(n[7]=[s("strong",null,"my interactive demo",-1)])]),_:1}),n[9]||(n[9]=a(", where you can see the difference:",-1))]),n[19]||(n[19]=s("figure",null,[s("img",{src:"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/nrJHmtpZ-1.png?resize=975%2C489&ssl=1",alt:"Comparison of element alignment in CSS, showing the difference between centering in the top area versus centering at the anchor point.",tabindex:"0",loading:"lazy"}),s("figcaption",null,"Comparison of element alignment in CSS, showing the difference between centering in the top area versus centering at the anchor point.")],-1)),s("p",null,[n[11]||(n[11]=a("In addition to that, ",-1)),n[12]||(n[12]=s("code",null,"anchor-center",-1)),n[13]||(n[13]=a(" follows the logic of ",-1)),t(r,{to:"/css-tip.com/safe-align.html"},{default:p(()=>[...n[10]||(n[10]=[s("strong",null,"safe alignment",-1)])]),_:1}),n[14]||(n[14]=a(" which cause the shift behavior. When there is not enough room for centering, the element will shift to remain within the containing block area. To disable this, we tell the browser to consider an ‚Äúunsafe‚Äù behavior hence the use of:",-1))]),n[20]||(n[20]=d(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">justify-self</span><span class="token punctuation">:</span> unsafe anchor-center<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Here is a demo with only the top and bottom positions. Notice how the tooltip will overflow from the left and right sides instead of shifting.</p><p>CodePen Embed Fallback https://codepen.io/t_afif/pen/Wbrzjjb/159e2f67a7a6e2b14bacec4fc4f45591 Untitled</p><p>And if we add back the left and right positions to the fallbacks, the browser will use them instead of overflowing!</p><p>CodePen Embed Fallback https://codepen.io/t_afif/pen/VYeXbVg/02b211bba024d28a17e5ea15846080bc Untitled</p><p>It should be noted that <code>justify-self</code> is also included in the flip. It‚Äôs one of those properties that the browser changes when flipping. When the position is top or bottom, it remains <code>justify-self</code>, but when the position is left or right, it becomes <code>align-self</code>. Another reason why it‚Äôs better to consider the flip feature instead of explicitly defining a position.</p><hr><h2 id="adding-min-width" tabindex="-1"><a class="header-anchor" href="#adding-min-width"><span>Adding <code>min-width</code></span></a></h2><p>The position of the tooltip is now good, but in some particular cases, it‚Äôs too narrow.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/avEUiDCW.png?resize=295%2C234&amp;ssl=1" alt="A tooltip with a blue background displaying the text &#39;Drag the anchor and I should follow...&#39; is positioned above a gray anchor icon." tabindex="0" loading="lazy"><figcaption>A tooltip with a blue background displaying the text &#39;Drag the anchor and I should follow...&#39; is positioned above a gray anchor icon.</figcaption></figure><p>That‚Äôs a logical behavior since the text inside can wrap to make the tooltip fit that position. You probably want to keep that behavior, but in our case, we‚Äôd like to add <code>min-width</code> to force it to flip to another position before shrinking too much. It can also be a <code>max-height</code> as well.</p><p>CodePen Embed Fallback https://codepen.io/t_afif/pen/vELRZKB/d7845171d64b9390b7a6af08af748512 Untitled</p><p>Oops, <code>min-width</code> is not preventing wrapping, but it is increasing the height! What?!</p><p>Can you guess what the issue is? Think a moment about it.</p><p>It‚Äôs the flip behavior.</p><p>The <code>min-width</code> and all the sizing properties are also affected by the flip. The initial configuration is top, so defining <code>min-width</code> means that when we perform a flip-start to move to the left or the right position, the <code>min-width</code> becomes <code>min-height</code>, which is not good.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>So we define <code>min-height</code> instead, when flipped it becomes <code>min-width</code>!</p></div><p>Yes, but the <code>min-height</code> will apply to the top and bottom positions, which is not ideal either.</p><p>We can fix this by using custom positions where we define all the properties manually.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">#tooltip</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">min-width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">position-area</span><span class="token punctuation">:</span> top<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">justify-self</span><span class="token punctuation">:</span> unsafe anchor-center<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">position-try-fallbacks</span><span class="token punctuation">:</span> flip-block<span class="token punctuation">,</span>--left<span class="token punctuation">,</span>--right<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@position-try</span> --left</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">position-area</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">justify-self</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">align-self</span><span class="token punctuation">:</span> unsafe anchor-center<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">right</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@position-try</span> --right</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">position-area</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">justify-self</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">align-self</span><span class="token punctuation">:</span> unsafe anchor-center<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We use <code>@position-try</code> to create a custom position with a given name, and inside it we define all the properties. Instead of using <code>flip-start</code> to set the left position, I define a custom <code>--left</code> position with all the necessary properties to correctly place the tooltip on the left. Same for the right position. In this situation, <code>min-width</code> is preserved for all positions, as we are no longer using <code>flip-start</code>.</p><p>It is worth noting that when using a custom position, you need to ensure that you override all the properties of the initial position defined on the element otherwise they still apply. For this reason, I am defining <code>justify-self: normal</code> to override <code>justify-self: unsafe anchor-center</code>. <code>normal</code> being the default value of <code>justify-self</code>.</p><p>CodePen Embed Fallback https://codepen.io/t_afif/pen/MYKGWZX/38a52cdc861f42c2304930dd7edea196 Untitled</p><p>While this solution works fine, it‚Äôs a bit verbose, so I was wondering if we can do better. It turns out we can!</p><p>We can combine the flip feature and custom positions to get a shorter code:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">#tooltip</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">position-area</span><span class="token punctuation">:</span> top<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">justify-self</span><span class="token punctuation">:</span> unsafe anchor-center<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">position-try</span><span class="token punctuation">:</span> flip-block<span class="token punctuation">,</span>--size flip-start<span class="token punctuation">,</span>--size flip-start flip-inline<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@position-try</span> --size</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">min-height</span><span class="token punctuation">:</span> 12em<span class="token punctuation">;</span> <span class="token comment">/* this is min-width! */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When we define a custom position with a flip, the browser selects the properties within the custom position, as well as the properties already defined on the element, and then performs the flip. So <code>--size flip-start</code> will flip the properties defined on the element and the one defined in the custom position <code>--size</code>. <code>min-height</code> becomes a <code>min-width</code>! Clever, right?</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>But you said we cannot use <code>min-height</code>?</p></div><p>We cannot use it on the main element as it will apply to the top and bottom positions. However, within a custom position, I can select where it applies, and I want it to apply only to the left and right positions. Plus, I don‚Äôt need any <code>min-width</code> or <code>min-height</code> constraint when the position is top or bottom.</p><p>CodePen Embed Fallback https://codepen.io/t_afif/pen/qEbYBge/3c340988dad465c415beb2f57778f6bb Untitled</p><p>Now our tooltip position is perfect! Let‚Äôs add the tail.</p><hr><h2 id="adding-the-tail" tabindex="-1"><a class="header-anchor" href="#adding-the-tail"><span>Adding The Tail</span></a></h2><p>First, we create a shape that contains the 4 tails.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/LisUyvsg.png?resize=711%2C219&amp;ssl=1" alt="Comparison of tooltip shapes demonstrating the transition from a red diamond shape to a blue rounded shape with the text &#39;Drag the anchor and I should follow...&#39;" tabindex="0" loading="lazy"><figcaption>Comparison of tooltip shapes demonstrating the transition from a red diamond shape to a blue rounded shape with the text &#39;Drag the anchor and I should follow...&#39;</figcaption></figure><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">#tooltip:before</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">z-index</span><span class="token punctuation">:</span> -1<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">inset</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>-1*<span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">polygon</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token function">calc</span><span class="token punctuation">(</span>50% - <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">,</span>50% .2em<span class="token punctuation">,</span><span class="token function">calc</span><span class="token punctuation">(</span>50% + <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function">calc</span><span class="token punctuation">(</span>100% - <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">calc</span><span class="token punctuation">(</span>50% - <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - .2em<span class="token punctuation">)</span> 50%<span class="token punctuation">,</span><span class="token function">calc</span><span class="token punctuation">(</span>100% - <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">calc</span><span class="token punctuation">(</span>50% + <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function">calc</span><span class="token punctuation">(</span>50% + <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>50% <span class="token function">calc</span><span class="token punctuation">(</span>100% - .2em<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">calc</span><span class="token punctuation">(</span>50% - <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span> <span class="token function">calc</span><span class="token punctuation">(</span>50% + <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> .2em 50%<span class="token punctuation">,</span><span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span> <span class="token function">calc</span><span class="token punctuation">(</span>50% - <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then we control it using margin on the tooltip element, just as we did in the first part. When the position is top, we add a margin to all the sides except for the bottom one:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/RZRmCs40.png?resize=681%2C193&amp;ssl=1" alt="Comparison of tooltip designs showing a red diamond-shaped tooltip on the left and a blue rectangular tooltip on the right, both displaying the text &#39;Drag the anchor and I should follow...&#39;." tabindex="0" loading="lazy"><figcaption>Comparison of tooltip designs showing a red diamond-shaped tooltip on the left and a blue rectangular tooltip on the right, both displaying the text &#39;Drag the anchor and I should follow...&#39;.</figcaption></figure><p>And for the other sides, we do nothing! The flip will do the job for us.</p><p>CodePen Embed Fallback https://codepen.io/t_afif/pen/QwyMrvG Follow me if you can! (drag the anchor)</p><p>Toggle the ‚Äúdebug mode‚Äù to see how the shape behaves in each position.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>We have completed the second part. Now, you should be comfortable working with fallbacks, the flip feature, and custom positions. If you are still struggling, give the article another read. We still have one final challenge, so make sure everything is clear before moving to the next article.</p>`,45)),s("div",T,[n[15]||(n[15]=s("p",{class:"hint-container-title"},"Article Series",-1)),t(e,o(i({title:"Perfectly Pointed Tooltips: A Foundation",desc:"The Anchor Positioning API in CSS is very powerful. This is the beginning of a series where we understand it through the perfect use-case: tooltips.",link:"/frontendmasters.com/perfectly-pointed-tooltips-a-foundation.md",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16),t(e,o(i({title:"Perfectly Pointed Tooltips: All Four Sides",desc:"Tooltips are a natural fit for the abilities of Anchor Positioning, which can help place them on *any* side or corner. It does make dealing with the pointer extra tricky though.",link:"/frontendmasters.com/perfectly-pointed-tooltips-all-four-sides.md",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16),t(e,o(i({title:"Perfectly Pointed Tooltips: To The Corners",desc:"With our foundation in positioning and flipping tooltips with anchors, and making pointer tails, we're going to get extra tricky and point them diagonally.",link:"/frontendmasters.com/perfectly-pointed-tooltips-to-the-corners.md",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)]),g(" TODO: add ARTICLE CARD "),t(e,o(i({title:"Perfectly Pointed Tooltips: All Four Sides",desc:"Tooltips are a natural fit for the abilities of Anchor Positioning, which can help place them on *any* side or corner. It does make dealing with the pointer extra tricky though.",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/perfectly-pointed-tooltips-all-four-sides.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)])}const I=m(v,[["render",C]]),j=JSON.parse('{"path":"/frontendmasters.com/perfectly-pointed-tooltips-all-four-sides.html","title":"Perfectly Pointed Tooltips: All Four Sides","lang":"en-US","frontmatter":{"lang":"en-US","title":"Perfectly Pointed Tooltips: All Four Sides","description":"Article(s) > Perfectly Pointed Tooltips: All Four Sides","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","frontendmasters.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Perfectly Pointed Tooltips: All Four Sides\\",\\"image\\":[\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/7h4aIKLl.png?resize=868%2C245&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/SSD0LZHO.png?resize=897%2C320&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/nrJHmtpZ-1.png?resize=975%2C489&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/avEUiDCW.png?resize=295%2C234&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/LisUyvsg.png?resize=711%2C219&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/10/RZRmCs40.png?resize=681%2C193&ssl=1\\"],\\"datePublished\\":\\"2025-11-03T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Temani Afif\\",\\"url\\":\\"https://frontendmasters.com/blog/author/temaniafif/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/perfectly-pointed-tooltips-all-four-sides.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Perfectly Pointed Tooltips: All Four Sides"}],["meta",{"property":"og:description","content":"Article(s) > Perfectly Pointed Tooltips: All Four Sides"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/7543"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/7543"}],["meta",{"name":"twitter:image:alt","content":"Perfectly Pointed Tooltips: All Four Sides"}],["meta",{"property":"article:author","content":"Temani Afif"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-11-03T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Perfectly Pointed Tooltips: All Four Sides"},{"property":"og:description","content":"Perfectly Pointed Tooltips: All Four Sides"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/perfectly-pointed-tooltips-all-four-sides.html"}]],"prev":"/programming/css/articles/README.md","date":"2025-11-03T00:00:00.000Z","isOriginal":false,"author":[{"name":"Temani Afif","url":"https://frontendmasters.com/blog/author/temaniafif/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/7543"},"git":{},"readingTime":{"minutes":8.7,"words":2611},"filePathRelative":"frontendmasters.com/perfectly-pointed-tooltips-all-four-sides.md","copyright":{"author":"Temani Afif"}}');export{I as comp,j as data};
