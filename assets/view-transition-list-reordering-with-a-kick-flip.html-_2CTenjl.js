import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,d as s,f as t,b as k,a as b,t as f,n as c,g as u,w as p,e as a,r as o,o as w}from"./app-BItykJLQ.js";const y={},q={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},T={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},S={class:"table-of-contents"},I={href:"https://developer.chrome.com/blog/movebefore-api",target:"_blank",rel:"noopener noreferrer"};function V(r,n){const i=o("VPCard"),e=o("router-link"),d=o("SiteInfo"),l=o("VidStack"),m=o("VPIcon"),v=o("CodePen");return w(),h("div",null,[s("h1",q,[s("a",T,[s("span",null,f(r.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),t(i,c(u({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),t(i,c(u({title:"JavaScript > Article(s)",desc:"Article(s)",link:"/programming/js/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",S,[s("ul",null,[s("li",null,[t(e,{to:"#the-list"},{default:p(()=>[...n[0]||(n[0]=[a("The List",-1)])]),_:1})]),s("li",null,[t(e,{to:"#scaffolding-the-interactive-javascript"},{default:p(()=>[...n[1]||(n[1]=[a("Scaffolding the Interactive JavaScript",-1)])]),_:1})]),s("li",null,[t(e,{to:"#moving-the-list-item-to-the-top"},{default:p(()=>[...n[2]||(n[2]=[a("Moving the List Item to the Top",-1)])]),_:1})]),s("li",null,[t(e,{to:"#progressively-enhanced-movement-via-view-transitions"},{default:p(()=>[...n[3]||(n[3]=[a("(Progressively Enhanced) Movement via View Transitions",-1)])]),_:1})]),s("li",null,[t(e,{to:"#special-view-transitions-only-for-the-main-moving-element"},{default:p(()=>[...n[4]||(n[4]=[a("Special View Transitions Only For the ‚ÄúMain Moving Element‚Äù",-1)])]),_:1})]),s("li",null,[t(e,{to:"#video"},{default:p(()=>[...n[5]||(n[5]=[a("Video",-1)])]),_:1})])])]),n[10]||(n[10]=s("hr",null,null,-1)),t(d,{name:"View Transition List Reordering (with a Kick Flip)",desc:"It's pretty straightforward to animate list items into new positions, but there is a few tricks when the specific one you've chosen to move needs a *different* transition.",url:"https://frontendmasters.com/blog/view-transition-list-reordering-with-a-kick-flip/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6471"}),n[11]||(n[11]=s("p",null,[a("I remember when we first got animations and transitions in CSS on the web (ok grandpa), the talk around it was balanced between "),s("em",null,"oooo! fun! shiny!"),a(" and "),s("em",null,"actually, movement is more than aesthetics; it can help people understand what is happening in user interfaces.")],-1)),n[12]||(n[12]=s("p",null,[a("The example that got stuck in my head was reordering lists. Imagine a single list item being plucked off and moved to the top. If that "),s("em",null,"instantly"),a(" happens, it can be hard to catch what even happened. But if you animate the movement, it can be extremely obvious what is happening.")],-1)),n[13]||(n[13]=s("p",null,[s("strong",null,"Works, but it is not particularly easy to understand what is happening"),a(":")],-1)),t(l,{src:"https://videopress.com/265e9f90-c797-45aa-b1ce-109b4e8a6f7e"}),n[14]||(n[14]=s("p",null,[s("strong",null,[a("More fun "),s("em",null,"and"),a(" easier to understand what is happening")]),a(":")],-1)),t(l,{src:"https://videopress.com/dae6135c-caca-4fc9-8b05-7719e282772b  "}),n[15]||(n[15]=k(`<hr><h2 id="the-list" tabindex="-1"><a class="header-anchor" href="#the-list"><span>The List</span></a></h2><p>We‚Äôre talking a regular ol list. Perhaps ironic that we‚Äôre<em>ordering</em>and<em>unordered</em>lists, but I‚Äôll leave that as a semantic thoughtworm for the reader.</p><p>Each list item has text, then a button which the intended action is that, when clicked, will move the list item to the top.</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    Apples</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">hidden</span> <span class="token attr-name">disabled</span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Move to Top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    Oranges</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">hidden</span> <span class="token attr-name">disabled</span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Move to Top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">hidden</span> <span class="token attr-name">disabled</span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Move to Top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    Mangos</span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">hidden</span> <span class="token attr-name">disabled</span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Move to Top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    Bananas</span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that each button has a text label (as we‚Äôre not using text inside the button), and a <code>hidden</code> attribute we‚Äôll use to make sure the button isn‚Äôt there at all when JavaScript is disabled.</p><hr><h2 id="scaffolding-the-interactive-javascript" tabindex="-1"><a class="header-anchor" href="#scaffolding-the-interactive-javascript"><span>Scaffolding the Interactive JavaScript</span></a></h2><p>This will get us references to the elements we need, as well as do a loop and un-hide the buttons as well as attach an event listener to them:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> listItems <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> listItemButtons <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;li &gt; button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">listItemButtons<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">button</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  button<span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">  button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// do stuff</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="moving-the-list-item-to-the-top" tabindex="-1"><a class="header-anchor" href="#moving-the-list-item-to-the-top"><span>Moving the List Item to the Top</span></a></h2><p>When the button is clicked, we‚Äôll need the list item, not the button itself, so we reach up a level to the parent. Then we freshly figure out what the <em>first</em> list item is, and <code>insertBefore</code> it, making the clicked one the first one.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> listItems <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> listItemButtons <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;li &gt; button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">listItemButtons<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">button</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  button<span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">  button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> item <span class="token operator">=</span> button<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> firstListItem <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.list :first-child&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    list<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> firstListItem<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// This is probably the better API to use, but less supported...</span></span>
<span class="line">    <span class="token comment">// list.moveBefore(item, firstListItem);</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14)),s("p",null,[n[8]||(n[8]=a("I only recently ",-1)),s("a",I,[t(m,{icon:"fa-brands fa-chrome"}),n[6]||(n[6]=a("learned about ",-1)),n[7]||(n[7]=s("code",null,"moveBefore",-1))]),n[9]||(n[9]=a(" which is probably a better API to use, but we can wait a bit for better support.",-1))]),n[16]||(n[16]=k(`<hr><h2 id="progressively-enhanced-movement-via-view-transitions" tabindex="-1"><a class="header-anchor" href="#progressively-enhanced-movement-via-view-transitions"><span>(Progressively Enhanced) Movement via View Transitions</span></a></h2><p>One type of View Transitions are ‚Äúsame page‚Äù View Transitions, where we essentially call <code>document.startViewTransition</code> and <strong>change the DOM inside the callback</strong>.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> listItems <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> listItemButtons <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;li &gt; button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">moveListItemFirst</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> firstListItem <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.list :first-child&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  list<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> firstListItem<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">listItemButtons<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">button</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  button<span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">  button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> item <span class="token operator">=</span> button<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>startViewTransition<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> transition <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">startViewTransition</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">moveListItemFirst</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">moveListItemFirst</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Because we need to move the list item whether the browser supports View Transitions or not, we abstract that to a function, and call it on either branch of logic testing that support.</p><p>This will immediately do a fade transition for the list items, which honestly isn‚Äôt much of an improvement in this case (it still can be nice for the other type of View Transitions: page transitions). Fortunately, we‚Äôve got a pretty decent one-line fix in CSS:</p><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token selector">ul </span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">li </span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">view-transition-name</span><span class="token punctuation">:</span> match-element<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you‚Äôve played with View Transitions before, it‚Äôs likely you‚Äôve got in your head that every single element needs a <em>unique</em> <code>view-transition-name</code>. And that‚Äôs still true in Firefox for now, as only Chrome and Safari are supporting <code>match-element</code> as I write. But as we‚Äôre just playing here, this is such a nice improvement and reduces so much fiddliness, I think it‚Äôs worth it.</p><hr><h2 id="special-view-transitions-only-for-the-main-moving-element" tabindex="-1"><a class="header-anchor" href="#special-view-transitions-only-for-the-main-moving-element"><span>Special View Transitions Only For the ‚ÄúMain Moving Element‚Äù</span></a></h2><p>The deal here is really that <em>all</em> the elements are moving. It‚Äôs either the element you clicked on moving to the first position, or the rest of the list items moving out of the way.</p><p>So the goal here is to apply a unique <code>view-transition-name</code> to the element that is the ‚Äúmain moving element‚Äù, then remove it once it‚Äôs done. To make matters a bit more difficult, we‚Äôve got <em>two</em> animations we want to apply, one of the list item, and one <em>just</em> for the icon within the button. That‚Äôs slightly tricky!</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> listItems <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> listItemButtons <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;li &gt; button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">moveListItemFirst</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> firstListItem <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.list :first-child&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  list<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> firstListItem<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">listItemButtons<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">button</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  button<span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">  button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> item <span class="token operator">=</span> button<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line highlighted">    item<span class="token punctuation">.</span>style<span class="token punctuation">.</span>viewTransitionName <span class="token operator">=</span> <span class="token string">&quot;woosh&quot;</span><span class="token punctuation">;</span></span>
<span class="line highlighted">    item<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;svg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>viewTransitionName <span class="token operator">=</span> <span class="token string">&quot;tony-hawk&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>startViewTransition<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> transition <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">startViewTransition</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">moveListItemFirst</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line highlighted">      <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line highlighted">        <span class="token keyword">await</span> transition<span class="token punctuation">.</span>finished<span class="token punctuation">;</span></span>
<span class="line highlighted">      <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span></span>
<span class="line highlighted">        item<span class="token punctuation">.</span>style<span class="token punctuation">.</span>viewTransitionName <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span></span>
<span class="line highlighted">        item<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;svg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>viewTransitionName <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span></span>
<span class="line highlighted">        <span class="token function">makeFirstListItemsButtonDisabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line highlighted">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">moveListItemFirst</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now we‚Äôve got ‚Äúwoosh‚Äù and ‚Äútony-hawk‚Äù view transition names we can use to apply animation control in CSS.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">::view-transition-group(*)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 1s<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">::view-transition-old(woosh),</span>
<span class="line">::view-transition-new(woosh)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> woosh 1s ease-in-out<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> woosh</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">50%</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">translate</span><span class="token punctuation">:</span> -100px 0<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">scale</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 30px 15px <span class="token function">lch</span><span class="token punctuation">(</span>0% 0 0 / 50%<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">::view-transition-old(tony-hawk),</span>
<span class="line">::view-transition-new(tony-hawk)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> tony-hawk 1s ease-in-out<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> tony-hawk</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* sick kick flip */</span></span>
<span class="line">  <span class="token selector">50%</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">rotate</span><span class="token punctuation">:</span> 20deg<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">scale</span><span class="token punctuation">:</span> 2.5<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>So for the ‚Äúnon-main‚Äù elements, they just move up and down over 1s. But for the ‚Äúmain‚Äù moving element, we‚Äôve got these unique <code>@keyframe</code> animations we apply while the re-ordering is happening. Note that the keyframes are only applying the <code>50%</code> keyframe, so they animate from wherever they were to wherever they are going still, just in the middle they do something special, like the sick kick flip.</p>`,16)),t(v,{user:"chriscoyier","slug-hash":"vEOaJXy",title:"List Movement with View Transition Kickflip","default-tab":["css","result"],theme:r.dark},null,8,["theme"]),n[17]||(n[17]=s("hr",null,null,-1)),n[18]||(n[18]=s("h2",{id:"video",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#video"},[s("span",null,"Video")])],-1)),n[19]||(n[19]=s("p",null,"I‚Äôm playing with streaming and this idea started as a loose idea for a stream, then I lightly edited it for a regular YouTube video, so maybe you‚Äôd enjoy that:",-1)),t(l,{src:"youtube/8vFRqReS-TE"}),b(" TODO: add ARTICLE CARD "),t(i,c(u({title:"View Transition List Reordering (with a Kick Flip)",desc:"It's pretty straightforward to animate list items into new positions, but there is a few tricks when the specific one you've chosen to move needs a *different* transition.",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/view-transition-list-reordering-with-a-kick-flip.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)])}const x=g(y,[["render",V]]),A=JSON.parse('{"path":"/frontendmasters.com/view-transition-list-reordering-with-a-kick-flip.html","title":"View Transition List Reordering (with a Kick Flip)","lang":"en-US","frontmatter":{"lang":"en-US","title":"View Transition List Reordering (with a Kick Flip)","description":"Article(s) > View Transition List Reordering (with a Kick Flip)","icon":"fa-brands fa-css3-alt","category":["CSS","JavaScript","Article(s)"],"tag":["blog","frontendmasters.com","css","js","javascript"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"View Transition List Reordering (with a Kick Flip)\\",\\"image\\":[\\"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6471\\"],\\"datePublished\\":\\"2025-07-08T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Chris Coyier\\",\\"url\\":\\"https://frontendmasters.com/blog/author/chriscoyier/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/view-transition-list-reordering-with-a-kick-flip.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"View Transition List Reordering (with a Kick Flip)"}],["meta",{"property":"og:description","content":"Article(s) > View Transition List Reordering (with a Kick Flip)"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6471"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6471"}],["meta",{"name":"twitter:image:alt","content":"View Transition List Reordering (with a Kick Flip)"}],["meta",{"property":"article:author","content":"Chris Coyier"}],["meta",{"property":"article:tag","content":"javascript"}],["meta",{"property":"article:tag","content":"js"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-07-08T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > View Transition List Reordering (with a Kick Flip)"},{"property":"og:description","content":"View Transition List Reordering (with a Kick Flip)"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/view-transition-list-reordering-with-a-kick-flip.html"}]],"prev":"/programming/css/articles/README.md","date":"2025-07-08T00:00:00.000Z","isOriginal":false,"author":[{"name":"Chris Coyier","url":"https://frontendmasters.com/blog/author/chriscoyier/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6471"},"git":{},"readingTime":{"minutes":4.69,"words":1407},"filePathRelative":"frontendmasters.com/view-transition-list-reordering-with-a-kick-flip.md","copyright":{"author":"Chris Coyier"}}');export{x as comp,A as data};
