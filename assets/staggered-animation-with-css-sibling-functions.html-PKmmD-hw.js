import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,d as s,f as a,b as u,a as v,t as g,n as r,g as d,w as t,r as l,o as b,e as p}from"./app-BItykJLQ.js";const f={},y={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},S={class:"table-of-contents"};function x(i,n){const c=l("VPCard"),e=l("router-link"),k=l("SiteInfo"),o=l("CodePen");return b(),h("div",null,[s("h1",y,[s("a",w,[s("span",null,g(i.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),a(c,r(d({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",S,[s("ul",null,[s("li",null,[a(e,{to:"#the-layout"},{default:t(()=>[...n[0]||(n[0]=[p("The Layout",-1)])]),_:1})]),s("li",null,[a(e,{to:"#the-selectors"},{default:t(()=>[...n[1]||(n[1]=[p("The Selectors",-1)])]),_:1})]),s("li",null,[a(e,{to:"#the-declarations"},{default:t(()=>[...n[2]||(n[2]=[p("The Declarations",-1)])]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#highlight-the-chosen-card"},{default:t(()=>[...n[3]||(n[3]=[p("Highlight The Chosen Card",-1)])]),_:1})]),s("li",null,[a(e,{to:"#animate-the-unchosen-cards-to-disappear"},{default:t(()=>[...n[4]||(n[4]=[p("Animate The Unchosen Cards to Disappear",-1)])]),_:1})]),s("li",null,[a(e,{to:"#decremental-delay-time-for-cards-on-the-right"},{default:t(()=>[...n[5]||(n[5]=[p("Decremental Delay Time for Cards On The Right",-1)])]),_:1})]),s("li",null,[a(e,{to:"#incremental-delay-time-for-cards-on-the-left"},{default:t(()=>[...n[6]||(n[6]=[p("Incremental Delay Time for Cards On The Left",-1)])]),_:1})])])]),s("li",null,[a(e,{to:"#the-rulesets"},{default:t(()=>[...n[7]||(n[7]=[p("The Rulesets",-1)])]),_:1})]),s("li",null,[a(e,{to:"#the-fallback"},{default:t(()=>[...n[8]||(n[8]=[p("The Fallback",-1)])]),_:1})])])]),n[9]||(n[9]=s("hr",null,null,-1)),a(k,{name:"Staggered Animation with CSS sibling-* Functions",desc:"The new CSS sibling-index() (and -count()) functions are perfect for staggered timing affects. This goes a little step further staggering both before and after a selected element.",url:"https://frontendmasters.com/blog/staggered-animation-with-css-sibling-functions/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/7631"}),n[10]||(n[10]=u(`<p>The CSS functions <code>sibling-index()</code> and <code>sibling-count()</code> return an element‚Äôs position relative to its siblings and the total number of siblings, including itself. This is useful for styling elements based on their positions.</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- sibling-count() = 3 --&gt;</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- sibling-index() = 1 --&gt;</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- sibling-index() = 2 --&gt;</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- sibling-index() = 3 --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For instance, to create a pyramid chart, we could proportionally increase the widths of elements as they align.</p><p>The integers returned by <code>sibling-index()</code> and <code>sibling-count()</code> can be easily computed with other data types like length, angle, and time. An incremental or decremental time sequence is the foundation of any staggered animation where elements animate consecutively. For example:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.el</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation-delay</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * 0.1s<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This post covers a demo where selecting an item causes the preceding and succeeding items to disappear sequentially from the outside.</p>`,6)),a(o,{user:"rpsthecoder","slug-hash":"EaPREMe",title:"Staggered Animation with `sibling-*` CSS Functions","default-tab":["css","result"],theme:i.dark},null,8,["theme"]),n[11]||(n[11]=u(`<hr><h2 id="the-layout" tabindex="-1"><a class="header-anchor" href="#the-layout"><span>The Layout</span></a></h2><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cards-wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cards<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>movie, only yesterday<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cards<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>movie, the wind rises<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cards<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>movie, howl&#39;s moving castle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cards<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>movie, ponyo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cards<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>movie, the cat returns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.cards-wrapper</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">gap</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.cards</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> 15vw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 3/4.2<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">contain</span><span class="token punctuation">:</span> layout<span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* etc. */</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">input[type=&quot;checkbox&quot;]</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">inset</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This HTML contains a group of <code>.cards</code> inside a <code>.cards-wrapper</code>, arranged horizontally using flexbox. Each card has a checkbox covering its entire size, triggering selection on click.</p><hr><h2 id="the-selectors" tabindex="-1"><a class="header-anchor" href="#the-selectors"><span>The Selectors</span></a></h2><p>Before seeing what happens when a card is selected, let‚Äôs see the different CSS selectors we‚Äôll be using to target the different parts of the user interface.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.cards:has(:checked)</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">/* Style rules for the chosen card (the one with a checked box).</span>
<span class="line">    Highlight the chosen card. */</span>   </span>
<span class="line"></span>
<span class="line">  <span class="token selector">.cards-wrapper:has(:checked) .cards:not(&amp;)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* Style rules for the remaining cards when one is chosen.  </span>
<span class="line">      Animate the unchosen cards to disappear. */</span> </span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">&amp; ~ .cards</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* Style rules for cards to the right-side of the chosen one. </span>
<span class="line">       Set a decremental delay time for the disappearance. */</span></span>
<span class="line"></span>
<span class="line">    <span class="token selector">.cards:not(&amp;)</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token comment">/* Style rules for cards that aren&#39;t to the right of the chosen one. </span>
<span class="line">          Set an incremental delay time. */</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="the-declarations" tabindex="-1"><a class="header-anchor" href="#the-declarations"><span>The Declarations</span></a></h2><h3 id="highlight-the-chosen-card" tabindex="-1"><a class="header-anchor" href="#highlight-the-chosen-card"><span>Highlight The Chosen Card</span></a></h3><p>The selected card gets a grey dashed border:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">border</span><span class="token punctuation">:</span> 2px dashed #888<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="animate-the-unchosen-cards-to-disappear" tabindex="-1"><a class="header-anchor" href="#animate-the-unchosen-cards-to-disappear"><span>Animate The Unchosen Cards to Disappear</span></a></h3><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line"><span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> </span>
<span class="line"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> </span>
<span class="line"><span class="token property">transition</span><span class="token punctuation">:</span> 0.3s <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span> * 0.2s<span class="token punctuation">)</span> all<span class="token punctuation">;</span></span>
<span class="line"><span class="token property">transition-behavior</span><span class="token punctuation">:</span> allow-discrete<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">input</span> <span class="token punctuation">{</span> </span>
<span class="line">  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>Zero <code>opacity</code> and <code>width</code> create a fade out and horizontal shrinking of the card, including the space the card occupies.</li><li><code>transition-behavior: allow-discrete</code> allows <code>display: none</code> to apply at the <em>end</em> of the transition, which is appropriate as we do want to apply that to remove them from the accessibility tree.</li><li>The <code>transition</code> time, affecting <code>all</code> properties that change, is <code>0.3s</code>. The transition delay is a multiple of <code>0.2s</code> and the CSS variable <code>--n</code> (to be discussed)</li><li>To prevent unchosen cards from being clicked and chosen while disappearing, their checkbox <code>input</code> get <code>pointer-events: none</code></li></ol><h3 id="decremental-delay-time-for-cards-on-the-right" tabindex="-1"><a class="header-anchor" href="#decremental-delay-time-for-cards-on-the-right"><span>Decremental Delay Time for Cards On The Right</span></a></h3><p>The cards, succeeding the chosen one, need descending transition delay times. Thus, <code>--n</code> is decremented for each element (left to right) to the right of the chosen card.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> - <span class="token function">sibling-index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> + 1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Let‚Äôs say the third card is chosen. The remaining cards (4 to last) have to vanish in reverse order. The math below shows each of those cards‚Äô <code>--n</code> value and delay time (<code>--n</code> √ó 0.2s).</p><p>Our example has five cards, so <code>sibling-count()</code> is 5. Let‚Äôs see how <code>--n</code> calculated for each card after the 3rd (chosen) card:</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">4th card</span>
<span class="line">--------  </span>
<span class="line">--n = calc( sibling-count() - sibling-index() + 1 )  </span>
<span class="line">--n = calc( 5 - 4 + 1 )  </span>
<span class="line">--n = 2  </span>
<span class="line">  </span>
<span class="line">delay time = calc( var(--n) \\* 0.2s )  </span>
<span class="line">delay time = calc( 2 \\* 0.2s )  </span>
<span class="line">delay time = 0.4s  </span>
<span class="line">  </span>
<span class="line">  </span>
<span class="line">5th card  </span>
<span class="line">--------  </span>
<span class="line">--n = calc( sibling-count() - sibling-index() + 1 )  </span>
<span class="line">--n = calc( 5 - 5 + 1 )  </span>
<span class="line">--n = 1  </span>
<span class="line">  </span>
<span class="line">delay time = calc( var(--n) \\* 0.2s )  </span>
<span class="line">delay time = calc( 1 \\* 0.2s )  </span>
<span class="line">delay time = 0.2s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="incremental-delay-time-for-cards-on-the-left" tabindex="-1"><a class="header-anchor" href="#incremental-delay-time-for-cards-on-the-left"><span>Incremental Delay Time for Cards On The Left</span></a></h3><p>The <code>sibling-index()</code> value alone is enough, since the delay time of the elements (left to right) to the left of the chosen card increases outward in. First card goes first, then the second, and so forth.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">sibling-index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Here‚Äôs now <code>--n</code> calculates and thus makes the delay time for each card <em>before</em> the 3rd chosen card:</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">1st card  </span>
<span class="line">--------  </span>
<span class="line">--n = sibling-index()   </span>
<span class="line">--n = 1  </span>
<span class="line">  </span>
<span class="line">delay time = calc( var(--n) \\* 0.2s )  </span>
<span class="line">delay time = calc( 1 \\* 0.2s )  </span>
<span class="line">delay time = 0.2s  </span>
<span class="line">  </span>
<span class="line">  </span>
<span class="line">2nd card  </span>
<span class="line">--------  </span>
<span class="line">--n = sibling-index()   </span>
<span class="line">--n = 2  </span>
<span class="line">  </span>
<span class="line">delay time = calc( var(--n) \\* 0.2s )  </span>
<span class="line">delay time = calc( 2 \\* 0.2s )  </span>
<span class="line">delay time = 0.4s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="the-rulesets" tabindex="-1"><a class="header-anchor" href="#the-rulesets"><span>The Rulesets</span></a></h2><p>All combined, these are the style rules that are applied when a card is chosen:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token comment">/* chosen card */</span></span>
<span class="line"><span class="token selector">.cards:has(:checked)</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">   <span class="token property">border</span><span class="token punctuation">:</span> 2px dashed #888<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">/* cards that aren&#39;t chosen, when one has been */</span></span>
<span class="line">  <span class="token selector">.cards-wrapper:has(:checked) .cards:not(&amp;)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> </span>
<span class="line">    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> </span>
<span class="line">    <span class="token property">transition</span><span class="token punctuation">:</span> .3s <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span> * .2s<span class="token punctuation">)</span> all<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">transition-behavior</span><span class="token punctuation">:</span> allow-discrete<span class="token punctuation">;</span></span>
<span class="line">    <span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">/* cards after the chosen one */</span></span>
<span class="line">  <span class="token selector">&amp; ~ .cards</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> - <span class="token function">sibling-index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> + 1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">/* cards not after the chosen one */</span></span>
<span class="line">    <span class="token selector">.cards:not(&amp;)</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">sibling-index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">Note</p><p>Among the ‚Äúcards not after the chosen one‚Äù (see above snippet) the chosen card is also included, but since it doesn‚Äôt have the <code>transition</code> declaration, there‚Äôs no effect. If you want, you can exclude it by adding <code>:not(:has(:checked))</code> to the selector, but it‚Äôs not necessary in our example.</p></div><hr><h2 id="the-fallback" tabindex="-1"><a class="header-anchor" href="#the-fallback"><span>The Fallback</span></a></h2><p>If a browser doesn‚Äôt support <code>sibling-*</code> functions, we can calculate <code>--n</code> in JavaScript to determine the elements‚Äô positions among their siblings.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">CSS</span><span class="token punctuation">.</span><span class="token function">supports</span><span class="token punctuation">(</span><span class="token string">&#39;order&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;sibling-index()&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// Turn the NodeList to an array for easier manipulation</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token constant">CARDS</span> <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#39;.cards&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.cards-wrapper&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Index of the card with the checkbox that fired the &#39;change&#39; event.</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token constant">IDX</span> <span class="token operator">=</span> <span class="token constant">CARDS</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentElement<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// All cards after the chosen one. If there are three,</span></span>
<span class="line">    <span class="token comment">// they get --n values of 3, 2, 1</span></span>
<span class="line">    <span class="token constant">CARDS</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token constant">IDX</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">card<span class="token punctuation">,</span> idx<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> </span>
<span class="line">      <span class="token operator">=&gt;</span> card<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&#39;--n&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span> idx<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// All cards up to the chosen one. If there are three,</span></span>
<span class="line">    <span class="token comment">// they get --n values of 1, 2, 3</span></span>
<span class="line">    <span class="token constant">CARDS</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">IDX</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">card<span class="token punctuation">,</span> idx</span><span class="token punctuation">)</span> </span>
<span class="line">       <span class="token operator">=&gt;</span> card<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&#39;--n&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>idx <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span>\`</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Below is another example, where you‚Äôll be able see an accordion sort of animation by using the <code>sibling-index()</code> function to show and hide the items, even without transition delay, but with the delay the staggered effect comes through.</p>`,38)),a(o,{user:"rpsthecoder","slug-hash":"PwZBLoy",title:"Staggered Animation with CSS `sibling-*` Functions","default-tab":["css","result"],theme:i.dark},null,8,["theme"]),v(" TODO: add ARTICLE CARD "),a(c,r(d({title:"Staggered Animation with CSS sibling-* Functions",desc:"The new CSS sibling-index() (and -count()) functions are perfect for staggered timing affects. This goes a little step further staggering both before and after a selected element.",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/staggered-animation-with-css-sibling-functions.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)])}const C=m(f,[["render",x]]),A=JSON.parse('{"path":"/frontendmasters.com/staggered-animation-with-css-sibling-functions.html","title":"Staggered Animation with CSS sibling-* Functions","lang":"en-US","frontmatter":{"lang":"en-US","title":"Staggered Animation with CSS sibling-* Functions","description":"Article(s) > Staggered Animation with CSS sibling-* Functions","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","frontendmasters.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Staggered Animation with CSS sibling-* Functions\\",\\"image\\":[\\"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/7631\\"],\\"datePublished\\":\\"2025-11-07T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Preethi Sam\\",\\"url\\":\\"https://frontendmasters.com/blog/author/preethisam/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/staggered-animation-with-css-sibling-functions.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Staggered Animation with CSS sibling-* Functions"}],["meta",{"property":"og:description","content":"Article(s) > Staggered Animation with CSS sibling-* Functions"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/7631"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/7631"}],["meta",{"name":"twitter:image:alt","content":"Staggered Animation with CSS sibling-* Functions"}],["meta",{"property":"article:author","content":"Preethi Sam"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-11-07T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Staggered Animation with CSS sibling-* Functions"},{"property":"og:description","content":"Staggered Animation with CSS sibling-* Functions"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/staggered-animation-with-css-sibling-functions.html"}]],"prev":"/programming/css/articles/README.md","date":"2025-11-07T00:00:00.000Z","isOriginal":false,"author":[{"name":"Preethi Sam","url":"https://frontendmasters.com/blog/author/preethisam/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/7631"},"git":{},"readingTime":{"minutes":4.71,"words":1412},"filePathRelative":"frontendmasters.com/staggered-animation-with-css-sibling-functions.md","copyright":{"author":"Preethi Sam"}}');export{C as comp,A as data};
