import{_ as f}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as b,d as n,f as s,b as c,a as w,t as v,n as h,g as u,w as a,e as t,r,o as y}from"./app-BItykJLQ.js";const k={},S={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},x={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},C={class:"table-of-contents"},I={href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_scroll-driven_animations",target:"_blank",rel:"noopener noreferrer"},j={class:"hint-container info"},W={class:"hint-container-title"},T={class:"hint-container info"},A={class:"hint-container-title"},z={href:"https://developer.mozilla.org/en-US/docs/Web/CSS/view-timeline",target:"_blank",rel:"noopener noreferrer"},N={href:"https://developer.mozilla.org/en-US/docs/Web/CSS/@property",target:"_blank",rel:"noopener noreferrer"},H={class:"hint-container info"};function q(o,e){const d=r("VPCard"),i=r("router-link"),m=r("SiteInfo"),l=r("CodePen"),p=r("VPIcon"),g=r("RouteLink");return y(),b("div",null,[n("h1",S,[n("a",x,[n("span",null,v(o.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),s(d,h(u({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"https://chanhi2000.github.io/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",C,[n("ul",null,[n("li",null,[s(i,{to:"#why-scroll-driven-animations"},{default:a(()=>[...e[0]||(e[0]=[t("Why Scroll-Driven Animations?",-1)])]),_:1})]),n("li",null,[s(i,{to:"#how-does-it-work"},{default:a(()=>[...e[1]||(e[1]=[t("How Does it Work?",-1)])]),_:1})]),n("li",null,[s(i,{to:"#let-s-write-some-code"},{default:a(()=>[...e[2]||(e[2]=[t("Let‚Äôs Write Some Code",-1)])]),_:1})]),n("li",null,[s(i,{to:"#are-there-any-drawbacks"},{default:a(()=>[...e[3]||(e[3]=[t("Are There Any Drawbacks?",-1)])]),_:1})]),n("li",null,[s(i,{to:"#a-few-use-cases"},{default:a(()=>[...e[4]||(e[4]=[t("A Few Use Cases",-1)])]),_:1}),n("ul",null,[n("li",null,[s(i,{to:"#getting-the-screen-dimension"},{default:a(()=>[...e[5]||(e[5]=[t("Getting the Screen Dimension",-1)])]),_:1})]),n("li",null,[s(i,{to:"#calculating-the-scrollbar-width"},{default:a(()=>[...e[6]||(e[6]=[t("Calculating the Scrollbar Width",-1)])]),_:1})]),n("li",null,[s(i,{to:"#counting-stuff"},{default:a(()=>[...e[7]||(e[7]=[t("Counting Stuff",-1)])]),_:1})]),n("li",null,[s(i,{to:"#transferring-sizes"},{default:a(()=>[...e[8]||(e[8]=[t("Transferring Sizes",-1)])]),_:1})])])]),n("li",null,[s(i,{to:"#conclusion"},{default:a(()=>[...e[9]||(e[9]=[t("Conclusion",-1)])]),_:1})])])]),e[42]||(e[42]=n("hr",null,null,-1)),s(m,{name:"How to Get the Width/Height of Any Element in Only CSS",desc:"Unlike JavaScript, there is no simple built-in method in CSS to access an element's width and height. But using some (call it hacky) modern CSS techniques, we can get our hands on the number and even use it.",url:"https://frontendmasters.com/blog/how-to-get-the-width-height-of-any-element-in-only-css/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/3119"}),e[43]||(e[43]=c('<p>Getting the dimension of an element using JavaScript is a trivial task. You barely even need to do anything. If you have a reference to an element, you‚Äôve got the dimensions (i.e. <code>el.offsetWidth</code> / <code>el.offsetHeight</code>). But we aren‚Äôt so lucky in CSS. While we‚Äôre able to <em>react</em> to elements being particular sizes with <code>@container</code> queries, we don‚Äôt have access to a straight up number we could use to, for example, display on the screen.</p><p>It may sound impossible but it‚Äôs doable! There are no simple built-in functions for this, so get ready for some slightly hacky experimentation.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>At time of writing, <em>only</em> Chrome (and Edge) have the full support of the features we will be using so consider those browsers to read the article.</p></div><p>Let‚Äôs start with a demo:</p>',4)),s(l,{user:"anon","slug-hash":"MWMyYeP",title:"Get width/height of elements using CSS","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),e[44]||(e[44]=n("p",null,"This demo has a simple layout with elements that will all have different sizes. Each rectangular element displays it‚Äôs own width/height. You can resize the browser or adjust the content; the values will update automatically.",-1)),e[45]||(e[45]=n("p",null,"Don‚Äôt try to find the hidden JavaScript, it‚Äôs 100% CSS magic, powered mostly by scroll-driven animations.",-1)),e[46]||(e[46]=n("hr",null,null,-1)),e[47]||(e[47]=n("h2",{id:"why-scroll-driven-animations",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#why-scroll-driven-animations"},[n("span",null,"Why Scroll-Driven Animations?")])],-1)),n("p",null,[n("a",I,[s(p,{icon:"fa-brands fa-firefox"}),e[10]||(e[10]=t("Scroll-Driven animations",-1))]),e[11]||(e[11]=t(" is one of the most popular new CSS features in 2024. It unlocked a lot of possibilities and solved some common problems.",-1))]),e[48]||(e[48]=n("p",null,"How are these features relevant to this situation of figuring out an element‚Äôs dimensions, though?",-1)),e[49]||(e[49]=n("p",null,[t("The terms ‚Äúscroll‚Äù and ‚Äúanimation‚Äù tend to bring to mind, "),n("em",null,"uhh"),t(", animating stuff on scroll. To be fair, that is the main purpose:")],-1)),n("div",j,[n("p",W,[e[12]||(e[12]=t("MDN (",-1)),s(p,{icon:"fa-brands fa-firefox"}),e[13]||(e[13]=n("code",null,"developer.mozilla.org",-1)),e[14]||(e[14]=t(")",-1))]),e[15]||(e[15]=n("blockquote",null,[n("p",null,"It allows you to animate property values based on a progression along a scroll-based timeline instead of the default time-based document timeline. This means that you can animate an element by scrolling a scrollable element, rather than just by the passing of time.")],-1)),s(m,{name:"CSS scroll-driven animations - CSS | MDN",desc:"The CSS scroll-driven animations module provides functionality that builds on the CSS animations module and Web Animations API. It allows you to animate property values along a scroll-based timeline rather than the default time-based document timeline. This means that you can animate an element by scrolling the element, its scroll container, or its root element, rather than just by the passing of time.",url:"https://developer.mozilla.org/en-US/docs/Web/CSS/Guides/Scroll-driven_animations/",logo:"https://developer.mozilla.org/favicon.svg",preview:"https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png"})]),e[50]||(e[50]=n("p",null,[t("But we can think about it differently and achieve more than a simple animation on scroll. If you keep reading the MDN page, it explains there are two types of ‚Äúscroll-based timelines‚Äù. In our case, we will consider the ‚Äú"),n("em",null,"view progress timeline"),t("‚Äù.")],-1)),n("div",T,[n("p",A,[e[16]||(e[16]=t("MDN (",-1)),s(p,{icon:"fa-brands fa-firefox"}),e[17]||(e[17]=n("code",null,"developer.mozilla.org",-1)),e[18]||(e[18]=t(")",-1))]),e[19]||(e[19]=n("blockquote",null,[n("p",null,"You progress this timeline based on the change in visibility of an element (known as the subject) inside a scroller. The visibility of the subject inside the scroller is tracked as a percentage of progress.")],-1)),s(m,{name:"CSS scroll-driven animations - CSS | MDN",desc:"The CSS scroll-driven animations module provides functionality that builds on the CSS animations module and Web Animations API. It allows you to animate property values along a scroll-based timeline rather than the default time-based document timeline. This means that you can animate an element by scrolling the element, its scroll container, or its root element, rather than just by the passing of time.",url:"https://developer.mozilla.org/en-US/docs/Web/CSS/Guides/Scroll-driven_animations/",logo:"https://developer.mozilla.org/favicon.svg",preview:"https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png"})]),e[51]||(e[51]=c(`<p>With this type of scroll timeline, there are three relevant elements: the scroller which is the container having the scroll, the subject which is an element moving inside the container and the animation that will progress based on the position of the ‚Äúsubject‚Äù inside the ‚Äúscroller‚Äù.</p><p>The three elements are linked with each other. To identify the progress of the animation we need to know the position of the subject inside the scroller and for this, we need to know the dimension of the scroller, the dimension of the subject, and the offset of the subject (the distance between the subject and the edges of the scroller).</p><p>So our equation contains four variables:</p><ol><li>Dimension of the scroller</li><li>Dimension of the subject</li><li>Progress of the animation</li><li>Offset of the subject</li></ol><p>If <em>three</em> variables are known, we can automatically find the missing one. In our case, the missing variable will be the ‚Äúdimension of scroller‚Äù and that‚Äôs how we are going to find the width/height of any element (an element that will a be scroller).</p><hr><h2 id="how-does-it-work" tabindex="-1"><a class="header-anchor" href="#how-does-it-work"><span>How Does it Work?</span></a></h2><p>Let‚Äôs dive into the theory and get to how scroll-driven animations are actually used to do this. It won‚Äôt be long and boring, I promise! I‚Äôll be using <code>width</code> as the dimension being measured, but <code>height</code> would use the same logic just on the other axis.</p><p>Consider the following figure:</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2024/07/diagram_0.png?resize=1024%2C342&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>We have a container (the scroller) and an element inside it (the subject) placed on the left. There are two special positions within the container. The <code>0%</code> position is when the element is at the right (inside the container) and the <code>100%</code> position is when the element has exited the container from the left (outside the container).</p><p>The movement of the subject between <code>0%</code> and <code>100%</code> will define the percentage of the progression but our element will not move so the percentage will be fixed. Let‚Äôs call it <code>P</code>. We also know the width of the subject and we need to find the width of the scroller.</p><p>Remember the variables we talked about. Considering this configuration, we already know three of them: ‚Äúthe width of the subject‚Äù, ‚Äúthe offset of the subject‚Äù (fixed to the left edge), and the ‚Äúprogress of the animation‚Äù (since the subject is fixed). To make things easier, let‚Äôs consider that the width of the scroller is a multiplier of the width of the subject:</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>W</mi><mo>=</mo><mi>N</mi><mo>‚àó</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">W = N * S </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">‚àó</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></span></p><p>The goal is to find the <code>N</code> or more precisely, we need to find the relation between the <strong>P</strong> and <code>N</code>. I said the <strong>P</strong> is fixed, but in reality it‚Äôs only fixed when the scroller width is fixed which is logical. But if the width of the scroller changes, the progress will also change, that‚Äôs why we need to find the formula between the progress and the width.</p><p>Let‚Äôs start with the case where the width of the scroller is equal to twice the width of the subject, we get the following:</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2024/07/diagram_2.png?resize=482%2C313&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>The subject is in the middle between <code>0%</code> and <code>100%</code> so the progress in this case is <code>50%</code>. For <code>N = 2</code> we get <code>P = 50%</code>.</p><p>Let‚Äôs try for <code>N = 3</code>:</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2024/07/diagram_3.png?resize=482%2C313&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Now we have two extra slots in addition to the <code>0%</code> and <code>100%</code>. If we suppose that the subject can only be placed inside one of the 4 slots, we can have the following progress: <code>0%</code>, <code>33.33%</code>, <code>66.67%</code>, <code>100%</code>. But the subject is always placed at the before-the-last slot so the progress in this case is equal to <code>66.67%</code> or, seen differently, it‚Äôs equal to <code>100% - 100%/3</code> (<code>100%/3</code> is the progression step).</p><p>Are you seeing the pattern? If the width of the scroller is equal to <code>N</code> times the width of the subject we will have <code>N+1</code> slots (including <code>0%</code> and <code>100%</code>) so the step between each slot is equal to <code>100%/N</code> and the subject is located at the before-the-last slot so the progress is equal to <code>100% - 100%/N</code>.</p><p>We have our equation: <code>P = 100% - 100%/N</code> so <code>N = 100%/(100% - P)</code>.</p><p>If we convert the percentage to values between <code>0</code> and <code>1</code> we get <code>N = 1/(1 - P)</code> and the width we are looking for is equal to <code>W = N * S = S/(1 - P)</code>.</p><p>Now If we consider a width for the subject equal to <code>1px</code>, we get <code>W = 1px/(1 - P)</code> and without the unit, we have <code>W = 1/(1 - P)</code>.</p><hr><h2 id="let-s-write-some-code" tabindex="-1"><a class="header-anchor" href="#let-s-write-some-code"><span>Let‚Äôs Write Some Code</span></a></h2><p>Enough theory! Let‚Äôs transform all this into code. We start with this structure:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.container:before</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The scroller element is the container and the subject element is a pseudo-element. I am using <code>position: absolute</code> so the subject doesn‚Äôt affect the width of the container (the value we need to calculate). Like described in the previous section, it‚Äôs placed at the left of the container with <code>1px</code> of width.</p><p>Next, we define a named timeline linked to the pseudo-element (the subject)</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">timeline-scope</span><span class="token punctuation">:</span> --cx<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.container:before</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">view-timeline</span><span class="token punctuation">:</span> --cx inline</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,33)),n("p",null,[e[21]||(e[21]=t("The ",-1)),n("a",z,[s(p,{icon:"fa-brands fa-firefox"}),e[20]||(e[20]=t("MDN",-1))]),e[22]||(e[22]=t(" description of the property:",-1))]),e[52]||(e[52]=c(`<blockquote><p>The <code>view-timeline</code> CSS shorthand property is used to define a named view progress timeline, which is progressed through based on the change in visibility of an element (known as the subject) inside a scrollable element (scroller). <code>view-timeline</code> is set on the subject.</p></blockquote><p>We consider the inline (horizontal) axis. We need to also use <code>timeline-scope</code> to give the container access to the view progress. By default, a named timeline is scoped to the element where it‚Äôs defined (and its descendants) but we can change this to make it available at any level.</p><p>Why not define the scope at the <code>html</code> level, then?</p><p>Enlarging the scope to all the elements may sound like a good idea, but it‚Äôs not. We may need to use the same code for different elements so limiting the scope allows us to reuse the same code and keep the same naming.</p><p>I won‚Äôt spend too much time detailing the scope feature but don‚Äôt forget about it. If the code doesn‚Äôt work as intended, it‚Äôs probably a scoping issue.</p><p>Now let‚Äôs define the animation:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@property</span> --x</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">initial-value</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> x linear<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-timeline</span><span class="token punctuation">:</span> --cx<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation-range</span><span class="token punctuation">:</span> entry 100% exit 100%<span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> x</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">0%</span>   <span class="token punctuation">{</span> <span class="token property">--x</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">100%</span> <span class="token punctuation">{</span> <span class="token property">--x</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7)),n("p",null,[e[24]||(e[24]=t("We define a ",-1)),e[25]||(e[25]=n("code",null,"keyframes",-1)),e[26]||(e[26]=t(" that animates a variable from ",-1)),e[27]||(e[27]=n("code",null,"0",-1)),e[28]||(e[28]=t(" to ",-1)),e[29]||(e[29]=n("code",null,"1",-1)),e[30]||(e[30]=t(". We have ",-1)),n("a",N,[s(p,{icon:"fa-brands fa-firefox"}),e[23]||(e[23]=t("to register that variable",-1))]),e[31]||(e[31]=t(" with a ",-1)),e[32]||(e[32]=n("code",null,"number",-1)),e[33]||(e[33]=t(" type to be able to animate it. We run the animation on the container with a linear easing and define the timeline using ",-1)),e[34]||(e[34]=n("code",null,"animation-timeline",-1)),e[35]||(e[35]=t(".",-1))]),e[53]||(e[53]=c(`<p>At this step, we told the browser to consider the named timeline defined on the pseudo-element (the subject) as the reference for the animation progress. And that progress will be stored in the <code>--x</code> variable. At <code>50%</code>, we have <code>--x: 0.5</code>, at <code>70%</code>, we have <code>--x: 0.7</code>, and so on.</p><p>The last step is to add the formula we identified earlier:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@property</span> --w</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;integer&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">initial-value</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--w</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1/<span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>--w</code> variable will contain the width in pixel of the container as a unitless value. It‚Äôs important to notice the ‚Äúunitless‚Äù part. It gives us a lot of flexibility as we can integrate it within any formula. If you are a CSS hacker like me, you know what I mean!</p><p>What about that <code>animation-range: entry 100% exit 100%;</code>?</p><p>In addition to using a named timeline to define which element control the progress, we can also control the range of the animation. In other words, we can explicitly define where the <code>0%</code> and <code>100%</code> progress are located within the timeline.</p><p>Let‚Äôs get back to the first figure where I am showing the <code>0%</code> and <code>100%</code> progress.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2024/07/diagram_1.png?resize=1024%2C342&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>The <code>0%</code> is when the subject has <strong>completely</strong> entered the scroller from the right. We can express this using <code>animation-range-start: entry 100%</code>.</p><p>The <code>100%</code> is when the subject has <strong>completely</strong> exited the scroller from the left. We can express this using <code>animation-range-end: exit 100%</code>.</p><p>Or using the shorthand:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">animation-range</span><span class="token punctuation">:</span> entry 100% exit 100%<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If you are new to scroll-driven animations, this part is not easy to grasp, so don‚Äôt worry if you don‚Äôt fully understand it. It requires some practice to build a mental model for it. Here is a <a href="https://scroll-driven-animations.style/tools/view-timeline/ranges/" target="_blank" rel="noopener noreferrer">good online tool</a> that can help you visualize the different values.</p><p>Now, we do the same for the height and we are done. Here is the first demo again so you can inspect the full code.</p>`,14)),s(l,{user:"anon","slug-hash":"MWMyYeP",title:"Get width/height of elements using CSS","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),e[54]||(e[54]=c(`<p>Notice that I am using another pseudo-element to <em>show</em> the values. Let‚Äôs consider this as our first use case. Being able to get the width/height of any element and show them using only CSS is super cool!</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.size::after</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">counter</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span> <span class="token string">&quot;x&quot;</span> <span class="token function">counter</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">counter-reset</span><span class="token punctuation">:</span> w <span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span> h <span class="token function">var</span><span class="token punctuation">(</span>--h<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="are-there-any-drawbacks" tabindex="-1"><a class="header-anchor" href="#are-there-any-drawbacks"><span>Are There Any Drawbacks?</span></a></h2><p>Even if it seems to work fine, I still consider this as a ‚Äúhack‚Äù to be used with caution. I am pretty sure it will fail in many situations so don‚Äôt consider this as a robust solution.</p><p>I also said ‚Äúany element‚Äù in the title but in reality not all of them. It‚Äôs mandatory to be able to have a child element (the subject) so we cannot apply this trick to elements like <code>&lt;img&gt;</code> for example.</p><p>You also need to add <code>overflow: auto</code> (or <code>hidden</code>) to the container to make it the scroller for the subject. If you plan to have overflowing content then this solution will give you some trouble.</p><p>The value you will get using this method will include the padding but not the border! Pay attention to this part and compare the values you get with the ones of the Dev tools. You may need to perform another calculation to get the real dimension of the element by adding or subtracting specific amounts.</p><p>Another drawback is related to the use of <code>1px</code> as our unit. We assumed that the size is a multiplier of <code>1px</code> (which is true in most cases) but if your element is having a size like <code>185.15px</code>, this trick won‚Äôt work. We can overcome this by using a smaller width for the subject (something like <code>0.01px</code>) but I don‚Äôt think it is worth making this hack more complex.</p><hr><h2 id="a-few-use-cases" tabindex="-1"><a class="header-anchor" href="#a-few-use-cases"><span>A Few Use Cases</span></a></h2><p>The first use case we saw is to <em>show</em> the dimension of the element which is a cool feature and can be a good one for debugging purposes. Let‚Äôs dig into more use cases.</p><h3 id="getting-the-screen-dimension" tabindex="-1"><a class="header-anchor" href="#getting-the-screen-dimension"><span>Getting the Screen Dimension</span></a></h3><p>We already have the viewport units <code>vh</code> and <code>vw</code> that works fine but this method can give us the unitless pixel values. You may ask how to do this since the viewport is not a real element. The solution is to rely on <code>position: fixed</code> applied to any element on the page. A fixed element is positioned relative to the viewport so its scroller will the viewport.</p>`,14)),s(l,{user:"anon","slug-hash":"eYwZgqL",title:"Get screen dimension using only CSS","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),e[55]||(e[55]=n("p",null,"If you check the code, you will see that I am relying on the HTML pseudo-element for the subject and I don‚Äôt need to define any overflow or position on the HTML element. Plus the values are available globally since they are defined inside the HTML element!",-1)),n("p",null,[e[37]||(e[37]=t("For this particular case, I also have ",-1)),s(g,{to:"/css-tip.com/screen-dimension.html"},{default:a(()=>[...e[36]||(e[36]=[n("strong",null,"another CSS trick to get the screen dimension",-1)])]),_:1}),e[38]||(e[38]=t(" with an easier method:",-1))]),s(l,{user:"anon","slug-hash":"ExBVLBW",title:"N/A","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),e[56]||(e[56]=n("h3",{id:"calculating-the-scrollbar-width",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#calculating-the-scrollbar-width"},[n("span",null,"Calculating the Scrollbar Width")])],-1)),e[57]||(e[57]=n("p",null,"There is a slight difference between the two screen width calculating methods above. The first demo will not include the scrollbar width if the page has a lot of content but the second one will. This means that If we combine both methods we can get the width of scrollbar!",-1)),s(l,{user:"anon","slug-hash":"rNEjyNj",title:"Screen width/height (CSS-only)","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),e[58]||(e[58]=n("p",null,"Cool right? In addition to the screen dimension, you can also have the width of the scrollbar. Both values are available at root level so you can use them anywhere on the page.",-1)),n("p",null,[e[40]||(e[40]=t("If you want, you can also get the scrollbar width using a different method like I am detailing here: ",-1)),s(g,{to:"/css-tip.com/width-scrollbar.html"},{default:a(()=>[...e[39]||(e[39]=[n("strong",null,"Get the scrollbar width using only CSS",-1)])]),_:1})]),e[59]||(e[59]=n("h3",{id:"counting-stuff",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#counting-stuff"},[n("span",null,"Counting Stuff")])],-1)),e[60]||(e[60]=n("p",null,[t("All the calculations we did were based on the "),n("code",null,"1px"),t(" size of the subject. If we change this to something else we can do some interesting counting. For example, if we consider "),n("code",null,"1lh"),t(" (the height of the line box) we can count the number of lines inside a text.")],-1)),s(l,{user:"anon","slug-hash":"BagKWdm",title:"Counting the number of lines inside a text","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),e[61]||(e[61]=n("p",null,"Here is the version where you can edit the content. The number of lines will adjust based on the content you will enter.",-1)),s(l,{user:"anon","slug-hash":"RwzapLK",title:"Dynamic line counting","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),e[62]||(e[62]=n("p",null,"Note how I am playing with the scope in this example. I am making the variable available at a higher level to be able to show the count inside a different element. Not only we can count the numbers of lines but we can also show the result anywhere on the page.",-1)),e[63]||(e[63]=n("p",null,"Can you think about something else to count? Share your example in the comment section.",-1)),e[64]||(e[64]=n("h3",{id:"transferring-sizes",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#transferring-sizes"},[n("span",null,"Transferring Sizes")])],-1)),e[65]||(e[65]=n("p",null,"Being able to control the scope means that we can transfer the size of an element to another one on the page.",-1)),e[66]||(e[66]=n("p",null,"Here is an example where resizing the left element will also resize the right one!",-1)),s(l,{user:"anon","slug-hash":"OJeNzoz/ab8922c47f1f81858cbada8db185cc48",title:"N/A","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),e[67]||(e[67]=n("p",null,"Another important part of this trick is being able to get the width/height values as integer. This allows us to use them within any formula and append any unit to them.",-1)),e[68]||(e[68]=n("p",null,"Here is an example, where resizing the left element will rotate/scale the right one.",-1)),s(l,{user:"anon","slug-hash":"rNEeydE",title:"Transferring sizes (resize the left element)","default-tab":["css","result"],theme:o.dark},null,8,["theme"]),e[69]||(e[69]=n("p",null,"I have mapped the width with the rotation and the height with the scaling. Cool right? We can get the width/height of an element, have them as an integer, and transfer them to another element to do whatever we want. CSS is magic!",-1)),e[70]||(e[70]=n("hr",null,null,-1)),e[71]||(e[71]=n("h2",{id:"conclusion",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#conclusion"},[n("span",null,"Conclusion")])],-1)),e[72]||(e[72]=n("p",null,"I hope you enjoyed this funny experiment. I still insist on the fact that it‚Äôs a hacky workaround to do something that was not possible using CSS. Use it for fun, use it to experiment with more CSS-only ideas but think twice before including this into a real project. Using one line of JavaScript code to get the dimension of an element is safer. Not all CSS-only tricks are a good replacement for JavaScript.",-1)),e[73]||(e[73]=n("p",null,"This said, if you find an interesting use case or you have another CSS-only experimentation where this trick can be useful, share it in the comment section.",-1)),e[74]||(e[74]=n("p",null,"If you‚Äôre interested in more experimentation with scroll-eriven animations check the following articles:",-1)),n("div",H,[e[41]||(e[41]=n("p",{class:"hint-container-title"},"Article Series",-1)),s(d,h(u({title:"Custom Progress Element Using Anchor Positioning & Scroll-Driven Animations",desc:"A single HTML `progress` element can have quite an elaborate design with custom colors, a tooltip showing the active %, and even an entrance animation. ",link:"/frontendmasters.com/custom-progress-element-using-anchor-positioning-scroll-driven-animations.md",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16),s(d,h(u({title:"Custom Range Slider Using Anchor Positioning & Scroll-Driven Animations",desc:"We'll make some extremely stylized range sliders with simple semantic HTML and some very fresh CSS. You might be surprised how custom these things can get these days.",link:"/frontendmasters.com/custom-range-slider-using-anchor-positioning-scroll-driven-animations.md",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)]),w(" TODO: add ARTICLE CARD "),s(d,h(u({title:"How to Get the Width/Height of Any Element in Only CSS",desc:"Unlike JavaScript, there is no simple built-in method in CSS to access an element's width and height. But using some (call it hacky) modern CSS techniques, we can get our hands on the number and even use it.",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/how-to-get-the-width-height-of-any-element-in-only-css.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)])}const D=f(k,[["render",q]]),L=JSON.parse('{"path":"/frontendmasters.com/how-to-get-the-width-height-of-any-element-in-only-css.html","title":"How to Get the Width/Height of Any Element in Only CSS","lang":"en-US","frontmatter":{"lang":"en-US","title":"How to Get the Width/Height of Any Element in Only CSS","description":"Article(s) > How to Get the Width/Height of Any Element in Only CSS","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","frontendmasters.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to Get the Width/Height of Any Element in Only CSS\\",\\"image\\":[\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2024/07/diagram_0.png?resize=1024%2C342&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2024/07/diagram_2.png?resize=482%2C313&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2024/07/diagram_3.png?resize=482%2C313&ssl=1\\",\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2024/07/diagram_1.png?resize=1024%2C342&ssl=1\\"],\\"datePublished\\":\\"2024-07-25T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Temani Afif\\",\\"url\\":\\"https://frontendmasters.com/blog/author/temaniafif/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/how-to-get-the-width-height-of-any-element-in-only-css.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"How to Get the Width/Height of Any Element in Only CSS"}],["meta",{"property":"og:description","content":"Article(s) > How to Get the Width/Height of Any Element in Only CSS"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/3119"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/3119"}],["meta",{"name":"twitter:image:alt","content":"How to Get the Width/Height of Any Element in Only CSS"}],["meta",{"property":"article:author","content":"Temani Afif"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2024-07-25T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > How to Get the Width/Height of Any Element in Only CSS"},{"property":"og:description","content":"How to Get the Width/Height of Any Element in Only CSS"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/how-to-get-the-width-height-of-any-element-in-only-css.html"}]],"prev":"/programming/css/articles/README.md","date":"2024-07-25T00:00:00.000Z","isOriginal":false,"author":[{"name":"Temani Afif","url":"https://frontendmasters.com/blog/author/temaniafif/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/3119"},"git":{},"readingTime":{"minutes":12.4,"words":3720},"filePathRelative":"frontendmasters.com/how-to-get-the-width-height-of-any-element-in-only-css.md","copyright":{"author":"Temani Afif"}}');export{D as comp,L as data};
