import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as e,f as o,b as l,a as u,t as w,n as r,g as d,w as i,e as s,r as c,o as v}from"./app-BItykJLQ.js";const f={},y={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},b={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},D={class:"table-of-contents"},S={class:"hint-container note"},W={href:"https://twitter.com/akalipetis",target:"_blank",rel:"noopener noreferrer"},L={href:"http://e-food.gr/",target:"_blank",rel:"noopener noreferrer"},P={href:"https://x.com/akalipetis",target:"_blank",rel:"noopener noreferrer"},x={href:"https://blogs.msdn.microsoft.com/wsl/2016/06/08/wsl-system-calls/",target:"_blank",rel:"noopener noreferrer"},T={href:"https://palletsprojects.com/p/flask/",target:"_blank",rel:"noopener noreferrer"},A={href:"https://code.visualstudio.com/docs/remote/remote-overview",target:"_blank",rel:"noopener noreferrer"},C={href:"https://github.com/akalipetis/python-docker-example",target:"_blank",rel:"noopener noreferrer"},I={id:"dockerfile-and-docker-compose-yml",tabindex:"-1"},R={class:"header-anchor",href:"#dockerfile-and-docker-compose-yml"},V={id:"pipfile-and-pipfile-lock",tabindex:"-1"},E={class:"header-anchor",href:"#pipfile-and-pipfile-lock"},M={href:"https://docs.pipenv.org/en/latest/",target:"_blank",rel:"noopener noreferrer"},N={href:"https://docs.docker.com/docker-for-windows/wsl-tech-preview/",target:"_blank",rel:"noopener noreferrer"};function U(k,n){const p=c("VPCard"),a=c("router-link"),t=c("VPIcon"),m=c("SiteInfo");return v(),g("div",null,[e("h1",y,[e("a",b,[e("span",null,w(k.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),o(p,r(d({title:"Docker > Article(s)",desc:"Article(s)",link:"/devops/docker/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),o(p,r(d({title:"Windows > Article(s)",desc:"Article(s)",link:"/devops/win/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),o(p,r(d({title:"Flask > Article(s)",desc:"Article(s)",link:"/programming/py-flask/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),e("nav",D,[e("ul",null,[e("li",null,[o(a,{to:"#why-use-docker-desktop-wsl-2-tech-preview-over-the-stable-docker-desktop-for-windows"},{default:i(()=>[...n[0]||(n[0]=[s("Why use Docker Desktop WSL 2 Tech Preview over the ‚Äústable‚Äù Docker Desktop for Windows?",-1)])]),_:1}),e("ul",null,[e("li",null,[o(a,{to:"#how-does-docker-desktop-for-wsl-2-tech-preview-work"},{default:i(()=>[...n[1]||(n[1]=[s("How does Docker Desktop for WSL 2 Tech Preview work?",-1)])]),_:1})]),e("li",null,[o(a,{to:"#developing-applications-with-docker-desktop-for-wsl-2-tech-preview"},{default:i(()=>[...n[2]||(n[2]=[s("Developing applications with Docker Desktop for WSL 2 Tech Preview",-1)])]),_:1})]),e("li",null,[o(a,{to:"#setting-up-vs-code-remote-‚Äì-wsl"},{default:i(()=>[...n[3]||(n[3]=[s("Setting up VS Code Remote ‚Äì WSL",-1)])]),_:1})])])]),e("li",null,[o(a,{to:"#getting-and-exploring-the-code"},{default:i(()=>[...n[4]||(n[4]=[s("Getting and Exploring the Code",-1)])]),_:1}),e("ul",null,[e("li",null,[o(a,{to:"#dockerfile-and-docker-compose-yml"},{default:i(()=>[o(t,{icon:"fa-brands fa-docker"}),n[5]||(n[5]=s("Dockerfile and ",-1)),o(t,{icon:"iconfont icon-yaml"}),n[6]||(n[6]=s("docker-compose.yml",-1))]),_:1})]),e("li",null,[o(a,{to:"#pipfile-and-pipfile-lock"},{default:i(()=>[n[7]||(n[7]=s("Pipfile and ",-1)),o(t,{icon:"fas fa-file-lines"}),n[8]||(n[8]=s("Pipfile.lock",-1))]),_:1})])])]),e("li",null,[o(a,{to:"#running-the-application-and-making-changes"},{default:i(()=>[...n[9]||(n[9]=[s("Running the application and making changes",-1)])]),_:1}),e("ul",null,[e("li",null,[o(a,{to:"#under-the-hood"},{default:i(()=>[...n[10]||(n[10]=[s("Under the hood",-1)])]),_:1})]),e("li",null,[o(a,{to:"#other-tips-to-help-you-with-docker-desktop-for-wsl-2"},{default:i(()=>[...n[11]||(n[11]=[s("Other tips to help you with Docker Desktop for WSL 2",-1)])]),_:1})])])]),e("li",null,[o(a,{to:"#final-thoughts"},{default:i(()=>[...n[12]||(n[12]=[s("Final Thoughts",-1)])]),_:1})]),e("li",null,[o(a,{to:"#get-the-technical-preview-and-learn-more"},{default:i(()=>[...n[13]||(n[13]=[s("Get the Technical Preview and Learn More",-1)])]),_:1})])])]),n[72]||(n[72]=e("hr",null,null,-1)),o(m,{name:"Developing Docker-Powered Apps on Windows with WSL 2",desc:"WSL 2 is Microsoft's second take on shipping a Linux Kernel with Windows that includes a full fledged virtual machine. It was only natural that Docker would embrace this change and ship a Docker Desktop for Windows version that runs on WSL 2. In this blog, I‚Äôll show you an example of how to develop Docker-powered applications using the Docker Desktop WSL 2 Tech Preview.",url:"https://docker.com/blog/developing-docker-windows-app-wsl2",logo:"https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png",preview:"https://docker.com/app/uploads/2019/08/antonis-kalipetis.jpeg"}),e("div",S,[n[23]||(n[23]=e("p",{class:"hint-container-title"},"Note",-1)),e("p",null,[n[19]||(n[19]=s("This is a guest post from Docker Captain ",-1)),e("a",W,[n[14]||(n[14]=s("Antonis Kalipetis (",-1)),o(t,{icon:"fa-brands fa-x-twitter"}),n[15]||(n[15]=e("code",null,"akalipetis",-1)),n[16]||(n[16]=s(")",-1))]),n[20]||(n[20]=s(", a Senior Software Engineer at ",-1)),e("a",L,[o(t,{icon:"fas fa-globe"}),n[17]||(n[17]=s("efood.gr",-1))]),n[21]||(n[21]=s(" - the leading online food delivery service in Greece. He is a Python lover and developer and helps teams embrace containers and improve their development workflow. He loves automating stuff and sharing knowledge around all things containers, DevOps and developer workflows. You can follow him on Twitter ",-1)),e("a",P,[o(t,{icon:"fa-brands fa-x-twitter"}),n[18]||(n[18]=e("code",null,"@akalipetis",-1))]),n[22]||(n[22]=s(".",-1))])]),e("p",null,[n[25]||(n[25]=e("strong",null,"WSL 2",-1)),n[26]||(n[26]=s(" (or Windows Subsystem for Linux version 2) is Microsoft‚Äôs second take on shipping a Linux Kernel with Windows. The first version was awesome as it ",-1)),e("a",x,[o(t,{icon:"fa-brands fa-microsoft"}),n[24]||(n[24]=s("translated Linux system calls to the equivalent Windows NT call in real time",-1))]),n[27]||(n[27]=s(". The second version includes a ",-1)),n[28]||(n[28]=e("strong",null,"full fledged virtual machine",-1)),n[29]||(n[29]=s(".",-1))]),n[73]||(n[73]=l('<p>It was only natural that <strong>Docker would embrace this change</strong> and ship a Docker Desktop for Windows version that runs on WSL 2 (WSL 1 had issues running the Docker daemon). This is still a Technical Preview, but after using it for a couple of days, I‚Äôve completely switched my local development to take advantage of it and I‚Äôm pretty happy with it.</p><p>In this blog, I‚Äôll show you an example of how to develop Docker-powered applications using the Docker Desktop WSL 2 Tech Preview.</p><hr><h2 id="why-use-docker-desktop-wsl-2-tech-preview-over-the-stable-docker-desktop-for-windows" tabindex="-1"><a class="header-anchor" href="#why-use-docker-desktop-wsl-2-tech-preview-over-the-stable-docker-desktop-for-windows"><span>Why use Docker Desktop WSL 2 Tech Preview over the ‚Äústable‚Äù Docker Desktop for Windows?</span></a></h2><p>The main advantage of using the technical preview is that you don‚Äôt have to manage your Docker VM anymore. More specifically:</p><ul><li>The VM <strong>grows and shrinks with your needs</strong> in terms of RAM/CPU, so you don‚Äôt have to decide its size and preallocate resources. It can shrink to almost zero CPU/RAM if you don‚Äôt use it. It works so well that most of the time you forget there‚Äôs a VM involved.</li><li><strong>Filesystem performance</strong> is great, with support for <code>inotify</code> and the VM‚Äôs disk size can match the size of your machine‚Äôs disk.</li></ul><p>Apart from the above, if you love Visual Studio Code like I do, you can use the <strong>VS Code Remote WSL</strong> plugin to develop <strong>Docker-powered applications locally</strong> (more on that in a bit). You also get the always <strong>awesome Docker developer experience</strong> while using the VM.</p><h3 id="how-does-docker-desktop-for-wsl-2-tech-preview-work" tabindex="-1"><a class="header-anchor" href="#how-does-docker-desktop-for-wsl-2-tech-preview-work"><span>How does Docker Desktop for WSL 2 Tech Preview work?</span></a></h3><p>When you install it, it automatically installs Docker in a managed directory in your default WSL 2 distribution. This installation includes the <strong>Docker daemon, the Docker CLI and the Docker Compose CLI</strong>. It is kept up to date with Docker Desktop and you can either <strong>access it from within WSL, or from PowerShell by switching contexts</strong> - see, Docker developer experience in action!</p><h3 id="developing-applications-with-docker-desktop-for-wsl-2-tech-preview" tabindex="-1"><a class="header-anchor" href="#developing-applications-with-docker-desktop-for-wsl-2-tech-preview"><span>Developing applications with Docker Desktop for WSL 2 Tech Preview</span></a></h3>',10)),e("p",null,[n[31]||(n[31]=s("For this example, we‚Äôll develop a simple Python ",-1)),e("a",T,[o(t,{icon:"iconfont icon-flask"}),n[30]||(n[30]=s("Flask",-1))]),n[32]||(n[32]=s(" application, with ",-1)),o(t,{icon:"iconfont icon-redis"}),n[33]||(n[33]=e("a",{href:"https://redis.io/",target:"_blank",rel:"noopener noreferrer"},"Redis",-1)),n[34]||(n[34]=s(" as its data store. Every time you visit the page, the page counter will increase - say hello to Millennium!",-1))]),n[74]||(n[74]=e("h3",{id:"setting-up-vs-code-remote-‚Äì-wsl",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#setting-up-vs-code-remote-‚Äì-wsl"},[e("span",null,"Setting up VS Code Remote ‚Äì WSL")])],-1)),e("p",null,[e("a",A,[o(t,{icon:"iconfont icon-vscode"}),n[35]||(n[35]=s("Visual Studio Code recently announced a new set of tools for developing applications remotely",-1))]),n[36]||(n[36]=s(" - using SSH, Docker or WSL. This ",-1)),n[37]||(n[37]=e("strong",null,"splits Visual Studio Code into a ‚Äúclient-server‚Äù architecture",-1)),n[38]||(n[38]=s(", with the client (that is the UI) running on your Windows machine and the server (that is your code, Git, plugins, etc) running remotely. In this example, we‚Äôre going to use the WSL version.",-1))]),n[75]||(n[75]=e("p",null,"To start, open VS Code and select ‚ÄúRemote-WSL: New Window‚Äù. This will install the VS Code Remote server in your default WSL distribution (the one running Docker) and open a new VS Code workspace in your HOME directory.",-1)),n[76]||(n[76]=e("figure",null,[e("img",{src:"https://docker.com/app/uploads/2019/08/screenshot-1.png?fit=1110%2C656&ssl=1",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1)),n[77]||(n[77]=e("hr",null,null,-1)),n[78]||(n[78]=e("h2",{id:"getting-and-exploring-the-code",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#getting-and-exploring-the-code"},[e("span",null,"Getting and Exploring the Code")])],-1)),e("p",null,[n[42]||(n[42]=s("Clone ",-1)),e("a",C,[n[39]||(n[39]=s("this Github repository (",-1)),o(t,{icon:"iconfont icon-github"}),n[40]||(n[40]=e("code",null,"akalipetis/python-docker-example",-1)),n[41]||(n[41]=s(")",-1))]),n[43]||(n[43]=s(" by running ",-1)),n[44]||(n[44]=e("code",null,"git clone https://github.com/akalipetis/python-docker-example",-1)),n[45]||(n[45]=s(". Next, run ",-1)),n[46]||(n[46]=e("code",null,"code -r python-docker-example",-1)),n[47]||(n[47]=s(" to open this directory in VS Code and let‚Äôs go a quick tour!",-1))]),n[79]||(n[79]=l(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="Dockerfile"><span>Dockerfile</span></div><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code class="language-docker"><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> python:3.7</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Allow for PIPENV_ARGS to be supplied aS Í∏î1 Í≤∞„Äågurnent.</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ARG</span> PIPENV_ARGS</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Needed so that logs are immediately flushed to stdout</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> PYTHONUNBUFFERED=I</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># The directory for our code</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> mkdir -p /usr/src/app</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/src/app</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Install latest pip and pipenv to manage dependencies</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> pip insta11 -U pip pipenv</span></span>
<span class="line"></span>
<span class="line">‚Ä¢dev can be included fOl</span>
<span class="line"><span class="token comment"># First just copy Pipfile and Pipfile.lock for bettry caching and install dependencies</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> Pipfile Pipfile.lock /usr/src/app/</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> pipenv instalt --system --deploy <span class="token variable">\${PIPENV_ARGS}</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Copy the code in the image</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> ./ /usr/src/app</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,1)),e("h3",I,[e("a",R,[e("span",null,[o(t,{icon:"fa-brands fa-docker"}),n[48]||(n[48]=e("code",null,"Dockerfile",-1)),n[49]||(n[49]=s(" and ",-1)),o(t,{icon:"iconfont icon-yaml"}),n[50]||(n[50]=e("code",null,"docker-compose.yml",-1))])])]),n[80]||(n[80]=l(`<p>These should look familiar. The Dockerfile is used for <strong>building</strong> your application container, while docker-compose.yml is the one you could use for <strong>deploying</strong> it. docker-compose.override.yml contains all the things that are needed for <strong>local development</strong>.</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="docker-compose.yaml"><span>docker-compose.yaml</span></div><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3.7&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">services</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">web</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">buitd</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./</span>
<span class="line">      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> ./Dockerfile</span>
<span class="line">      <span class="token key atrule">args</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token key atrule">PIPENV_ARGS</span><span class="token punctuation">:</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>dev</span>
<span class="line">    <span class="token key atrule">command</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token punctuation">-</span> flask</span>
<span class="line">    <span class="token punctuation">-</span> run</span>
<span class="line">    <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>host=0.0.0.0</span>
<span class="line">    <span class="token key atrule">ports</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token punctuation">-</span> $<span class="token punctuation">{</span>PORT<span class="token punctuation">:</span><span class="token number">-5000</span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="token number">5000</span></span>
<span class="line">    <span class="token key atrule">environment</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">FLASK_DEBUG</span><span class="token punctuation">:</span> <span class="token string">&#39;1&#39;</span></span>
<span class="line">      <span class="token key atrule">FLASK APP</span><span class="token punctuation">:</span> app</span>
<span class="line">    <span class="token key atrule">volumes</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token punctuation">-</span> ./<span class="token punctuation">:</span>/usr/src/app</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,2)),e("h3",V,[e("a",E,[e("span",null,[n[51]||(n[51]=e("code",null,"Pipfile",-1)),n[52]||(n[52]=s(" and ",-1)),o(t,{icon:"fas fa-file-lines"}),n[53]||(n[53]=e("code",null,"Pipfile.lock",-1))])])]),e("p",null,[n[55]||(n[55]=s("These include the application dependencies. ",-1)),e("a",M,[o(t,{icon:"fas fa-globe"}),n[54]||(n[54]=s("Pipenv",-1))]),n[56]||(n[56]=s(" is the tool used to manage them.",-1))]),e("p",null,[n[57]||(n[57]=s("The ",-1)),o(t,{icon:"fa-brands fa-python"}),n[58]||(n[58]=e("code",null,"app.py",-1)),n[59]||(n[59]=s(" file contains the Flask application, which we‚Äôre just using in this example. Nothing special here!",-1))]),n[81]||(n[81]=l(`<hr><h2 id="running-the-application-and-making-changes" tabindex="-1"><a class="header-anchor" href="#running-the-application-and-making-changes"><span>Running the application and making changes</span></a></h2><p>In order to run the application, open a WSL terminal (this is done using the integrated terminal feature of VS Code) and run <code>docker-compose up</code>. This will start all the containers (in this case, a Redis container and the one running the application). After doing so, visit <code>http://localhost:5000</code> in your browser and voila - you‚Äôve visited your new application. That‚Äôs not development though, so let‚Äôs change and see it in action. Open the app.py in VS Code and change the following line:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="app.py"><span>app.py</span></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre class="has-diff language-python"><code><span class="line"><span class="token keyword">import</span> sec</span>
<span class="line"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask</span>
<span class="line"><span class="token keyword">from</span> redis<span class="token punctuation">.</span>utils <span class="token keyword">import</span> <span class="token keyword">from</span> urI</span>
<span class="line"></span>
<span class="line">app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span></span>
<span class="line">redis_client <span class="token operator">=</span> from_url<span class="token punctuation">(</span>sec<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&quot;REDIS_URL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">hetlo_world</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    times <span class="token operator">=</span> redis_client<span class="token punctuation">.</span>incr<span class="token punctuation">(</span><span class="token string">&quot;visits&quot;</span><span class="token punctuation">)</span></span>
<span class="line diff remove">    <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;Hello, World! You have visited </span><span class="token interpolation"><span class="token punctuation">{</span>times<span class="token punctuation">}</span></span><span class="token string"> times.&quot;</span></span> </span>
<span class="line diff add">    <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;Hello, Docker World! You have visited </span><span class="token interpolation"><span class="token punctuation">{</span>times<span class="token punctuation">}</span></span><span class="token string"> times.&quot;</span></span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div></div>`,4)),u(" ![screenshot 4](https://docker.com/app/uploads/2019/08/screenshot-4.png?fit=1110%2C557&ssl=1) "),n[82]||(n[82]=e("p",null,"Refresh the web page and observe that:",-1)),n[83]||(n[83]=e("ol",null,[e("li",null,"The message was immediately changed"),e("li",null,"The visit counter continued counting from the latest value")],-1)),n[84]||(n[84]=e("h3",{id:"under-the-hood",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#under-the-hood"},[e("span",null,"Under the hood")])],-1)),n[85]||(n[85]=e("p",null,"Let‚Äôs see what actually happened.",-1)),e("ul",null,[n[65]||(n[65]=e("li",null,[s("We changed a file in VS Code, which is "),e("strong",null,"running on Windows"),s(".")],-1)),n[66]||(n[66]=e("li",null,"Since VS Code is running on a client-server mode with the server running is WSL 2, the change was actually made to the file living inside WSL.",-1)),e("li",null,[n[60]||(n[60]=s("Since you‚Äôre using the Technical Preview of Docker Desktop for WSL 2 and ",-1)),o(t,{icon:"iconfont icon-yaml"}),n[61]||(n[61]=e("code",null,"docker-compose.override.yml",-1)),n[62]||(n[62]=s(" is using Linux workspaces to mount the code from WSL 2 directly into the running container, ",-1)),n[63]||(n[63]=e("strong",null,"the change was propagated inside the container.",-1)),n[64]||(n[64]=e("ul",null,[e("li",null,"While this is possible with the ‚Äústable‚Äù Docker Desktop for Windows, it isn‚Äôt as easy. By using Linux workspaces, we don‚Äôt need to worry about file system permissions. It‚Äôs also super fast, as it‚Äôs a local Linux filesystem mount.")],-1))]),n[67]||(n[67]=e("li",null,[s("Flask is using an auto-reloading server by default, which - using "),e("code",null,"inotify"),s(" - is reloading the server on every file change and within milliseconds from saving your file, your server was reloaded.")],-1)),n[68]||(n[68]=e("li",null,"Data is stored in Redis using a Docker volume, thus the visits counter was not affected by the restart of the server.",-1))]),n[86]||(n[86]=l('<h3 id="other-tips-to-help-you-with-docker-desktop-for-wsl-2" tabindex="-1"><a class="header-anchor" href="#other-tips-to-help-you-with-docker-desktop-for-wsl-2"><span>Other tips to help you with Docker Desktop for WSL 2</span></a></h3><p>Here are a few additional tips on developing inside containers using the Technical Preview of Docker Desktop for WSL 2:</p><ul><li>For maximum file system performance, use Docker volumes for your application‚Äôs data and Linux Workspaces for your code.</li><li>To avoid running an extra VM, switch to Windows containers for your ‚Äústable‚Äù Docker Desktop for Windows environment.</li><li>Use <code>docker context default|wsl</code> to switch contexts and develop both Windows and Linux Docker-powered applications easily.</li></ul><hr><h2 id="final-thoughts" tabindex="-1"><a class="header-anchor" href="#final-thoughts"><span>Final Thoughts</span></a></h2><p>I‚Äôve switched to Windows and WSL 2 development for the past two months and I can‚Äôt describe how happy I am with my development workflow. Using Docker Desktop for WSL 2 for the past couple of days seems really promising, and most of the current issues of using Docker in WSL 2 seem to be resolved. I can‚Äôt wait for what comes next!</p><p>The only thing currently missing in my opinion is integration with VS Code Remote Containers (instead of Remote WSL which was used for this blogpost) would allow you to run all your tooling within your Docker container.</p><p>Until VS Code Remote Containers support is ready, you can run <code>pipenv install --dev</code> to install the application dependencies on WSL 2, allowing VS Code to provide auto-complete and use all the nice tools included to help in development.</p><hr><h2 id="get-the-technical-preview-and-learn-more" tabindex="-1"><a class="header-anchor" href="#get-the-technical-preview-and-learn-more"><span>Get the Technical Preview and Learn More</span></a></h2>',10)),e("p",null,[n[70]||(n[70]=s("If you‚Äôd like to get on board, read the instructions and install the technical preview from the ",-1)),e("a",N,[o(t,{icon:"fa-brands fa-docker"}),n[69]||(n[69]=s("Docker docs",-1))]),n[71]||(n[71]=s(".",-1))]),u(" ToDO: add ARTICLE CARD "),o(p,r(d({title:"Developing Docker-Powered Apps on Windows with WSL 2",desc:"WSL 2 is Microsoft's second take on shipping a Linux Kernel with Windows that includes a full fledged virtual machine. It was only natural that Docker would embrace this change and ship a Docker Desktop for Windows version that runs on WSL 2. In this blog, I‚Äôll show you an example of how to develop Docker-powered applications using the Docker Desktop WSL 2 Tech Preview.",link:"https://chanhi2000.github.io/bookshelf/docker.com/developing-docker-windows-app-wsl2.html",logo:"https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png",background:"rgba(29,99,237,0.2)"})),null,16)])}const G=h(f,[["render",U]]),q=JSON.parse('{"path":"/docker.com/developing-docker-windows-app-wsl2.html","title":"Developing Docker-Powered Apps on Windows with WSL 2","lang":"en-US","frontmatter":{"lang":"en-US","title":"Developing Docker-Powered Apps on Windows with WSL 2","description":"Article(s) > Developing Docker-Powered Apps on Windows with WSL 2","icon":"fa-brands fa-docker","category":["DevOps","Docker","Windows","Python","Flask","Article(s)"],"tag":["blog","docker.com","devops","docker","win","windows","py","python","flask","py-flask"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Developing Docker-Powered Apps on Windows with WSL 2\\",\\"image\\":[\\"https://docker.com/app/uploads/2019/08/screenshot-1.png?fit=1110%2C656&ssl=1\\",\\"https://docker.com/app/uploads/2019/08/screenshot-4.png?fit=1110%2C557&ssl=1\\"],\\"datePublished\\":\\"2019-08-15T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Antonis Kalipetis\\",\\"url\\":\\"https://docker.com/author/antonis-kalipetis/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/docker.com/developing-docker-windows-app-wsl2.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"Developing Docker-Powered Apps on Windows with WSL 2"}],["meta",{"property":"og:description","content":"Article(s) > Developing Docker-Powered Apps on Windows with WSL 2"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://docker.com/app/uploads/2019/08/antonis-kalipetis.jpeg"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://docker.com/app/uploads/2019/08/antonis-kalipetis.jpeg"}],["meta",{"name":"twitter:image:alt","content":"Developing Docker-Powered Apps on Windows with WSL 2"}],["meta",{"property":"article:author","content":"Antonis Kalipetis"}],["meta",{"property":"article:tag","content":"py-flask"}],["meta",{"property":"article:tag","content":"flask"}],["meta",{"property":"article:tag","content":"python"}],["meta",{"property":"article:tag","content":"py"}],["meta",{"property":"article:tag","content":"windows"}],["meta",{"property":"article:tag","content":"win"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:tag","content":"docker.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2019-08-15T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Developing Docker-Powered Apps on Windows with WSL 2"},{"property":"og:description","content":"Developing Docker-Powered Apps on Windows with WSL 2"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/docker.com/developing-docker-windows-app-wsl2.html"}]],"prev":"/devops/docker/articles/README.md","date":"2019-08-15T00:00:00.000Z","isOriginal":false,"author":[{"name":"Antonis Kalipetis","url":"https://docker.com/author/antonis-kalipetis/"}],"cover":"https://docker.com/app/uploads/2019/08/antonis-kalipetis.jpeg"},"git":{},"readingTime":{"minutes":6.57,"words":1971},"filePathRelative":"docker.com/developing-docker-windows-app-wsl2.md","copyright":{"author":"Antonis Kalipetis"}}');export{G as comp,q as data};
