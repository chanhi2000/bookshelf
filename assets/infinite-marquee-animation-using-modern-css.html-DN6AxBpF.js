import{_ as f}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as s,f as e,b as i,a as v,t as b,n as d,g as m,w as l,e as a,r as c,o as w}from"./app-BVguHYKu.js";const y={},x={id:"frontmatter-title-관련",tabindex:"-1"},S={class:"header-anchor",href:"#frontmatter-title-관련"},q={class:"table-of-contents"},T={href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/marquee",target:"_blank",rel:"noopener noreferrer"},I={href:"https://verpex.com/blog/website-tips/how-to-create-a-css-only-infinite-scroll-animation",target:"_blank",rel:"noopener noreferrer"},C={href:"https://drafts.csswg.org/css-shapes-1/#shape-function",target:"_blank",rel:"noopener noreferrer"},M={href:"https://css-tip.com/element-index/",target:"_blank",rel:"noopener noreferrer"},j={href:"https://css-tip.com/element-index/",target:"_blank",rel:"noopener noreferrer"},A={class:"hint-container note"},W={href:"https://css-tip.com/min-max/",target:"_blank",rel:"noopener noreferrer"};function N(t,n){const r=c("VPCard"),u=c("router-link"),h=c("SiteInfo"),p=c("VPIcon"),o=c("CodePen"),k=c("RouteLink");return w(),g("div",null,[s("h1",x,[s("a",S,[s("span",null,b(t.$frontmatter.title)+" 관련",1)])]),e(r,d(m({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",q,[s("ul",null,[s("li",null,[e(u,{to:"#the-idea"},{default:l(()=>n[0]||(n[0]=[a("The Idea")])),_:1,__:[0]})]),s("li",null,[e(u,{to:"#the-implementation"},{default:l(()=>n[1]||(n[1]=[a("The Implementation")])),_:1,__:[1]})]),s("li",null,[e(u,{to:"#let-s-make-it-responsive"},{default:l(()=>n[2]||(n[2]=[a("Let’s Make it Responsive")])),_:1,__:[2]})]),s("li",null,[e(u,{to:"#more-examples"},{default:l(()=>n[3]||(n[3]=[a("More Examples")])),_:1,__:[3]})]),s("li",null,[e(u,{to:"#conclusion"},{default:l(()=>n[4]||(n[4]=[a("Conclusion")])),_:1,__:[4]})])])]),n[33]||(n[33]=s("hr",null,null,-1)),e(h,{name:"Infinite Marquee Animation using Modern CSS",desc:"A row of logos that animate forever perfectly and don't have any duplicated HTML or JavaScript at all is quite a trick. Thanks modern CSS! ",url:"https://frontendmasters.com/blog/infinite-marquee-animation-using-modern-css/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6673"}),s("p",null,[n[8]||(n[8]=a("A set of logos with an infinite repeating slide animation is a classic component in web development. We can find countless examples and implementations starting from the old (and now deprecated) ")),s("a",T,[e(p,{icon:"fa-brands fa-firefox"}),n[5]||(n[5]=s("code",null,"<marquee>",-1)),n[6]||(n[6]=a(" element"))]),n[9]||(n[9]=a(". I’ve written ")),s("a",I,[e(p,{icon:"fas fa-globe"}),n[7]||(n[7]=a("an article"))]),n[10]||(n[10]=a(" about it myself a few years ago."))]),n[34]||(n[34]=s("p",null,[s("em",null,"“Why another article?”"),a(" you ask. CSS keeps evolving with new and powerful features, so I always try to find room for improvement and optimization. We’ll do that now with some new CSS features.")],-1)),n[35]||(n[35]=s("div",{class:"hint-container note"},[s("p",{class:"hint-container-title"},"Note"),s("p",null,[a("At the time of writing, only Chrome-based browsers have the full support of the features we will be using, which include features like "),s("code",null,"shape()"),a(", "),s("code",null,"sibling-index()"),a(", and "),s("code",null,"sibling-count()"),a(".")])],-1)),e(o,{user:"t_afif","slug-hash":"QwjGqEJ",title:"Responsive infinite logo marquee","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[36]||(n[36]=i(`<p>In the demo above, we have an infinite marquee animation that works with <strong>any number</strong> of images. Simply add as many elements as you want in the HTML. There is no need to touch the CSS. You can easily control the number of visible images by adjusting one variable, and it’s responsive. Resize the screen and see how things adjust smoothly.</p><p>You might think the code is lengthy and full of complex calculations, but it’s less than 10 lines of CSS with no JavaScript.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--s</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span> <span class="token comment">/* size of the images */</span></span>
<span class="line">  <span class="token property">--d</span><span class="token punctuation">:</span> 8s<span class="token punctuation">;</span> <span class="token comment">/* animation duration */</span></span>
<span class="line">  <span class="token property">--n</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span> <span class="token comment">/* number of visible images */</span></span>
<span class="line">  </span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">img</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">offset</span><span class="token punctuation">:</span> <span class="token function">shape</span><span class="token punctuation">(</span>from <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span> / -2<span class="token punctuation">)</span> 50%<span class="token punctuation">,</span> hline by <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token function">max</span><span class="token punctuation">(</span>100%/<span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> x <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span> linear infinite <span class="token function">calc</span><span class="token punctuation">(</span>-1 * <span class="token function">sibling-index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span> / <span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> x</span> <span class="token punctuation">{</span> </span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span> <span class="token property">offset-distance</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Perhaps this looks complex at first glance, especially that strange <code>offset</code> property! Don’t stare too much at it; we will dissect it together, and by the end of the article, it will look quite easy.</p><hr><h2 id="the-idea" tabindex="-1"><a class="header-anchor" href="#the-idea"><span>The Idea</span></a></h2><p>The tricky part when creating a marquee is to have that cyclic animation where each element needs to “jump” to the beginning to slide again. Earlier implementations will duplicate the elements to simulate the infinite animation, but that’s not a good approach as it requires you to manipulate the HTML, and you may have accessibility/performance issues.</p><p>Some modern implementations rely on a complex translate animation to create the “jump” of the element outside the visible area (the user doesn’t see it) while having a continuous movement inside the visible area. This approach is perfect but requires some complex calculation and may depend on the number of elements you have in your HTML.</p><p>It would be perfect if we could have a native way to create a continuous animation with the “jump” and, at the same time, make it work with any number of elements. The first part is doable and we don’t need modern CSS for it. We can use <code>offset</code> combined with <code>path()</code> where the path will be a straight line.</p>`,9)),e(o,{user:"t_afif","slug-hash":"JoYEPaE",title:"Using path()","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[37]||(n[37]=s("p",null,[a("Inside path, I am using the SVG syntax to define a line, and I simply move the image along that line by animating "),s("code",null,"offset-distance"),a(" between 0% and 100%. This looks perfect at first glance since we have the animation we want but it’s not a flexible approach because "),s("code",null,"path()"),a(" accepts only hard-coded pixel values.")],-1)),s("p",null,[n[13]||(n[13]=a("To overcome the limitation of ")),n[14]||(n[14]=s("code",null,"path()",-1)),n[15]||(n[15]=a(", we are going to use ")),e(k,{to:"/frontendmasters.com/shape-a-new-powerful-drawing-syntax-in-css.html"},{default:l(()=>n[11]||(n[11]=[s("strong",null,[a("the new "),s("code",null,"shape()"),a(" function")],-1)])),_:1,__:[11]}),n[16]||(n[16]=a("! Here is a quote from ")),s("a",C,[e(p,{icon:"fas fa-globe"}),n[12]||(n[12]=a("the specification"))]),n[17]||(n[17]=a(":"))]),n[38]||(n[38]=i("<blockquote><p>The <code>shape()</code> function uses a set of commands roughly equivalent to the ones used by <code>path()</code>, but does so with more standard CSS syntax, and allows the full range of CSS functionality, such as additional units and math functions … In that sense, <code>shape()</code> is a superset of <code>path()</code>.</p></blockquote><p>Instead of drawing a line using <code>path()</code>, we are going to use <code>shape()</code> to have the ability to rely on CSS and control the line based on the number of elements.</p><p>Here is the previous demo using <code>shape()</code>:</p>",3)),e(o,{user:"t_afif","slug-hash":"jEbyEJx",title:"using shape()","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[39]||(n[39]=i(`<p>If you are unfamiliar with <code>shape()</code>, don’t worry. Our use case is pretty basic as we are going to simply draw a horizontal line using the following syntax:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">offset</span><span class="token punctuation">:</span> <span class="token function">shape</span><span class="token punctuation">(</span>from X Y<span class="token punctuation">,</span> hline by length<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The goal is to find the <code>X Y</code> values (the coordinates of the starting point) and the <code>length</code> value (the length of the line).</p><hr><h2 id="the-implementation" tabindex="-1"><a class="header-anchor" href="#the-implementation"><span>The Implementation</span></a></h2><p>Let’s start with the HTML structure, which is a set of images inside a container:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token comment">&lt;!-- as many images as you want --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We make the container flexbox to remove the default space between the image and make sure they don’t wrap even if the container is smaller (remember that <code>flex-wrap</code> is by default <code>nowrap</code>).</p>`,8)),e(o,{user:"t_afif","slug-hash":"RNWKPNK",title:"initial structure","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[40]||(n[40]=i(`<p>Now, let’s suppose we want to see only N images at a time. For this, we need to define the width of the container to be equal to <code>N x size_of_image</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--s</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span> <span class="token comment">/* size of the image */</span></span>
<span class="line">  <span class="token property">--n</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span> <span class="token comment">/* number of visible images */</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">img</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2)),e(o,{user:"t_afif","slug-hash":"qEORdbO",title:"fixing the width","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[41]||(n[41]=i(`<p>Nothing complex so far. We introduced some variables to control the size and the number of visible images. Now let’s move to the animation.</p><p>To have a continuous animation, the length of the line needs to be equal to the total number of images multiplied by the size of one image. In other words, we should have a line that can contain all the images side by side. The <code>offset</code> property is defined on the image elements, and thanks to modern CSS, we can rely on the new <code>sibling-count()</code> to get the total number of images.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">offset</span><span class="token punctuation">:</span> <span class="token function">shape</span><span class="token punctuation">(</span>from X Y<span class="token punctuation">,</span> hline by <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>What about the <code>X Y</code> values? Let’s try <code>0 0</code> and see what happens:</p>`,4)),e(o,{user:"t_afif","slug-hash":"azvpOBO",title:"adding the animation","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[42]||(n[42]=i(`<p>Hmm, not quite good. All the images are above each other, and their position is a bit off. The first issue is logical since they share the same animation. We will fix it later by introducing a delay.</p><p>The trickiest part when working with <code>offset</code> is defining the position. The property is applied on the child elements (the images in our case), but the reference is the parent container. By specifying <code>0 0</code>, we are considering the top-left corner of the parent as the starting point of the line.</p><p>What about the images? How are they placed? If you remove the animation and keep the <code>offset-distance</code> equal to 0% (the default value), you will see the following.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/GsbSeQsh.png?resize=577%2C258&amp;ssl=1" alt="An animated marquee with text that moves horizontally across a container, showcasing a modern CSS implementation for infinite scrolling images or text." tabindex="0" loading="lazy"><figcaption>An animated marquee with text that moves horizontally across a container, showcasing a modern CSS implementation for infinite scrolling images or text.</figcaption></figure><p>The center of the images is placed at the <code>0 0</code>, and starting from there, they move horizontally until the end of the line. Let’s update the <code>X Y</code> values to rectify the position of the line and bring the images inside the container. For this, the line needs to be in the middle <code>0 50%</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">offset</span><span class="token punctuation">:</span> <span class="token function">shape</span><span class="token punctuation">(</span>from 0 50%<span class="token punctuation">,</span> hline by <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,6)),e(o,{user:"t_afif","slug-hash":"YPyNXEQ",title:"fixing the position","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[43]||(n[43]=i(`<p>It’s better, and we can already see the continuous animation. It’s still not perfect because we can see the “jump” of the image on the left. We need to update the position of the line so it starts outside the container and we don’t see the “jump” of the images. The <code>X</code> value should be equal to <code>-S/2</code> instead of 0.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">offset</span><span class="token punctuation">:</span> <span class="token function">shape</span><span class="token punctuation">(</span>from <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span>/-2<span class="token punctuation">)</span> 50%<span class="token punctuation">,</span> hline by <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,2)),e(o,{user:"t_afif","slug-hash":"RNWKPQj",title:"fixing the jump","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[44]||(n[44]=i(`<p>No more visible jump, the animation is perfect!</p><p>To fix the overlap between the images, we need to consider a different delay for each image. We can use <code>nth-child()</code> to select each image individually and define the delay following the logic below:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">img:nth-child(1)</span> <span class="token punctuation">{</span><span class="token property">animation-delay</span><span class="token punctuation">:</span> -1 *  duration/total_image <span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">img:nth-child(2)</span> <span class="token punctuation">{</span><span class="token property">animation-delay</span><span class="token punctuation">:</span> -2 *  duration/total_image <span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">/* and so on */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Tedious work, right? And we need as many selectors as the number of images in the HTML code, which is not good. What we want is a generic CSS code that doesn’t depend on the HTML structure (the number of images).</p>`,4)),s("p",null,[n[20]||(n[20]=a("Similar to the ")),n[21]||(n[21]=s("code",null,"sibling-count()",-1)),n[22]||(n[22]=a("that gives us the total number of images, we also have ")),s("a",M,[e(p,{icon:"fas fa-globe"}),n[18]||(n[18]=s("code",null,"sibling-index()",-1))]),n[23]||(n[23]=a("` ")),s("a",j,[e(p,{icon:"fas fa-globe"}),n[19]||(n[19]=a("that gives us the index of each image within the container"))]),n[24]||(n[24]=a(". All we have to do is to update the animation property and include the delay using the index value that will be different for each image, hence a different delay for each image!"))]),n[45]||(n[45]=i(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">animation</span><span class="token punctuation">:</span> </span>
<span class="line">  x <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span> linear infinite </span>
<span class="line">  <span class="token function">calc</span><span class="token punctuation">(</span>-1*<span class="token function">sibling-index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>*<span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span>/<span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),e(o,{user:"t_afif","slug-hash":"PwPWqda",title:"The final animation","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[46]||(n[46]=i(`<p>Everything is perfect! The final code is as follows:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--s</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span> <span class="token comment">/* size of the image */</span></span>
<span class="line">  <span class="token property">--d</span><span class="token punctuation">:</span> 4s<span class="token punctuation">;</span> <span class="token comment">/* animation duration */</span></span>
<span class="line">  <span class="token property">--n</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span> <span class="token comment">/* number of visible images */</span></span>
<span class="line">  </span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">img</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">offset</span><span class="token punctuation">:</span> <span class="token function">shape</span><span class="token punctuation">(</span>from <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span>/-2<span class="token punctuation">)</span> 50%<span class="token punctuation">,</span> hline by <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">animation</span><span class="token punctuation">:</span> x <span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span> linear infinite <span class="token function">calc</span><span class="token punctuation">(</span>-1*<span class="token function">sibling-index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>*<span class="token function">var</span><span class="token punctuation">(</span>--d<span class="token punctuation">)</span>/<span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@keyframes</span> x</span> <span class="token punctuation">{</span> </span>
<span class="line">  <span class="token selector">to</span> <span class="token punctuation">{</span><span class="token property">offset-distance</span><span class="token punctuation">:</span> 100%<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We barely have 10 lines of CSS with no hardcoded values or magic numbers!</p><hr><h2 id="let-s-make-it-responsive" tabindex="-1"><a class="header-anchor" href="#let-s-make-it-responsive"><span>Let’s Make it Responsive</span></a></h2><p>In the previous example, we fixed the width of the container to accommodate the number of images we want to show but what about a responsive behavior where the container width is unknown? We want to show only N images at a time within a container that doesn’t have a fixed width.</p><p>The observation we can make is that if the container width is bigger than <code>NxS</code>, we will have space between images, which means that the line defined by <code>shape()</code> needs to be longer as it should contain the extra space. The goal is to find the new length of the line.</p><p>Having N images visible at a time means that we can express the width of the container as follows:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line">width = N x <span class="token punctuation">(</span>image_size + space_around_image<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We know the size of the image and N (Defined by <code>--s</code> and <code>--n</code>), so the space will depend on the container width. The bigger the container is, the more space we have. That space needs to be included in the length of the line.</p><p>Instead of:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line">hline by <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We need to use:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line">hline by <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span> + space_around_image<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We use the formula of the container width and replace <code>(var(--s) + space_around_image)</code> with <code>width / var(--n)</code> and get the following:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line">hline by <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * width / <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span> <span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Hmm, what about the width value? It’s unknown, so how do we find it?</p><p>The width is nothing but <code>100%</code>! Remember that <code>offset</code> considers the parent container as the reference for its calculation so <code>100%</code> is relative to the parent dimension. We are drawing a horizontal line thus <code>100%</code> will resolve to the container width.</p><p>The new offset value will be equal to:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token function">shape</span><span class="token punctuation">(</span>from <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span>/-2<span class="token punctuation">)</span> 50%<span class="token punctuation">,</span> hline by <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * 100% / <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>And our animation is now responsive.</p><p>Resize the container (or the screen) in the below demo and see the magic in play:</p>`,22)),e(o,{user:"t_afif","slug-hash":"zxvNvrN",title:"responsive animation","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[47]||(n[47]=i(`<p>We have the responsive part but it’s still not perfect because if the container is too small, the images will overlap each other.</p><p>We can fix this by combining the new code with the previous one. The idea is to make sure the length of the line is at least equal to the total number of images multiplied by the size of one image. Remember, it’s the length that allows all the images to be contained within the line without overlap.</p><p>So we update the following part:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * 100% / <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>With:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token function">max</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * 100% / <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The first argument of <code>max()</code> is the responsive length, and the second one is the fixed length. If the first value is smaller than the second, we will use the latter and the images will not overlap.</p><p>We can still optimize the code a little as follows:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token function">max</span><span class="token punctuation">(</span>100% / <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We can also add a small amount to the fixed length that will play the role of the minimum gap between images and prevent them from touching each other:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> * <span class="token function">max</span><span class="token punctuation">(</span>100% / <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span> + 10px<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We are done! A fully responsive marquee animation using modern CSS.</p><p>Here is again the demo I shared at the beginning of the article with all the adjustments made:</p>`,13)),e(o,{user:"t_afif","slug-hash":"QwjGqEJ",title:"Responsive infinite logo marquee","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[48]||(n[48]=s("p",null,"Do you still see the code as a complex one? I hope not!",-1)),s("div",A,[n[32]||(n[32]=s("p",{class:"hint-container-title"},"Note",-1)),s("p",null,[n[26]||(n[26]=a("The use of ")),n[27]||(n[27]=s("code",null,"min()",-1)),n[28]||(n[28]=a(" or ")),n[29]||(n[29]=s("code",null,"max()",-1)),n[30]||(n[30]=a(" is not always intuitive, but ")),s("a",W,[e(p,{icon:"fas fa-globe"}),n[25]||(n[25]=a("I have a small tutorial that can help you identify which one to use"))]),n[31]||(n[31]=a("."))])]),n[49]||(n[49]=s("hr",null,null,-1)),n[50]||(n[50]=s("h2",{id:"more-examples",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#more-examples"},[s("span",null,"More Examples")])],-1)),n[51]||(n[51]=s("p",null,"I used images to explain the technique, but we can easily extend it to any kind of content. The only requirement/limitation is to have equal-width items.",-1)),n[52]||(n[52]=s("p",null,"We can have some text animations:",-1)),e(o,{user:"t_afif","slug-hash":"vENyewr",title:"Responsive Infinite marquee animation","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[53]||(n[53]=s("p",null,"Or more complex elements with image + text:",-1)),e(o,{user:"t_afif","slug-hash":"vENyead",title:"Responsive Infinite marquee animation","default-tab":["css","result"],theme:t.$isDarkmode?"dark":"light"},null,8,["theme"]),n[54]||(n[54]=i('<p>In both examples, I am using <code>flex-shrink: 0</code> to avoid the default shrinking effect of the flex items when the container gets smaller. We didn’t have this issue with images as they won’t shrink past their defined size.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>Some of you will probably never need a marquee animation, but it was a good opportunity to explore modern features that can be useful such as the <code>shape()</code> and the <code>sibling-*()</code> functions. Not to mention the use of CSS variables, <code>calc()</code>, <code>max()</code>, etc., which I still consider part of modern CSS even if they are more common.</p>',4)),v(" TODO: add ARTICLE CARD "),e(r,d(m({title:"Infinite Marquee Animation using Modern CSS",desc:"A row of logos that animate forever perfectly and don't have any duplicated HTML or JavaScript at all is quite a trick. Thanks modern CSS! ",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/infinite-marquee-animation-using-modern-css.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)])}const D=f(y,[["render",N]]),E=JSON.parse('{"path":"/frontendmasters.com/infinite-marquee-animation-using-modern-css.html","title":"Infinite Marquee Animation using Modern CSS","lang":"en-US","frontmatter":{"lang":"en-US","title":"Infinite Marquee Animation using Modern CSS","description":"Article(s) > Infinite Marquee Animation using Modern CSS","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","frontendmasters.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Infinite Marquee Animation using Modern CSS\\",\\"image\\":[\\"https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/GsbSeQsh.png?resize=577%2C258&ssl=1\\"],\\"datePublished\\":\\"2025-08-04T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Temani Afif\\",\\"url\\":\\"https://frontendmasters.com/blog/author/temaniafif/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/infinite-marquee-animation-using-modern-css.html"}],["meta",{"property":"og:site_name","content":"📚Bookshelf"}],["meta",{"property":"og:title","content":"Infinite Marquee Animation using Modern CSS"}],["meta",{"property":"og:description","content":"Article(s) > Infinite Marquee Animation using Modern CSS"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6673"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6673"}],["meta",{"name":"twitter:image:alt","content":"Infinite Marquee Animation using Modern CSS"}],["meta",{"property":"article:author","content":"Temani Afif"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-08-04T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > Infinite Marquee Animation using Modern CSS"},{"property":"og:description","content":"Infinite Marquee Animation using Modern CSS"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/infinite-marquee-animation-using-modern-css.html"}]],"prev":"/programming/css/articles/README.md","date":"2025-08-04T00:00:00.000Z","isOriginal":false,"author":[{"name":"Temani Afif","url":"https://frontendmasters.com/blog/author/temaniafif/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6673"},"git":{},"readingTime":{"minutes":9.53,"words":2859},"filePathRelative":"frontendmasters.com/infinite-marquee-animation-using-modern-css.md","copyright":{"author":"Temani Afif"}}');export{D as comp,E as data};
