import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as b,d as s,f as t,b as c,a as f,t as h,n as l,g as p,w as r,e as a,r as o,o as w}from"./app-BItykJLQ.js";const y={},V={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},T={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},P={class:"table-of-contents"},j={href:"https://codepen.io/editor/chriscoyier/pen/019bc461-b5cb-71e3-9ab9-558ebb5ff512",target:"_blank",rel:"noopener noreferrer"},I={href:"https://docs.astro.build/en/guides/view-transitions/#maintaining-state",target:"_blank",rel:"noopener noreferrer"},S={href:"https://github.com/w3c/csswg-drafts/issues/10620",target:"_blank",rel:"noopener noreferrer"},A={href:"https://github.com/whatwg/html/issues/8538",target:"_blank",rel:"noopener noreferrer"},q={href:"https://view-transitions.chrome.dev/video/mpa/",target:"_blank",rel:"noopener noreferrer"},C={href:"https://codepen.io/editor/chriscoyier/pen/019bc461-b5cb-71e3-9ab9-558ebb5ff512",target:"_blank",rel:"noopener noreferrer"},x={href:"https://codepen.io/editor/chriscoyier/pen/019bc461-b5cb-71e3-9ab9-558ebb5ff512",target:"_blank",rel:"noopener noreferrer"},E={href:"https://view-transitions.chrome.dev/video/mpa/detail.html",target:"_blank",rel:"noopener noreferrer"},M={href:"https://developers.google.com/youtube/iframe_api_reference",target:"_blank",rel:"noopener noreferrer"};function B(m,n){const i=o("VPCard"),u=o("router-link"),g=o("SiteInfo"),e=o("VPIcon"),v=o("RouteLink"),d=o("VidStack");return w(),b("div",null,[s("h1",V,[s("a",T,[s("span",null,h(m.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),t(i,l(p({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),t(i,l(p({title:"JavaScript > Article(s)",desc:"Article(s)",link:"/programming/js/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),s("nav",P,[s("ul",null,[s("li",null,[t(u,{to:"#same-page-view-transitions-and-video"},{default:r(()=>[...n[0]||(n[0]=[a("Same-Page View Transitions and Video",-1)])]),_:1})]),s("li",null,[t(u,{to:"#multi-page-view-transitions-and-video"},{default:r(()=>[...n[1]||(n[1]=[a("Multi-Page View Transitions and Video",-1)])]),_:1})])])]),n[50]||(n[50]=s("hr",null,null,-1)),t(g,{name:"View Transitions & Playing Video",desc:"Can you keep a video playing as a view transitions happens? Yes and no. Mostly yes. ",url:"https://frontendmasters.com/blog/view-transitions-playing-video/",logo:"https://frontendmasters.com/favicon.ico",preview:"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/8304"}),n[51]||(n[51]=s("p",null,"I was runnin‚Äô my mouth the other day in a conversation about View Transitions and I believe I said that you can keep audio & video playing during a View Transition. Now that I‚Äôm sitting down to actually prove it, the answer seems to be more nuanced:",-1)),n[52]||(n[52]=s("ul",null,[s("li",null,"Same-Page View Transitions: Just Works‚Ñ¢"),s("li",null,[a("Multi-Page View Transitions: Doesn‚Äôt Work‚Ä¶ well‚Ä¶ "),s("em",null,"you can fake it though.")])],-1)),s("p",null,[n[5]||(n[5]=a("Let‚Äôs start with that first one as it‚Äôs easy and satisfying. But first ",-1)),s("a",j,[n[2]||(n[2]=a("here‚Äôs both in a demo (",-1)),t(e,{icon:"fa-brands fa-codepen"}),n[3]||(n[3]=s("code",null,"chriscoyier",-1)),n[4]||(n[4]=a(")",-1))]),n[6]||(n[6]=a(". I would embed the demo here, but I find that multi-page view transitions don‚Äôt behave well in the embed for whatever reason. So rather than you try it and be confused or disappointed, just go directly to that demo link above.",-1))]),n[53]||(n[53]=s("hr",null,null,-1)),n[54]||(n[54]=s("h2",{id:"same-page-view-transitions-and-video",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#same-page-view-transitions-and-video"},[s("span",null,"Same-Page View Transitions and Video")])],-1)),s("p",null,[n[8]||(n[8]=a("If you have a ",-1)),n[9]||(n[9]=s("code",null,"<video>",-1)),n[10]||(n[10]=a(" element on the page and you use a ",-1)),n[11]||(n[11]=s("code",null,"document.startViewTransition",-1)),n[12]||(n[12]=a(" that manipulates it somehow in the callback, it will preserve the state of the video during the transition. If the video is playing, that playing state will be preserved the entire time. Much like ",-1)),t(v,{to:"/frontendmasters.com/preserve-state-while-moving-elements-in-the-dom.html"},{default:r(()=>[...n[7]||(n[7]=[s("strong",null,[a("the newangled "),s("code",null,".moveBefore()")],-1)])]),_:1}),n[13]||(n[13]=a(".",-1))]),n[55]||(n[55]=c(`<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">doViewTransition<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    document<span class="token punctuation">.</span><span class="token function">startViewTransition</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> $video <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;video&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      $video<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">&quot;fancy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Basically nothing to it. This works just as well on an <code>&lt;audio&gt;</code> or <code>&lt;iframe&gt;</code>.</p>`,2)),t(d,{src:"https://videopress.com/b9aebf17-7fac-414d-b5c7-d7321ca72c6a"}),n[56]||(n[56]=s("hr",null,null,-1)),n[57]||(n[57]=s("h2",{id:"multi-page-view-transitions-and-video",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#multi-page-view-transitions-and-video"},[s("span",null,"Multi-Page View Transitions and Video")])],-1)),n[58]||(n[58]=s("p",null,[a("The brass tacks here are that when a page unloads and a new page loads, no state at all is maintained. Even if the exact same "),s("code",null,"<video>"),a(" is on the next page, it‚Äôs not going to remember that‚Äôs playing or where you were.")],-1)),s("p",null,[n[15]||(n[15]=a("I was just wrong when I was thinking there was some way to get this to work. There are some understandable sources for the confusion, though. If someone happened to be using an framework that provides SPA (single page app) navigations, you might see persisting video just because, well, the page never unloads. Also: Astro is a popular framework that ",-1)),s("a",I,[t(e,{icon:"iconfont icon-astro"}),n[14]||(n[14]=a("specifically implemented persistent transitions for video",-1))]),n[16]||(n[16]=a(", and does so by essentially forcing an SPA experience with a same-page view transition.",-1))]),s("p",null,[s("a",S,[n[17]||(n[17]=a("This GitHub thread (",-1)),t(e,{icon:"iconfont icon-github"}),n[18]||(n[18]=s("code",null,"w3c/csswg-drafts",-1)),n[19]||(n[19]=a(")",-1))]),n[24]||(n[24]=a(" is a feature request for multi-page view transitions to be able to keep state and gets into this a little. Bramus notes that this isn‚Äôt a view transitions specific feature, it‚Äôs ",-1)),s("a",A,[n[20]||(n[20]=a("a more general need for state-saving through page navigations (",-1)),t(e,{icon:"iconfont icon-github"}),n[21]||(n[21]=s("code",null,"whatwg/html",-1)),n[22]||(n[22]=a(")",-1))]),n[25]||(n[25]=a(". It also links to ",-1)),s("a",q,[t(e,{icon:"fa-brands fa-chrome"}),n[23]||(n[23]=a("this demo",-1))]),n[26]||(n[26]=a(", which‚Ä¶ makes it work! This is the ‚Äúfaking it‚Äù I referred to. It doesn‚Äôt prevent the ",-1)),n[27]||(n[27]=s("code",null,"<video>",-1)),n[28]||(n[28]=a(" from being unloaded and re-loaded, it just keeps the state in ",-1)),n[29]||(n[29]=s("code",null,"sessionStorage",-1)),n[30]||(n[30]=a(". So there is a little blip between pages. But hey it‚Äôs pretty close!",-1))]),n[59]||(n[59]=c(`<p>Here‚Äôs the important bits‚Ä¶</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token comment">/* Enable Multi-Page View Transitions */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@view-transition</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">navigation</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* Ensure video has a unique name shared on both pages */</span></span>
<span class="line"><span class="token selector">video</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">view-transition-name</span><span class="token punctuation">:</span> video<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token comment">&lt;!-- regular link goes between pages --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./another-page.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  Go to Another Page (Multi-Page View Transition)</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment">&lt;!-- video exists on both pages --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://assets.codepen.io/3/mov_bbb.mp4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">controls</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;pageswap&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>viewTransition<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// page is leaving... save the video state</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;pagereveal&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>viewTransition<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// page is entering, get video state and restore</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4)),s("p",null,[n[34]||(n[34]=a("Here‚Äôs a video where I‚Äôm navigating pages in ",-1)),s("a",C,[n[31]||(n[31]=a("the demo (",-1)),t(e,{icon:"fa-brands fa-codepen"}),n[32]||(n[32]=s("code",null,"chriscoyier",-1)),n[33]||(n[33]=a(")",-1))]),n[35]||(n[35]=a(" and you can see it working, and I‚Äôve recorded the system audio along with it so you can hear the ‚Äúblip‚Äù happen between pages:",-1))]),t(d,{src:"https://videopress.com/fd66a1a2-1a5d-4aac-8204-6700064dab7d"}),s("p",null,[n[40]||(n[40]=a("Again, ",-1)),s("a",x,[n[36]||(n[36]=a("this demo (",-1)),t(e,{icon:"fa-brands fa-codepen"}),n[37]||(n[37]=s("code",null,"chriscoyier",-1)),n[38]||(n[38]=a(")",-1))]),n[41]||(n[41]=a(" is adapted from ",-1)),s("a",E,[t(e,{icon:"fa-brands fa-chrome"}),n[39]||(n[39]=a("this demo from the Chrome gang",-1))]),n[42]||(n[42]=a(". I‚Äôm posting mine because I was learning about it and playing with it and hope to make this all more findable information.",-1))]),s("p",null,[n[44]||(n[44]=a("We‚Äôve only looked at ",-1)),n[45]||(n[45]=s("code",null,"<video>",-1)),n[46]||(n[46]=a(" specifically here, but if you were OK with the ‚Äúblip‚Äù thing and wanted to do this with, say, a YouTube video that embeds as an ",-1)),n[47]||(n[47]=s("code",null,"<iframe>",-1)),n[48]||(n[48]=a(", the techniques would be the same, you‚Äôd just need to dig out the video information with the ",-1)),s("a",M,[t(e,{icon:"fa-brands fa-google"}),n[43]||(n[43]=a("Iframe Player API",-1))]),n[49]||(n[49]=a(" in order to save and retrieve the playing video information. I think that makes pretty fun homework if you ask me. üòâ",-1))]),f(" TODO: add ARTICLE CARD "),t(i,l(p({title:"View Transitions & Playing Video",desc:"Can you keep a video playing as a view transitions happens? Yes and no. Mostly yes. ",link:"https://chanhi2000.github.io/bookshelf/frontendmasters.com/view-transitions-playing-video.html",logo:"https://frontendmasters.com/favicon.ico",background:"rgba(188,75,52,0.2)"})),null,16)])}const D=k(y,[["render",B]]),N=JSON.parse('{"path":"/frontendmasters.com/view-transitions-playing-video.html","title":"View Transitions & Playing Video","lang":"en-US","frontmatter":{"lang":"en-US","title":"View Transitions & Playing Video","description":"Article(s) > View Transitions & Playing Video","icon":"fa-brands fa-css3-alt","category":["CSS","JavaScript","Article(s)"],"tag":["blog","frontendmasters.com","css","js","javascript"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"View Transitions & Playing Video\\",\\"image\\":[\\"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/8304\\"],\\"datePublished\\":\\"2026-01-20T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Chris Coyier\\",\\"url\\":\\"https://frontendmasters.com/blog/author/chriscoyier/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/view-transitions-playing-video.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"View Transitions & Playing Video"}],["meta",{"property":"og:description","content":"Article(s) > View Transitions & Playing Video"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/8304"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/8304"}],["meta",{"name":"twitter:image:alt","content":"View Transitions & Playing Video"}],["meta",{"property":"article:author","content":"Chris Coyier"}],["meta",{"property":"article:tag","content":"javascript"}],["meta",{"property":"article:tag","content":"js"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"frontendmasters.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2026-01-20T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > View Transitions & Playing Video"},{"property":"og:description","content":"View Transitions & Playing Video"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/frontendmasters.com/view-transitions-playing-video.html"}]],"prev":"/programming/css/articles/README.md","date":"2026-01-20T00:00:00.000Z","isOriginal":false,"author":[{"name":"Chris Coyier","url":"https://frontendmasters.com/blog/author/chriscoyier/"}],"cover":"https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/8304"},"git":{},"readingTime":{"minutes":3.4,"words":1021},"filePathRelative":"frontendmasters.com/view-transitions-playing-video.md","copyright":{"author":"Chris Coyier"}}');export{D as comp,N as data};
