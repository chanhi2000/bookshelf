import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as s,f as t,b as d,a as y,t as k,n as l,g as i,e,w as m,r as a,o as b}from"./app-BItykJLQ.js";const v={},C={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},S={href:"https://x.com/jon_neal",target:"_blank",rel:"noopener noreferrer"},q={class:"hint-container details"},Q={href:"https://remysharp.com/2010/10/08/what-is-a-polyfill/",target:"_blank",rel:"noopener noreferrer"},P={class:"hint-container note"};function A(r,n){const o=a("VPCard"),p=a("SiteInfo"),c=a("VPIcon"),u=a("RouteLink"),f=a("CodePen");return b(),g("div",null,[s("h1",C,[s("a",w,[s("span",null,k(r.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),t(o,l(i({title:"CSS > Article(s)",desc:"Article(s)",link:"/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),t(o,l(i({title:"Node.js > Article(s)",desc:"Article(s)",link:"/programming/js-node/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n[12]||(n[12]=s("nav",{class:"table-of-contents"},[s("ul")],-1)),n[13]||(n[13]=s("hr",null,null,-1)),t(p,{name:"A first look at CQFill, a Polyfill for CSS Container Queries",desc:"Let's take a look at how we can use CQFill, the Container Queries Polyfill by Jonathan Neal.",url:"https://bram.us/2021/04/27/a-first-look-at-cqfill-a-polyfill-for-css-container-queries/",logo:"https://bramu.us/favicon.ico",preview:"https://bram.us/wordpress/wp-content/uploads/2021/03/container-queries.png"}),s("p",null,[s("a",S,[n[0]||(n[0]=e("Jonathan Neal (",-1)),t(c,{icon:"fa-brands fa-x-twitter"}),n[1]||(n[1]=e(")",-1))]),n[3]||(n[3]=e(" just announced that he has been working on a polyfill for ",-1)),t(u,{to:"/bram.us/css-container-queries-a-first-look-and-demo.html"},{default:m(()=>[...n[2]||(n[2]=[s("strong",null,"CSS Container Queries",-1)])]),_:1}),n[4]||(n[4]=e(". Let‚Äôs take a look at how it works ‚Ä¶",-1))]),n[14]||(n[14]=s("details",{class:"hint-container details"},[s("summary",null,"ü§î Container Queries?"),s("p",null,[e("Container Queries allow authors to style elements according to the size or appearance of a container. For size based container queries this is similar to a "),s("code",null,"@media"),e(" query, except that it will evaluate against the size of a parent container instead of the viewport.")]),s("figure",null,[s("img",{src:"https://bram.us/wordpress/wp-content/uploads/2021/03/container-queries.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")]),s("p",null,"For style based container queries you conditionally apply styles based on the calculated value of another CSS property.")],-1)),s("details",q,[n[7]||(n[7]=s("summary",null,"ü§î Polyfill?",-1)),s("p",null,[n[6]||(n[6]=e("A polyfill is a piece of code (or plugin) that provides the technology that you, the developer, expect the browser to provide natively ‚Äî ",-1)),s("a",Q,[t(c,{icon:"fas fa-globe"}),n[5]||(n[5]=e("What is a Polyfill?",-1))])])]),s("div",P,[n[10]||(n[10]=s("p",{class:"hint-container-title"},"Update 2021.11.26",-1)),s("p",null,[n[9]||(n[9]=e("This polyfill does not play nice with the most recent Container Queries Syntax. Instead, please ",-1)),t(u,{to:"/bram.us/a-first-look-at-container-query-polyfill-a-polyfill-for-css-container-queries.html"},{default:m(()=>[...n[8]||(n[8]=[s("strong",null,[e("use the "),s("code",null,"container-query-polyfill"),e(" polyfill")],-1)])]),_:1})]),n[11]||(n[11]=d(`<p>Unfortunately the polyfill is not a simple drop-in that will work with your existing CSS code. This is because rendering engines that don‚Äôt support Container Queries will discard those specific statements and declarations.</p><p>To work around this, the polyfill requires you to duplicate some CSS with an alternative syntax.</p><ol><li>Duplicate the value for the <code>contain</code> property into a CSS Custom Property named <code>--css-contain</code></li><li>Duplicate the <code>@container</code> rule as an <code>@media</code> rule bearing the text <code>--css-container</code></li></ol><p>Like so:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token comment">/* Create a Container Root */</span></span>
<span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">contain</span><span class="token punctuation">:</span> layout inline-size style<span class="token punctuation">;</span> <span class="token comment">/* For browsers that support Container Queries */</span></span>
<span class="line">  <span class="token property">--css-contain</span><span class="token punctuation">:</span> layout inline-size style<span class="token punctuation">;</span> <span class="token comment">/* For the polyfill to use */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token comment">/* Container Query */</span></span>
<span class="line"><span class="token atrule"><span class="token rule">@container</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 700px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token comment">/* For browsers that support Container Queries */</span></span>
<span class="line">  <span class="token selector">.contained</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* ‚Ä¶ */</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@media</span> --css-container <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 700px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token comment">/* For the polyfill to use */</span></span>
<span class="line">  <span class="token selector">.contained</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* ‚Ä¶ */</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As those duplicated rules are valid CSS, browsers won‚Äôt discard them and the polyfill can pick them up üôÇ</p><div class="hint-container important"><p class="hint-container-title">Important</p><p>It‚Äôs very import to use the naming as used in the code above. The Custom Property <strong>must</strong> be named <code>--css-contain</code> and the Media Query <strong>must</strong> contain the text <code>--css-container</code>. If named differently, the polyfill won‚Äôt be able to pick them up.</p></div>`,8))]),n[15]||(n[15]=d(`<p>Once your styles have been declared you can import the polyfill, after which it‚Äôll do its thing:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/cqfill<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If you want a local copy of CQFill, you can install it per NPM/Yarn.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> <span class="token function">install</span> cqfill</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> cqfill <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;cqfill&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>I‚Äôve noticed that loading cqfill from Skypack doesn‚Äôt seem to work unfortunately ‚Ä¶</p></div><div class="hint-container note"><p class="hint-container-title">Note</p><p>‚òùÔ∏è When using Next.js or PostCSS you don‚Äôt even need to call the polyfill, as the CQFill repo includes plugins for those.</p></div><p>Here‚Äôs my original demo, adjusted to include the polyfill:</p>`,8)),t(f,{user:"bramus","slug-hash":"RwKOVRG",title:"CSS Container Queries Demo (with Polyfill)","default-tab":["css","result"],theme:r.dark},null,8,["theme"]),n[16]||(n[16]=s("p",null,"Great work Jonathan, works like a charm!",-1)),t(p,{name:"jsxtools/cqfill",desc:"Polyfill for CSS Container Queries.",url:"https://github.com/jsxtools/cqfill/",logo:"https://github.githubassets.com/favicons/favicon-dark.svg",preview:"https://opengraph.githubassets.com/1fe84334ce33c671a58a5d926146053e6ac748f4a168df21248306e00cd1753c/jsxtools/cqfill"}),y(" TODO: add ARTICLE CARD "),t(o,l(i({title:"A first look at CQFill, a Polyfill for CSS Container Queries",desc:"Let's take a look at how we can use CQFill, the Container Queries Polyfill by Jonathan Neal.",link:"https://chanhi2000.github.io/bookshelf/bram.us/a-first-look-at-cqfill-a-polyfill-for-css-container-queries.html",logo:"https://bramu.us/favicon.ico",background:"rgba(17,17,17,0.2)"})),null,16)])}const F=h(v,[["render",A]]),N=JSON.parse('{"path":"/bram.us/a-first-look-at-cqfill-a-polyfill-for-css-container-queries.html","title":"A first look at CQFill, a Polyfill for CSS Container Queries","lang":"en-US","frontmatter":{"lang":"en-US","title":"A first look at CQFill, a Polyfill for CSS Container Queries","description":"Article(s) > A first look at CQFill, a Polyfill for CSS Container Queries","icon":"fa-brands fa-css3-alt","category":["CSS","Node.js","Article(s)"],"tag":["blog","bram.us","css","node","nodejs","node-js"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"A first look at CQFill, a Polyfill for CSS Container Queries\\",\\"image\\":[\\"https://bram.us/wordpress/wp-content/uploads/2021/03/container-queries.png\\"],\\"datePublished\\":\\"2021-04-28T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bramus!\\",\\"url\\":\\"https://bram.us/author/bramus/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/bram.us/a-first-look-at-cqfill-a-polyfill-for-css-container-queries.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"A first look at CQFill, a Polyfill for CSS Container Queries"}],["meta",{"property":"og:description","content":"Article(s) > A first look at CQFill, a Polyfill for CSS Container Queries"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://bram.us/wordpress/wp-content/uploads/2021/03/container-queries.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://bram.us/wordpress/wp-content/uploads/2021/03/container-queries.png"}],["meta",{"name":"twitter:image:alt","content":"A first look at CQFill, a Polyfill for CSS Container Queries"}],["meta",{"property":"article:author","content":"Bramus!"}],["meta",{"property":"article:tag","content":"node-js"}],["meta",{"property":"article:tag","content":"nodejs"}],["meta",{"property":"article:tag","content":"node"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"bram.us"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2021-04-28T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > A first look at CQFill, a Polyfill for CSS Container Queries"},{"property":"og:description","content":"A first look at CQFill, a Polyfill for CSS Container Queries"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/bram.us/a-first-look-at-cqfill-a-polyfill-for-css-container-queries.html"}]],"prev":"/programming/css/articles/README.md","date":"2021-04-28T00:00:00.000Z","isOriginal":false,"author":[{"name":"Bramus!","url":"https://bram.us/author/bramus/"}],"cover":"https://bram.us/wordpress/wp-content/uploads/2021/03/container-queries.png"},"git":{},"readingTime":{"minutes":2.75,"words":825},"filePathRelative":"bram.us/a-first-look-at-cqfill-a-polyfill-for-css-container-queries.md","copyright":{"author":"Bramus!"}}');export{F as comp,N as data};
