import{_ as b}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,d as n,f as e,b as r,a as g,t as y,n as v,g as k,w as t,e as a,r as c,o as w}from"./app-BItykJLQ.js";const A={},x={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},S={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},I={class:"table-of-contents"},P={href:"https://developer.android.com/training/data-storage/shared",target:"_blank",rel:"noopener noreferrer"},F={class:"hint-container info"},M={href:"https://developer.android.com/training/data-storage/shared/media",target:"_blank",rel:"noopener noreferrer"},q={id:"_1-specify-thefileproviderinandroidmanifest-xml",tabindex:"-1"},E={class:"header-anchor",href:"#_1-specify-thefileproviderinandroidmanifest-xml"},T={href:"https://developer.android.com/reference/androidx/core/content/FileProvider",target:"_blank",rel:"noopener noreferrer"},R={id:"_2-specify-sharable-directoriesfilepaths-xmlinres-xml",tabindex:"-1"},C={class:"header-anchor",href:"#_2-specify-sharable-directoriesfilepaths-xmlinres-xml"},j={href:"https://developer.android.com/reference/androidx/core/content/FileProvider",target:"_blank",rel:"noopener noreferrer"},U={href:"https://developer.android.com/reference/android/provider/MediaStore.Audio",target:"_blank",rel:"noopener noreferrer"},D={href:"https://developer.android.com/reference/android/provider/MediaStore.Video",target:"_blank",rel:"noopener noreferrer"},N={href:"https://developer.android.com/reference/android/provider/MediaStore.Images",target:"_blank",rel:"noopener noreferrer"},L={href:"https://developer.android.com/reference/android/provider/MediaStore.Images",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://developer.android.com/reference/android/provider/MediaStore.Files",target:"_blank",rel:"noopener noreferrer"},W={href:"https://developer.android.com/reference/android/provider/MediaStore.Images",target:"_blank",rel:"noopener noreferrer"},V={href:"https://developer.android.com/reference/android/provider/MediaStore.Video",target:"_blank",rel:"noopener noreferrer"},O={href:"https://developer.android.com/reference/android/provider/MediaStore.Audio",target:"_blank",rel:"noopener noreferrer"},B={href:"https://developer.android.com/reference/android/provider/MediaStore.Downloads",target:"_blank",rel:"noopener noreferrer"},z={class:"hint-container details"},Y={href:"https://developer.android.com/training/data-storage#scoped-storage",target:"_blank",rel:"noopener noreferrer"},G={href:"https://developer.android.com/training/data-storage/use-cases#handle-media-files",target:"_blank",rel:"noopener noreferrer"},X={href:"https://developer.android.com/training/data-storage/use-cases#handle-non-media-files",target:"_blank",rel:"noopener noreferrer"},Z={class:"hint-container info"},H={href:"https://proandroiddev.com/android-comparing-fileprovider-vs-mediastore-top-interview-questions-b2d2cf570e8c",target:"_blank",rel:"noopener noreferrer"};function J(f,s){const m=c("VPCard"),p=c("router-link"),u=c("SiteInfo"),o=c("VPIcon"),d=c("Tabs");return w(),h("div",null,[n("h1",x,[n("a",S,[n("span",null,y(f.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),e(m,v(k({title:"Android > Article(s)",desc:"Article(s)",link:"/programming/java-android/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),n("nav",I,[n("ul",null,[n("li",null,[e(p,{to:"#üì±-access-app-specific-files"},{default:t(()=>[...s[0]||(s[0]=[a("üì± Access app-specific files",-1)])]),_:1}),n("ul",null,[n("li",null,[e(p,{to:"#scoped-storage-why-it-matters-in-android-10-üöÄ"},{default:t(()=>[...s[1]||(s[1]=[a("Scoped Storage & Why It Matters in Android 10+ üöÄ",-1)])]),_:1})]),n("li",null,[e(p,{to:"#‚úÖ-what-scoped-storage-changes"},{default:t(()=>[...s[2]||(s[2]=[a("‚úÖ What Scoped Storage Changes",-1)])]),_:1})])])]),n("li",null,[e(p,{to:"#what-is-androidfileprovider"},{default:t(()=>[...s[3]||(s[3]=[a("What is AndroidFileProvider?",-1)])]),_:1}),n("ul",null,[n("li",null,[e(p,{to:"#üìå-basic-implementation-offileprovider"},{default:t(()=>[...s[4]||(s[4]=[a("üìå Basic Implementation ofFileProvider",-1)])]),_:1})])])]),n("li",null,[e(p,{to:"#üÜöfileproviderin-a-multi-module-android-project"},{default:t(()=>[...s[5]||(s[5]=[a("üÜöFileProviderin a Multi-Module Android Project?",-1)])]),_:1})]),n("li",null,[e(p,{to:"#üì∏-what-is-androidmedia-store"},{default:t(()=>[...s[6]||(s[6]=[a("üì∏ What is AndroidMedia Store?",-1)])]),_:1}),n("ul",null,[n("li",null,[e(p,{to:"#_1-query-media-files-images"},{default:t(()=>[...s[7]||(s[7]=[a("1. Query Media Files (Images)",-1)])]),_:1})]),n("li",null,[e(p,{to:"#_2-insert-a-new-image"},{default:t(()=>[...s[8]||(s[8]=[a("2. Insert a New Image",-1)])]),_:1})]),n("li",null,[e(p,{to:"#_3-delete-a-media-file"},{default:t(()=>[...s[9]||(s[9]=[a("3. Delete a Media File",-1)])]),_:1})]),n("li",null,[e(p,{to:"#_4-update-media-file-metadata"},{default:t(()=>[...s[10]||(s[10]=[a("4. Update Media File Metadata",-1)])]),_:1})])])]),n("li",null,[e(p,{to:"#üö®common-error-solution"},{default:t(()=>[...s[11]||(s[11]=[a("üö®Common Error & Solution",-1)])]),_:1}),n("ul",null,[n("li",null,[e(p,{to:"#_1-securityexception-permission-denied"},{default:t(()=>[...s[12]||(s[12]=[a("1. SecurityException: Permission Denied",-1)])]),_:1})]),n("li",null,[e(p,{to:"#_2-file-not-found-exception"},{default:t(()=>[...s[13]||(s[13]=[a("2. File Not Found Exception",-1)])]),_:1})]),n("li",null,[e(p,{to:"#_3-image-not-appearing-in-gallery"},{default:t(()=>[...s[14]||(s[14]=[a("3. Image Not Appearing in Gallery",-1)])]),_:1})]),n("li",null,[e(p,{to:"#_4-fileuriexposedexception-android-7"},{default:t(()=>[...s[15]||(s[15]=[a("4. FileUriExposedException (Android 7+)",-1)])]),_:1})]),n("li",null,[e(p,{to:"#_5-android-authorities-not-matching"},{default:t(()=>[...s[16]||(s[16]=[a("5. android:authorities Not Matching",-1)])]),_:1})]),n("li",null,[e(p,{to:"#_6-permission-denied-when-opening-a-shared-file"},{default:t(()=>[...s[17]||(s[17]=[a("6. Permission Denied When Opening a Shared File",-1)])]),_:1})]),n("li",null,[e(p,{to:"#_7-failed-to-find-configured-root-that-contains"},{default:t(()=>[...s[18]||(s[18]=[a("7. Failed to find configured root that contains ‚Ä¶",-1)])]),_:1})])])]),n("li",null,[e(p,{to:"#üìå-questions-answers"},{default:t(()=>[...s[19]||(s[19]=[a("üìå Questions & Answers",-1)])]),_:1})]),n("li",null,[e(p,{to:"#üéØ-conclusion"},{default:t(()=>[...s[20]||(s[20]=[a("üéØ Conclusion",-1)])]),_:1}),n("ul",null,[n("li",null,[e(p,{to:"#üîπ-mediastore-scoped-storage-api"},{default:t(()=>[...s[21]||(s[21]=[a("üîπ MediaStore (Scoped Storage API)",-1)])]),_:1})]),n("li",null,[e(p,{to:"#üîπfileprovider-for-secure-file-sharing"},{default:t(()=>[...s[22]||(s[22]=[a("üîπFileProvider (For Secure File Sharing)",-1)])]),_:1})])])])])]),s[221]||(s[221]=n("hr",null,null,-1)),e(u,{name:"üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions",desc:"In the world of modern android development, Jetpack Compose has revolutionized UI building, making it more intuitive and efficient. But what if you need a simple function to download, save, and share images within your app? Whether you are building a social media app, a gallery viewer, or just need to hand images dynamically, this guide will walk you through the comparison between FileProvider and MediaStore as well as suggest some of interview questions. Now let‚Äôs go üî•",url:"https://droidcon.com/2025/02/12/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions",logo:"https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png",preview:"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg"}),s[222]||(s[222]=r('<figure><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>In the world of modern android development,<strong>Jetpack Compose</strong> has revolutionized UI building, making it more intuitive and efficient. But what if you need a simple function to download, save, and share images within your app? Whether you are building a social media app, a gallery viewer, or just n2222eed to hand images dynamically,<strong>this guide will walk you through the</strong> comparison between<code>FileProvider</code>and<code>MediaStore</code>as well as suggest some of interview questions. Now let‚Äôs go üî•</p><ul><li>üìÇ What is Android<code>FileProvider</code>?</li><li>üîÑ<code>FileProvider</code>in a Multi-Module Android Project?</li><li>üì∏ What is Android<code>Media Store</code>?</li><li>üö®Common Error &amp; Solution</li><li>üìå Questions &amp; Answers</li></ul><hr><h2 id="üì±-access-app-specific-files" tabindex="-1"><a class="header-anchor" href="#üì±-access-app-specific-files"><span>üì± Access app-specific files</span></a></h2><p>In many cases, your app creates files that other apps don‚Äôt need to access, or shouldn‚Äôt access. The system provides the following locations for storing such<em>app-specific</em>files:</p>',6)),n("ul",null,[s[26]||(s[26]=n("li",null,"**Internal storage directories:**These directories include both a dedicated location for storing persistent files, and another location for storing cache data. The system prevents other apps from accessing these locations, and on Android 10 (API level 29) and higher, these locations are encrypted. These characteristics make these locations a good place to store sensitive data that only your app itself can access.",-1)),n("li",null,[s[24]||(s[24]=a("**External storage directories:**These directories include both a dedicated location for storing persistent files, and another location for storing cache data. Although it‚Äôs possible for another app to access these directories if that app has the proper permissions, the files stored in these directories are meant for use only by your app. If you specifically intend to create files that other apps should be able to access, your app should store these files in the",-1)),n("a",P,[e(o,{icon:"fa-brands fa-android"}),s[23]||(s[23]=a("shared storage",-1))]),s[25]||(s[25]=a("part of external storage instead.",-1))])]),n("div",F,[s[30]||(s[30]=n("p",{class:"hint-container-title"},"Info",-1)),n("blockquote",null,[n("p",null,[s[28]||(s[28]=a("When the user uninstalls your app, the files saved in app-specific storage are removed. Because of this behavior, you shouldn‚Äôt use this storage to save anything that the user expects to persist independently of your app. For example, if your app allows users to capture photos, the user would expect that they can access those photos even after they uninstall your app. So you should instead use shared storage to save those types of files to the appropriate",-1)),n("a",M,[e(o,{icon:"fa-brands fa-android"}),s[27]||(s[27]=a("media collection",-1))]),s[29]||(s[29]=a(".",-1))])])]),s[223]||(s[223]=r('<h3 id="scoped-storage-why-it-matters-in-android-10-üöÄ" tabindex="-1"><a class="header-anchor" href="#scoped-storage-why-it-matters-in-android-10-üöÄ"><span>Scoped Storage &amp; Why It Matters in Android 10+ üöÄ</span></a></h3><p>In<strong>Android 10 (API 29)<strong>and above, Google introduced</strong>Scoped Storage</strong>to improve app security and user privacy. This change<strong>restricts</strong>how apps can access files on external storage. and<strong>MediaStore</strong>is the recommended way to interact with media files.</p><p>Before<strong>Scoped Storage</strong>, apps could freely read/write to<code>Environment.getExternalStorageDirectory()</code>, but this<strong>posed security risks</strong>since apps could access files from other apps.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>If your app requests a storage-related permission at runtime, the user-facing dialog indicates that your app is requesting broad access to external storage, even when scoped storage is enabled.</p></div><h3 id="‚úÖ-what-scoped-storage-changes" tabindex="-1"><a class="header-anchor" href="#‚úÖ-what-scoped-storage-changes"><span>‚úÖ What Scoped Storage Changes</span></a></h3>',5)),e(d,{data:[{id:"Limited File Access"},{id:"FileProvider is Required for Sharing"},{id:"Temporary Permissions for File Access"},{id:"Media Store APIs for Public Files"}]},{title0:t(({value:i,isActive:l})=>[...s[31]||(s[31]=[a("Limited File Access",-1)])]),title1:t(({value:i,isActive:l})=>[...s[32]||(s[32]=[a("FileProvider is Required for Sharing",-1)])]),title2:t(({value:i,isActive:l})=>[...s[33]||(s[33]=[a("Temporary Permissions for File Access",-1)])]),title3:t(({value:i,isActive:l})=>[...s[34]||(s[34]=[a("Media Store APIs for Public Files",-1)])]),tab0:t(({value:i,isActive:l})=>[n("ul",null,[n("li",null,[s[35]||(s[35]=a("Apps can no longer",-1)),s[36]||(s[36]=n("strong",null,"freely access",-1)),s[37]||(s[37]=a("all files in external storage (",-1)),e(o,{icon:"fas fa-folder-open"}),s[38]||(s[38]=n("code",null,"/sdcard/",-1)),s[39]||(s[39]=a(").",-1))]),n("li",null,[s[42]||(s[42]=a("Instead, apps can only access",-1)),s[43]||(s[43]=n("strong",null,"their own app-specific directories",-1)),s[44]||(s[44]=a("inside: ",-1)),n("ul",null,[n("li",null,[e(o,{icon:"fas fa-folder-open"}),s[40]||(s[40]=n("code",null,"Android/data/com.example.app/",-1))]),n("li",null,[e(o,{icon:"fas fa-folder-open"}),s[41]||(s[41]=n("code",null,"Android/media/com.example.app/",-1))])])])])]),tab1:t(({value:i,isActive:l})=>[...s[45]||(s[45]=[n("ul",null,[n("li",null,[a("Direct"),n("code",null,"file://"),a(" URIs are"),n("strong",null,"blocked"),a("(causes"),n("code",null,"FileUriExposedException"),a(").")]),n("li",null,[a("Apps must"),n("strong",null,"use"),a(),n("code",null,"FileProvider.getUriForFile()"),a("to share files.")])],-1)])]),tab2:t(({value:i,isActive:l})=>[...s[46]||(s[46]=[n("ul",null,[n("li",null,"If an app wants to share a file (e.g., an image) with another app (WhatsApp, Gmail, etc.), it must use:")],-1),n("div",{class:"language-kotlin line-numbers-mode","data-highlighter":"prismjs","data-ext":"kt"},[n("pre",null,[n("code",{class:"language-kotlin"},[n("span",{class:"line"},[a("intent"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addFlags"),n("span",{class:"token punctuation"},"("),a("Intent"),n("span",{class:"token punctuation"},"."),a("FLAG_GRANT_READ_URI_PERMISSION"),n("span",{class:"token punctuation"},")")]),a(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"})])],-1),n("ul",null,[n("li",null,"This grants temporary permission for the receiving app to read the file.")],-1)])]),tab3:t(({value:i,isActive:l})=>[...s[47]||(s[47]=[n("ul",null,[n("li",null,[a("Apps should use"),n("code",null,"MediaStore"),a(),n("strong",null,"APIs"),a("to read/write"),n("strong",null,"public"),a("files (e.g., Photos, Downloads).")])],-1)])]),_:1}),s[224]||(s[224]=r('<table><thead><tr><th style="text-align:right;">Feature</th><th>Android 10+ (Scoped Storage)</th><th>Android 9- (FileProvider)</th></tr></thead><tbody><tr><td style="text-align:right;">Where is image saved?</td><td>Pictures/ using MediaStore</td><td>Pictures/MyApp/ manually</td></tr><tr><td style="text-align:right;">Requires <code>WRITE_EXTERNAL_STORAGE</code>?</td><td>‚ùå No</td><td>‚úÖ Yes (Android 9-)</td></tr><tr><td style="text-align:right;">How to share?</td><td>Direct Uri from MediaStore</td><td>FileProvider URI</td></tr><tr><td style="text-align:right;">Compatible with all apps?</td><td>‚úÖ Yes (Gallery, WhatsApp, etc.)</td><td>‚úÖ Yes (With FileProvider)</td></tr></tbody></table>',1)),g(" @import https://gist.github.com/nphausg/13bd2aff03585c4c9d8dfb7f9bf65fb0/raw/18a24c9a90263913f8ae02ff6c83e918996e83bf/scopedStorageVsLegacyStorage.md "),s[225]||(s[225]=r('<hr><h2 id="what-is-androidfileprovider" tabindex="-1"><a class="header-anchor" href="#what-is-androidfileprovider"><span>What is Android<code>FileProvider</code>?</span></a></h2><p><code>FileProvider</code>is a special subclass of<code>ContentProvider</code>in Android that allows you to securely share files between different applications without exposing the internal storage file paths. It provides a way to generate<code>content://</code>URIs instead of<code>file://</code> URIs, which prevents issues with the<strong>Scoped Storage</strong>and<strong>File URI Exposure Exception</strong>on modern Android versions.</p><ul><li>‚úÖ Securely share files between apps.</li><li>‚úÖ Prevent<code>FileUriExposedException</code>on Android 7.0+.</li><li>‚úÖ Works with<strong>camera intents, sharing files via email, social media, ‚Ä¶</strong></li><li>‚úÖ Supports multiple modules in a project.</li></ul><h3 id="üìå-basic-implementation-offileprovider" tabindex="-1"><a class="header-anchor" href="#üìå-basic-implementation-offileprovider"><span>üìå Basic Implementation of<code>FileProvider</code></span></a></h3>',5)),n("h4",q,[n("a",E,[n("span",null,[s[48]||(s[48]=a("1. Specify the",-1)),s[49]||(s[49]=n("code",null,"FileProvider",-1)),s[50]||(s[50]=a("in",-1)),e(o,{icon:"fa-brands fa-android"}),s[51]||(s[51]=n("code",null,"AndroidManifest.xml",-1))])])]),n("p",null,[s[53]||(s[53]=a("Defining a",-1)),n("a",T,[e(o,{icon:"fa-brands fa-android"}),s[52]||(s[52]=n("code",null,"FileProvider",-1))]),s[54]||(s[54]=a("for your app requires an entry in your manifest. This entry specifies the authority to use in generating content URIs, as well as the name of an XML file that specifies the directories your app can share.",-1))]),s[226]||(s[226]=r(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="AndroidManifest.xml"><span>AndroidManifest.xml</span></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>provider</span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>androidx.core.content.FileProvider<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>authorities</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${applicationId}.provider<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>exported</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>grantUriPermissions</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.support.FILE_PROVIDER_PATHS<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@xml/filepaths<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>provider</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,1)),n("h4",R,[n("a",C,[n("span",null,[s[55]||(s[55]=a("2. Specify sharable directories",-1)),e(o,{icon:"iconfont icon-code"}),s[56]||(s[56]=n("code",null,"filepaths.xml",-1)),s[57]||(s[57]=a("in",-1)),e(o,{icon:"fas fa-folder-open"}),s[58]||(s[58]=n("code",null,"res/xml/",-1))])])]),n("p",null,[s[59]||(s[59]=a("Once you have added the",-1)),s[60]||(s[60]=n("code",null,"FileProvider",-1)),s[61]||(s[61]=a("to your app manifest, you need to specify the directories that contain the files you want to share. To specify the directories, start by creating the file",-1)),e(o,{icon:"iconfont icon-code"}),s[62]||(s[62]=n("code",null,"filepaths.xml",-1)),s[63]||(s[63]=a("in the",-1)),e(o,{icon:"fas fa-folder-open"}),s[64]||(s[64]=n("code",null,"res/xml/",-1)),s[65]||(s[65]=a("subdirectory of your project. In this file, specify the directories by adding an XML element for each directory. The following snippet shows you an example of the contents of",-1)),e(o,{icon:"fas fa-folder-open"}),s[66]||(s[66]=n("code",null,"res/xml/",-1)),e(o,{icon:"iconfont icon-code"}),s[67]||(s[67]=n("code",null,"filepaths.xml",-1)),s[68]||(s[68]=a(". The snippet also demonstrates how to share a subdirectory of the",-1)),e(o,{icon:"fas fa-folder-open"}),s[69]||(s[69]=n("code",null,"files/",-1)),s[70]||(s[70]=a("directory in your internal storage area:",-1))]),s[227]||(s[227]=r(`<div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"><span class="token comment">&lt;!-- Allow access to app-specific external storage --&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paths</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token comment">&lt;!-- üìÇ/storage/emulated/0/Android/data/{package_name}/**/images/--&gt;</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>external-files-path</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images<span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>files-path</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myimages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paths</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this example:</p>`,2)),n("ul",null,[s[89]||(s[89]=n("li",null,[n("code",null,"external-files-path"),a(": Refers to the app‚Äôs external storage")],-1)),s[90]||(s[90]=n("li",null,[n("code",null,"external-cache-path"),a(": Refers to the app‚Äôs external cache directory")],-1)),n("li",null,[s[72]||(s[72]=n("code",null,"<files-path>",-1)),s[73]||(s[73]=a("tag shares directories within the",-1)),e(o,{icon:"fas fa-folder-ope"}),s[74]||(s[74]=n("code",null,"files/",-1)),s[75]||(s[75]=a("directory of your app‚Äôs internal storage. The",-1)),s[76]||(s[76]=n("code",null,"path",-1)),s[77]||(s[77]=a("attribute shares the",-1)),e(o,{icon:"fas fa-folder-ope"}),s[78]||(s[78]=n("code",null,"images/",-1)),s[79]||(s[79]=a("subdirectory of",-1)),e(o,{icon:"fas fa-folder-ope"}),s[80]||(s[80]=n("code",null,"files/",-1)),s[81]||(s[81]=a(". The",-1)),s[82]||(s[82]=n("code",null,"name",-1)),s[83]||(s[83]=a("attribute tells the",-1)),n("a",j,[e(o,{icon:"fa-brands fa-android"}),s[71]||(s[71]=n("code",null,"FileProvider",-1))]),s[84]||(s[84]=a("to add the path segment",-1)),s[85]||(s[85]=n("code",null,"myimages",-1)),s[86]||(s[86]=a("to content URIs for files in the",-1)),e(o,{icon:"fas fa-folder-ope"}),s[87]||(s[87]=n("code",null,"files/images/",-1)),s[88]||(s[88]=a("subdirectory.",-1))])]),s[228]||(s[228]=r(`<figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*SZbnT_ronQ2ryRiYWkgaug.png" alt="Example of using " tabindex="0" loading="lazy"><figcaption>Example of using <code>context.cacheDir</code></figcaption></figure><div class="hint-container note"><p class="hint-container-title">Note</p><p>The XML file is the only way you can specify the directories you want to share; you can‚Äôt programmatically add a directory.</p></div><h4 id="_3-define-thebuildconfig" tabindex="-1"><a class="header-anchor" href="#_3-define-thebuildconfig"><span>3. Define the<code>BuildConfig</code></span></a></h4><ul><li>BuildConfig</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="build.gradle.kts"><span>build.gradle.kts</span></div><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token function">buildConfigField</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;String&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;FILE_PROVIDER&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;\\&quot;provider\\&quot;&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><ul><li><code>FileProvider</code></li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="FileProvider.kt"><span>FileProvider.kt</span></div><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>content<span class="token punctuation">.</span>FileProvider <span class="token keyword">as</span> AndroidFileProvider</span>
<span class="line"></span>
<span class="line"><span class="token keyword">interface</span> FileProvider <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation builtin">@Throws</span><span class="token punctuation">(</span>Exception<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">fun</span> <span class="token function">getUri</span><span class="token punctuation">(</span>context<span class="token operator">:</span> Context<span class="token punctuation">,</span> file<span class="token operator">:</span> File<span class="token punctuation">)</span><span class="token operator">:</span> Uri<span class="token operator">?</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">val</span> authority <span class="token operator">=</span> <span class="token function">authority</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> AndroidFileProvider<span class="token punctuation">.</span><span class="token function">getUriForFile</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> authority<span class="token punctuation">,</span> file<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token operator">:</span> FileProvider <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">val</span> authority <span class="token operator">=</span> <span class="token punctuation">{</span> context<span class="token operator">:</span> Context <span class="token operator">-&gt;</span></span>
<span class="line">            <span class="token string-literal singleline"><span class="token string">&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">context<span class="token punctuation">.</span>applicationContext<span class="token punctuation">.</span>packageName</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">BuildConfig<span class="token punctuation">.</span>FILE_PROVIDER</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span></span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><hr><h2 id="üÜöfileproviderin-a-multi-module-android-project" tabindex="-1"><a class="header-anchor" href="#üÜöfileproviderin-a-multi-module-android-project"><span>üÜö<code>FileProvider</code>in a Multi-Module Android Project?</span></a></h2><p>By default,<code>FileProvider</code>is tied to an<code>authority</code>(e.g.,<code>com.example.app.fileprovider</code>), which is unique per module. In a<strong>multi-module project</strong>, each module<strong>cannot define its own</strong> <code>FileProvider</code>with the same<code>authority</code>. Instead, follow these steps:</p>`,10)),e(d,{data:[{id:"Approach 1"},{id:"Approach 2"}],active:0},{title0:t(({value:i,isActive:l})=>[...s[91]||(s[91]=[a("Approach 1",-1)])]),title1:t(({value:i,isActive:l})=>[...s[92]||(s[92]=[a("Approach 2",-1)])]),tab0:t(({value:i,isActive:l})=>[...s[93]||(s[93]=[n("p",null,[a("Declare"),n("code",null,"FileProvider"),a("in the "),n("strong",null,"App Module")],-1),n("ul",null,[n("li",null,[a("Allow feature modules to access"),n("code",null,"FileProvider")]),n("li",null,[a("Pass the"),n("code",null,"Context"),a("of the main application to the modules.")]),n("li",null,[a("Use"),n("code",null,"FileProvider.getUriForFile(...)"),a("in the modules with the"),n("strong",null,"app‚Äôs authority"),a("("),n("code",null,"com.example.app.fileprovider"),a(").")])],-1),n("p",null,[n("strong",null,"Use Approach 1 (App Module) if:")],-1),n("ul",null,[n("li",null,"Your project is small or medium-sized."),n("li",null,[a("You don‚Äôt plan to reuse"),n("code",null,"FileProvider"),a("in multiple apps.")]),n("li",null,"Simplicity is more important than modularity.")],-1)])]),tab1:t(({value:i,isActive:l})=>[...s[94]||(s[94]=[n("p",null,[a("Create a "),n("strong",null,"Shared Module"),a(" for "),n("code",null,"FileProvider")],-1),n("ul",null,[n("li",null,[a("Create a new module (e.g.,"),n("code",null,"foundation-io"),a(").")]),n("li",null,[a("Define the"),n("code",null,"FileProvider"),a("in"),n("code",null,"foundation-io"),a("and expose a method:")]),n("li",null,"All modules will use this method to get the URI.")],-1),n("p",null,[n("strong",null,"Use Approach 2 (Shared Module) if:")],-1),n("ul",null,[n("li",null,"Your project is large, with multiple feature modules."),n("li",null,[a("You want to"),n("strong",null,"decouple"),n("code",null,"FileProvider"),a("from the main app.")]),n("li",null,"You might reuse the shared module in other projects."),n("li",null,[a("Your team follows"),n("strong",null,"clean architecture and modularization"),a("best practices.")])],-1)])]),_:1}),s[229]||(s[229]=r('<div class="hint-container note"><p class="hint-container-title">Note</p><p>If you‚Äôre working on a<strong>large-scale project</strong>with multiple modules (e.g., a super app, SDK-based architecture),<strong>Approach 2 (Shared Module) is the best choice</strong>because it promotes<strong>scalability, reusability, and maintainability</strong>. However, if you<strong>just need quick file sharing in a single app</strong>,<strong>Approach 1 (App Module) is simpler and works fine.</strong></p></div><hr><h2 id="üì∏-what-is-androidmedia-store" tabindex="-1"><a class="header-anchor" href="#üì∏-what-is-androidmedia-store"><span>üì∏ What is Android<code>Media Store</code>?</span></a></h2>',3)),n("p",null,[s[100]||(s[100]=a("The contract between the media provider and applications. Contains definitions for the supported URIs and columns. The media provider provides an indexed collection of common media types, such as",-1)),n("a",U,[e(o,{icon:"fa-brands fa-android"}),s[95]||(s[95]=a("Audio",-1))]),s[101]||(s[101]=a(",",-1)),n("a",D,[e(o,{icon:"fa-brands fa-android"}),s[96]||(s[96]=a("Video",-1))]),s[102]||(s[102]=a(", and",-1)),n("a",N,[e(o,{icon:"fa-brands fa-android"}),s[97]||(s[97]=a("Images",-1))]),s[103]||(s[103]=a(", from any attached storage devices. Each collection is organized based on the primary MIME type of the underlying content; for example,",-1)),s[104]||(s[104]=n("code",null,"image/*",-1)),s[105]||(s[105]=a("content is indexed under",-1)),n("a",L,[e(o,{icon:"fa-brands fa-android"}),s[98]||(s[98]=a("Images",-1))]),s[106]||(s[106]=a(". The",-1)),n("a",Q,[e(o,{icon:"fa-brands fa-android"}),s[99]||(s[99]=a("Files",-1))]),s[107]||(s[107]=a("collection provides a broad view across all collections, and does not filter by MIME type.",-1))]),s[230]||(s[230]=r(`<h3 id="_1-query-media-files-images" tabindex="-1"><a class="header-anchor" href="#_1-query-media-files-images"><span>1. Query Media Files (Images)</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getAllImages</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Uri</span> collection <span class="token operator">=</span> <span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">EXTERNAL_CONTENT_URI</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> projection <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span>_ID<span class="token punctuation">,</span></span>
<span class="line">            <span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DISPLAY_NAME</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">Cursor</span> cursor <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span></span>
<span class="line">            collection<span class="token punctuation">,</span></span>
<span class="line">            projection<span class="token punctuation">,</span></span>
<span class="line">            <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DATE_ADDED</span> <span class="token operator">+</span> <span class="token string">&quot; DESC&quot;</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>cursor <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">while</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">moveToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">int</span> id <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">getColumnIndexOrThrow</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span>_ID<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">String</span> name <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">getColumnIndexOrThrow</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DISPLAY_NAME</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token class-name">Uri</span> imageUri <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">withAppendedPath</span><span class="token punctuation">(</span>collection<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MediaStore&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Image: &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, URI: &quot;</span> <span class="token operator">+</span> imageUri<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        cursor<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-insert-a-new-image" tabindex="-1"><a class="header-anchor" href="#_2-insert-a-new-image"><span>2. Insert a New Image</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token class-name">Uri</span> <span class="token function">saveImageToGallery</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Bitmap</span> bitmap<span class="token punctuation">,</span> <span class="token class-name">String</span> filename<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DISPLAY_NAME</span><span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">MIME_TYPE</span><span class="token punctuation">,</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">RELATIVE_PATH</span><span class="token punctuation">,</span> <span class="token string">&quot;Pictures/MyApp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">Uri</span> imageUri <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">EXTERNAL_CONTENT_URI</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">OutputStream</span> outputStream <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openOutputStream</span><span class="token punctuation">(</span>imageUri<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        bitmap<span class="token punctuation">.</span><span class="token function">compress</span><span class="token punctuation">(</span><span class="token class-name">Bitmap<span class="token punctuation">.</span>CompressFormat</span><span class="token punctuation">.</span><span class="token constant">PNG</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> outputStream<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        outputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> imageUri<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://miro.medium.com/v2/resize:fit:1400/1*9KrIRsVVNPax0XvIK2lvmw.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container note"><p class="hint-container-title">Note</p><ul><li>The<code>RELATIVE_PATH</code>specifies where the image is stored (<code>Pictures/MyApp</code>).</li><li>No<strong>WRITE_EXTERNAL_STORAGE</strong>permission needed from<strong>Android 10+</strong>.</li></ul></div><h3 id="_3-delete-a-media-file" tabindex="-1"><a class="header-anchor" href="#_3-delete-a-media-file"><span>3. Delete a Media File</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">deleteImage</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Uri</span> uri<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> deleted <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> deleted <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container important"><p class="hint-container-title">üîπ Permissions Needed</p><ul><li><strong>Android 10+</strong>: No storage permission required, as long as using<code>MediaStore</code>.</li><li><strong>Android 9 and below</strong>: Requires<code>WRITE_EXTERNAL_STORAGE</code>permission.</li></ul></div><h3 id="_4-update-media-file-metadata" tabindex="-1"><a class="header-anchor" href="#_4-update-media-file-metadata"><span>4. Update Media File Metadata</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateMediaDetails</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Uri</span> uri<span class="token punctuation">,</span> <span class="token class-name">String</span> newTitle<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">MediaStore<span class="token punctuation">.</span>Images<span class="token punctuation">.</span>Media</span><span class="token punctuation">.</span><span class="token constant">DISPLAY_NAME</span><span class="token punctuation">,</span> newTitle<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    context<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> values<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The system automatically scans an external storage volume and adds media files to the following well-defined collections:</p>`,12)),n("ul",null,[n("li",null,[s[109]||(s[109]=a("**Images,**including photographs and screenshots, which are stored in the",-1)),e(o,{icon:"fas fa-folder-open"}),s[110]||(s[110]=n("code",null,"DCIM/",-1)),s[111]||(s[111]=a("and",-1)),e(o,{icon:"fas fa-folder-open"}),s[112]||(s[112]=n("code",null,"Pictures/",-1)),s[113]||(s[113]=a("directories. The system adds these files to the",-1)),n("a",W,[e(o,{icon:"fa-brands fa-android"}),s[108]||(s[108]=n("code",null,"MediaStore.Images",-1))]),s[114]||(s[114]=a("table.",-1))]),n("li",null,[s[116]||(s[116]=a("**Videos,**which are stored in the",-1)),e(o,{icon:"fas fa-folder-open"}),s[117]||(s[117]=n("code",null,"DCIM/",-1)),s[118]||(s[118]=a(",",-1)),e(o,{icon:"fas fa-folder-open"}),s[119]||(s[119]=n("code",null,"Movies/",-1)),s[120]||(s[120]=a(", and",-1)),e(o,{icon:"fas fa-folder-open"}),s[121]||(s[121]=n("code",null,"Pictures/",-1)),s[122]||(s[122]=a("directories. The system adds these files to the",-1)),n("a",V,[e(o,{icon:"fa-brands fa-android"}),s[115]||(s[115]=n("code",null,"MediaStore.Video",-1))]),s[123]||(s[123]=a("table.",-1))]),n("li",null,[s[128]||(s[128]=a("**Audio files,**which are stored in the",-1)),e(o,{icon:"fas fa-folder-open"}),s[129]||(s[129]=n("code",null,"Alarms/",-1)),s[130]||(s[130]=a(",",-1)),e(o,{icon:"fas fa-folder-open"}),s[131]||(s[131]=n("code",null,"Audiobooks/",-1)),s[132]||(s[132]=a(",",-1)),e(o,{icon:"fas fa-folder-open"}),s[133]||(s[133]=n("code",null,"Music/",-1)),s[134]||(s[134]=a(",",-1)),e(o,{icon:"fas fa-folder-open"}),s[135]||(s[135]=n("code",null,"Notifications/",-1)),s[136]||(s[136]=a(",",-1)),e(o,{icon:"fas fa-folder-open"}),s[137]||(s[137]=n("code",null,"Podcasts/",-1)),s[138]||(s[138]=a(", and",-1)),e(o,{icon:"fas fa-folder-open"}),s[139]||(s[139]=n("code",null,"Ringtones/",-1)),s[140]||(s[140]=a("directories. Additionally, the system recognizes audio playlists that are in the",-1)),e(o,{icon:"fas fa-folder-open"}),s[141]||(s[141]=n("code",null,"Music/",-1)),s[142]||(s[142]=a("or",-1)),e(o,{icon:"fas fa-folder-open"}),s[143]||(s[143]=n("code",null,"Movies/",-1)),s[144]||(s[144]=a("directories as well as voice recordings that are in the",-1)),e(o,{icon:"fas fa-folder-open"}),s[145]||(s[145]=n("code",null,"Recordings/",-1)),s[146]||(s[146]=a("directory. The system adds these files to the",-1)),n("a",O,[e(o,{icon:"fa-brands fa-android"}),s[124]||(s[124]=n("code",null,"MediaStore.Audio",-1))]),s[147]||(s[147]=a("table.",-1)),n("em",null,[s[125]||(s[125]=a("The ",-1)),e(o,{icon:"fas fa-folder-open"}),s[126]||(s[126]=n("code",null,"Recordings/",-1)),s[127]||(s[127]=a(" directory isn‚Äôt available on Android 11 (API level 30) and lower.",-1))])]),n("li",null,[s[149]||(s[149]=a("**Downloaded files,**which are stored in the",-1)),s[150]||(s[150]=n("code",null,"Download/",-1)),s[151]||(s[151]=a("directory. On devices that run Android 10 (API level 29) and higher, these files are stored in the",-1)),n("a",B,[e(o,{icon:"fa-brands fa-android"}),s[148]||(s[148]=n("code",null,"MediaStore.Downloads",-1))]),s[152]||(s[152]=a("table.",-1)),s[153]||(s[153]=n("em",null,"This table isn‚Äôt available on Android 9 (API level 28) and lower.",-1))])]),s[231]||(s[231]=r(`<hr><h2 id="üö®common-error-solution" tabindex="-1"><a class="header-anchor" href="#üö®common-error-solution"><span>üö®Common Error &amp; Solution</span></a></h2><h3 id="_1-securityexception-permission-denied" tabindex="-1"><a class="header-anchor" href="#_1-securityexception-permission-denied"><span>1. <code>SecurityException</code>: Permission Denied</span></a></h3><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">java.lang.SecurityException: Permission Denial: writing Uri content://media/external/images/media from pid=12345, uid=10085 requires android.permission.WRITE_EXTERNAL_STORAGE</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div>`,4)),e(d,{data:[{id:"Cause"},{id:"Solution"}],active:0},{title0:t(({value:i,isActive:l})=>[...s[154]||(s[154]=[a("Cause",-1)])]),title1:t(({value:i,isActive:l})=>[...s[155]||(s[155]=[a("Solution",-1)])]),tab0:t(({value:i,isActive:l})=>[...s[156]||(s[156]=[n("ul",null,[n("li",null,[a("Your app is targeting"),n("strong",null,[a("Android 10+"),n("strong",null,"and trying to write to shared storage"),a("without using MediaStore")]),a(".")]),n("li",null,[a("You did not request"),n("strong",null,"WRITE_EXTERNAL_STORAGE"),a("(Android 9 and below).")])],-1)])]),tab1:t(({value:i,isActive:l})=>[...s[157]||(s[157]=[n("ul",null,[n("li",null,[a("‚úÖ Use"),n("strong",null,"MediaStore"),a("API for Android 10+ instead of direct file paths.")]),n("li",null,[a("‚úÖ"),n("strong",null,"No permission required"),a("for public media directories on Android 11+.")])],-1),n("div",{class:"language-java line-numbers-mode","data-highlighter":"prismjs","data-ext":"java"},[n("pre",null,[n("code",{class:"language-java"},[n("span",{class:"line"},[n("span",{class:"token class-name"},"ContentValues"),a(" values "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token keyword"},"new"),a(),n("span",{class:"token class-name"},"ContentValues"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"},[a("values"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"put"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[a("MediaStore"),n("span",{class:"token punctuation"},"."),a("Images"),n("span",{class:"token punctuation"},"."),a("Media")]),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"DISPLAY_NAME"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token string"},'"my_image.jpg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"},[a("values"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"put"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[a("MediaStore"),n("span",{class:"token punctuation"},"."),a("Images"),n("span",{class:"token punctuation"},"."),a("Media")]),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"MIME_TYPE"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token string"},'"image/jpeg"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"},[a("values"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"put"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[a("MediaStore"),n("span",{class:"token punctuation"},"."),a("Images"),n("span",{class:"token punctuation"},"."),a("Media")]),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"RELATIVE_PATH"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token class-name"},"Environment"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"DIRECTORY_PICTURES"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"}),a(`
`),n("span",{class:"line"},[n("span",{class:"token class-name"},"Uri"),a(" uri "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"getContentResolver"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[a("MediaStore"),n("span",{class:"token punctuation"},"."),a("Images"),n("span",{class:"token punctuation"},"."),a("Media")]),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"EXTERNAL_CONTENT_URI"),n("span",{class:"token punctuation"},","),a(" values"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])]),_:1}),s[232]||(s[232]=r(`<h3 id="_2-file-not-found-exception" tabindex="-1"><a class="header-anchor" href="#_2-file-not-found-exception"><span>2. File Not Found Exception</span></a></h3><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">java.io.FileNotFoundException: open failed: ENOENT (No such file or directory)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div>`,2)),e(d,{data:[{id:"Cause"},{id:"Solution"}],active:0},{title0:t(({value:i,isActive:l})=>[...s[158]||(s[158]=[a("Cause",-1)])]),title1:t(({value:i,isActive:l})=>[...s[159]||(s[159]=[a("Solution",-1)])]),tab0:t(({value:i,isActive:l})=>[...s[160]||(s[160]=[n("ul",null,[n("li",null,[a("The"),n("strong",null,"file path is incorrect"),a("or does not exist.")]),n("li",null,[a("You are"),n("strong",null,"trying to access a file before it has been saved"),a(".")])],-1)])]),tab1:t(({value:i,isActive:l})=>[...s[161]||(s[161]=[n("ul",null,[n("li",null,[a("‚úÖ"),n("strong",null,"Verify the file exists"),a("before accessing it.")]),n("li",null,[a("‚úÖ Ensure you have"),n("strong",null,"write permissions"),a("if using direct storage access.")])],-1)])]),_:1}),s[233]||(s[233]=n("h3",{id:"_3-image-not-appearing-in-gallery",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_3-image-not-appearing-in-gallery"},[n("span",null,"3. Image Not Appearing in Gallery")])],-1)),e(d,{data:[{id:"Cause"},{id:"Solution"}],active:0},{title0:t(({value:i,isActive:l})=>[...s[162]||(s[162]=[a("Cause",-1)])]),title1:t(({value:i,isActive:l})=>[...s[163]||(s[163]=[a("Solution",-1)])]),tab0:t(({value:i,isActive:l})=>[...s[164]||(s[164]=[n("p",null,[a("Media file is saved, but"),n("strong",null,[a("not indexed by "),n("code",null,"MediaScanner")]),a(".")],-1)])]),tab1:t(({value:i,isActive:l})=>[...s[165]||(s[165]=[n("p",null,[a("‚úÖ"),n("strong",null,"Manually scan the file"),a("after saving.")],-1),n("div",{class:"language-java line-numbers-mode","data-highlighter":"prismjs","data-ext":"java"},[n("pre",null,[n("code",{class:"language-java"},[n("span",{class:"line"},[n("span",{class:"token class-name"},"MediaScannerConnection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"scanFile"),n("span",{class:"token punctuation"},"("),a("context"),n("span",{class:"token punctuation"},",")]),a(`
`),n("span",{class:"line"},[a("    "),n("span",{class:"token keyword"},"new"),a(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"{"),a("file"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getAbsolutePath"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},",")]),a(`
`),n("span",{class:"line"},[a("    "),n("span",{class:"token keyword"},"new"),a(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token string"},'"image/jpeg"'),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},",")]),a(`
`),n("span",{class:"line"},[a("    "),n("span",{class:"token punctuation"},"("),a("path"),n("span",{class:"token punctuation"},","),a(" uri"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"->"),a(),n("span",{class:"token class-name"},"Log"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"d"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"MediaScanner"'),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token string"},'"File Scanned: "'),a(),n("span",{class:"token operator"},"+"),a(" path"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])]),_:1}),s[234]||(s[234]=r(`<h3 id="_4-fileuriexposedexception-android-7" tabindex="-1"><a class="header-anchor" href="#_4-fileuriexposedexception-android-7"><span>4. <code>FileUriExposedException</code> (Android 7+)</span></a></h3><p><strong>Direct file paths (<code>file://</code>) are not allowed</strong>for sharing files across apps in Android 7+.</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">android.os.FileUriExposedException: file:///storage/emulated/0/my_file.pdf exposed beyond app through ClipData.Item.getUri()</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div>`,3)),e(d,{data:[{id:"Solution"}],active:0},{title0:t(({value:i,isActive:l})=>[...s[166]||(s[166]=[a("Solution",-1)])]),tab0:t(({value:i,isActive:l})=>[...s[167]||(s[167]=[n("p",null,[a("‚úÖ Use"),n("strong",null,"FileProvider"),a("to generate a"),n("strong",null,"content URI"),a("instead.")],-1),n("div",{class:"language-java line-numbers-mode","data-highlighter":"prismjs","data-ext":"java"},[n("pre",null,[n("code",{class:"language-java"},[n("span",{class:"line"},[n("span",{class:"token class-name"},"Uri"),a(" uri "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token class-name"},"FileProvider"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getUriForFile"),n("span",{class:"token punctuation"},"("),a("context"),n("span",{class:"token punctuation"},","),a(" context"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getPackageName"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"+"),a(),n("span",{class:"token string"},'".fileprovider"'),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token keyword"},"new"),a(),n("span",{class:"token class-name"},"File"),n("span",{class:"token punctuation"},"("),a("filePath"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"}),a(`
`),n("span",{class:"line"},[n("span",{class:"token class-name"},"Intent"),a(" intent "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token keyword"},"new"),a(),n("span",{class:"token class-name"},"Intent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Intent"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"ACTION_VIEW"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"},[a("intent"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setDataAndType"),n("span",{class:"token punctuation"},"("),a("uri"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token string"},'"application/pdf"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"},[a("intent"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setFlags"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Intent"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"FLAG_GRANT_READ_URI_PERMISSION"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"},[n("span",{class:"token function"},"startActivity"),n("span",{class:"token punctuation"},"("),a("intent"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])]),_:1}),s[235]||(s[235]=r(`<h3 id="_5-android-authorities-not-matching" tabindex="-1"><a class="header-anchor" href="#_5-android-authorities-not-matching"><span>5. <code>android:authorities</code> Not Matching</span></a></h3><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">java.lang.IllegalArgumentException: Couldn&#39;t find meta-data for provider with authority com.example.wrong.fileprovider</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div>`,2)),e(d,{data:[{id:"Cause"},{id:"Solution"}],active:0},{title0:t(({value:i,isActive:l})=>[...s[168]||(s[168]=[a("Cause",-1)])]),title1:t(({value:i,isActive:l})=>[...s[169]||(s[169]=[a("Solution",-1)])]),tab0:t(({value:i,isActive:l})=>[n("p",null,[s[170]||(s[170]=a("The**authority name in ",-1)),e(o,{icon:"fa-brands fa-android"}),s[171]||(s[171]=n("code",null,"AndroidManifest.xml",-1)),s[172]||(s[172]=a("**does not match the one used in",-1)),s[173]||(s[173]=n("code",null,"FileProvider.getUriForFile()",-1)),s[174]||(s[174]=a(".",-1))])]),tab1:t(({value:i,isActive:l})=>[n("p",null,[s[175]||(s[175]=a("‚úÖ Ensure the",-1)),s[176]||(s[176]=n("code",null,"android:authorities",-1)),s[177]||(s[177]=a("in",-1)),e(o,{icon:"fa-brands fa-android"}),s[178]||(s[178]=n("code",null,"AndroidManifest.xml",-1)),s[179]||(s[179]=a("matches exactly.",-1))])]),_:1}),s[236]||(s[236]=r(`<h3 id="_6-permission-denied-when-opening-a-shared-file" tabindex="-1"><a class="header-anchor" href="#_6-permission-denied-when-opening-a-shared-file"><span>6. Permission Denied When Opening a Shared File</span></a></h3><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">java.lang.SecurityException: Permission Denial: reading Uri content://com.example.myapp.fileprovider/my_files/test.pdf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div>`,2)),e(d,{data:[{id:"Cause"},{id:"Solution"}],active:0},{title0:t(({value:i,isActive:l})=>[...s[180]||(s[180]=[a("Cause",-1)])]),title1:t(({value:i,isActive:l})=>[...s[181]||(s[181]=[a("Solution",-1)])]),tab0:t(({value:i,isActive:l})=>[...s[182]||(s[182]=[n("p",null,[a("The receiving app"),n("strong",null,"does not have permission"),a("to read the file.")],-1)])]),tab1:t(({value:i,isActive:l})=>[...s[183]||(s[183]=[n("p",null,[a("‚úÖ"),n("strong",null,"Grant temporary read permissions"),a("when sharing a file.")],-1),n("div",{class:"language-java line-numbers-mode","data-highlighter":"prismjs","data-ext":"java"},[n("pre",null,[n("code",{class:"language-java"},[n("span",{class:"line"},[a("intent"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addFlags"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Intent"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"FLAG_GRANT_READ_URI_PERMISSION"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),a(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"})])],-1)])]),_:1}),s[237]||(s[237]=n("h3",{id:"_7-failed-to-find-configured-root-that-contains",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_7-failed-to-find-configured-root-that-contains"},[n("span",null,"7. Failed to find configured root that contains ‚Ä¶")])],-1)),n("figure",null,[s[185]||(s[185]=n("img",{src:"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mxEBoewfZQ9ebrxygxr2eQ.png",alt:'<VPIcon icon="fas fa-folder-open"/>',tabindex:"0",loading:"lazy"},null,-1)),n("figcaption",null,[e(o,{icon:"fas fa-folder-open"}),s[184]||(s[184]=n("code",null,"/storage/emulated/0/Pictures/..",-1))])]),s[238]||(s[238]=r(`<p>The error**‚ÄúFailed to find configured root that contains‚Ä¶‚Äù<strong>usually occurs when trying to share a file</strong>without proper FileProvider configuration**. In<strong>Android 7.0 (API 24) and above</strong>, direct<code>file://</code>URIs cannot be shared between apps due to security restrictions. Instead, you need to use a<code>content://</code>URI via<code>FileProvider</code>.</p><ul><li>Inside the<code>&lt;application&gt;</code> tag:</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="AndroidManifest.xml"><span>AndroidManifest.xml</span></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>provider</span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>androidx.core.content.FileProvider<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>authorities</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${applicationId}.provider<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>exported</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token attr-name"><span class="token namespace">android:</span>grantUriPermissions</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.support.FILE_PROVIDER_PATHS<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@xml/file_paths<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>provider</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,3)),n("ul",null,[n("li",null,[e(o,{icon:"iconfont icon-code"}),s[186]||(s[186]=n("code",null,"file_paths.xml",-1))])]),s[239]||(s[239]=r(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="file_paths.xml"><span>file_paths.xml</span></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paths</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token comment">&lt;!-- Allow access to app-specific external storage --&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>external-files-path</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pictures<span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Pictures/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paths</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ul><li><strong>Code</strong></li></ul><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token comment">// App-specific external storage</span></span>
<span class="line"><span class="token keyword">val</span> picturesDir <span class="token operator">=</span> <span class="token function">File</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getExternalFilesDir</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;Pictures&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">picturesDir<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Ensure the directory exists</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="üìå-questions-answers" tabindex="-1"><a class="header-anchor" href="#üìå-questions-answers"><span>üìå Questions &amp; Answers</span></a></h2><details class="hint-container details"><summary>1. What is <code>MediaStore</code> in Android?</summary><p><code>MediaStore</code> is an API that provides structured access to<strong>media files</strong>(images, videos, audio) stored on<strong>external storage</strong>. It allows querying, inserting, and updating media files<strong>without requiring direct file path access</strong>.</p></details><details class="hint-container details"><summary>2. How much space does your data require?</summary><p>Internal storage has limited space for app-specific data. Use other types of storage if you need to save a substantial amount of data.</p></details><details class="hint-container details"><summary>3. How reliable does data access need to be?</summary><p>If your app‚Äôs basic functionality requires certain data, such as when your app is starting up, place the data within internal storage directory or a database. App-specific files that are stored in external storage aren‚Äôt always accessible because some devices allow users to remove a physical device that corresponds to external storage.</p></details><details class="hint-container details"><summary>4. What are the advantages of using <code>MediaStore</code> over File API?</summary><p>‚úÖ<strong>No storage permission required</strong>(Android 10+).<br> ‚úÖ<strong>Works with scoped storage</strong>(File API does not).<br> ‚úÖ<strong>Structured access</strong>to media files.<br> ‚úÖ<strong>Auto indexing</strong>by the system.</p></details><details class="hint-container details"><summary>5. What is <code>FileProvider</code> in Android?</summary><p><code>FileProvider</code> is a<strong>content provider</strong>(<code>ContentProvider</code>) that allows<strong>secure file sharing</strong>between apps using<code>content://</code>URIs instead of<code>file://</code> paths.</p></details><details class="hint-container details"><summary>6. Should the data be private to your app?</summary><p>When storing sensitive data ‚Äî data that shouldn‚Äôt be accessible from any other app ‚Äî use internal storage, preferences, or a database. Internal storage has the added benefit of the data being hidden from users.</p></details><details class="hint-container details"><summary>7. What is Scoped Storage in Android?</summary><p>Scoped Storage (introduced in Android 10)<strong>restricts</strong>direct access to shared storage and requires apps to use<code>MediaStore</code>or<code>FileProvider</code>.</p></details>`,12)),n("details",z,[s[194]||(s[194]=n("summary",null,"8. How do you access files in Scoped Storage?",-1)),s[195]||(s[195]=n("ul",null,[n("li",null,[a("**For media files:**Use"),n("code",null,"MediaStore"),a(" API")]),n("li",null,[a("**For app-specific files:**Use"),n("code",null,"getExternalFilesDir()")]),n("li",null,[a("**For file sharing:**Use"),n("code",null,"FileProvider")])],-1)),n("p",null,[s[190]||(s[190]=a("To give users more control over their files and limit file clutter, Android 10 introduced a new storage paradigm for apps called",-1)),n("a",Y,[e(o,{icon:"fa-brands fa-android"}),s[187]||(s[187]=a("scoped storage",-1))]),s[191]||(s[191]=a(". Scoped storage changes the way apps store and access files on a device‚Äôs external storage. To help you migrate your app to support scoped storage, follow the best practices for common storage use cases that are outlined in this guide. The use cases are organized into two categories:",-1)),n("a",G,[e(o,{icon:"fa-brands fa-android"}),s[188]||(s[188]=a("handling media files",-1))]),s[192]||(s[192]=a("and",-1)),n("a",X,[e(o,{icon:"fa-brands fa-android"}),s[189]||(s[189]=a("handling non-media files",-1))]),s[193]||(s[193]=a(".",-1))])]),s[240]||(s[240]=r('<hr><h2 id="üéØ-conclusion" tabindex="-1"><a class="header-anchor" href="#üéØ-conclusion"><span>üéØ Conclusion</span></a></h2><p>By leveraging<strong>Jetpack Compose</strong>,<code>FileProvider</code>, and Kotlin, we can easily<strong>download, store, and share images</strong>in an Android app. This approach ensures smooth performance, proper file handling, and seamless sharing across different applications. Whether you are working on an image-heavy app or simply adding a sharing feature, mastering these techniques will enhance your development workflow üöÄüí°</p><h3 id="üîπ-mediastore-scoped-storage-api" tabindex="-1"><a class="header-anchor" href="#üîπ-mediastore-scoped-storage-api"><span>üîπ <code>MediaStore</code> (Scoped Storage API)</span></a></h3>',4)),e(d,{data:[{id:"Purpose"},{id:"Use Cases"},{id:"Advantages"},{id:"Disadvantages"}],active:0},{title0:t(({value:i,isActive:l})=>[...s[196]||(s[196]=[a("Purpose",-1)])]),title1:t(({value:i,isActive:l})=>[...s[197]||(s[197]=[a("Use Cases",-1)])]),title2:t(({value:i,isActive:l})=>[...s[198]||(s[198]=[a("Advantages",-1)])]),title3:t(({value:i,isActive:l})=>[...s[199]||(s[199]=[a("Disadvantages",-1)])]),tab0:t(({value:i,isActive:l})=>[...s[200]||(s[200]=[n("ul",null,[n("li",null,[n("code",null,"MediaStore"),a("is part of the"),n("strong",null,"Scoped Storage"),a("model introduced in"),n("strong",null,"Android 10 (API 29)"),a(".")]),n("li",null,[a("It provides access to"),n("strong",null,"public media files"),a("(e.g., images, videos, and audio) stored in shared storage, without needing"),n("code",null,"READ_EXTERNAL_STORAGE"),a("or"),n("code",null,"WRITE_EXTERNAL_STORAGE"),a("permissions (from Android 11 onwards).")])],-1)])]),tab1:t(({value:i,isActive:l})=>[...s[201]||(s[201]=[n("ul",null,[n("li",null,[a("Saving media files (images, videos, audio) in"),n("strong",null,"public directories"),a("(e.g.,"),n("code",null,"Pictures/"),a(","),n("code",null,"Movies/"),a(").")]),n("li",null,[a("Querying and managing media content using the"),n("code",null,"ContentResolver"),a("API.")]),n("li",null,[a("Ensuring compliance with"),n("strong",null,"Scoped Storage"),a(", as direct file path access is restricted.")])],-1)])]),tab2:t(({value:i,isActive:l})=>[...s[202]||(s[202]=[n("ul",null,[n("li",null,"‚úÖ No need for storage permissions (from Android 11+)."),n("li",null,[a("‚úÖ Works with"),n("strong",null,"Scoped Storage"),a(", avoiding direct file access.")]),n("li",null,[a("‚úÖ Provides a"),n("strong",null,"content URI"),a(", making it safer for media handling.")]),n("li",null,[a("‚úÖ Compatible with"),n("code",null,"MediaScanner"),a("for indexing media files.")])],-1)])]),tab3:t(({value:i,isActive:l})=>[...s[203]||(s[203]=[n("ul",null,[n("li",null,[a("‚ùå Cannot store"),n("strong",null,"non-media files"),a("(e.g., PDFs, ZIPs).")]),n("li",null,[a("‚ùå Requires"),n("strong",null,"querying APIs"),a("(instead of direct file access)")]),n("li",null,[a("‚ùå Files are"),n("strong",null,"not private"),a("‚Äî they‚Äôre accessible to all apps with read access to shared storage.")])],-1)])]),_:1}),s[241]||(s[241]=n("h3",{id:"üîπfileprovider-for-secure-file-sharing",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#üîπfileprovider-for-secure-file-sharing"},[n("span",null,"üîπFileProvider (For Secure File Sharing)")])],-1)),e(d,{data:[{id:"Purpose"},{id:"Use Cases"},{id:"Advantages"},{id:"Disadvantages"}],active:0},{title0:t(({value:i,isActive:l})=>[...s[204]||(s[204]=[a("Purpose",-1)])]),title1:t(({value:i,isActive:l})=>[...s[205]||(s[205]=[a("Use Cases",-1)])]),title2:t(({value:i,isActive:l})=>[...s[206]||(s[206]=[a("Advantages",-1)])]),title3:t(({value:i,isActive:l})=>[...s[207]||(s[207]=[a("Disadvantages",-1)])]),tab0:t(({value:i,isActive:l})=>[...s[208]||(s[208]=[n("ul",null,[n("li",null,[n("code",null,"FileProvider"),a("is a special"),n("code",null,"ContentProvider"),a("that allows an app to"),n("strong",null,"share private files"),a("securely with other apps using a"),n("strong",null,"content URI"),a(", rather than exposing raw file paths.")])],-1)])]),tab1:t(({value:i,isActive:l})=>[n("ul",null,[s[214]||(s[214]=n("li",null,"Sharing**files (PDFs, images, videos, etc.)**with other apps (e.g., email, social media, or messaging apps).",-1)),n("li",null,[s[209]||(s[209]=a("Providing a secure way to expose",-1)),s[210]||(s[210]=n("strong",null,"app-private storage files",-1)),s[211]||(s[211]=a("(inside",-1)),e(o,{icon:"fas fa-folder-open"}),s[212]||(s[212]=n("code",null,"data/data/<package>/files",-1)),s[213]||(s[213]=a(").",-1))]),s[215]||(s[215]=n("li",null,[a("Granting"),n("strong",null,"temporary read/write access"),a("to specific files.")],-1))])]),tab2:t(({value:i,isActive:l})=>[...s[216]||(s[216]=[n("ul",null,[n("li",null,[a("‚úÖ"),n("strong",null,"Secure file sharing"),a("(avoids exposing raw file paths).")]),n("li",null,[a("‚úÖ Supports"),n("strong",null,"any file type"),a(", not just media files.")]),n("li",null,[a("‚úÖ Provides"),n("strong",null,"temporary access permissions"),a("using"),n("code",null,"FLAG_GRANT_READ_URI_PERMISSION"),a(".")]),n("li",null,[a("‚úÖ Works with"),n("strong",null,"intent-based sharing"),a("(e.g.,"),n("code",null,"Intent.ACTION_SEND"),a(").")])],-1)])]),tab3:t(({value:i,isActive:l})=>[...s[217]||(s[217]=[n("ul",null,[n("li",null,[a("‚ùå Requires defining a"),n("strong",null,"FileProvider in AndroidManifest.xml"),a(".")]),n("li",null,[a("‚ùå Needs"),n("strong",null,"XML configuration"),a("for file paths.")]),n("li",null,[a("‚ùå"),n("strong",null,"More complex setup"),a("compared to direct file sharing.")])],-1)])]),_:1}),e(u,{name:"Access app-specific files | App data and files | Android Developers",desc:"In many cases, your app creates files that other apps don't need to access, or shouldn't access. The system provides the following locations for storing such app-specific files:",url:"https://developer.android.com/training/data-storage/app-specific/",logo:"https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg",preview:"https://developer.android.com/static/images/social/android-developers.png"}),e(u,{name:"Overview of shared storage | App data and files | Android Developers",desc:"Use shared storage for user data that can or should be accessible to other apps and saved even if the user uninstalls your app.",url:"https://developer.android.com/training/data-storage/shared/",logo:"https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg",preview:"https://developer.android.com/static/images/social/android-developers.png"}),e(u,{name:"Setting up file sharing | App data and files | Android Developers",desc:"To securely offer a file from your app to another app, you need to configure your app to offer a secure handle to the file, in the form of a content URI. The Android",url:"https://developer.android.com/training/secure-file-sharing/setup-sharing/",logo:"https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg",preview:"https://developer.android.com/static/images/social/android-developers.png"}),e(u,{name:"Retrieving file information | App data and files | Android Developers",desc:"Before a client app tries to work with a file for which it has a content URI, the app can request information about the file from the server app, including the file's data type and file size. The da",url:"https://developer.android.com/training/secure-file-sharing/retrieve-info/",logo:"https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg",preview:"https://developer.android.com/static/images/social/android-developers.png"}),e(u,{name:"Data and file storage overview | App data and files | Android Developers",desc:"Android uses a file system that's similar to disk-based file systems on other platforms. The system provides several options for you to save your app data:",url:"https://developer.android.com/training/data-storage/",logo:"https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg",preview:"https://developer.android.com/static/images/training/data-storage/room_architecture.png"}),e(u,{name:"View on-device files with Device Explorer | Android Studio | Android Developers",desc:"Learn how to view, copy, and delete files on an Android device with the Device Explorer.",url:"https://developer.android.com/studio/debug/device-file-explorer/",logo:"https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg",preview:"https://developer.android.com/static/images/social/android-developers.png"}),e(u,{name:"Send simple data to other apps | App data and files | Android Developers",desc:"When you construct an intent, you must specify the action you want the intent to 'trigger.' Android defines several actions, including ACTION_SEND which, as you can probably guess, indicates that the intent is sending data from one activity ‚Ä¶",url:"https://developer.android.com/training/sharing/send/",logo:"https://gstatic.com/devrel-devsite/prod/v6bfb74446ce17cd0d3af9b93bf26e056161cb79c5a6475bd6a9c25286fcb7861/android/images/favicon.svg",preview:"https://developer.android.com/static/images/social/android-developers.png"}),n("div",Z,[s[220]||(s[220]=n("p",{class:"hint-container-title"},"Info",-1)),n("p",null,[s[219]||(s[219]=a("This article is previously published on ",-1)),n("a",H,[e(o,{icon:"fa-brands fa-medium"}),s[218]||(s[218]=n("code",null,"proandroiddev",-1))])]),e(u,{name:"üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions",desc:"In the world of modern android development, Jetpack Compose has revolutionized UI building, making it more intuitive and efficient. But‚Ä¶",url:"https://proandroiddev.com/android-comparing-fileprovider-vs-mediastore-top-interview-questions-b2d2cf570e8c/",logo:"https://miro.medium.com/v2/resize:fill:256:256/1*A8VytPZQhvUf_MG6hm_Dlw.png",preview:"https://miro.medium.com/v2/resize:fit:1024/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg"})]),g(" TODO: add ARTICLE CARD "),e(m,v(k({title:"üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions",desc:"In the world of modern android development, Jetpack Compose has revolutionized UI building, making it more intuitive and efficient. But what if you need a simple function to download, save, and share images within your app? Whether you are building a social media app, a gallery viewer, or just need to hand images dynamically, this guide will walk you through the comparison between FileProvider and MediaStore as well as suggest some of interview questions. Now let‚Äôs go üî•",link:"https://chanhi2000.github.io/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html",logo:"https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png",background:"rgba(4,20,221,0.2)"})),null,16)])}const _=b(A,[["render",J]]),nn=JSON.parse('{"path":"/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html","title":"üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions","lang":"en-US","frontmatter":{"lang":"en-US","title":"üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions","description":"Article(s) > üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions","icon":"fa-brands fa-android","category":["Java","Kotlin","Android","Article(s)"],"tag":["blog","droidcon.com","java","kotlin","android"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions\\",\\"image\\":[\\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg\\",\\"https://miro.medium.com/v2/resize:fit:1400/1*SZbnT_ronQ2ryRiYWkgaug.png\\",\\"https://miro.medium.com/v2/resize:fit:1400/1*9KrIRsVVNPax0XvIK2lvmw.png\\",\\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mxEBoewfZQ9ebrxygxr2eQ.png\\"],\\"datePublished\\":\\"2025-02-12T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Leo N\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"}],["meta",{"property":"og:description","content":"Article(s) > üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg"}],["meta",{"name":"twitter:image:alt","content":"üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"}],["meta",{"property":"article:author","content":"Leo N"}],["meta",{"property":"article:tag","content":"android"}],["meta",{"property":"article:tag","content":"kotlin"}],["meta",{"property":"article:tag","content":"java"}],["meta",{"property":"article:tag","content":"droidcon.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2025-02-12T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"},{"property":"og:description","content":"üì∏ Android: Comparing FileProvider vs. MediaStore + Top Interview Questions"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/droidcon.com/%F0%9F%93%B8-android-comparing-fileprovider-vs-mediastore-top-interview-questions.html"}]],"prev":"/programming/java-android/articles/README.md","date":"2025-02-12T00:00:00.000Z","isOriginal":false,"author":"Leo N","cover":"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx4veSpq_Z1oYBsP5Q7nwQ.jpeg"},"git":{},"readingTime":{"minutes":14.3,"words":4290},"filePathRelative":"droidcon.com/üì∏-android-comparing-fileprovider-vs-mediastore-top-interview-questions.md","copyright":{"author":"Leo N"}}');export{_ as comp,nn as data};
