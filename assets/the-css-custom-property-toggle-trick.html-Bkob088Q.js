import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as m,d as t,f as o,b as l,a as g,t as k,n as p,g as c,e as s,r as a,o as y}from"./app-BItykJLQ.js";const f={},b={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},v={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},w={href:"https://w3.org/TR/css-variables-1/#syntax",target:"_blank",rel:"noopener noreferrer"},S={class:"hint-container note"},T={class:"hint-container-title"},C={href:"https://github.com/propjockey/aug-attr-spliced.js",target:"_blank",rel:"noopener noreferrer"},I={href:"https://patrickbrosset.com/articles/2020-09-21-3-things-about-css-variables-you-might-not-know/",target:"_blank",rel:"noopener noreferrer"},x={href:"https://lea.verou.me/2020/10/the-var-space-hack-to-toggle-multiple-values-with-one-custom-property/?",target:"_blank",rel:"noopener noreferrer"};function P(r,e){const i=a("VPCard"),d=a("SiteInfo"),n=a("VPIcon"),u=a("CodePen");return y(),m("div",null,[t("h1",b,[t("a",v,[t("span",null,k(r.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),o(i,p(c({title:"CSS > Article(s)",desc:"Article(s)",link:"/programming/css/articles/README.md",logo:"/images/ico-wind.svg",background:"rgba(10,10,10,0.2)"})),null,16),e[17]||(e[17]=t("nav",{class:"table-of-contents"},[t("ul")],-1)),e[18]||(e[18]=t("hr",null,null,-1)),o(d,{name:"The CSS Custom Property Toggle Trick",desc:"Back in July 2020, I got an email from James0x57 (I always try to refer to people by their name, but I think I get the sense they prefer to go by screen name)",url:"https://css-tricks.com/the-css-custom-property-toggle-trick",logo:"https://css-tricks/favicon.svg",preview:"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/custom-properties-code.png"}),e[19]||(e[19]=t("p",null,"Back in July 2020, I got an email from James0x57 (I always try to refer to people by their name, but I think I get the sense they prefer to go by screen name) that says:",-1)),e[20]||(e[20]=t("blockquote",null,[t("p",null,"The entire world of branching conditional logic and bulk feature toggling for custom CSS properties is possible and only exists because of a tiny footnote in the CSS spec that has gone unnoticed.")],-1)),t("p",null,[t("a",w,[o(n,{icon:"iconfont icon-w3c"}),e[0]||(e[0]=s("That line",-1))]),e[1]||(e[1]=s(" is:",-1))]),t("div",S,[t("p",T,[e[2]||(e[2]=s("(",-1)),o(n,{icon:"iconfont icon-w3c"}),e[3]||(e[3]=t("code",null,"w3.org",-1)),e[4]||(e[4]=s(")",-1))]),e[5]||(e[5]=t("p",null,[s("While "),t("code",null,"<declaration-value>"),s(" must represent at least one token, that one token may be whitespace.")],-1)),o(i,p(c({title:"CSS Custom Properties for Cascading Variables Module Level 1",desc:"The allowed syntax for custom properties is extremely permissive. The <declaration-value> production matches any sequence of one or more tokens, so long as the sequence does not contain ...",link:"https://w3.org/TR/css-variables-1/#syntax/",logo:"https://w3.org/favicon.ico",background:"rgba(0,90,156,0.2)"})),null,16)]),e[21]||(e[21]=t("p",null,[s("In other words, "),t("code",null,"--foo: ;"),s(" is valid.")],-1)),e[22]||(e[22]=t("p",null,[s("If you‚Äôre like me, this doesn‚Äôt read as some massive revelation that unlocks huge doors, but to smarter people, like James0x57, it does! We started working on a draft blog post, but for various reasons it didn‚Äôt make it all the way here. One of those reasons is that "),t("em",null,"I just wasn‚Äôt getting it."),s(" Call me dense, sorry James0x57. One demo they sent me when I asked for a super dumbed-down example was helpful though, and I think it‚Äôs kind of clicked for me. Here‚Äôs my interpretation:")],-1)),o(u,{user:"anon","slug-hash":"abZBXde",title:"CSS Custom Property Toggle","default-tab":["css","result"],theme:r.dark},null,8,["theme"]),e[23]||(e[23]=l("<p>Let me attempt to explain:</p><ul><li>The breakpoint we‚Äôve set up here is a 900px <code>max-width</code> media query. You can see that‚Äôs where the variable <code>--mq-sm</code> flops from <code>initial</code> to an empty space value.</li><li>When the browser window is wider than 900px, that the value of <code>--mq-sm</code> is <code>initial</code>. <ul><li>That makes the variable <code>--padding-when-small</code> contain two values ‚Äî <code>initial</code> and <code>2rem</code> ‚Äîwhich, I guess is <strong>invalid</strong>.</li><li>So when we actually set the padding and call that variable like <code>padding: var(--padding-when-small, var(--padding-when-large))</code>, the <strong>second</strong> value (the ‚Äúfallback‚Äù) is used because the first value is invalid.</li></ul></li><li>When the browser window is narrower than 900px, the <code>--mq-sm</code> value is a space. <ul><li>That makes the variable <code>--padding-when-small</code> value <code>&quot;(space)2rem&quot;</code> which, I guess is <strong>valid</strong>.</li><li>That means when we actually set the padding and call that variable like <code>padding: var(--padding-when-small, var(--padding-when-large))</code>, the <strong>first</strong> value is used.</li></ul></li></ul><p>So, now we can flip the padding between two values by changing a placeholder variable.</p><p>That clicks for me.</p><p>When I see this as simply changing a single value, it‚Äôs almost like <em>uh, ok, you‚Äôve found a really complex way to change some padding, but you could have just changed the padding in the media query.</em> But the trick is that <strong>now we have this placeholder variable that has changed and we can key into that to change unlimited other values</strong>.</p><p>We could have <strong>a single media query</strong> (or set of media queries) in our CSS that only toggles these placeholder variables and we use elsewhere to toggle values. That could be nice and clean compared to sprinkling media queries all over the CSS. It‚Äôs a proper toggle in CSS, like a form of IF/THEN logic that we haven‚Äôt quite had before.</p>",6)),t("p",null,[e[9]||(e[9]=s("James0x57 extended that thinking to all the logical possibilities, like AND, OR, XOR, NAND, NOR, and XNOR, but that lost me again. Not really a computer scientist over here. ",-1)),t("a",C,[e[6]||(e[6]=s("But you can follow their work (",-1)),o(n,{icon:"iconfont icon-github"}),e[7]||(e[7]=t("code",null,"propjockey/aug-attr-spliced.js",-1)),e[8]||(e[8]=s(")",-1))]),e[10]||(e[10]=s(" if you want to see real world usage of this stuff.",-1))]),t("p",null,[e[12]||(e[12]=s("This variable stuff is wild and gets very confusing. I noted in a possibly recent (but the byline says 2015?) ",-1)),t("a",I,[o(n,{icon:"fas fa-globe"}),e[11]||(e[11]=s("article",-1))]),e[13]||(e[13]=s(" from Patrick Brosset that covers some tricky CSS custom properties stuff. For example, fallbacks can be infinitely nested, like:",-1))]),e[24]||(e[24]=l(`<div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--foo<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--bar<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--baz<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--are<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--you<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--crazy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Also, valid values for CSS custom properties can have commas in them like this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--foo<span class="token punctuation">,</span> one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Is that really just one fallback with a single <code>one, two, three</code> value? This is rather mind-bending.</p>`,4)),t("p",null,[e[15]||(e[15]=s("Anyway, fast-forward a bunch of months now, and CSS trickery master Lea Verou has ",-1)),t("a",x,[o(n,{icon:"fas fa-globe"}),e[14]||(e[14]=s("set her sights",-1))]),e[16]||(e[16]=s(" on this whitespace-in-custom-properties stuff:",-1))]),e[25]||(e[25]=t("blockquote",null,[t("p",null,"What if I told you you could use a single property value to turn multiple different values on and off across multiple different properties and even across multiple CSS rules?")],-1)),e[26]||(e[26]=t("p",null,"It‚Äôs the same trick! In Lea‚Äôs example, though, she uses this ability to:",-1)),e[27]||(e[27]=t("ul",null,[t("li",null,"set variations on a button, and"),t("li",null,"set four different properties rather than one.")],-1)),e[28]||(e[28]=t("p",null,"This really hones in on why this is the concept is so cool.",-1)),o(u,{user:"anon","slug-hash":"YzWpBaV",title:"CSS Toggle with CSS Custom Properties","default-tab":["css","result"],theme:r.dark},null,8,["theme"]),e[29]||(e[29]=l("<p>Lea points to some downsides:</p><blockquote><p>There is no way to say ‚Äúthe background should be red if <code>--foo</code> is set and white otherwise‚Äù. Some such conditionals can be emulated with clever use of appending, but not most.</p><p>And of course there‚Äôs a certain readability issue: <code>--foo: ;</code> looks like a mistake and <code>--foo: initial</code> looks pretty weird, unless you‚Äôre aware of this technique.</p></blockquote><p>We‚Äôre certainly entering the next era of how custom properties are used. First, we used them like preprocessor variables. Then we started seeing more cascade and fallback usage. Next, we used it alongside JavaScript more frequently. Now this.</p><p>There is even more writing about keeping CSS preprocessor variables around, not so much for the times when you only need what they can do, but for the things that only they can do, like having their color values manipulated.</p>",4)),g(" TODO: add ARTICLE CARD "),o(i,p(c({title:"The CSS Custom Property Toggle Trick",desc:"Back in July 2020, I got an email from James0x57 (I always try to refer to people by their name, but I think I get the sense they prefer to go by screen name)",link:"https://chanhi2000.github.io/bookshelf/css-tricks.com/the-css-custom-property-toggle-trick.html",logo:"https://css-tricks/favicon.svg",background:"rgba(17,17,17,0.2)"})),null,16)])}const N=h(f,[["render",P]]),B=JSON.parse('{"path":"/css-tricks.com/the-css-custom-property-toggle-trick.html","title":"The CSS Custom Property Toggle Trick","lang":"en-US","frontmatter":{"lang":"en-US","title":"The CSS Custom Property Toggle Trick","description":"Article(s) > The CSS Custom Property Toggle Trick","icon":"fa-brands fa-css3-alt","category":["CSS","Article(s)"],"tag":["blog","css-tricks.com","css"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"The CSS Custom Property Toggle Trick\\",\\"image\\":[\\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/custom-properties-code.png\\"],\\"datePublished\\":\\"2020-10-29T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Chris Coyier\\",\\"url\\":\\"https://css-tricks.com/author/chriscoyier/\\"}]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/css-tricks.com/the-css-custom-property-toggle-trick.html"}],["meta",{"property":"og:site_name","content":"üìöBookshelf"}],["meta",{"property":"og:title","content":"The CSS Custom Property Toggle Trick"}],["meta",{"property":"og:description","content":"Article(s) > The CSS Custom Property Toggle Trick"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/custom-properties-code.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/custom-properties-code.png"}],["meta",{"name":"twitter:image:alt","content":"The CSS Custom Property Toggle Trick"}],["meta",{"property":"article:author","content":"Chris Coyier"}],["meta",{"property":"article:tag","content":"css"}],["meta",{"property":"article:tag","content":"css-tricks.com"}],["meta",{"property":"article:tag","content":"blog"}],["meta",{"property":"article:published_time","content":"2020-10-29T00:00:00.000Z"}],[{"meta":null},{"property":"og:title","content":"Article(s) > The CSS Custom Property Toggle Trick"},{"property":"og:description","content":"The CSS Custom Property Toggle Trick"},{"property":"og:url","content":"https://chanhi2000.github.io/bookshelf/css-tricks.com/the-css-custom-property-toggle-trick.html"}]],"prev":"/programming/css/articles/README.md","date":"2020-10-29T00:00:00.000Z","isOriginal":false,"author":[{"name":"Chris Coyier","url":"https://css-tricks.com/author/chriscoyier/"}],"cover":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/custom-properties-code.png"},"git":{},"readingTime":{"minutes":4.31,"words":1292},"filePathRelative":"css-tricks.com/the-css-custom-property-toggle-trick.md","copyright":{"author":"Chris Coyier"}}');export{N as comp,B as data};
