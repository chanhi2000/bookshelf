---
lang: ko-KR
title: 개발자가 알아두면 좋은 '코드형 인프라(IaC)' 개념 정리
description: Article(s) > 개발자가 알아두면 좋은 '코드형 인프라(IaC)' 개념 정리
icon: fas fa-user-tie
category: 
  - DevOps
  - IaC
  - Terraform
  - Ansible
  - Article(s)
tag: 
  - blog
  - yozm.wishket.com
  - devops
  - iac
  - infrastructure-as-code
  - terraform
  - ansible
head:
  - - meta:
    - property: og:title
      content: "Article(s) > 개발자가 알아두면 좋은 ‘코드형 인프라(IaC)’ 개념 정리"
    - property: og:description
      content: "개발자가 알아두면 좋은 ‘코드형 인프라(IaC)’ 개념 정리"
    - property: og:url
      content: https://chanhi2000.github.io/bookshelf/yozm.wishket.com/2464.html
prev: /devops/terraform/articles/README.md
date: 2024-02-21
isOriginal: false
author:
  - name: 테크유람
    url : https://yozm.wishket.com/magazine/@techtrip/
cover: https://yozm.wishket.com/media/news/2464/image2.png
---

# {{ $frontmatter.title }} 관련

```component VPCard
{
  "title": "Terraform > Article(s)",
  "desc": "Article(s)",
  "link": "/devops/terraform/articles/README.md",
  "logo": "https://chanhi2000.github.io/images/ico-wind.svg",
  "background": "rgba(10,10,10,0.2)"
}
```

```component VPCard
{
  "title": "Ansible > Article(s)",
  "desc": "Article(s)",
  "link": "/devops/ansible/articles/README.md",
  "logo": "https://chanhi2000.github.io/images/ico-wind.svg",
  "background": "rgba(10,10,10,0.2)"
}
```
[[toc]]

---

<SiteInfo
  name="개발자가 알아두면 좋은 ‘코드형 인프라(IaC)’ 개념 정리"
  desc="소프트웨어 개발 기술의 발전과 함께 코딩을 사용한 ‘인프라스트럭처(Infrastructure)’ 관리 방식 또한 혁신적으로 변화하고 있습니다. 그중에서도 코드로서의 인프라스트럭처라는 개념을 가진 ‘코드형 인프라(IaC)’기술은 현대적이고 효율적인 방식으로, IT 서비스의 근간인 인프라를 생성 및 관리하는 핵심 개념 중 하나입니다. 이번 글에서는 IaC의 개념과 이점, 주요 도구에 관해 알아보겠습니다."
  url="https://yozm.wishket.com/magazine/detail/2464/"
  logo="https://yozm.wishket.com/favicon.ico"
  preview="https://yozm.wishket.com/media/news/2464/image2.png"/>

소프트웨어 개발 기술의 발전과 함께 코딩을 사용한 ‘인프라스트럭처(Infrastructure)’ 관리 방식 또한 혁신적으로 변화하고 있습니다. 그중에서도 코드로서의 인프라스트럭처라는 개념을 가진 ‘코드형 인프라(IaC)’기술은 현대적이고 효율적인 방식으로, IT 서비스의 근간인 인프라를 생성 및 관리하는 핵심 개념 중 하나입니다. 이번 글에서는 IaC의 개념과 이점, 주요 도구에 관해 알아보겠습니다.

---

## 코드형 인프라 기술이란?

코드형 인프라(Infrastructure as Code)는 단어 그대로, 인프라스트럭처를 코드로 정의하고 관리하는 방식을 의미합니다. 이는 기존의 수동적인 수작업 중심의 인프라스트럭처 관리 방법에서 벗어나, 자동화와 코드화를 통해 인프라스트럭처를 효과적으로 관리하는 새로운 접근 방식을 제시합니다.

코드로 인프라를 정의함으로써 반복적인 인프라 생성 과정을 간단하게 코드로 수행하거나, 인프라에 발생한 변경 사항을 마치 소프트웨어의 버전처럼 제어합니다. 또한 정형화된 배포 방식을 통해 시스템의 개발, 생성 및 운영 프로세스를 더욱 효율적으로 만들어줍니다.

![](https://yozm.wishket.com/media/news/2464/image2.png)

---

## 코드형 인프라 기술이 환영받는 이유

그렇다면 코드형 인프라 기술이 개발자, 인프라 담당자 혹은 클라우드 엔지니어들에게 각광받는 이유는 무엇일까요?

### 1. 자동화된 프로비저닝

코드를 사용하여 인프라스트럭처를 생성하므로, 새로운 환경을 자동으로 프로비저닝하고 반복 가능하게 만듭니다. 특히 동일한 형상의 환경을 마치 복제하듯이 여러 벌 만드는 경우, 코드로 정의된 인프라는 일관성을 제공하며, 사람의 실수나 환경 간의 차이를 줄여줍니다. 더 많은 시간과 노력을 아낄 수 있죠.

### 2. 유연성과 확장성

코드를 통해 인프라를 정의하면, 인프라 확장이나 축소가 필요한 경우 유연하게 기존 인프라에 대한 스케일을 쉽게 늘리거나 줄일 수 있습니다.

### 3. 문서화와 투명성을 통합 협업

코드는 문서화의 역할을 하며, 변경 사항에 대한 투명성을 제공하여 팀 간 협업을 강화합니다. 코드를 공유하고 검토하는 것이 간편하며, 표준화된 방식으로 인프라를 정의할 수 있기 때문입니다.

### 4. 인프라 버전 관리

코드로 정의된 인프라는 버전 관리 시스템을 활용할 수 있어, 변경 이력을 추적하고 롤백이 가능합니다. 또한 변경 이력을 추적할 수 있으니, 감사 및 보안 요구사항을 충족시킬 때도 도움이 됩니다. 보안 정책이나 감사 기준을 코드에 포함해 보안 사고를 예방 및 관리할 수 있죠.

또한 IaC를 통해 그동안 엔지니어가 수동 작업을 통해 만든 인프라들이 정확한 코드의 명령 체계로 움직이기 때문에, IT 엔지니어는 소프트웨어 개발에 좀 더 집중할 수 있습니다. 빠르게 변화하는 환경에서 유연성, 안정성, 자동화, 협업, 표준화 등의 이점을 제공하여, 클라우드 및 온프레미스 인프라스트럭처 관리에 혁신을 가져왔습니다.

::: info 주요 코드형 인프라 도구

코드형 인프라를 수행 시 템플릿은 주로 정적이고 선언적인 방식으로, 인프라스트럭처를 정의하는 데 사용됩니다. 템플릿은 JSON이나 YAML과 같은 특정 형식으로 작성된 파일로, 인프라 리소스의 구성과 관계를 표현하는데요. 스크립트는 프로그래밍 언어 방식을 사용하여 동적이고 절차적인 작업을 수행합니다. 정책은 주로 보안, 규정 준수, 리소스 제어 등과 관련된 규칙을 정의하고 시행하는 데 사용됩니다.

코드형 인프라에서는 정책 역시 코드로 작성되어 관리되며, 리소스를 생성하거나 변경할 때 적용될 수 있습니다. 이것은 코드형 인프라도구에서 함께 사용되어 코드를 활용한 클라우드 리소스, 데이터 센터 기반의 인프라, 네트워크, 보안 설정, 애플리케이션 등 다양한 리소스 생성과 관리의 이점을 최대한 활용합니다.

![](https://yozm.wishket.com/media/news/2464/image1.png)

:::

다음으로 현업에서 주로 사용하는 코드형 인프라 도구를 소개합니다.

### 1. 테라폼 (Terraform)

테라폼은 다양한 클라우드 프로바이더 및 온-프렘 기반의 인프라스트럭처를 지원하는 자동화 도구입니다. 선언적인 언어로 구성되어 있어 변경을 예측하고 관리하기 쉽습니다. 테라폼 코드는 기본적으로 HCL(HashiCorp Configuration Language)을 사용하며, 이를 통해 인프라스트럭처를 선언적으로 정의할 수 있습니다. 코드 실행 후에는 테라폼이 자동으로 해당 인프라를 프로비저닝하게 됩니다.

아래는 간단한 테라폼 예제 코드로, 아마존 웹 서비스(AWS) 클라우드 환경에서 EC2 인스턴스를 생성하는 코드입니다. 이 코드는 인스턴스의 위치, 이미지, 규격 등을 결정하고 이에 맞게 생성하며, 인스턴스에 웹 서버까지 설치하는 역할을 수행합니다.

```tf title="main.tf"
provider "aws" {
  region = "us-east-1"  # AWS 지역 설정
}

resource "aws_instance" "example" {
  ami = "ami-0c55b159cbfafe1f0"  # Amazon Linux 2 AMI
  instance_type = "t2.micro"
  
  tags = {
    Name = "example-instance"
  }

  provisioner "remote-exec" {
    inline = [
      "sudo yum install -y httpd",
      "sudo systemctl start httpd",
    ]
  }
}
```

위 코드 예제는 제일 먼저 특정 인프라스트럭처 플랫폼과의 상호 작용을 담당하는 구성 요소인 프로바이더를  아마존 웹 서비스로 설정하고, 인프라가 배포될 클라우드의 특정 지역을 명시합니다. 그 후 운영체제와 스펙을 정의한 대로 EC2 가상 머신을 생성하고, 해당 인스턴스가 생성되어 시작된 후에 실행될 명령을 정의합니다. 예제의 마지막 부분에서는 웹 서버를 설치하고, 이것을 실행하는 명령을 포함하고 있습니다.

### 2. 앤서블(Ansible)

앤서블은 IT 환경에서 시스템 설정, 소프트웨어 배포, 작업 자동화 등 다양한 작업을 자동화하는 데 사용됩니다. 또한 앤서블은 간단한 YAML 파일을 사용하여 작업을 정의하고, SSH 또는 WinRM을 통해 원격 시스템에 명령을 실행하거나 설정을 관리할 수 있습니다. 에이전트 없이 동작하며, SSH를 통해 호스트에 명령을 전달합니다. 즉, 개발자의 PC에서 명령을 수행하면 이것이 대상 시스템에 전달되는 구조입니다.

앤서블은 선언적 모델을 사용하며, 앤서블 Playbooks라고 알려진 YAML 기반의 언어를 통해 인프라스트럭처 및 애플리케이션의 원하는 상태를 정의합니다. 이것은 어떤 명령을 실행해야 하는지 명시적으로 기술하는 대신, 원하는 최종 상태를 정의하고 앤서블이 해당 상태로 수렴하도록 합니다.

아래는 YAML 파일로 작성된 간단한 앤서블 Playbooks 코드 예제입니다.

```yaml title="ansible-playbook.yaml"
- name: Install and configure Nginx
  hosts: web_servers
  become: true  # 사용자 권한 상승

  tasks:
    - name: Update apt cache
      apt:
        update_cache: yes

    - name: Install Nginx
      apt:
        name: nginx
        state: present

    - name: Copy Nginx configuration file
      copy:
        src: files/nginx.conf
        dest: /etc/nginx/nginx.conf
      notify: Restart Nginx  # 변경 사항이 있을 경우 Nginx 재시작을 알림

  handlers:
    - name: Restart Nginx
      service:
        name: nginx
        state: restarted
```

위 예제는 앤서블을 사용해 웹 서버 그룹 `web_servers`에 Nginx를 설치하고, 구성하는 작업을 정의한 것입니다. 코드를 해석하면 apt 패키지 관리자를 통해 Nginx를 설치하여 웹 서버에 필요한 소프트웨어를 배포합니다. 또한 사전에 정의된 Nginx 구성 파일(`files/`<VPIcon icon="fas fa-gears"/>`nginx.conf`)을 대상 서버로 복사하고, 변경이 있으면 Nginx 서비스를 재시작하여 새로운 구성을 적용합니다.

---

## 마치며

지금까지 살펴본 것처럼 코드형 인프라는 현대적인 개발 및 운영 환경에서 필수적인 도구로 자리 잡고 있습니다. 또한 코드로 인프라를 정의함으로써 생기는 이점은 기존 방식과 비교해, 효율성과 안정성을 크게 향상시키고 있는데요. 앞으로 IT 환경에서 코드형 인프라는 더욱 중요한 역할을 할 것으로 기대되며, 개발자로서 이 기술에 주목할 필요가 있습니다.

<!-- TODO: add ARTICLE CARD -->
```component VPCard
{
  "title": "개발자가 알아두면 좋은 ‘코드형 인프라(IaC)’ 개념 정리",
  "desc": "소프트웨어 개발 기술의 발전과 함께 코딩을 사용한 ‘인프라스트럭처(Infrastructure)’ 관리 방식 또한 혁신적으로 변화하고 있습니다. 그중에서도 코드로서의 인프라스트럭처라는 개념을 가진 ‘코드형 인프라(IaC)’기술은 현대적이고 효율적인 방식으로, IT 서비스의 근간인 인프라를 생성 및 관리하는 핵심 개념 중 하나입니다. 이번 글에서는 IaC의 개념과 이점, 주요 도구에 관해 알아보겠습니다.",
  "link": "https://chanhi2000.github.io/bookshelf/yozm.wishket.com/2464.html",
  "logo": "https://yozm.wishket.com/favicon.ico",
  "background": "rgba(84,7,224,0.2)"
}
```
