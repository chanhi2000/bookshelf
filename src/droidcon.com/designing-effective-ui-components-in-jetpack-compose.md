---
lang: en-US
title: "Designing Effective UI Components in Jetpack Compose"
description: "Article(s) > Designing Effective UI Components in Jetpack Compose"
icon: fa-brands fa-android
category:
  - Java
  - Kotlin
  - Android
  - Article(s)
tag:
  - blog
  - droidcon.com
  - java
  - kotlin
  - android
head:
  - - meta:
    - property: og:title
      content: "Article(s) > Designing Effective UI Components in Jetpack Compose"
    - property: og:description
      content: "Designing Effective UI Components in Jetpack Compose"
    - property: og:url
      content: https://chanhi2000.github.io/bookshelf/droidcon.com/designing-effective-ui-components-in-jetpack-compose.html
prev: /programming/java-android/articles/README.md
date: 2025-02-13
isOriginal: false
author: Jaewoong Eum
cover: https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PwVzAjyhIPGIgrT0
---

# {{ $frontmatter.title }} 관련

```component VPCard
{
  "title": "Android > Article(s)",
  "desc": "Article(s)",
  "link": "/programming/java-android/articles/README.md",
  "logo": "/images/ico-wind.svg",
  "background": "rgba(10,10,10,0.2)"
}
```

[[toc]]

---

<SiteInfo
  name="Designing Effective UI Components in Jetpack Compose"
  desc="Since Google announced the Jetpack Compose 1.0 stable release, many companies have adopted Jetpack Compose to leverage its numerous advantages. With Compose’s widespread adoption across the Android ecosystem, libraries and SDKs have also begun integrating support for Compose."
  url="https://droidcon.com/2025/02/13/designing-effective-ui-components-in-jetpack-compose"
  logo="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png"
  preview="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PwVzAjyhIPGIgrT0"/>

![](https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PwVzAjyhIPGIgrT0)

Since[<FontIcon icon="fa-brands fa-android"/>Google announced the Jetpack Compose 1.0 stable release](https://android-developers.googleblog.com/2021/07/jetpack-compose-announcement.html), many companies have adopted Jetpack Compose to leverage its numerous advantages. With Compose’s widespread adoption across the Android ecosystem, libraries and SDKs have also begun integrating support for Compose.

Traditionally, in XML-based projects, UI components were delivered as custom views with customizable options via attributes. While this approach made it easy to integrate components into XML layouts, it introduced challenges such as inconsistencies in applying theme styles across multiple components and the misuse of APIs due to exposed methods from the underlying`View`class.

Jetpack Compose offers a fundamentally different strategy for designing components compared to traditional custom views. Its declarative structure allows for more intuitive and flexible API design. This shift not only benefits library and SDK developers but also large teams building shared UI components, enabling them to enforce better practices, reduce misuse, and enhance the overall developer experience.

In this article, you will discover effective strategies for designing UI components in Jetpack Compose, drawing on best practices from the[Stream Video SDK](https://getstream.io/video/sdk/android/).

###### Best Practices for Modifier

The[Modifier](https://developer.android.com/develop/ui/compose/modifiers)is a powerful API in Jetpack Compose that enables you to decorate and augment UI elements in a chained and composable manner. However, it should be used thoughtfully, as its properties can propagate to other composable functions, potentially leading to unintended effects if not managed properly.

The order of modifier functions is especially crucial, as each function modifies the`Modifier`returned by the previous one or the`Modifier`passed from outside the composable. This sequencing directly impacts the final output. In this section, we’ll explore three key principles and best practices that can guide you in designing effective and predictable UI component APIs in Jetpack Compose.

###### 1. Apply Modifiers to the top-most layout of the component

Modifiers in Jetpack Compose are passed down through the layout hierarchy, but they should ideally be applied only to the top-most layout node in your composable function. Applying modifiers at arbitrary levels within the hierarchy can lead to unexpected behavior and increase the likelihood of misuse by users, making your component less predictable and harder to use effectively.

For instance, imagine you want to create a component that represents a rounded shape button like the example below:

<!-- <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="modifier.kt"><tbody><tr class="line"><td id="file-modifier-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-modifier-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-modifier-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-modifier-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">fun</span> <span class="pl-en">RoundedButton</span>(</td></tr><tr class="line"><td id="file-modifier-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-modifier-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">modifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-modifier-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-modifier-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onClick</span><span class="pl-k">:</span> () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span></td></tr><tr class="line"><td id="file-modifier-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-modifier-kt-LC5" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-modifier-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-modifier-kt-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Button</span>(</td></tr><tr class="line"><td id="file-modifier-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-modifier-kt-LC7" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier.clip(<span class="pl-en">RoundedCornerShape</span>(<span class="pl-c1">32</span>.dp)),</td></tr><tr class="line"><td id="file-modifier-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-modifier-kt-LC8" class="blob-code blob-code-inner js-file-line">onClick <span class="pl-k">=</span> onClick</td></tr><tr class="line"><td id="file-modifier-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-modifier-kt-LC9" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-modifier-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-modifier-kt-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Text</span>(</td></tr><tr class="line"><td id="file-modifier-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-modifier-kt-LC11" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> <span class="pl-en">Modifier</span>.padding(<span class="pl-c1">10</span>.dp),</td></tr><tr class="line"><td id="file-modifier-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-modifier-kt-LC12" class="blob-code blob-code-inner js-file-line">text <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Rounded<span class="pl-pds">"</span></span></td></tr><tr class="line"><td id="file-modifier-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-modifier-kt-LC13" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-modifier-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-modifier-kt-LC14" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-modifier-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-modifier-kt-LC15" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/1cc742a870de98143b89ffe4b7378991/raw/c571ba8c999199d2f8afabfd226d1757255c2be2/modifier.kt) [modifier.kt](https://gist.github.com/skydoves/1cc742a870de98143b89ffe4b7378991#file-modifier-kt) hosted with ❤ by [GitHub](https://github.com)

However, you shouldn’t apply the Modifier into`Text`instead of the`Button`, which is the top-most composable function in the layout hierarchy like the below:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="modifier.kt"><tbody><tr class="line"><td id="file-modifier-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-modifier-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-modifier-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-modifier-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">fun</span> <span class="pl-en">RoundedButton</span>(</td></tr><tr class="line"><td id="file-modifier-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-modifier-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">modifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-modifier-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-modifier-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onClick</span><span class="pl-k">:</span> () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span></td></tr><tr class="line"><td id="file-modifier-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-modifier-kt-LC5" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-modifier-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-modifier-kt-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Button</span>(</td></tr><tr class="line"><td id="file-modifier-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-modifier-kt-LC7" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> <span class="pl-en">Modifier</span>.clip(<span class="pl-en">RoundedCornerShape</span>(<span class="pl-c1">32</span>.dp)),</td></tr><tr class="line"><td id="file-modifier-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-modifier-kt-LC8" class="blob-code blob-code-inner js-file-line">onClick <span class="pl-k">=</span> onClick</td></tr><tr class="line"><td id="file-modifier-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-modifier-kt-LC9" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-modifier-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-modifier-kt-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Text</span>(</td></tr><tr class="line"><td id="file-modifier-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-modifier-kt-LC11" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier.padding(<span class="pl-c1">10</span>.dp), <span class="pl-c"><span class="pl-c">//</span> Don't do this</span></td></tr><tr class="line"><td id="file-modifier-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-modifier-kt-LC12" class="blob-code blob-code-inner js-file-line">text <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Rounded<span class="pl-pds">"</span></span></td></tr><tr class="line"><td id="file-modifier-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-modifier-kt-LC13" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-modifier-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-modifier-kt-LC14" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-modifier-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-modifier-kt-LC15" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/8ce88a0f7ae637868a783a1795ab7f06/raw/62ad021a9027f3741ccf32ed0608e660d01ccb8a/modifier.kt) [modifier.kt](https://gist.github.com/skydoves/8ce88a0f7ae637868a783a1795ab7f06#file-modifier-kt) hosted with ❤ by [GitHub](https://github.com)

The primary purpose of the custom composable function,`RoundedButton`, is to represent a`Button`, not a`Text`. Therefore, you should avoid shifting the focus or purpose of the primary component you are creating.

Additionally, if the layout hierarchy becomes complex and you apply the`Modifier`at an intermediate level within the composable function, it can be challenging for users to predict which component the provided`Modifier`parameter will ultimately affect. This lack of clarity can lead to confusion and misuse.

If you want to give users the flexibility to modify the internal content of the`Button`, you can achieve this by using a slot, as demonstrated in the example below:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="modifier.kt"><tbody><tr class="line"><td id="file-modifier-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-modifier-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-modifier-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-modifier-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">fun</span> <span class="pl-en">RoundedButton</span>(</td></tr><tr class="line"><td id="file-modifier-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-modifier-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">modifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-modifier-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-modifier-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onClick</span><span class="pl-k">:</span> () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span>,</td></tr><tr class="line"><td id="file-modifier-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-modifier-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">content</span><span class="pl-k">:</span> @Composable <span class="pl-en">RowScope</span>.() <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span></td></tr><tr class="line"><td id="file-modifier-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-modifier-kt-LC6" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-modifier-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-modifier-kt-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Button</span>(</td></tr><tr class="line"><td id="file-modifier-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-modifier-kt-LC8" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier.clip(<span class="pl-en">RoundedCornerShape</span>(<span class="pl-c1">32</span>.dp)),</td></tr><tr class="line"><td id="file-modifier-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-modifier-kt-LC9" class="blob-code blob-code-inner js-file-line">onClick <span class="pl-k">=</span> onClick</td></tr><tr class="line"><td id="file-modifier-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-modifier-kt-LC10" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-modifier-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-modifier-kt-LC11" class="blob-code blob-code-inner js-file-line">content()</td></tr><tr class="line"><td id="file-modifier-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-modifier-kt-LC12" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-modifier-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-modifier-kt-LC13" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/6914bc5826a0839145f7d3cd1411a4cf/raw/0424514076437e6b813b2383d239304163787138/modifier.kt) [modifier.kt](https://gist.github.com/skydoves/6914bc5826a0839145f7d3cd1411a4cf#file-modifier-kt) hosted with ❤ by [GitHub](https://github.com)

###### 2. Use single parameter for Modifier

You might wonder if it’s possible to accept multiple`Modifier` parameters to apply to specific components in the layout hierarchy while restricting the structure of a component, as shown in the example below:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="single_modifier.kt"><tbody><tr class="line"><td id="file-single_modifier-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-single_modifier-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-single_modifier-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-single_modifier-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">fun</span> <span class="pl-en">RoundedButton</span>(</td></tr><tr class="line"><td id="file-single_modifier-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-single_modifier-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">modifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-single_modifier-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-single_modifier-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">textModifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-single_modifier-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-single_modifier-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onClick</span><span class="pl-k">:</span> () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span>,</td></tr><tr class="line"><td id="file-single_modifier-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-single_modifier-kt-LC6" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-single_modifier-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-single_modifier-kt-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Button</span>(</td></tr><tr class="line"><td id="file-single_modifier-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-single_modifier-kt-LC8" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier.clip(<span class="pl-en">RoundedCornerShape</span>(<span class="pl-c1">32</span>.dp)),</td></tr><tr class="line"><td id="file-single_modifier-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-single_modifier-kt-LC9" class="blob-code blob-code-inner js-file-line">onClick <span class="pl-k">=</span> onClick</td></tr><tr class="line"><td id="file-single_modifier-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-single_modifier-kt-LC10" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-single_modifier-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-single_modifier-kt-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Text</span>(</td></tr><tr class="line"><td id="file-single_modifier-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-single_modifier-kt-LC12" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> textModifier.padding(<span class="pl-c1">10</span>.dp),</td></tr><tr class="line"><td id="file-single_modifier-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-single_modifier-kt-LC13" class="blob-code blob-code-inner js-file-line">text <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Rounded<span class="pl-pds">"</span></span></td></tr><tr class="line"><td id="file-single_modifier-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-single_modifier-kt-LC14" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-single_modifier-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-single_modifier-kt-LC15" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-single_modifier-kt-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td><td id="file-single_modifier-kt-LC16" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/846e68ce2f2eae9d672405cff78ee097/raw/7999d3ae8f33d2d4c0ef26794fc23d26a76c0815/single_modifier.kt) [single_modifier.kt](https://gist.github.com/skydoves/846e68ce2f2eae9d672405cff78ee097#file-single_modifier-kt) hosted with ❤ by [GitHub](https://github.com)

However, the`Modifier`is inherently designed to be a single, chainable parameter, enabling users to define the external behavior and appearance of a Composable function. Introducing multiple`Modifier`parameters in a Composable adds unnecessary complexity, increases the risk of misuse, and deviates from Jetpack Compose’s principle of keeping APIs intuitive and predictable.

It’s better to use a slot-based approach to give users the flexibility to customize internal content. For instance, rather than adding multiple`Modifier`parameters, you can define a slot that allows users to provide custom content while still maintaining a single`Modifier`for external customization.

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="modifier.kt"><tbody><tr class="line"><td id="file-modifier-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-modifier-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-modifier-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-modifier-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">fun</span> <span class="pl-en">RoundedButton</span>(</td></tr><tr class="line"><td id="file-modifier-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-modifier-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">modifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-modifier-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-modifier-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onClick</span><span class="pl-k">:</span> () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span>,</td></tr><tr class="line"><td id="file-modifier-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-modifier-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">content</span><span class="pl-k">:</span> @Composable <span class="pl-en">RowScope</span>.() <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span></td></tr><tr class="line"><td id="file-modifier-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-modifier-kt-LC6" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-modifier-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-modifier-kt-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Button</span>(</td></tr><tr class="line"><td id="file-modifier-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-modifier-kt-LC8" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier.clip(<span class="pl-en">RoundedCornerShape</span>(<span class="pl-c1">32</span>.dp)),</td></tr><tr class="line"><td id="file-modifier-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-modifier-kt-LC9" class="blob-code blob-code-inner js-file-line">onClick <span class="pl-k">=</span> onClick</td></tr><tr class="line"><td id="file-modifier-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-modifier-kt-LC10" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-modifier-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-modifier-kt-LC11" class="blob-code blob-code-inner js-file-line">content()</td></tr><tr class="line"><td id="file-modifier-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-modifier-kt-LC12" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-modifier-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-modifier-kt-LC13" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/6914bc5826a0839145f7d3cd1411a4cf/raw/0424514076437e6b813b2383d239304163787138/modifier.kt) [modifier.kt](https://gist.github.com/skydoves/6914bc5826a0839145f7d3cd1411a4cf#file-modifier-kt) hosted with ❤ by [GitHub](https://github.com)

###### 3. Avoid reusing Modifiers across components

Another important consideration when designing components is to avoid reusing the provided`Modifier`instances. Some developers might worry that creating new instances of`Modifier`for every component could lead to increased memory usage or negatively impact performance, especially in complex layout hierarchies with numerous modifiers.

However, this concern is generally unfounded due to the optimized nature of`Modifier`implementation in Jetpack Compose. Modifiers are intended to be applied to a single layout node within a Composable function, ensuring clear and predictable behavior. If the same Modifier is used across multiple composables at different levels in the layout hierarchy, it can lead to unintended side effects and unpredictable behavior, compromising the consistency and usability of the component.

For instance, consider a scenario where the same`Modifier`parameter is reused across the entire layout hierarchy, as shown in the example below:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="reused_modifiers.kt"><tbody><tr class="line"><td id="file-reused_modifiers-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-reused_modifiers-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-reused_modifiers-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">fun</span> <span class="pl-en">MyButtons</span>(</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-reused_modifiers-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">modifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-reused_modifiers-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onClick</span><span class="pl-k">:</span> () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span>,</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-reused_modifiers-kt-LC5" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-reused_modifiers-kt-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Column</span>(modifier <span class="pl-k">=</span> modifier) {</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-reused_modifiers-kt-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Button</span>(</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-reused_modifiers-kt-LC8" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier,</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-reused_modifiers-kt-LC9" class="blob-code blob-code-inner js-file-line">onClick <span class="pl-k">=</span> onClick</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-reused_modifiers-kt-LC10" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-reused_modifiers-kt-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Text</span>(</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-reused_modifiers-kt-LC12" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier.padding(<span class="pl-c1">10</span>.dp),</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-reused_modifiers-kt-LC13" class="blob-code blob-code-inner js-file-line">text <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Rounded<span class="pl-pds">"</span></span></td></tr><tr class="line"><td id="file-reused_modifiers-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-reused_modifiers-kt-LC14" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-reused_modifiers-kt-LC15" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td><td id="file-reused_modifiers-kt-LC16" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-reused_modifiers-kt-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td><td id="file-reused_modifiers-kt-LC17" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Button</span>(</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td><td id="file-reused_modifiers-kt-LC18" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier,</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td><td id="file-reused_modifiers-kt-LC19" class="blob-code blob-code-inner js-file-line">onClick <span class="pl-k">=</span> onClick</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L20" class="blob-num js-line-number js-blob-rnum" data-line-number="20"></td><td id="file-reused_modifiers-kt-LC20" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L21" class="blob-num js-line-number js-blob-rnum" data-line-number="21"></td><td id="file-reused_modifiers-kt-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Text</span>(</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L22" class="blob-num js-line-number js-blob-rnum" data-line-number="22"></td><td id="file-reused_modifiers-kt-LC22" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier.padding(<span class="pl-c1">10</span>.dp),</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L23" class="blob-num js-line-number js-blob-rnum" data-line-number="23"></td><td id="file-reused_modifiers-kt-LC23" class="blob-code blob-code-inner js-file-line">text <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Not Rounded<span class="pl-pds">"</span></span></td></tr><tr class="line"><td id="file-reused_modifiers-kt-L24" class="blob-num js-line-number js-blob-rnum" data-line-number="24"></td><td id="file-reused_modifiers-kt-LC24" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L25" class="blob-num js-line-number js-blob-rnum" data-line-number="25"></td><td id="file-reused_modifiers-kt-LC25" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L26" class="blob-num js-line-number js-blob-rnum" data-line-number="26"></td><td id="file-reused_modifiers-kt-LC26" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L27" class="blob-num js-line-number js-blob-rnum" data-line-number="27"></td><td id="file-reused_modifiers-kt-LC27" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/380770ace9f0b0ab7a761eb9d612b6e3/raw/9bfca4cfe5f055d5ceffe4d137deefbb9a74ad88/reused_modifiers.kt) [reused_modifiers.kt](https://gist.github.com/skydoves/380770ace9f0b0ab7a761eb9d612b6e3#file-reused_modifiers-kt) hosted with ❤ by [GitHub](https://github.com)

At first glance, the code may appear to work correctly. However, you’ll notice unexpected behavior when you modify the`modifier`at the call site, potentially altering the entire layout in unintended ways.

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="reused_modifiers.kt"><tbody><tr class="line"><td id="file-reused_modifiers-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-reused_modifiers-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-en">MyButtons</span>(</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-reused_modifiers-kt-LC2" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> <span class="pl-en">Modifier</span></td></tr><tr class="line"><td id="file-reused_modifiers-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-reused_modifiers-kt-LC3" class="blob-code blob-code-inner js-file-line">.clip(<span class="pl-en">RoundedCornerShape</span>(<span class="pl-c1">32</span>.dp))</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-reused_modifiers-kt-LC4" class="blob-code blob-code-inner js-file-line">.background(<span class="pl-en">Color</span>.<span class="pl-en">Blue</span>)</td></tr><tr class="line"><td id="file-reused_modifiers-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-reused_modifiers-kt-LC5" class="blob-code blob-code-inner js-file-line">) {}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/66abda3d63998793180568614c8b2cb4/raw/41653ad24bd37b14f46fe4eae281548633066551/reused_modifiers.kt) [reused_modifiers.kt](https://gist.github.com/skydoves/66abda3d63998793180568614c8b2cb4#file-reused_modifiers-kt) hosted with ❤ by [GitHub](https://github.com)

To ensure proper behavior and avoid unexpected issues, you should refrain from reusing Modifiers across multiple components. In this section, you’ve gained insights into best practices for managing Modifiers when designing Compose components. Next, let’s dive into providing consistent UI styles by implementing themes.

###### Theming For UI Consistencies

Now, imagine you need to offer a variety of Compose components that should share a consistent style. If these components are provided independently, the responsibility of maintaining consistent styles across them falls entirely on the users. This can be quite challenging, as each component might expose different APIs for customizing their styles, making synchronization a cumbersome and error-prone task.

In this scenario, you can draw inspiration from the[MaterialTheme](https://developer.android.com/develop/ui/compose/designsystems/material3#material-theming)API provided by the Compose Material library. The key takeaway is to ensure consistent component styling while allowing users to seamlessly customize and maintain different styles consistently across various components.

![](https://miro.medium.com/v2/resize:fit:1400/0*AyJL0G8NsCGWX9_Q)

The[Stream Video SDK](https://getstream.io/video/sdk/)for Compose demonstrates best practices by offering a dedicated theming API called[VideoTheme](https://getstream.io/video/docs/android/ui-components/video-theme/). This`VideoTheme`API ensures consistent styling across all Compose components provided by the SDK, including colors, dimensions, typography, shapes, ripple effects, and more.

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="video_theme.kt"><tbody><tr class="line"><td id="file-video_theme-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-video_theme-kt-LC1" class="blob-code blob-code-inner js-file-line">setContent {</td></tr><tr class="line"><td id="file-video_theme-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-video_theme-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-en">VideoTheme</span>(</td></tr><tr class="line"><td id="file-video_theme-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-video_theme-kt-LC3" class="blob-code blob-code-inner js-file-line">colors <span class="pl-k">=</span> <span class="pl-en">StreamColors</span>.defaultColors().copy(appBackground <span class="pl-k">=</span> <span class="pl-en">Color</span>.<span class="pl-en">Black</span>),</td></tr><tr class="line"><td id="file-video_theme-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-video_theme-kt-LC4" class="blob-code blob-code-inner js-file-line">dimens <span class="pl-k">=</span> <span class="pl-en">StreamDimens</span>.defaultDimens().copy(callAvatarSize <span class="pl-k">=</span> <span class="pl-c1">72</span>.dp),</td></tr><tr class="line"><td id="file-video_theme-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-video_theme-kt-LC5" class="blob-code blob-code-inner js-file-line">shapes <span class="pl-k">=</span> <span class="pl-en">StreamShapes</span>.defaultShapes().copy(</td></tr><tr class="line"><td id="file-video_theme-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-video_theme-kt-LC6" class="blob-code blob-code-inner js-file-line">avatar <span class="pl-k">=</span> <span class="pl-en">RoundedCornerShape</span>(<span class="pl-c1">8</span>.dp),</td></tr><tr class="line"><td id="file-video_theme-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-video_theme-kt-LC7" class="blob-code blob-code-inner js-file-line">callButton <span class="pl-k">=</span> <span class="pl-en">RoundedCornerShape</span>(<span class="pl-c1">16</span>.dp),</td></tr><tr class="line"><td id="file-video_theme-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-video_theme-kt-LC8" class="blob-code blob-code-inner js-file-line">callControls <span class="pl-k">=</span> <span class="pl-en">RectangleShape</span>,</td></tr><tr class="line"><td id="file-video_theme-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-video_theme-kt-LC9" class="blob-code blob-code-inner js-file-line">callControlsButton <span class="pl-k">=</span> <span class="pl-en">RoundedCornerShape</span>(<span class="pl-c1">8</span>.dp)</td></tr><tr class="line"><td id="file-video_theme-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-video_theme-kt-LC10" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-video_theme-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-video_theme-kt-LC11" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-video_theme-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-video_theme-kt-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-en">CallContent</span>(</td></tr><tr class="line"><td id="file-video_theme-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-video_theme-kt-LC13" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> <span class="pl-en">Modifier</span>.fillMaxSize(),</td></tr><tr class="line"><td id="file-video_theme-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-video_theme-kt-LC14" class="blob-code blob-code-inner js-file-line">call <span class="pl-k">=</span> call,</td></tr><tr class="line"><td id="file-video_theme-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-video_theme-kt-LC15" class="blob-code blob-code-inner js-file-line">onBackPressed <span class="pl-k">=</span> { finish() },</td></tr><tr class="line"><td id="file-video_theme-kt-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td><td id="file-video_theme-kt-LC16" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-video_theme-kt-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td><td id="file-video_theme-kt-LC17" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-video_theme-kt-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td><td id="file-video_theme-kt-LC18" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/4858612b345bb4b808c28325e1fbc963/raw/6aa714b68161e98f84435e50cfd6ac259308c998/video_theme.kt) [video_theme.kt](https://gist.github.com/skydoves/4858612b345bb4b808c28325e1fbc963#file-video_theme-kt) hosted with ❤ by [GitHub](https://github.com)

By wrapping the components provided by the Stream SDK with the`VideoTheme`like the above example, customized styles are automatically applied consistently across all components. This approach enables users to maintain uniformity in their UI effortlessly while adapting the theme to fit their application’s design requirements.

###### Implementing a Custom Theme

Let’s dive into implementing a custom theme. The first step is to define the design specifications that will be shared across your components or made customizable for users. Consider including aspects like colors, shapes, and dimensions, as these are often the most important for ensuring a consistent design system.

For example, in the Stream SDK, all the color sets required by the components are predefined in[StreamColors](https://github.com/GetStream/stream-video-android/blob/c12db8cb6367e10682be3ab323d50dfcc59032f3/stream-video-android-ui-compose/src/main/kotlin/io/getstream/video/android/compose/theme/StreamColors.kt#L24)class, offering users a seamless way to maintain consistency across their UI. Here’s an example of how Stream SDK ensures uniformity with a well-structured color set:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="stream_colors.kt"><tbody><tr class="line"><td id="file-stream_colors-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-stream_colors-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">data class</span> <span class="pl-en">StreamColors</span>(</td></tr><tr class="line"><td id="file-stream_colors-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-stream_colors-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">val</span> <span class="pl-smi">brandPrimary</span><span class="pl-k">:</span> <span class="pl-en">Color</span>,</td></tr><tr class="line"><td id="file-stream_colors-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-stream_colors-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">val</span> <span class="pl-smi">brandPrimaryLt</span><span class="pl-k">:</span> <span class="pl-en">Color</span>,</td></tr><tr class="line"><td id="file-stream_colors-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-stream_colors-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-k">val</span> <span class="pl-smi">brandPrimaryDk</span><span class="pl-k">:</span> <span class="pl-en">Color</span>,</td></tr><tr class="line"><td id="file-stream_colors-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-stream_colors-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">val</span> <span class="pl-smi">brandSecondary</span><span class="pl-k">:</span> <span class="pl-en">Color</span>,</td></tr><tr class="line"><td id="file-stream_colors-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-stream_colors-kt-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-k">val</span> <span class="pl-smi">brandSecondaryTransparent</span><span class="pl-k">:</span> <span class="pl-en">Color</span>,</td></tr><tr class="line"><td id="file-stream_colors-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-stream_colors-kt-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-k">val</span> <span class="pl-smi">brandCyan</span><span class="pl-k">:</span> <span class="pl-en">Color</span>,</td></tr><tr class="line"><td id="file-stream_colors-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-stream_colors-kt-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-k">val</span> <span class="pl-smi">brandGreen</span><span class="pl-k">:</span> <span class="pl-en">Color</span>,</td></tr><tr class="line"><td id="file-stream_colors-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-stream_colors-kt-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-k">val</span> <span class="pl-smi">brandYellow</span><span class="pl-k">:</span> <span class="pl-en">Color</span>,</td></tr><tr class="line"><td id="file-stream_colors-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-stream_colors-kt-LC10" class="blob-code blob-code-inner js-file-line">..</td></tr><tr class="line"><td id="file-stream_colors-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-stream_colors-kt-LC11" class="blob-code blob-code-inner js-file-line">)</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/33ad0509305b22f441d6874d28aeda55/raw/40a89cf250b4d04afa0a7b4782674b4553a1f6ce/stream_colors.kt) [stream_colors.kt](https://gist.github.com/skydoves/33ad0509305b22f441d6874d28aeda55#file-stream_colors-kt) hosted with ❤ by [GitHub](https://github.com)

Next, you should create a[CompositionLocal](https://developer.android.com/develop/ui/compose/compositionlocal)to hold the design specifications. This will allow your components and users to seamlessly access these specifications within the context of a custom theme by using`StreamTheme.colors`invocation.

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="composition_local.kt"><tbody><tr class="line"><td id="file-composition_local-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-composition_local-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">/*</span>*</span></td></tr><tr class="line"><td id="file-composition_local-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-composition_local-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-c">* Local providers for various properties we connect to our components, for styling.</span></td></tr><tr class="line"><td id="file-composition_local-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-composition_local-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">*/</span></span></td></tr><tr class="line"><td id="file-composition_local-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-composition_local-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-en">LocalColors</span> <span class="pl-k">=</span> compositionLocalOf&lt;<span class="pl-en">StreamColors</span>&gt; {</td></tr><tr class="line"><td id="file-composition_local-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-composition_local-kt-LC5" class="blob-code blob-code-inner js-file-line">error(<span class="pl-s"><span class="pl-pds">"</span>No colors provided! Make sure to wrap all usages of Stream components in a VideoTheme.<span class="pl-pds">"</span></span>)</td></tr><tr class="line"><td id="file-composition_local-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-composition_local-kt-LC6" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-composition_local-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-composition_local-kt-LC7" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-composition_local-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-composition_local-kt-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">interface</span> <span class="pl-en">StreamTheme</span> {</td></tr><tr class="line"><td id="file-composition_local-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-composition_local-kt-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">/*</span>*</span></td></tr><tr class="line"><td id="file-composition_local-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-composition_local-kt-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-c">* Retrieves the current [StreamColors] at the call site's position in the hierarchy.</span></td></tr><tr class="line"><td id="file-composition_local-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-composition_local-kt-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">*/</span></span></td></tr><tr class="line"><td id="file-composition_local-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-composition_local-kt-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">val</span> colors<span class="pl-k">:</span> <span class="pl-en">StreamColors</span></td></tr><tr class="line"><td id="file-composition_local-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-composition_local-kt-LC13" class="blob-code blob-code-inner js-file-line">@Composable @ReadOnlyComposable</td></tr><tr class="line"><td id="file-composition_local-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-composition_local-kt-LC14" class="blob-code blob-code-inner js-file-line">get() <span class="pl-k">=</span> <span class="pl-en">LocalColors</span>.current</td></tr><tr class="line"><td id="file-composition_local-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-composition_local-kt-LC15" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/95b319b0debe0030dd32d4d54946b25a/raw/a5c7681f55de35b169aa9a70815fa2d8d6abb075/composition_local.kt) [composition_local.kt](https://gist.github.com/skydoves/95b319b0debe0030dd32d4d54946b25a#file-composition_local-kt) hosted with ❤ by [GitHub](https://github.com)

Then, you need to encapsulate these design specifications within a custom theme by leveraging[CompositionLocal](https://developer.android.com/develop/ui/compose/compositionlocal). This approach allows you to provide and propagate your design specifications efficiently throughout the composable hierarchy.

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="video_theme.kt"><tbody><tr class="line"><td id="file-video_theme-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-video_theme-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">fun</span> <span class="pl-en">VideoTheme</span>(</td></tr><tr class="line"><td id="file-video_theme-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-video_theme-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">isInDarkMode</span><span class="pl-k">:</span> <span class="pl-c1">Boolean</span> = isSystemInDarkTheme(),</td></tr><tr class="line"><td id="file-video_theme-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-video_theme-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">colors</span><span class="pl-k">:</span> <span class="pl-en">StreamColors</span> = <span class="pl-en">StreamColors</span>.defaultColors(),</td></tr><tr class="line"><td id="file-video_theme-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-video_theme-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">content</span><span class="pl-k">:</span> @Composable () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span>,</td></tr><tr class="line"><td id="file-video_theme-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-video_theme-kt-LC5" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-video_theme-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-video_theme-kt-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-en">CompositionLocalProvider</span>(</td></tr><tr class="line"><td id="file-video_theme-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-video_theme-kt-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-en">LocalColors</span> provides colors,</td></tr><tr class="line"><td id="file-video_theme-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-video_theme-kt-LC8" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-video_theme-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-video_theme-kt-LC9" class="blob-code blob-code-inner js-file-line">content()</td></tr><tr class="line"><td id="file-video_theme-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-video_theme-kt-LC10" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-video_theme-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-video_theme-kt-LC11" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/5189683724c9e2ba7f2b7647ca5ddbc9/raw/34576a6a16d27a57846efdf270c94baac7367f68/video_theme.kt) [video_theme.kt](https://gist.github.com/skydoves/5189683724c9e2ba7f2b7647ca5ddbc9#file-video_theme-kt) hosted with ❤ by [GitHub](https://github.com)

Now, all your components should assume they are wrapped within the custom theme (e.g.,`VideoTheme`in this example) and use the provided design specifications to ensure consistent styling across the entire component set. This approach not only enables your component APIs to adopt a unified style but also allows users to leverage these design specifications for their customizations, promoting flexibility and consistency simultaneously.

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="video_renderer_call.kt"><tbody><tr class="line"><td id="file-video_renderer_call-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-video_renderer_call-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-video_renderer_call-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">fun</span> <span class="pl-en">VideoRendererCallContent</span>(</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-video_renderer_call-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">call</span><span class="pl-k">:</span> <span class="pl-en">Call</span>,</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-video_renderer_call-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">video</span><span class="pl-k">:</span> <span class="pl-en">ParticipantState</span>.<span class="pl-en">Video</span>,</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-video_renderer_call-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onRendered</span><span class="pl-k">:</span> (<span class="pl-en">View</span>) <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span> = {},</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-video_renderer_call-kt-LC6" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-video_renderer_call-kt-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-en">VideoRenderer</span>(</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-video_renderer_call-kt-LC8" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> <span class="pl-en">Modifier</span></td></tr><tr class="line"><td id="file-video_renderer_call-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-video_renderer_call-kt-LC9" class="blob-code blob-code-inner js-file-line">.fillMaxSize()</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-video_renderer_call-kt-LC10" class="blob-code blob-code-inner js-file-line">.background(<span class="pl-en">VideoTheme</span>.colors.baseSheetTertiary), <span class="pl-c"><span class="pl-c">//</span> use pre-defined color styles</span></td></tr><tr class="line"><td id="file-video_renderer_call-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-video_renderer_call-kt-LC11" class="blob-code blob-code-inner js-file-line">call <span class="pl-k">=</span> call,</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-video_renderer_call-kt-LC12" class="blob-code blob-code-inner js-file-line">video <span class="pl-k">=</span> video,</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-video_renderer_call-kt-LC13" class="blob-code blob-code-inner js-file-line">onRendered <span class="pl-k">=</span> onRendered,</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-video_renderer_call-kt-LC14" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-video_renderer_call-kt-LC15" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td><td id="file-video_renderer_call-kt-LC16" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-video_renderer_call-kt-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td><td id="file-video_renderer_call-kt-LC17" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td><td id="file-video_renderer_call-kt-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-k">fun</span> <span class="pl-en">MyScreen</span>() {</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td><td id="file-video_renderer_call-kt-LC19" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-video_renderer_call-kt-L20" class="blob-num js-line-number js-blob-rnum" data-line-number="20"></td><td id="file-video_renderer_call-kt-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-en">VideoRendererCallContent</span>(<span class="pl-k">..</span>)</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L21" class="blob-num js-line-number js-blob-rnum" data-line-number="21"></td><td id="file-video_renderer_call-kt-LC21" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-video_renderer_call-kt-L22" class="blob-num js-line-number js-blob-rnum" data-line-number="22"></td><td id="file-video_renderer_call-kt-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> some complicated components</span></td></tr><tr class="line"><td id="file-video_renderer_call-kt-L23" class="blob-num js-line-number js-blob-rnum" data-line-number="23"></td><td id="file-video_renderer_call-kt-LC23" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L24" class="blob-num js-line-number js-blob-rnum" data-line-number="24"></td><td id="file-video_renderer_call-kt-LC24" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-video_renderer_call-kt-L25" class="blob-num js-line-number js-blob-rnum" data-line-number="25"></td><td id="file-video_renderer_call-kt-LC25" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-en">MainActivity</span> : <span class="pl-en">ComponentActivity</span>() {</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L26" class="blob-num js-line-number js-blob-rnum" data-line-number="26"></td><td id="file-video_renderer_call-kt-LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-k">override</span> <span class="pl-k">fun</span> <span class="pl-en">onCreate</span>(<span class="pl-smi">savedInstanceState</span><span class="pl-k">:</span> <span class="pl-en">Bundle</span><span class="pl-k">?</span>) {</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L27" class="blob-num js-line-number js-blob-rnum" data-line-number="27"></td><td id="file-video_renderer_call-kt-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">super</span>.onCreate(savedInstanceState)</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L28" class="blob-num js-line-number js-blob-rnum" data-line-number="28"></td><td id="file-video_renderer_call-kt-LC28" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-video_renderer_call-kt-L29" class="blob-num js-line-number js-blob-rnum" data-line-number="29"></td><td id="file-video_renderer_call-kt-LC29" class="blob-code blob-code-inner js-file-line">setContent {</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L30" class="blob-num js-line-number js-blob-rnum" data-line-number="30"></td><td id="file-video_renderer_call-kt-LC30" class="blob-code blob-code-inner js-file-line"><span class="pl-en">VideoTheme</span> {</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L31" class="blob-num js-line-number js-blob-rnum" data-line-number="31"></td><td id="file-video_renderer_call-kt-LC31" class="blob-code blob-code-inner js-file-line"><span class="pl-en">MyScreen</span>()</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L32" class="blob-num js-line-number js-blob-rnum" data-line-number="32"></td><td id="file-video_renderer_call-kt-LC32" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L33" class="blob-num js-line-number js-blob-rnum" data-line-number="33"></td><td id="file-video_renderer_call-kt-LC33" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-video_renderer_call-kt-L34" class="blob-num js-line-number js-blob-rnum" data-line-number="34"></td><td id="file-video_renderer_call-kt-LC34" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/05e09b27a341273d858bea0a17f49e29/raw/d8ad521b6bfcc8f8ef62def2d1ee8953f9112479/video_renderer_call.kt) [video_renderer_call.kt](https://gist.github.com/skydoves/05e09b27a341273d858bea0a17f49e29#file-video_renderer_call-kt) hosted with ❤ by [GitHub](https://github.com)

This approach is equally effective for building your application, not just for implementing APIs (library or SDK), as it enables easy maintenance of design consistency using well-structured, pre-defined design specifications. For practical examples and real-world use cases, you can explore real-world best practices on[GitHub](https://github.com/GetStream/stream-video-android/blob/c12db8cb6367e10682be3ab323d50dfcc59032f3/stream-video-android-ui-compose/src/main/kotlin/io/getstream/video/android/compose/theme/VideoTheme.kt).

###### Customizability

When implementing UI components, especially for libraries or SDKs, it’s crucial to offer robust customization and flexibility for UI and UX behaviors. This ensures that users can easily reuse the components and adapt them to fit their specific requirements. You can adopt various strategies to achieve this level of customizability effectively in Jetpack Compose.

###### 1. Utilizing Style Classes

If you aim to provide more tailored customization for specific components, consider offering a dedicated style class. This class can define and enable users to easily modify the UI and UX behaviors of the component to suit their specific needs.

A great example is`TextStyle`, a default class provided by the Compose UI library:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="textstyle.kt"><tbody><tr class="line"><td id="file-textstyle-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-textstyle-kt-LC1" class="blob-code blob-code-inner js-file-line">@Immutable</td></tr><tr class="line"><td id="file-textstyle-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-textstyle-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-en">TextStyle</span> internal constructor(</td></tr><tr class="line"><td id="file-textstyle-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-textstyle-kt-LC3" class="blob-code blob-code-inner js-file-line">..</td></tr><tr class="line"><td id="file-textstyle-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-textstyle-kt-LC4" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-textstyle-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-textstyle-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-en">constructor</span>(</td></tr><tr class="line"><td id="file-textstyle-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-textstyle-kt-LC6" class="blob-code blob-code-inner js-file-line">color<span class="pl-k">:</span> <span class="pl-en">Color</span> <span class="pl-k">=</span> <span class="pl-en">Color</span>.<span class="pl-en">Unspecified</span>,</td></tr><tr class="line"><td id="file-textstyle-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-textstyle-kt-LC7" class="blob-code blob-code-inner js-file-line">fontSize<span class="pl-k">:</span> <span class="pl-en">TextUnit</span> <span class="pl-k">=</span> <span class="pl-en">TextUnit</span>.<span class="pl-en">Unspecified</span>,</td></tr><tr class="line"><td id="file-textstyle-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-textstyle-kt-LC8" class="blob-code blob-code-inner js-file-line">fontWeight<span class="pl-k">:</span> <span class="pl-en">FontWeight</span><span class="pl-k">?</span> <span class="pl-k">=</span> <span class="pl-c1">null</span>,</td></tr><tr class="line"><td id="file-textstyle-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-textstyle-kt-LC9" class="blob-code blob-code-inner js-file-line">fontStyle<span class="pl-k">:</span> <span class="pl-en">FontStyle</span><span class="pl-k">?</span> <span class="pl-k">=</span> <span class="pl-c1">null</span>,</td></tr><tr class="line"><td id="file-textstyle-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-textstyle-kt-LC10" class="blob-code blob-code-inner js-file-line">fontSynthesis<span class="pl-k">:</span> <span class="pl-en">FontSynthesis</span><span class="pl-k">?</span> <span class="pl-k">=</span> <span class="pl-c1">null</span>,</td></tr><tr class="line"><td id="file-textstyle-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-textstyle-kt-LC11" class="blob-code blob-code-inner js-file-line">fontFamily<span class="pl-k">:</span> <span class="pl-en">FontFamily</span><span class="pl-k">?</span> <span class="pl-k">=</span> <span class="pl-c1">null</span>,</td></tr><tr class="line"><td id="file-textstyle-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-textstyle-kt-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">..</span></td></tr><tr class="line"><td id="file-textstyle-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-textstyle-kt-LC13" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-textstyle-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-textstyle-kt-LC14" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/6c3b7d672b0d98a193e25f60ff9895f3/raw/ae8580fecfd0e1228fa82cb83b5376b509e2bb1a/textstyle.kt) [textstyle.kt](https://gist.github.com/skydoves/6c3b7d672b0d98a193e25f60ff9895f3#file-textstyle-kt) hosted with ❤ by [GitHub](https://github.com)

As demonstrated in the code above, the`TextStyle`class encapsulates all the styling properties for the`Text`composable. By simply passing a`TextStyle`instance to the`Text`composable, you can effortlessly customize its design, as shown in the example below:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="text.kt"><tbody><tr class="line"><td id="file-text-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-text-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Text</span>(</td></tr><tr class="line"><td id="file-text-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-text-kt-LC2" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> <span class="pl-en">Modifier</span></td></tr><tr class="line"><td id="file-text-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-text-kt-LC3" class="blob-code blob-code-inner js-file-line">.fillMaxWidth()</td></tr><tr class="line"><td id="file-text-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-text-kt-LC4" class="blob-code blob-code-inner js-file-line">.padding(top <span class="pl-k">=</span> <span class="pl-c1">16</span>.dp),</td></tr><tr class="line"><td id="file-text-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-text-kt-LC5" class="blob-code blob-code-inner js-file-line">text <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Stats<span class="pl-pds">"</span></span>,</td></tr><tr class="line"><td id="file-text-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-text-kt-LC6" class="blob-code blob-code-inner js-file-line">style <span class="pl-k">=</span> <span class="pl-en">TextStyle</span>(</td></tr><tr class="line"><td id="file-text-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-text-kt-LC7" class="blob-code blob-code-inner js-file-line">fontSize <span class="pl-k">=</span> <span class="pl-c1">16</span>.sp,</td></tr><tr class="line"><td id="file-text-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-text-kt-LC8" class="blob-code blob-code-inner js-file-line">lineHeight <span class="pl-k">=</span> <span class="pl-c1">24</span>.sp,</td></tr><tr class="line"><td id="file-text-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-text-kt-LC9" class="blob-code blob-code-inner js-file-line">fontWeight <span class="pl-k">=</span> <span class="pl-en">FontWeight</span>(<span class="pl-c1">600</span>),</td></tr><tr class="line"><td id="file-text-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-text-kt-LC10" class="blob-code blob-code-inner js-file-line">color <span class="pl-k">=</span> <span class="pl-en">Color</span>.<span class="pl-en">White</span>,</td></tr><tr class="line"><td id="file-text-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-text-kt-LC11" class="blob-code blob-code-inner js-file-line">textAlign <span class="pl-k">=</span> <span class="pl-en">TextAlign</span>.<span class="pl-en">Center</span>,</td></tr><tr class="line"><td id="file-text-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-text-kt-LC12" class="blob-code blob-code-inner js-file-line">),</td></tr><tr class="line"><td id="file-text-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-text-kt-LC13" class="blob-code blob-code-inner js-file-line">)</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/04e111bc41ad780f256cd4f844228fb4/raw/45443010ddec7bcf18a96747f2518542790f95e9/text.kt) [text.kt](https://gist.github.com/skydoves/04e111bc41ad780f256cd4f844228fb4#file-text-kt) hosted with ❤ by [GitHub](https://github.com)

The advantage of using style classes is that they allow component developers to consolidate all design specifications into a single, centralized class. This approach prevents design elements from being scattered across multiple layouts, making the codebase cleaner and easier to manage.

For users, style classes provide a straightforward and intuitive way to modify designs. Additionally, users can reuse the same style instance across multiple layouts, making it more convenient to apply consistent customization across different layouts.

One potential drawback is that due to the[recomposition mechanism](https://getstream.io/blog/jetpack-compose-stability/#jetpack-compose-phases), the Compose runtime will compare all properties of the style class whenever an input changes to determine if recomposition is necessary. This makes it slightly more expensive compared to defining individual parameters directly in the composable function. However, from an API design perspective, the improved user experience and simplified API management often outweigh this cost, making it a worthwhile trade-off in many scenarios.

###### 2. Flexibility With Slots

Another effective strategy to enhance customization flexibility is to provide a slot that accepts a composable function, allowing users to define specific implementations tailored to their needs. By offering a default implementation, you ensure that users can leverage the provided functionality without additional effort, while still having the option to customize as required.

For example, the`CallContent`component, provided by the Stream Video SDK, is a high-level API that integrates multiple subcomponents, including the top app bar, video renderer, layout structures, grid participants, and more. While the`CallContent`API includes a default implementation for ease of use, it also ensures flexibility by allowing customization through slot parameters, as demonstrated in the code below:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="callcontent.kt"><tbody><tr class="line"><td id="file-callcontent-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-callcontent-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">fun</span> <span class="pl-en">CallContent</span>(</td></tr><tr class="line"><td id="file-callcontent-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-callcontent-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">call</span><span class="pl-k">:</span> <span class="pl-en">Call</span>,</td></tr><tr class="line"><td id="file-callcontent-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-callcontent-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">modifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-callcontent-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-callcontent-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">style</span><span class="pl-k">:</span> <span class="pl-en">VideoRendererStyle</span> = <span class="pl-en">RegularVideoRendererStyle</span>(),</td></tr><tr class="line"><td id="file-callcontent-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-callcontent-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">appBarContent</span><span class="pl-k">:</span> @Composable (call<span class="pl-k">:</span> <span class="pl-en">Call</span>) <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span> = {</td></tr><tr class="line"><td id="file-callcontent-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-callcontent-kt-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-en">CallAppBar</span>(..)</td></tr><tr class="line"><td id="file-callcontent-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-callcontent-kt-LC7" class="blob-code blob-code-inner js-file-line">},</td></tr><tr class="line"><td id="file-callcontent-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-callcontent-kt-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">videoRenderer</span><span class="pl-k">:</span> @Composable (<span class="pl-k">..</span>) <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span> = {</td></tr><tr class="line"><td id="file-callcontent-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-callcontent-kt-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-en">ParticipantVideo</span>(..)</td></tr><tr class="line"><td id="file-callcontent-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-callcontent-kt-LC10" class="blob-code blob-code-inner js-file-line">},</td></tr><tr class="line"><td id="file-callcontent-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-callcontent-kt-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">videoContent</span><span class="pl-k">:</span> @Composable <span class="pl-en">RowScope</span>.(call: <span class="pl-en">Call</span>) <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span> = {</td></tr><tr class="line"><td id="file-callcontent-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-callcontent-kt-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-en">ParticipantsLayout</span>(..)</td></tr><tr class="line"><td id="file-callcontent-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-callcontent-kt-LC13" class="blob-code blob-code-inner js-file-line">},</td></tr><tr class="line"><td id="file-callcontent-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-callcontent-kt-LC14" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-callcontent-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-callcontent-kt-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-k">..</span></td></tr><tr class="line"><td id="file-callcontent-kt-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td><td id="file-callcontent-kt-LC16" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/f7d27a55ac042ae7709b52400bda6505/raw/19ffc538aead6b310a168cbafb5693a3aa3ce170/callcontent.kt) [callcontent.kt](https://gist.github.com/skydoves/f7d27a55ac042ae7709b52400bda6505#file-callcontent-kt) hosted with ❤ by [GitHub](https://github.com)

This approach allows users to implement their own custom versions of the top app bar, video renderer, layout structures, grid participants, and more. Additionally, another effective strategy is to group similar types of components and make them customizable through a slot, commonly known as the compound component pattern.

The compound component pattern involves creating a parent component that manages a collection of child components, offering customization by exposing slots for each child. This pattern allows users to replace or customize individual subcomponents while keeping the overall structure and functionality consistent.

Imagine a control panel on a video call screen that contains multiple action buttons, as illustrated in the image below:

![](https://miro.medium.com/v2/resize:fit:886/0*mNh-EWJlyCobHHed)

Some users may prefer a different order for the action buttons, such as placing the microphone button first, while others might want to add, remove, or customize buttons based on their specific use cases. In such scenarios, the compound component pattern proves to be highly effective in accommodating these diverse requirements like the code below:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="control_actions.kt"><tbody><tr class="line"><td id="file-control_actions-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-control_actions-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-control_actions-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-control_actions-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">fun</span> <span class="pl-en">ControlActions</span>(</td></tr><tr class="line"><td id="file-control_actions-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-control_actions-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">call</span><span class="pl-k">:</span> <span class="pl-en">Call</span>,</td></tr><tr class="line"><td id="file-control_actions-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-control_actions-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">modifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-control_actions-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-control_actions-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">actions</span><span class="pl-k">:</span> <span class="pl-c1">List</span>&lt;(@<span class="pl-en">Composable</span> () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span>)&gt;</td></tr><tr class="line"><td id="file-control_actions-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-control_actions-kt-LC6" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-control_actions-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-control_actions-kt-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Box</span>(</td></tr><tr class="line"><td id="file-control_actions-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-control_actions-kt-LC8" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier,</td></tr><tr class="line"><td id="file-control_actions-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-control_actions-kt-LC9" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-control_actions-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-control_actions-kt-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-en">LazyRow</span>(</td></tr><tr class="line"><td id="file-control_actions-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-control_actions-kt-LC11" class="blob-code blob-code-inner js-file-line">verticalAlignment <span class="pl-k">=</span> <span class="pl-en">Alignment</span>.<span class="pl-en">CenterVertically</span>,</td></tr><tr class="line"><td id="file-control_actions-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-control_actions-kt-LC12" class="blob-code blob-code-inner js-file-line">horizontalArrangement <span class="pl-k">=</span> <span class="pl-en">Arrangement</span>.spacedBy(</td></tr><tr class="line"><td id="file-control_actions-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-control_actions-kt-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-en">VideoTheme</span>.dimens.spacingM,</td></tr><tr class="line"><td id="file-control_actions-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-control_actions-kt-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Alignment</span>.<span class="pl-en">CenterHorizontally</span>,</td></tr><tr class="line"><td id="file-control_actions-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-control_actions-kt-LC15" class="blob-code blob-code-inner js-file-line">),</td></tr><tr class="line"><td id="file-control_actions-kt-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td><td id="file-control_actions-kt-LC16" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-control_actions-kt-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td><td id="file-control_actions-kt-LC17" class="blob-code blob-code-inner js-file-line">items(actions) { action <span class="pl-k">-&gt;</span></td></tr><tr class="line"><td id="file-control_actions-kt-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td><td id="file-control_actions-kt-LC18" class="blob-code blob-code-inner js-file-line">action.invoke()</td></tr><tr class="line"><td id="file-control_actions-kt-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td><td id="file-control_actions-kt-LC19" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-control_actions-kt-L20" class="blob-num js-line-number js-blob-rnum" data-line-number="20"></td><td id="file-control_actions-kt-LC20" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-control_actions-kt-L21" class="blob-num js-line-number js-blob-rnum" data-line-number="21"></td><td id="file-control_actions-kt-LC21" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-control_actions-kt-L22" class="blob-num js-line-number js-blob-rnum" data-line-number="22"></td><td id="file-control_actions-kt-LC22" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/eb3ba67fca5d8276742f6fc741ae0b4d/raw/bf3e38a3be98a7826db5b34731ac482417df1831/control_actions.kt) [control_actions.kt](https://gist.github.com/skydoves/eb3ba67fca5d8276742f6fc741ae0b4d#file-control_actions-kt) hosted with ❤ by [GitHub](https://github.com)

The code above demonstrates a single slot that accepts a list of Composable functions, which are then rendered using a`Row`or`LazyRow`. This approach allows you to provide a highly flexible component API while maintaining control over the intended structure of the component layout.

Afterward, you can also provide a default implementation, as shown below, for added convenience.

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="list_actions.kt"><tbody><tr class="line"><td id="file-list_actions-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-list_actions-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-list_actions-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-list_actions-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">fun</span> <span class="pl-en">buildDefaultCallControlActions</span>(</td></tr><tr class="line"><td id="file-list_actions-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-list_actions-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onCallAction</span><span class="pl-k">:</span> (<span class="pl-en">CallAction</span>) <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span>,</td></tr><tr class="line"><td id="file-list_actions-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-list_actions-kt-LC4" class="blob-code blob-code-inner js-file-line">): <span class="pl-c1">List</span>&lt;@<span class="pl-en">Composable</span> () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span>&gt; {</td></tr><tr class="line"><td id="file-list_actions-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-list_actions-kt-LC5" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-list_actions-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-list_actions-kt-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-c1">listOf</span>(</td></tr><tr class="line"><td id="file-list_actions-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-list_actions-kt-LC7" class="blob-code blob-code-inner js-file-line">{</td></tr><tr class="line"><td id="file-list_actions-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-list_actions-kt-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-en">ToggleCameraAction</span>(</td></tr><tr class="line"><td id="file-list_actions-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-list_actions-kt-LC9" class="blob-code blob-code-inner js-file-line">onCallAction <span class="pl-k">=</span> onCallAction,</td></tr><tr class="line"><td id="file-list_actions-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-list_actions-kt-LC10" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-list_actions-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-list_actions-kt-LC11" class="blob-code blob-code-inner js-file-line">},</td></tr><tr class="line"><td id="file-list_actions-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-list_actions-kt-LC12" class="blob-code blob-code-inner js-file-line">{</td></tr><tr class="line"><td id="file-list_actions-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-list_actions-kt-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-en">ToggleMicrophoneAction</span>(</td></tr><tr class="line"><td id="file-list_actions-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-list_actions-kt-LC14" class="blob-code blob-code-inner js-file-line">onCallAction <span class="pl-k">=</span> onCallAction,</td></tr><tr class="line"><td id="file-list_actions-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-list_actions-kt-LC15" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-list_actions-kt-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td><td id="file-list_actions-kt-LC16" class="blob-code blob-code-inner js-file-line">},</td></tr><tr class="line"><td id="file-list_actions-kt-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td><td id="file-list_actions-kt-LC17" class="blob-code blob-code-inner js-file-line">{</td></tr><tr class="line"><td id="file-list_actions-kt-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td><td id="file-list_actions-kt-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-en">FlipCameraAction</span>(</td></tr><tr class="line"><td id="file-list_actions-kt-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td><td id="file-list_actions-kt-LC19" class="blob-code blob-code-inner js-file-line">onCallAction <span class="pl-k">=</span> onCallAction,</td></tr><tr class="line"><td id="file-list_actions-kt-L20" class="blob-num js-line-number js-blob-rnum" data-line-number="20"></td><td id="file-list_actions-kt-LC20" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-list_actions-kt-L21" class="blob-num js-line-number js-blob-rnum" data-line-number="21"></td><td id="file-list_actions-kt-LC21" class="blob-code blob-code-inner js-file-line">},</td></tr><tr class="line"><td id="file-list_actions-kt-L22" class="blob-num js-line-number js-blob-rnum" data-line-number="22"></td><td id="file-list_actions-kt-LC22" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-list_actions-kt-L23" class="blob-num js-line-number js-blob-rnum" data-line-number="23"></td><td id="file-list_actions-kt-LC23" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-list_actions-kt-L24" class="blob-num js-line-number js-blob-rnum" data-line-number="24"></td><td id="file-list_actions-kt-LC24" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-list_actions-kt-L25" class="blob-num js-line-number js-blob-rnum" data-line-number="25"></td><td id="file-list_actions-kt-LC25" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-list_actions-kt-L26" class="blob-num js-line-number js-blob-rnum" data-line-number="26"></td><td id="file-list_actions-kt-LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">fun</span> <span class="pl-en">ControlActions</span>(</td></tr><tr class="line"><td id="file-list_actions-kt-L27" class="blob-num js-line-number js-blob-rnum" data-line-number="27"></td><td id="file-list_actions-kt-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">call</span><span class="pl-k">:</span> <span class="pl-en">Call</span>,</td></tr><tr class="line"><td id="file-list_actions-kt-L28" class="blob-num js-line-number js-blob-rnum" data-line-number="28"></td><td id="file-list_actions-kt-LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">modifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-list_actions-kt-L29" class="blob-num js-line-number js-blob-rnum" data-line-number="29"></td><td id="file-list_actions-kt-LC29" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onCallAction</span><span class="pl-k">:</span> (<span class="pl-en">CallAction</span>) <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span> = { <span class="pl-en">DefaultOnCallActionHandler</span>.onCallAction(call, it) },</td></tr><tr class="line"><td id="file-list_actions-kt-L30" class="blob-num js-line-number js-blob-rnum" data-line-number="30"></td><td id="file-list_actions-kt-LC30" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">actions</span><span class="pl-k">:</span> <span class="pl-c1">List</span>&lt;(@<span class="pl-en">Composable</span> () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span>)&gt; = buildDefaultCallControlActions(onCallAction)</td></tr><tr class="line"><td id="file-list_actions-kt-L31" class="blob-num js-line-number js-blob-rnum" data-line-number="31"></td><td id="file-list_actions-kt-LC31" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-list_actions-kt-L32" class="blob-num js-line-number js-blob-rnum" data-line-number="32"></td><td id="file-list_actions-kt-LC32" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/71ffc8fa3db6703838f7f267d34272fb/raw/77e1ea3121d4e8cc94a9db606878f65923727b97/list_actions.kt) [list_actions.kt](https://gist.github.com/skydoves/71ffc8fa3db6703838f7f267d34272fb#file-list_actions-kt) hosted with ❤ by [GitHub](https://github.com)

For more real-world examples of[ControlActions](https://getstream.io/video/docs/android/ui-components/call/call-controls/), you can explore the implementation on[GitHub](https://github.com/GetStream/stream-video-android/blob/c12db8cb6367e10682be3ab323d50dfcc59032f3/stream-video-android-ui-compose/src/main/kotlin/io/getstream/video/android/compose/ui/components/call/controls/ControlActions.kt#L48).

###### 3. Customization With Theming

Another common challenge when designing Compose components arises as the component hierarchy grows larger, making it harder to provide clear and straightforward customizability. For example, imagine you want to offer customizability for a video renderer that is used in multiple parts of your component, but the UI hierarchy is deeply nested and complex, as shown in the example below:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="hierarchy.kt"><tbody><tr class="line"><td id="file-hierarchy-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-hierarchy-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-hierarchy-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-hierarchy-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">fun</span> <span class="pl-en">CallContent</span>() {</td></tr><tr class="line"><td id="file-hierarchy-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-hierarchy-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-en">ParticipantsLayout</span> {</td></tr><tr class="line"><td id="file-hierarchy-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-hierarchy-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-en">ParticipantsRegularGrid</span> {</td></tr><tr class="line"><td id="file-hierarchy-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-hierarchy-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-en">OrientationVideoRenderer</span> {</td></tr><tr class="line"><td id="file-hierarchy-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-hierarchy-kt-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-en">LazyVerticalGrid</span> {</td></tr><tr class="line"><td id="file-hierarchy-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-hierarchy-kt-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-en">VideoRenderer</span>() <span class="pl-c"><span class="pl-c">//</span> &lt;-- users want to customize this renderer style</span></td></tr><tr class="line"><td id="file-hierarchy-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-hierarchy-kt-LC8" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-hierarchy-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-hierarchy-kt-LC9" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-hierarchy-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-hierarchy-kt-LC10" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-hierarchy-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-hierarchy-kt-LC11" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-hierarchy-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-hierarchy-kt-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-en">FloatingVideoRenderer</span> {</td></tr><tr class="line"><td id="file-hierarchy-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-hierarchy-kt-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-en">VideoRenderer</span>() <span class="pl-c"><span class="pl-c">//</span> &lt;-- users want to customize this renderer style</span></td></tr><tr class="line"><td id="file-hierarchy-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-hierarchy-kt-LC14" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-hierarchy-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-hierarchy-kt-LC15" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-hierarchy-kt-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td><td id="file-hierarchy-kt-LC16" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/369dd4aa64c95a9b18663c02cb4aa0c4/raw/be5d0308a08959295c1fec766bd493b329ba087a/hierarchy.kt) [hierarchy.kt](https://gist.github.com/skydoves/369dd4aa64c95a9b18663c02cb4aa0c4#file-hierarchy-kt) hosted with ❤ by [GitHub](https://github.com)

In this case, it’s not ideal to pass a slot or style parameter from the topmost component all the way down to the`VideoRenderer`component. As you add more customizability across different components, the topmost component (`CallContent`) could become overloaded with numerous slot and style parameters. This not only makes your APIs harder to maintain but also increases the likelihood of user confusion or misuse, as it becomes unclear which parameter serves what purpose.

For addressing this, you can leverage a custom theme along with[CompositionLocal](https://developer.android.com/develop/ui/compose/compositionlocal)to achieve customizability while keeping the API cleaner and more manageable, as shown in the example below:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="video_renderer_style.kt"><tbody><tr class="line"><td id="file-video_renderer_style-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-video_renderer_style-kt-LC1" class="blob-code blob-code-inner js-file-line">@Immutable</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-video_renderer_style-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">data class</span> <span class="pl-en">VideoRendererStyle</span>(</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-video_renderer_style-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">val</span> <span class="pl-smi">backgroundColor</span><span class="pl-k">:</span> <span class="pl-en">Color</span> = <span class="pl-en">Color</span>.<span class="pl-en">Black</span>,</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-video_renderer_style-kt-LC4" class="blob-code blob-code-inner js-file-line">..</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-video_renderer_style-kt-LC5" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-video_renderer_style-kt-LC6" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-video_renderer_style-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-video_renderer_style-kt-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-en">LocalVideoRendererStyle</span> <span class="pl-k">=</span> compositionLocalOf&lt;<span class="pl-en">VideoRendererStyle</span>&gt; {</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-video_renderer_style-kt-LC8" class="blob-code blob-code-inner js-file-line">error(<span class="pl-s"><span class="pl-pds">"</span>No VideoRendererStyle provided! Make sure to wrap all usages of Stream components in a VideoTheme.<span class="pl-pds">"</span></span>)</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-video_renderer_style-kt-LC9" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-video_renderer_style-kt-LC10" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-video_renderer_style-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-video_renderer_style-kt-LC11" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-video_renderer_style-kt-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">fun</span> <span class="pl-en">VideoTheme</span>(</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-video_renderer_style-kt-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">videoRendererStyle</span><span class="pl-k">:</span> <span class="pl-en">VideoRendererStyle</span> = <span class="pl-en">VideoRendererStyle</span>(),</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-video_renderer_style-kt-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">content</span><span class="pl-k">:</span> @Composable () <span class="pl-k">-&gt;</span> <span class="pl-c1">Unit</span>,</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-video_renderer_style-kt-LC15" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td><td id="file-video_renderer_style-kt-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-en">CompositionLocalProvider</span>(</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td><td id="file-video_renderer_style-kt-LC17" class="blob-code blob-code-inner js-file-line"><span class="pl-en">LocalVideoRendererStyle</span> provides videoRendererStyle,</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td><td id="file-video_renderer_style-kt-LC18" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td><td id="file-video_renderer_style-kt-LC19" class="blob-code blob-code-inner js-file-line">content()</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L20" class="blob-num js-line-number js-blob-rnum" data-line-number="20"></td><td id="file-video_renderer_style-kt-LC20" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-video_renderer_style-kt-L21" class="blob-num js-line-number js-blob-rnum" data-line-number="21"></td><td id="file-video_renderer_style-kt-LC21" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/321af7edd7d71e1f8e35055e405b76df/raw/a175dce2a2930ad650618ff97c5b4c68ba4939bd/video_renderer_style.kt) [video_renderer_style.kt](https://gist.github.com/skydoves/321af7edd7d71e1f8e35055e405b76df#file-video_renderer_style-kt) hosted with ❤ by [GitHub](https://github.com)

Now, you can ensure consistent component styles by utilizing the provided styles across different components, avoiding the need to pass them down repeatedly as parameters. Additionally, users can easily customize the styles by creating their own custom theme, as demonstrated in the example below:

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="theme.kt"><tbody><tr class="line"><td id="file-theme-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-theme-kt-LC1" class="blob-code blob-code-inner js-file-line">setContent {</td></tr><tr class="line"><td id="file-theme-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-theme-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-en">VideoTheme</span>(</td></tr><tr class="line"><td id="file-theme-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-theme-kt-LC3" class="blob-code blob-code-inner js-file-line">videoRendererStyle <span class="pl-k">=</span> <span class="pl-en">VideoRendererStyle</span>(backgroundColor <span class="pl-k">=</span> <span class="pl-en">Color</span>.<span class="pl-en">Blue</span>)</td></tr><tr class="line"><td id="file-theme-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-theme-kt-LC4" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-theme-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-theme-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">..</span></td></tr><tr class="line"><td id="file-theme-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-theme-kt-LC6" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-theme-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-theme-kt-LC7" class="blob-code blob-code-inner js-file-line">}</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/c0667841642fe3c6880b5bb91dd1cd77/raw/33220532eb351e291e8c33cb027eaadcdc8ce0c9/theme.kt) [theme.kt](https://gist.github.com/skydoves/c0667841642fe3c6880b5bb91dd1cd77#file-theme-kt) hosted with ❤ by [GitHub](https://github.com)

If you want to apply this strategy on a broader scale and manage more styles efficiently, you can consolidate them into a single class, such as`StreamStyles`, and provide a unified style class instead of multiple individual styles within the`CompositionLocal`.

While some might be concerned about the performance impact of`CompositionLocal`due to its triggering of recomposition across the layout hierarchy when values change, themes are typically not frequently updated in an application. They are generally static for ensuring design consistency, making the use of`CompositionLocal`a suitable and efficient choice in such cases.

###### Preview Compatibilities

Providing previews is important, especially when building component APIs, as they allow developers to visualize and verify their UI designs directly in Android Studio. Some developers rely on[Live Literals](https://developer.android.com/develop/ui/compose/tooling#live-edit-literals) to dynamically showcase changes in previews, and others use screenshot testing to ensure the visual consistency of their components. Therefore, when implementing Compose components, it’s essential to ensure they are fully compatible with the preview functionality in Android Studio as you can see like the screenshot below:

![](https://miro.medium.com/v2/resize:fit:1400/0*R74xLmTnWswi86ww)

Sometimes, your component may involve side-effects, such as rendering an image after making a network request or handling dynamic states, which can cause the preview to malfunction. In such cases, you can leverage[LocalInspectionMode](https://developer.android.com/develop/ui/compose/tooling/previews#localinspectionmode).

`LocalInspectionMode`allows you to determine if a composable is being rendered in preview mode, enabling you to render a dedicated layout specifically for preview purposes. This approach ensures the preview remains functional, even when your component depends on complex logic or external resources. You can find a real-world example from[Landscapist](https://github.com/skydoves/landscapist)a Jetpack Compose library for network image loading, which demonstrates best practices for handling previews.

The composable function below checks whether it is in preview mode. If it is, it renders a static image instead of executing side effects like fetching network data. This approach allows users to build their own previews for the`GlideImage`composable function without encountering runtime errors during preview rendering.

<table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="inspection_mode.kt"><tbody><tr class="line"><td id="file-inspection_mode-kt-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td><td id="file-inspection_mode-kt-LC1" class="blob-code blob-code-inner js-file-line">@Composable</td></tr><tr class="line"><td id="file-inspection_mode-kt-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td><td id="file-inspection_mode-kt-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public</span> <span class="pl-k">fun</span> <span class="pl-en">GlideImage</span>(</td></tr><tr class="line"><td id="file-inspection_mode-kt-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td><td id="file-inspection_mode-kt-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">imageModel</span><span class="pl-k">:</span> () <span class="pl-k">-&gt;</span> <span class="pl-c1">Any?</span>,</td></tr><tr class="line"><td id="file-inspection_mode-kt-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td><td id="file-inspection_mode-kt-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">modifier</span><span class="pl-k">:</span> <span class="pl-en">Modifier</span> = <span class="pl-en">Modifier</span>,</td></tr><tr class="line"><td id="file-inspection_mode-kt-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td><td id="file-inspection_mode-kt-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">previewPlaceholder</span><span class="pl-k">:</span> <span class="pl-en">Painter</span><span class="pl-k">?</span> = null,</td></tr><tr class="line"><td id="file-inspection_mode-kt-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td><td id="file-inspection_mode-kt-LC6" class="blob-code blob-code-inner js-file-line">..</td></tr><tr class="line"><td id="file-inspection_mode-kt-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td><td id="file-inspection_mode-kt-LC7" class="blob-code blob-code-inner js-file-line">) {</td></tr><tr class="line"><td id="file-inspection_mode-kt-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td><td id="file-inspection_mode-kt-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span> (<span class="pl-en">LocalInspectionMode</span>.current <span class="pl-k">&amp;&amp;</span> previewPlaceholder <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</td></tr><tr class="line"><td id="file-inspection_mode-kt-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td><td id="file-inspection_mode-kt-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-en">Image</span>(</td></tr><tr class="line"><td id="file-inspection_mode-kt-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td><td id="file-inspection_mode-kt-LC10" class="blob-code blob-code-inner js-file-line">modifier <span class="pl-k">=</span> modifier,</td></tr><tr class="line"><td id="file-inspection_mode-kt-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td><td id="file-inspection_mode-kt-LC11" class="blob-code blob-code-inner js-file-line">painter <span class="pl-k">=</span> previewPlaceholder,</td></tr><tr class="line"><td id="file-inspection_mode-kt-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td><td id="file-inspection_mode-kt-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">..</span></td></tr><tr class="line"><td id="file-inspection_mode-kt-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td><td id="file-inspection_mode-kt-LC13" class="blob-code blob-code-inner js-file-line">)</td></tr><tr class="line"><td id="file-inspection_mode-kt-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td><td id="file-inspection_mode-kt-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span></td></tr><tr class="line"><td id="file-inspection_mode-kt-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td><td id="file-inspection_mode-kt-LC15" class="blob-code blob-code-inner js-file-line">}</td></tr><tr class="line"><td id="file-inspection_mode-kt-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td><td id="file-inspection_mode-kt-LC16" class="blob-code blob-code-inner js-file-line"></td></tr><tr class="line"><td id="file-inspection_mode-kt-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td><td id="file-inspection_mode-kt-LC17" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> complex logic about requesting network data and render it</span></td></tr><tr class="line"><td id="file-inspection_mode-kt-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td><td id="file-inspection_mode-kt-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-k">..</span></td></tr><tr class="line"><td id="file-inspection_mode-kt-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td><td id="file-inspection_mode-kt-LC19" class="blob-code blob-code-inner js-file-line">)</td></tr></tbody></table>

[view raw](https://gist.github.com/skydoves/70a2b04973bf864c57652428ca402d42/raw/db65e4ce68bea5840c7b041c746d5deb7da11c9a/inspection_mode.kt) [inspection_mode.kt](https://gist.github.com/skydoves/70a2b04973bf864c57652428ca402d42#file-inspection_mode-kt) hosted with ❤ by [GitHub](https://github.com)

To enhance your overall preview strategies in your project, consider exploring[Designing Effective UIs for Enhancing Compose Previews](https://getstream.io/blog/effective-compose-preview/). This resource provides valuable insights and techniques to optimize your Compose previews effectively.

###### Conclusion

In this article, we explored strategies for crafting effective UI components in Jetpack Compose, focusing on best practices such as handling`Modifier`efficiently, ensuring design consistency with theming, implementing strategies for customizability, and enhancing preview compatibility. Designing intuitive and robust APIs is always a challenge, but the effort pays off by significantly improving user experience and developer satisfaction.

If you have any questions or feedback on this article, you can find the author on Twitter[@github_skydoves](https://twitter.com/github_skydoves)or[GitHub](https://github.com/skydoves)if you have any questions or feedback. If you’d like to stay up to date with Stream, follow us on Twitter[@getstream_io](https://twitter.com/getstream_io)for more great technical content.

As always, happy coding!

—[Jaewoong](https://github.com/skydoves)

. . .

[*Originally posted at GetStream.io*](https://getstream.io/blog/designing-effective-compose/)

This article is previously published on [proandroiddev.com.](https://proandroiddev.com/designing-effective-ui-components-in-jetpack-compose-cb8d18f7f888) -->

<!-- TODO: add ARTICLE CARD -->
```component VPCard
{
  "title": "Designing Effective UI Components in Jetpack Compose",
  "desc": "Since Google announced the Jetpack Compose 1.0 stable release, many companies have adopted Jetpack Compose to leverage its numerous advantages. With Compose’s widespread adoption across the Android ecosystem, libraries and SDKs have also begun integrating support for Compose.",
  "link": "https://chanhi2000.github.io/bookshelf/droidcon.com/designing-effective-ui-components-in-jetpack-compose.html",
  "logo": "https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png",
  "background": "rgba(4,20,221,0.2)"
}
```
