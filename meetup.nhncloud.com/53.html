<!doctype html>
<html lang="ko-KR" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편","image":["https://chanhi2000.github.io/bookshelf/assets/image/meetup.nhncloud.com/53/banner.png","https://chanhi2000.github.io/bookshelf/assets/image/meetup.nhncloud.com/53/1.png"],"datePublished":"2015-12-21T00:00:00.000Z","dateModified":null,"author":[]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/meetup.nhncloud.com/53.html"><meta property="og:site_name" content="📚Bookshelf"><meta property="og:title" content="리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편"><meta property="og:description" content="Article(s) > 리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편"><meta property="og:type" content="article"><meta property="og:image" content="https://chanhi2000.github.io/bookshelf/assets/image/meetup.nhncloud.com/53/banner.png"><meta property="og:locale" content="ko-KR"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://chanhi2000.github.io/bookshelf/assets/image/meetup.nhncloud.com/53/banner.png"><meta name="twitter:image:alt" content="리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편"><meta property="article:tag" content="bash"><meta property="article:tag" content="sh"><meta property="article:tag" content="meetup.nhncloud.com"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2015-12-21T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편 | 📚Bookshelf</title><meta name="description" content="Article(s) > 리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편">
    <link rel="preload" href="/bookshelf/assets/style-DmRYlEXZ.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-DmRYlEXZ.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">📚Bookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnk8s.io/" aria-label="learnk8s.io"><!--[--><img class="vp-icon" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnk8s.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/articles" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="https://meetup.nhncloud.com/resources/img/favicon.ico" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">meetup.nhncloud.com</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/38.html" aria-label="em1, p2p1 같은 이더넷 이름을 변경하기"><!--[--><i class="vp-icon fa-brands fa-ubuntu" sizing="both"></i><!--]-->em1, p2p1 같은 이더넷 이름을 변경하기<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/39.html" aria-label="git squash - 여러개의 커밋로그를 하나로 묶기"><!--[--><i class="vp-icon iconfont icon-git" sizing="both"></i><!--]-->git squash - 여러개의 커밋로그를 하나로 묶기<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/43.html" aria-label="Objective-C Generics"><!--[--><i class="vp-icon iconfont icon-objective-c" sizing="both"></i><!--]-->Objective-C Generics<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/44.html" aria-label="Spring Interceptor(혹은 Servlet Filter)에서 POST 방식으로 전달된 JSON 데이터 처리하기"><!--[--><i class="vp-icon iconfont icon-spring" sizing="both"></i><!--]-->Spring Interceptor(혹은 Servlet Filter)에서 POST 방식으로 전달된 JSON 데이터 처리하기<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/45.html" aria-label="git cherry-pick: 다른 브랜치의 일부 커밋만 반영하고 싶을 때"><!--[--><i class="vp-icon iconfont icon-git" sizing="both"></i><!--]-->git cherry-pick: 다른 브랜치의 일부 커밋만 반영하고 싶을 때<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/46.html" aria-label="Spring 3.2.3에서 3.2.14로 업그레이드 정리(스프링 XML 입력에 의한 서비스 거부 취약점 대응)"><!--[--><i class="vp-icon iconfont icon-spring" sizing="both"></i><!--]-->Spring 3.2.3에서 3.2.14로 업그레이드 정리(스프링 XML 입력에 의한 서비스 거부 취약점 대응)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/47.html" aria-label="Java Exception 생성 비용은 비싸다."><!--[--><i class="vp-icon iconfont icon-spring" sizing="both"></i><!--]-->Java Exception 생성 비용은 비싸다.<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/meetup.nhncloud.com/53.html" aria-label="리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편"><!--[--><i class="vp-icon iconfont icon-shell" sizing="both"></i><!--]-->리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/54.html" aria-label="리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 2편"><!--[--><i class="vp-icon iconfont icon-shell" sizing="both"></i><!--]-->리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 2편<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/55.html" aria-label="리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 3편"><!--[--><i class="vp-icon iconfont icon-shell" sizing="both"></i><!--]-->리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 3편<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/58.html" aria-label="Apache Cassandra 톺아보기 - 1편"><!--[--><i class="vp-icon iconfont icon-apachecassandra" sizing="both"></i><!--]-->Apache Cassandra 톺아보기 - 1편<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/60.html" aria-label="Apache Cassandra 톺아보기 - 2편"><!--[--><i class="vp-icon iconfont icon-apachecassandra" sizing="both"></i><!--]-->Apache Cassandra 톺아보기 - 2편<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/65.html" aria-label="Apache Cassandra 톺아보기 - 3편"><!--[--><i class="vp-icon iconfont icon-apachecassandra" sizing="both"></i><!--]-->Apache Cassandra 톺아보기 - 3편<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/73.html" aria-label="ES6의 제너레이터를 사용한 비동기 프로그래밍"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->ES6의 제너레이터를 사용한 비동기 프로그래밍<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/80.html" aria-label="CodeSnippet과 함께하는 JavaScript 프로그래밍"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->CodeSnippet과 함께하는 JavaScript 프로그래밍<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/85.html" aria-label="지금 바로 시작하는 ES6"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->지금 바로 시작하는 ES6<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/251.html" aria-label="캐시 성능 향상기 (Improving Cache Speed at Scale)"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->캐시 성능 향상기 (Improving Cache Speed at Scale)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/283.html" aria-label="VSCode의 Jupyter Extension을 사용하여 간단하게 Python으로 데이터 시각화하기"><!--[--><i class="vp-icon iconfont icon-vscode" sizing="both"></i><!--]-->VSCode의 Jupyter Extension을 사용하여 간단하게 Python으로 데이터 시각화하기<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/293.html" aria-label="Chromium이 발표한 RenderingNG가 무엇인가?"><!--[--><i class="vp-icon fa-brands fa-chrome" sizing="both"></i><!--]-->Chromium이 발표한 RenderingNG가 무엇인가?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/311.html" aria-label="가볍게 살펴보는 새로운 한/글 파일 포맷 HWPX"><!--[--><i class="vp-icon fa-brands fa-html5" sizing="both"></i><!--]-->가볍게 살펴보는 새로운 한/글 파일 포맷 HWPX<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/371.html" aria-label="PLT Hook 체크를 위한 Android so 파일 파싱"><!--[--><i class="vp-icon fa-brands fa-android" sizing="both"></i><!--]-->PLT Hook 체크를 위한 Android so 파일 파싱<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/374.html" aria-label="Java Reactor onErrorContinue 이모저모"><!--[--><i class="vp-icon iconfont icon-springboot" sizing="both"></i><!--]-->Java Reactor onErrorContinue 이모저모<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/375.html" aria-label="이상 탐지 4부-딥 러닝으로 이상 탐지하기"><!--[--><i class="vp-icon fas fa-brain" sizing="both"></i><!--]-->이상 탐지 4부-딥 러닝으로 이상 탐지하기<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/376.html" aria-label="Firmware Command Injection을 알아보자!"><!--[--><i class="vp-icon iconfont icon-c" sizing="both"></i><!--]-->Firmware Command Injection을 알아보자!<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/377.html" aria-label="메시징플랫폼개발팀의 브랜칭 전략은? Release Flow!"><!--[--><i class="vp-icon iconfont icon-git" sizing="both"></i><!--]-->메시징플랫폼개발팀의 브랜칭 전략은? Release Flow!<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/378.html" aria-label="디스어셈블 프레임워크 Capstone-engine 활용하기"><!--[--><i class="vp-icon fa-brands fa-python" sizing="both"></i><!--]-->디스어셈블 프레임워크 Capstone-engine 활용하기<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/379.html" aria-label="Redis Cluster를 사용할 때 Spring Boot와 Lettuce client를 설정해 드립니다"><!--[--><i class="vp-icon iconfont icon-springboot" sizing="both"></i><!--]-->Redis Cluster를 사용할 때 Spring Boot와 Lettuce client를 설정해 드립니다<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/meetup.nhncloud.com/381.html" aria-label="보이스피싱 애플리케이션 분석 1부"><!--[--><i class="vp-icon fas fa-shield-halved" sizing="both"></i><!--]-->보이스피싱 애플리케이션 분석 1부<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="/bookshelf/assets/image/meetup.nhncloud.com/53/banner.png" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon iconfont icon-shell" sizing="height"></i>리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">15. 12. 21.</span><meta property="datePublished" content="2015-12-21T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 3 min</span><meta property="timeRequired" content="PT3M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color6" role>Shell</span><span class="page-category-item color1" role>TCP</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="Shell,TCP,Article(s)"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color5" role>meetup.nhncloud.com</span><span class="page-tag-item color7" role>sh</span><span class="page-tag-item color3" role>bash</span><!--]--><meta property="keywords" content="blog,meetup.nhncloud.com,sh,bash"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-관련" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-관련"><span>리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편 관련</span></a></h1><a class="route-link vp-card" href="/bookshelf/programming/sh/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="https://chanhi2000.github.io/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Shell > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/meetup.nhncloud.com/53.html#_1-들어가기-전에" class="router-link-active router-link-exact-active">1. 들어가기 전에</a></li><li><a aria-current="page" href="/bookshelf/meetup.nhncloud.com/53.html#_2-준비" class="router-link-active router-link-exact-active">2. 준비</a></li><li><a aria-current="page" href="/bookshelf/meetup.nhncloud.com/53.html#_3-tcp-대역폭-bandwidth-관련-파라미터" class="router-link-active router-link-exact-active">3. TCP 대역폭(bandwidth) 관련 파라미터</a><ul><li><a aria-current="page" href="/bookshelf/meetup.nhncloud.com/53.html#_3-1-bdp" class="router-link-active router-link-exact-active">3.1 BDP</a></li><li><a aria-current="page" href="/bookshelf/meetup.nhncloud.com/53.html#_3-2-tcp-window-scaling" class="router-link-active router-link-exact-active">3.2 TCP window scaling</a></li><li><a aria-current="page" href="/bookshelf/meetup.nhncloud.com/53.html#_3-3-tcp-socket-buffer-size" class="router-link-active router-link-exact-active">3.3 TCP socket buffer size</a></li><li><a aria-current="page" href="/bookshelf/meetup.nhncloud.com/53.html#_3-4-congestion-window-size" class="router-link-active router-link-exact-active">3.4 congestion window size</a></li></ul></li></ul></nav><hr><div class="vp-site-info" data-name="리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편 | NHN Cloud Meetup"><a class="vp-site-info-navigator no-external-link-icon" title="리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편 | NHN Cloud Meetup" href="https://meetup.nhncloud.com/posts/53" target="_blank"></a><div class="vp-site-info-preview" style="background:url(/bookshelf/assets/image/meetup.nhncloud.com/53/banner.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://meetup.nhncloud.com/resources/img/favicon.ico" alt loading="lazy" no-view><div class="vp-site-info-name">리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편 | NHN Cloud Meetup</div><div class="vp-site-info-desc">리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 1편</div></div><!----></div><figure><img src="/bookshelf/assets/image/meetup.nhncloud.com/53/banner.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_1-들어가기-전에" tabindex="-1"><a class="header-anchor" href="#_1-들어가기-전에"><span>1. 들어가기 전에</span></a></h2><p>안녕하세요. NHN엔터테인먼트 정성환 입니다. 언젠가 꼭 한번 정리하겠다고 마음 먹었는데, 이제서야 정리하게 되었습니다.</p><p>먼저, &quot;TCP 네트워크 성능을 결정짓는...&quot; 이라는 수식어는 사실 조금 더 자극적인 제목을 뽑아내기 위한 과욕입니다. 네트워크 성능에 가장 중요한 요소는 결국엔 애플리케이션에 있다는 점을 강조하고 싶습니다.</p><p>다만, 워크로드 특성에 따라 기본 설정된 TCP 커널 파라미터가 제약이 되어 제성능을 발휘할 수 없을때도 있는데요. 본문에서는 이러한 내용들을 다루고 있습니다.</p><p><strong>매우 많은 커널 파라미터가 있겠지만, 본문에서는 네트워크 대역폭(bandwidth)에 대한 커널 파라미터, 네트워크 수용량(capacity)에 대한 커널 파라미터를 주로 다룹니다.</strong></p><hr><h2 id="_2-준비" tabindex="-1"><a class="header-anchor" href="#_2-준비"><span>2. 준비</span></a></h2><p>리눅스는 <code>sysctl</code> 명령어로 손쉽게 커널 파라미터를 런타임 중에 변경할 수 있습니다. 다음과 같은 명령어를 사용하면 현재 커널 파라미터 설정값 전체를 열람할 수 있습니다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-a</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>본 문서에서는 네트워크, 특히 TCP의 capacity와 bandwidth 등을 조정(tuning)할 수 있는 커널 파라미터 중 아주 일부 만을 다룹니다. 대개, TCP와 관련된 커널 파라미터는 net.core, net.ipv4, net.ipv6 등의 접두사를 붙이고 있습니다.</p><p>또, 다음과 같은 명령어로 현재 설정값을 변경할 수 있습니다. 예를 들어 net.core.wmem_max 라는 설정값을 16777216이라고 변경하려면, 다음과 같이 입력하면 됩니다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.core.wmem_max</span><span class="token operator">=</span><span class="token string">&quot;16777216&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>시스템 부팅시 설정되도록 하려면, /etc/sysctl.conf 파일에 해당 설정값을 기입하면 됩니다.</p><hr><h2 id="_3-tcp-대역폭-bandwidth-관련-파라미터" tabindex="-1"><a class="header-anchor" href="#_3-tcp-대역폭-bandwidth-관련-파라미터"><span>3. TCP 대역폭(bandwidth) 관련 파라미터</span></a></h2><h3 id="_3-1-bdp" tabindex="-1"><a class="header-anchor" href="#_3-1-bdp"><span>3.1 BDP</span></a></h3><p>TCP의 대역폭을 이해하려면 먼저 <code>BDP(Bandwidth Delay Product)</code>를 이해할 필요가 있습니다.</p><p>먼저, 100Mbps의 대역폭을 가지는 네트워크에서 어떤 두 host A, B 사이 RTT(Round-trip time)가 2초인 네트워크 경로가 있다고 가정합시다. A에서 B까지 데이터가 계속 전송되고 있을때, A에서 출발하였으나 아직 B에 도착하지 않은 데이터 양(bits in flight)은 얼마일까요?</p><p>아래 그림을 보면 조금 이해가 쉬울 것 같습니다.</p><figure><img src="/bookshelf/assets/image/meetup.nhncloud.com/53/1.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>대역폭을 너비로, 지연시간 RTT를 길이로 생각하면, 이 둘의 곱이 네트워크 경로상 떠다니는 데이터 양의 최대치를 나타낼 것입니다. <strong>즉, 대역폭과 지연시간의 곱, 다시 말해 BDP는 어느 네트워크 경로에 전달중인 데이터(패킷)의 양을 나타냅니다.</strong></p><p>이 예제에서 BDP는 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mfrac><mtext>Mb</mtext><mtext>s</mtext></mfrac><mo>×</mo><mrow><mn>2</mn><mtext>s</mtext></mrow><mo>=</mo><mn>200</mn><mtext>Mb</mtext><mo>×</mo><mfrac><mrow><mn>1</mn><mtext>B</mtext></mrow><mrow><mn>8</mn><mtext>b</mtext></mrow></mfrac><mo>=</mo><mn>25</mn><mtext>MB</mtext></mrow><annotation encoding="application/x-tex">100\tfrac{\text{Mb}}{\text{s}}\times{2\text{s}}=200\text{Mb}\times{\tfrac{1\text{B}}{8\text{b}}}=25\text{MB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em;"></span><span class="mord">100</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">s</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Mb</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord"><span class="mord">2</span><span class="mord text"><span class="mord">s</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord">200</span><span class="mord text"><span class="mord">Mb</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span><span class="mord text mtight"><span class="mord mtight">b</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord text mtight"><span class="mord mtight">B</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">25</span><span class="mord text"><span class="mord">MB</span></span></span></span></span> 정도입니다.</p><p>다른 예를 들어보자면, 어느 서버와 LTE 네트워크(40Mbps, 40ms RTT)로 연결된 단말이 있다고 가정합시다. 이때 BDP는</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">(</mo><mn>40</mn><mo>×</mo><mrow><mo stretchy="false">(</mo><msup><mn>10</mn><mn>6</mn></msup><mo stretchy="false">)</mo></mrow><mo fence="true">)</mo></mrow><mstyle displaystyle="false" scriptlevel="0"><mfrac><mtext>bit</mtext><mtext>s</mtext></mfrac></mstyle><mo>×</mo><mrow><mn>40</mn><mo>×</mo><mrow><mo fence="true">(</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>3</mn></mrow></msup><mo fence="true">)</mo></mrow></mrow><mtext>s</mtext><mo>=</mo><mn>1600</mn><mo>×</mo><mrow><mo fence="true">(</mo><msup><mn>10</mn><mn>3</mn></msup><mo fence="true">)</mo></mrow><mtext>bit</mtext><mo>=</mo><mn>1.6</mn><mtext>Mb</mtext><mo>×</mo><mstyle displaystyle="false" scriptlevel="0"><mfrac><mrow><mn>1</mn><mtext>B</mtext></mrow><mrow><mn>8</mn><mtext>b</mtext></mrow></mfrac></mstyle><mo>=</mo><mn>0.2</mn><mtext>MB</mtext></mrow><annotation encoding="application/x-tex">\left(40\times{(10^6)}\right)\tfrac{\text{bit}}{\text{s}}\times{40\times{\left(10^{-3}\right)}}\text{s}=1600\times{\left(10^3\right)}\text{bit}=1.6\text{Mb}\times{\tfrac{1\text{B}}{8\text{b}}}=0.2\text{MB} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2301em;vertical-align:-0.35em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord">40</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mclose">)</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">s</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">bit</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2141em;vertical-align:-0.35em;"></span><span class="mord"><span class="mord">40</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span><span class="mord text"><span class="mord">s</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1600</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2141em;vertical-align:-0.35em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span><span class="mord text"><span class="mord">bit</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord">1.6</span><span class="mord text"><span class="mord">Mb</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span><span class="mord text mtight"><span class="mord mtight">b</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord text mtight"><span class="mord mtight">B</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0.2</span><span class="mord text"><span class="mord">MB</span></span></span></span></span></span></p><p>정도일 것 입니다.</p><p>BDP의 수식을 이용하면, 다음과 같은 식을 도출할 수 있을 것입니다.</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Bandwidth</mtext><mo>=</mo><mfrac><mtext>BDP</mtext><mtext>RTT</mtext></mfrac></mrow><annotation encoding="application/x-tex">\text{Bandwidth}=\frac{\text{BDP}}{\text{RTT}} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Bandwidth</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">RTT</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">BDP</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>그런데 말입니다. 실제 인터넷에서 BDP는 매우 충분히 큽니다. 용량이 큰 백본망을 비록한 물리적인 네트워크 환경이 예전과 다르게 비약적으로 좋기 때문이죠. BDP가 어느 정도로 크냐면 receiver의 receiver window size를 온당히 감당할만큼 크다고 할 수 있습니다.</p><p>즉, 인터넷의 경우 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Bandwidth</mtext><mo>=</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mtext>receiver window size</mtext><mtext>RTT</mtext></mfrac></mstyle></mrow><annotation encoding="application/x-tex">\text{Bandwidth}=\dfrac{\text{receiver window size}}{\text{RTT}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Bandwidth</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">RTT</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">receiver window size</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> 관계도 성립한다는 이야기이죠.</p><p><strong>다시 정리하자면, 인터넷의 경우 대역폭을 높이기 위해서는 RTT를 낮추거나 receiver window size를 키우면 됩니다. 그런데 RTT는 peer간 물리적인 거리에 종속적이어서 낮추기 힘듭니다. 즉, 대역폭을 높이려면 receiver window size를 증가시켜야 합니다.</strong></p><p>그렇다면, receiver window size를 증가하려면 어떻게 해야 할까요?</p><h3 id="_3-2-tcp-window-scaling" tabindex="-1"><a class="header-anchor" href="#_3-2-tcp-window-scaling"><span>3.2 TCP window scaling</span></a></h3><p>기본적으로 TCP 연결을 맺을 때, SYN 패킷에는 receiver window size를 공고(advertising) 하도록 되어 있습니다. 이 값의 범위는 0~65,535까지인데요. 즉, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>64</mn><mtext>KB</mtext></mrow><annotation encoding="application/x-tex">64\text{KB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">64</span><span class="mord text"><span class="mord">KB</span></span></span></span></span>까지 지정할 수 있습니다. 인터넷이 처음 나올적의 예전이라면 모르겠지만, 지금 세상에서 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>64</mn><mtext>KB</mtext></mrow><annotation encoding="application/x-tex">64\text{KB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">64</span><span class="mord text"><span class="mord">KB</span></span></span></span></span>는 꽤나 작은 데이터양이겠지요.</p><p><strong>RFC 1323에서는 TCP window scaling이라는 옵션을 정의하고 있습니다. TCP 헤더의 옵션 필드에 window scale라는 필드를 정의하여 advertise할 수 있는 receiver window size를 키울 수 있도록 합니다.</strong></p><p>이 값은 0~14까지 지정할 수 있습니다. 그리고 이 값을 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>이라 한다면, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span> 값을 window scaling factor라고 합니다. TCP window scaling을 설정하면, 실제 receiver window size는 기존의 window size 값과 이 window scaling factor의 곱으로 구할 수 있습니다.</p><p>예를 들어, window size 값이 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo separator="true">,</mo><mn>192</mn></mrow><annotation encoding="application/x-tex">8,192</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">192</span></span></span></span>이고 window scale 값이 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span>이라면 실제 receiver window size는 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo separator="true">,</mo><mn>192</mn><mo>×</mo><msup><mn>2</mn><mn>8</mn></msup><mo>=</mo><mn>2</mn><mo separator="true">,</mo><mn>097</mn><mo separator="true">,</mo><mn>152</mn></mrow><annotation encoding="application/x-tex">8,192\times{2^{8}}=2,097,152</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">192</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">097</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">152</span></span></span></span> 바이트가 됩니다.</p><p>참고로, TCP window scaling을 사용할 때 최대 receiver window size는 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>65</mn><mo separator="true">,</mo><mn>535</mn><mo>×</mo><msup><mn>2</mn><mn>14</mn></msup><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>073</mn><mo separator="true">,</mo><mn>725</mn><mo separator="true">,</mo><mn>440</mn></mrow><annotation encoding="application/x-tex">65,535\times{2^{14}}=1,073,725,440</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">65</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">535</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">14</span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">073</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">725</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">440</span></span></span></span> 바이트(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mtext>GB</mtext></mrow><annotation encoding="application/x-tex">1\text{GB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord text"><span class="mord">GB</span></span></span></span></span>)입니다.</p><p>TCP window scaling을 활성화하려면, 커널 파라미터 &#39;<code>net.ipv4.tcp_window_scaling</code>&#39; 값이 &#39;<code>1</code>&#39;로 설정되어 있어야 합니다. 다음과 같은 명령어를 사용하면 활성화 할 수 있습니다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.tcp_window_scaling</span><span class="token operator">=</span><span class="token string">&quot;1&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>참고로, 통신하는 두 host 양 측 모두 TCP window scaling 옵션을 활성화해야 올바르게 동작하게 됩니다. 그리고 일반적으로 클라이언트 OS(<i class="vp-icon fa-brands fa-windows" sizing="height"></i>Windows, <i class="vp-icon iconfont icon-macos" sizing="height"></i>MAC OS X, iOS, <i class="vp-icon fa-brands fa-android" sizing="height"></i>Android)들은 이 옵션이 활성화되어 있습니다.</p><h3 id="_3-3-tcp-socket-buffer-size" tabindex="-1"><a class="header-anchor" href="#_3-3-tcp-socket-buffer-size"><span>3.3 TCP socket buffer size</span></a></h3><p>TCP window scaling을 이용하여 receiver window size의 한계치를 증가하더라도, 실제 커널에 설정된 소켓 버퍼 크기보다 커질 수는 없을 것 입니다. <strong>결국 receiver window size를 증가하기 위해서는, 소켓당 버퍼 크기를 증가시켜야 합니다.</strong></p><p>이와 관련된 커널 파라미터는 다음과 같습니다.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">- net.core.rmem_default</span>
<span class="line">- net.core.wmem_default</span>
<span class="line">- net.core.rmem_max</span>
<span class="line">- net.core.wmem_max</span>
<span class="line">- net.ipv4.tcp_rmem</span>
<span class="line">- net.ipv4.tcp_wmem</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>여기서 rmem은 receive(read) buffer의 크기, wmem은 send(write) buffer의 크기를 나타냅니다. 지정되는 값들의 단위는 바이트(bytes) 입니다.</p><p>먼저 <code>net.core</code> 접두사가 붙은 커널 파라미터 부터 살펴 보겠습니다. 이는 TCP를 포함한 모든 종류의 소켓에 기본적으로 설정되는 버퍼 크기를 나타냅니다. 접미사 default는 그 기본값이고, max는 소켓이 가질 수 있는 최대 크기를 나타냅니다.</p><p><code>net.ipv4</code> 접두사가 붙은 커널 파라미터는 TCP 소켓에 대한 부분을 설정합니다. 참고로, 이 설정값은 ipv6에서도 적용되는데, 리눅스에서는 일부 ipv4 커널 파라미터가 ipv6까지 적용 되기 때문입니다.</p><div class="hint-container info"><p class="hint-container-title">ipv6에도 적용되는 커널 파라미터</p><ul><li>net.ipv4.ip_</li><li>net.ipv4.ip_local_portrange</li><li>net.ipv4.tcp</li><li>net.ipv4.icmp_*</li></ul></div><p>각 커널 파라미터는 min / default / max로 세 정수 값으로 설정 할 수 있습니다. min은 TCP memory pressure 상태일 때 소켓에 할당되는 버퍼 크기를 나타내고요, max는 TCP 소켓이 가질 수 있는 최대 크기를 나타냅니다. TCP memory pressure 상태에 대해서는 조금 더 아래에서 다루도록 하겠습니다. 중간값은 default로 net.core에서 설정된 default 값을 TCP 소켓에 한정하여 덮어 씌웁니다. 특히, default 값은 TCP receive window 크기를 결정할 때 가장 주요하게 참조되는 값입니다.</p><p>이 커널 파라미터의 기본값은 리눅스 커널에 의하여 자동으로 설정(auto-tuned)되나, 대개 default 값이 128KB 정도로 설정되어 있는데요. 비교적 메모리 양이 적고, 대규모/대용량 패킷처리를 하지 않는 데스크탑에서는 적합한 설정입니다. 서버의 경우 일반적으로 메모리 양이 크기에 적절히 크기를 늘려줘도 좋을 것 같습니다. (네트워크 대역폭 - 메모리 사용량의 trade-off)</p><p>TCP receive window size를 증가시키려면, 위에서 나열한 커널 파라미터를 적당히 설정해야 합니다. 어떤 워크로드에서도 적용 가능한 완벽한 커널 파리미터는 없습니다. 다만 이 경우 trade-off 관계가 메모리 사용량 밖에 없기에, 아래와 같은 설정값을 조심스레 제안합니다. (적당히 보수적으로 상향된 설정값입니다.)</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.core.rmem_default</span><span class="token operator">=</span><span class="token string">&quot;253952&quot;</span></span>
<span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.core.wmem_default</span><span class="token operator">=</span><span class="token string">&quot;253952&quot;</span></span>
<span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.core.rmem_max</span><span class="token operator">=</span><span class="token string">&quot;16777216&quot;</span></span>
<span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.core.wmem_max</span><span class="token operator">=</span><span class="token string">&quot;16777216&quot;</span></span>
<span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.tcp_rmem</span><span class="token operator">=</span><span class="token string">&quot;253952 253952 16777216&quot;</span></span>
<span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.tcp_wmem</span><span class="token operator">=</span><span class="token string">&quot;253952 253952 16777216&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>이 외에 &#39;<code>net.ipv4.tcp_mem</code>&#39;이라는 커널 파라미터가 있습니다. 이 커널 파라미터는 커널에서 TCP를 위해 사용할 수 있는 메모리 크기를 지정합니다. 위에서 소개한 파라미터들은 개별 TCP 소켓당 지정되는 값이라면, 이 값은 TCP 소켓 전체에 대한 값입니다.</p><p>이 설정값은 위에서 소개한 커널 파라미터들과 유사하게 min / pressure / max 값을 지정할 수 있습니다. 이 중 pressure는 <code>net.ipv4.tcp_rmem</code>, <code>net.ipv4.tcp_wmem</code>에서 잠깐 언급한 memory pressure의 threshold 값 입니다. 즉, TCP 소켓 전체에서 사용되는 메모리가 이 값을 초과하면, TCP memory pressure 상태가 되어 이후 소켓은 지정된 min 값의 메모리 버퍼 크기를 가지게 되는 것이죠.</p><p>다음과 같은 명령어로 현재 커널 파라미터 설정값을 확인 할 수 있습니다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sysctl</span> net.ipv4.tcp_mem</span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"><span class="token comment"># net.ipv4.tcp_mem = 185688    247584    371376</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>위 값은 부팅시 시스템의 메모리에 맞추어 자동으로(auto-tuned) 설정됩니다. 한가지 유의할 점은, 되도록 이 커널 파라미터 설정값을 수정하지 말아야 한다는 점 입니다. 왜냐하면, 이미 커널에 의해 시스템 메모리에 맞게 최적화된 값이 설정되기 때문입니다.</p><p>구글 검색 등으로 찾을 수 있는 커널 파라미터 설정 관련 문서 중 일부를 살펴보면, 이 값을 대폭 올리도록 가이드 하기도 하는데요. 쉽사리 찾을 수 있는 어떤 문서에는 다음과 같이 가이드 합니다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.tcp_mem</span><span class="token operator">=</span><span class="token string">&quot;8388608 8388608 8388608&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>이 설정값이 왜 말이 안되는 설정값이냐면, 그 단위가 바이트(byte)가 아니라 페이지(page)이기 때문입니다. 리눅스에서는 기본적으로 1 페이지는 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo separator="true">,</mo><mn>096</mn></mrow><annotation encoding="application/x-tex">4,096</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">096</span></span></span></span> 바이트입니다. 즉, 위 설정값대로 라면 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo separator="true">,</mo><mn>388</mn><mo separator="true">,</mo><mn>608</mn></mrow><annotation encoding="application/x-tex">8,388,608</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">388</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">608</span></span></span></span>은 32기가바이트를 뜻 합니다. (커도 너무 크죠.)</p><h3 id="_3-4-congestion-window-size" tabindex="-1"><a class="header-anchor" href="#_3-4-congestion-window-size"><span>3.4 congestion window size</span></a></h3><p>그럼 receiver가 공고(advertising)한 receive window size 만큼 sender는 데이터를 네트워크로 패킷을 보낼 수 있을까요? 결론부터 말하자면, 그렇지 않습니다.</p><p>네트워크는 네트워크에 연결된 모든 노드들간 공유하는 공유 자원입니다. 개개 노드가 이를 탐욕적으로 사용하면, 네트워크 전체가 마비될 수 있습니다. 그렇기 때문에, 각 노드들은 적당한 congestion avoidance algorithm을 사용하여 보내는 데이터 양을 자체적으로 조정하고 있습니다.</p><p>이 congestion avoidance algorithm은 receiver와는 상관없이 (receiver window size 등 peer가 알려주는 정보와는 무관하게) 독자적으로 네트워크에 보낼 데이터 양을 정합니다. 리눅스에서는 reno, vegas, new reno, bic, cubic 등의 congestion avoidance algorithm을 사용할 수 있는데, 요즈음의 일반적인 리눅스 배포판에서는 cubic가 기본적으로 설정되어 있습니다.</p><p>congestion avoidance algorithm은 몇 가지 파라미터를 참조(RTT가 가장 주요한 파라미터가 될 것입니다.)하여 congestion window 크기를 설정하게 되는데요. 이 크기가 한번에 보낼 수 있는 데이터 양의 최대치가 될 것입니다. congestion window 크기는 애플리케이션이나 커널 파라미터로 설정 될 수 있는 값은 아닙니다.</p><p>리눅스에서는 <i class="vp-icon fas fa-terminal" sizing="height"></i><code>ss</code>와 같은 유틸리티를 통해 각 소켓별 현재 congestion window 크기를 확인할 수 있습니다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">ss <span class="token parameter variable">-n</span> <span class="token parameter variable">-i</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Netid State      Recv-Q Send-Q                                Local Address:Port                                                         Peer Address:Port</span></span>
<span class="line"><span class="token comment"># tcp    ESTAB      0      0                                                                10.77.57.57:33000                                                           10.77.57.57:47142</span></span>
<span class="line"><span class="token comment">#      cubic wscale:7,7 rto:208 rtt:5.236/10.107 ato:40 mss:65483 cwnd:10 send 1000.5Mbps rcv_rtt:4 rcv_space:43690</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>이 소켓은 congestion avoidance algorithm으로 cubic을 사용하고, 현재 congestion window size가 10임을 알 수 있습니다. 즉, 한번에 보낼 수 있는 패킷 개수는 10개이며 약 15KB 정도의 데이터를 한번에 보낼 수 있을 것입니다.</p><p>이 congestion window size는 TCP의 혼잡 제어 전략에 따라 slow start 방법으로 최초 연결시 정해진 &#39;initial congestion window size(CWND)&#39;부터 어느 정도 선까지 지속적으로 증가하게 됩니다. 그리고 통신이 지속적으로 진행되면서 receiver로 부터 ACK 패킷을 받으면, congestion window size를 현재 크기의 2배 만큼씩 증가 시킵니다. (그 와중에 패킷이 유실되거나 한다면 congestion window size를 감소시킬텐데요. 이는 congestion avoidance algorithm에 따라 얼마만큼 경감할지 달라집니다.)</p><p>그런데, 이러한 특성 때문에 RTT가 비교적 높은 모바일 환경에서 취약한 면이 있습니다.</p><p>예를 들어, receive window size가 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>64</mn><mtext>KB</mtext></mrow><annotation encoding="application/x-tex">64\text{KB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">64</span><span class="mord text"><span class="mord">KB</span></span></span></span></span>인 receiver가 있다고 합시다. sender의 initial congestion window가 1이라면, congestion window size가 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>64</mn><mtext>KB</mtext></mrow><annotation encoding="application/x-tex">64\text{KB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">64</span><span class="mord text"><span class="mord">KB</span></span></span></span></span>에 도달하기 위해서는 peer로 부터 6번의 ACK을 받아야 합니다. 이 때 RTT가 500ms라면 3초 이후에야 receive window size만큼 congestion window size가 증가될 것입니다.</p><p>이러한 이유 때문에 구글에서는 2010년경 TCP initial congestion window size를 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span>으로 상향(일반적으로 1 혹은 2로 설정) 하자는 의견을 내놓기도 했습니다.</p><p>그러나 다시 한번 이야기 하자면, 모든 워크로드와 조건을 만족하는 설정값은 없습니다. 네트워크 상 모든 peer들이 initial congestion window size를 10으로 증가 설정하고, 항상 이 패킷수보다 많은 통신을 빈번히 하게 된다면 전체 네트워크가 혼잡한 상황이 되는 재앙이 발생할 수도 있을 것입니다. 또, 한번에 주고 받는 패킷 크기가 상대적으로 작다면 initial congestion window size를 조정해도 크게 이득이 없을 수 있습니다.</p><p>initial congestion window size를 변경하기 위해서는, 커널 파라미터가 아니라 <i class="vp-icon fas fa-terminal" sizing="height"></i><code>ip route</code> 명령을 사용할 수 있습니다. 먼저, 현재의 라우팅 정보를 확인하려면 아래와 같은 명령어를 사용합니다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">ip</span> route show</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># 192.168.1.0/24 dev eth0  proto kernel  scope link  src 192.168.1.100  metric 1 </span></span>
<span class="line"><span class="token comment"># 169.254.0.0/16 dev eth0  scope link  metric 1000 </span></span>
<span class="line"><span class="token comment"># default via 192.168.1.1 dev eth0  proto static</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>여기서는 default 라우팅 설정을 변경할텐데요. 위의 설정값을 토대로 아래와 같이 입력하여 initial congestion window size를 변경합니다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">ip</span> route change default via <span class="token number">192.168</span>.1.1 dev eth0  proto static initcwnd <span class="token number">10</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>적용되었음을 확인하려면, 아래와 같은 명령어를 사용합니다.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">ip</span> route show</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># 192.168.1.0/24 dev eth0  proto kernel  scope link  src 192.168.1.100  metric 1 </span></span>
<span class="line"><span class="token comment"># 169.254.0.0/16 dev eth0  scope link  metric 1000 </span></span>
<span class="line"><span class="token comment"># default via 192.168.1.1 dev eth0  proto static  initcwnd 10</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>참고로 특정 커널 버전(2.6.18)에서는 ethernet 설정에서 TSO를 활성화하면 이 수치가 무시되는 버그가 있습니다. (비교적 오래된 커널이라 최근 배포판에서는 관계가 없지만, <i class="vp-icon fa-brands fa-redhat" sizing="height"></i>Redhat/<i class="vp-icon fa-brands fa-centos" sizing="height"></i>CentOS 5 버전이 이 커널을 사용합니다.)</p><p>또 살펴볼 만한 slow start와 관련된 리눅스 커널 파라미터는 &#39;<code>net.ipv4.tcp_slow_start_after_idle</code>&#39; 입니다. 이 파라미터는 0 혹은 1로 설정할 수 있는데요. 1로 설정되어 있으면 congestion window size가 증가된 소켓이라도 특정 시간 동안의 idle(통신이 없는) 상태에 지속되면, 다시 slow start를 통해 initial congestion window size에서 부터 congestion window size를 증가해야 합니다. 반대로 0으로 설정되어 있으면, 일정 시간 통신이 없더라도 congestion window size가 유지 됩니다.</p></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/articles/edit/main/src/meetup.nhncloud.com/53.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/programming/sh/articles/" aria-label="/programming/sh/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/programming/sh/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/meetup.nhncloud.com/54.html" aria-label="리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 2편"><div class="hint">Next<span class="arrow end"></span></div><div class="link">리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 2편<i class="vp-icon iconfont icon-shell" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright © 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><!----></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BVguHYKu.js" defer></script>
  </body>
</html>
