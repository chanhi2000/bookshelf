<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Allocatable memory and CPU in Kubernetes Nodes","image":["https://learnk8s.io/a/35bda739ecd82613ebe2bc144122a051.svg","https://learnk8s.io/a/d31a4f9aaebabe0ac73b5bb090c92bcb.svg","https://learnk8s.io/a/d2f7ef5fb0ff243c733497905f91646c.svg","https://learnk8s.io/a/df04181e100dfe86154599d79cbd2a88.svg"],"datePublished":"2024-05-27T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"Daniele Polencic","url":"https://linkedin.com/in/danielepolencic"}]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/learnk8s.io/allocatable-resources.html"><meta property="og:site_name" content="📚Bookshelf"><meta property="og:title" content="Allocatable memory and CPU in Kubernetes Nodes"><meta property="og:description" content="Article(s) > Allocatable memory and CPU in Kubernetes Nodes"><meta property="og:type" content="article"><meta property="og:image" content="https://static.learnk8s.io/2f459b0416493403e14ea04caf12bd45.png"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://static.learnk8s.io/2f459b0416493403e14ea04caf12bd45.png"><meta name="twitter:image:alt" content="Allocatable memory and CPU in Kubernetes Nodes"><meta property="article:author" content="Daniele Polencic"><meta property="article:tag" content="google-cloud-platform"><meta property="article:tag" content="gcp"><meta property="article:tag" content="microsoft-azure"><meta property="article:tag" content="microsoftazure"><meta property="article:tag" content="azure"><meta property="article:tag" content="amazon-web-services"><meta property="article:tag" content="aws"><meta property="article:tag" content="k8s"><meta property="article:tag" content="kubernetes"><meta property="article:tag" content="devops"><meta property="article:tag" content="learnk8s.io"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2024-05-27T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>Allocatable memory and CPU in Kubernetes Nodes | 📚Bookshelf</title><meta name="description" content="Article(s) > Allocatable memory and CPU in Kubernetes Nodes">
    <link rel="preload" href="/bookshelf/assets/style-DmRYlEXZ.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-DmRYlEXZ.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">📚Bookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/learnk8s.io/" aria-label="learnk8s.io"><!--[--><img class="vp-icon" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnk8s.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/articles" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">learnk8s.io</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2025</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2024</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/learnk8s.io/kubernetes-services-and-load-balancing.html" aria-label="Kubernetes networking: service, kube-proxy, load balancing"><!--[--><i class="vp-icon iconfont icon-k8s" sizing="both"></i><!--]-->Kubernetes networking: service, kube-proxy, load balancing<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/learnk8s.io/kubernetes-rollbacks.html" aria-label="How do you rollback deployments in Kubernetes?"><!--[--><i class="vp-icon iconfont icon-k8s" sizing="both"></i><!--]-->How do you rollback deployments in Kubernetes?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/learnk8s.io/kubernetes-long-lived-connections.html" aria-label="Kubernetes networking: service, kube-proxy, load balancing"><!--[--><i class="vp-icon iconfont icon-k8s" sizing="both"></i><!--]-->Kubernetes networking: service, kube-proxy, load balancing<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/learnk8s.io/allocatable-resources.html" aria-label="Allocatable memory and CPU in Kubernetes Nodes"><!--[--><i class="vp-icon iconfont icon-k8s" sizing="both"></i><!--]-->Allocatable memory and CPU in Kubernetes Nodes<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/learnk8s.io/troubleshooting-deployments.html" aria-label="A visual guide on troubleshooting Kubernetes deployments"><!--[--><i class="vp-icon iconfont icon-k8s" sizing="both"></i><!--]-->A visual guide on troubleshooting Kubernetes deployments<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/learnk8s.io/graceful-shutdown.html" aria-label="Graceful shutdown in Kubernetes"><!--[--><i class="vp-icon iconfont icon-k8s" sizing="both"></i><!--]-->Graceful shutdown in Kubernetes<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2023</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2022</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2021</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2020</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2019</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="https://static.learnk8s.io/2f459b0416493403e14ea04caf12bd45.png" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon iconfont icon-k8s" sizing="height"></i>Allocatable memory and CPU in Kubernetes Nodes</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://linkedin.com/in/danielepolencic" target="_blank" rel="noopener noreferrer">Daniele Polencic</a></span><span property="author" content="Daniele Polencic"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">5/27/24</span><meta property="datePublished" content="2024-05-27T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 7 min</span><meta property="timeRequired" content="PT7M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color2" role>DevOps</span><span class="page-category-item color7" role>Kubernetes</span><span class="page-category-item color8" role>AWS</span><span class="page-category-item color8" role>Microsoft Azure</span><span class="page-category-item color0" role>Google Cloud</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="DevOps,Kubernetes,AWS,Microsoft Azure,Google Cloud,Article(s)"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color2" role>learnk8s.io</span><span class="page-tag-item color7" role>devops</span><span class="page-tag-item color2" role>kubernetes</span><span class="page-tag-item color5" role>k8s</span><span class="page-tag-item color0" role>aws</span><span class="page-tag-item color8" role>amazon-web-services</span><span class="page-tag-item color2" role>azure</span><span class="page-tag-item color8" role>microsoftazure</span><span class="page-tag-item color0" role>microsoft-azure</span><span class="page-tag-item color7" role>gcp</span><span class="page-tag-item color2" role>google-cloud-platform</span><!--]--><meta property="keywords" content="blog,learnk8s.io,devops,kubernetes,k8s,aws,amazon-web-services,azure,microsoftazure,microsoft-azure,gcp,google-cloud-platform"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><hr><h1 id="frontmatter-title-관련" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-관련"><span>Allocatable memory and CPU in Kubernetes Nodes 관련</span></a></h1><a class="route-link vp-card" href="/bookshelf/devops/k8s/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="https://chanhi2000.github.io/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Kubernetes > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><a class="route-link vp-card" href="/bookshelf/devops/aws/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="https://chanhi2000.github.io/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">AWS > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><a class="route-link vp-card" href="/bookshelf/devops/azure/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="https://chanhi2000.github.io/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Microsoft Azure > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><a class="route-link vp-card" href="/bookshelf/devops/gcp/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="https://chanhi2000.github.io/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Google Cloud > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/learnk8s.io/allocatable-resources.html#how-resources-are-allocated-in-cluster-nodes" class="router-link-active router-link-exact-active">How resources are allocated in cluster nodes</a></li><li><a aria-current="page" href="/bookshelf/learnk8s.io/allocatable-resources.html#google-kubernetes-engine-gke" class="router-link-active router-link-exact-active">Google Kubernetes Engine (GKE)</a></li><li><a aria-current="page" href="/bookshelf/learnk8s.io/allocatable-resources.html#elastic-kubernetes-service-eks" class="router-link-active router-link-exact-active">Elastic Kubernetes Service (EKS)</a></li><li><a aria-current="page" href="/bookshelf/learnk8s.io/allocatable-resources.html#azure-kubernetes-service" class="router-link-active router-link-exact-active">Azure Kubernetes Service</a></li><li><a aria-current="page" href="/bookshelf/learnk8s.io/allocatable-resources.html#summary" class="router-link-active router-link-exact-active">Summary</a></li></ul></nav><hr><div class="vp-site-info" data-name="Allocatable memory and CPU in Kubernetes Nodes"><a class="vp-site-info-navigator no-external-link-icon" title="Allocatable memory and CPU in Kubernetes Nodes" href="https://learnk8s.io/allocatable-resources" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://static.learnk8s.io/2f459b0416493403e14ea04caf12bd45.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt loading="lazy" no-view><div class="vp-site-info-name">Allocatable memory and CPU in Kubernetes Nodes</div><div class="vp-site-info-desc">Pods deployed in your Kubernetes cluster consume resources such as memory, CPU and storage. However, not all resources in a Node can be used to run Pods.</div></div><!----></div><div class="hint-container important"><p class="hint-container-title">TL;DR</p><p>Not all CPU and memory in your Kubernetes nodes can be used to run Pods.</p></div><hr><h2 id="how-resources-are-allocated-in-cluster-nodes" tabindex="-1"><a class="header-anchor" href="#how-resources-are-allocated-in-cluster-nodes"><span>How resources are allocated in cluster nodes</span></a></h2><p>Pods deployed in your Kubernetes cluster consume memory, CPU and storage resources.</p><p><strong>However, not all resources in a Node can be used to run Pods.</strong></p><p>The operating system and the kubelet require memory and CPU, too, and you should cater for those extra resources.</p><p>If you look closely at a single Node, you can divide the available resources into:</p><ol><li>Resources needed to run the operating system and system daemons such as SSH, systemd, etc.</li><li>Resources necessary to run Kubernetes agents such as the Kubelet, the container runtime, <a href="https://github.com/kubernetes/node-problem-detector" target="_blank" rel="noopener noreferrer">node problem detector (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>kubernetes/node-problem-detector</code>)</a>, etc.</li><li>Resources available to Pods.</li><li>Resources reserved to the <a href="https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/#eviction-thresholds" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-k8s" sizing="height"></i>eviction threshold</a>.</li></ol><figure><img src="https://learnk8s.io/a/35bda739ecd82613ebe2bc144122a051.svg" alt="The amount of compute resources that are available to Pods" tabindex="0" loading="lazy"><figcaption>The amount of compute resources that are available to Pods</figcaption></figure><p>As you can guess, <a href="https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/#eviction-thresholds" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-k8s" sizing="height"></i>all of those quotas are customisable.</a></p><p>However, please note that reserving 100MB of memory for the operating system doesn&#39;t mean that the OS is limited to using only that amount.</p><p>It could use more (or less) resources—you&#39;re just allocating and estimating memory and CPU usage to the best of your ability.</p><p><em>But how do you decide how to assign resources?</em></p><p>Unfortunately, there isn&#39;t a <em>fixed</em> answer, as it depends on your cluster.</p><p>However, there&#39;s consensus in the major managed Kubernetes services <a href="https://cloud.google.com/kubernetes-engine" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-google" sizing="height"></i>Google Kubernetes Engine (GKE)</a>, <i class="vp-icon iconfont icon-microsoftazure" sizing="height"></i><a href="https://docs.microsoft.com/en-us/azure/aks/intro-kubernetes" target="_blank" rel="noopener noreferrer">Azure Kubernetes Service (AKS)</a>, and <a href="https://aws.amazon.com/eks/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-aws" sizing="height"></i>Elastic Kubernetes Service (EKS)</a>, and it&#39;s worth discussing how they partition the available resources.</p><hr><h2 id="google-kubernetes-engine-gke" tabindex="-1"><a class="header-anchor" href="#google-kubernetes-engine-gke"><span>Google Kubernetes Engine (GKE)</span></a></h2><p>Google Kubernetes Engine (GKE) has <a href="https://cloud.google.com/kubernetes-engine/docs/concepts/plan-node-sizes#memory_and_cpu_reservations" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-google" sizing="height"></i>a well-defined list of rules to assign memory and CPU to a Node</a>.</p><p>For memory resources, GKE reserves the following:</p><ul><li>255 MiB of memory for machines with less than 1 GiB of memory</li><li>25% of the first 4GiB of memory</li><li>20% of the next 4GiB of memory (up to 8GiB)</li><li>10% of the next 8GiB of memory (up to 16GiB)</li><li>6% of the next 112GiB of memory (up to 128GiB)</li><li>2% of any memory above 128GiB</li></ul><p>For CPU resources, GKE reserves the following:</p><ul><li>6% of the first core</li><li>1% of the following core (up to 2 cores)</li><li>0.5% of the following 2 cores (up to 4 cores)</li><li>0.25% of any cores above 4 cores</li></ul><p><em>Let&#39;s look at an example.</em></p><p>A virtual machine of type <code>n1-standard-2</code> has 2 vCPU and 7.5GiB of memory.</p><p>According to the above rules, the CPU reserved is:</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mtext>Allocatable</mtext><mtext> </mtext><mtext>CPU</mtext></mrow><mo>=</mo><mn>0.06</mn><mo>×</mo><mn>1</mn><mtext> </mtext><mo stretchy="false">(</mo><mrow><mtext>first</mtext><mtext> </mtext><mtext>core</mtext></mrow><mo stretchy="false">)</mo><mo>+</mo><mn>0.01</mn><mo>×</mo><mn>1</mn><mtext> </mtext><mo stretchy="false">(</mo><mrow><mtext>second</mtext><mtext> </mtext><mtext>core</mtext></mrow><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Allocatable\:CPU}=0.06\times{1}\:(\text{first\:core})+0.01\times{1}\:(\text{second\:core}) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Allocatable</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">CPU</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0.06</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">1</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">first</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">core</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0.01</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">1</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">second</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">core</span></span><span class="mclose">)</span></span></span></span></span></p><p><strong>That totals 70 millicores or 3.5% — a modest amount.</strong></p><p>The allocatable memory is more interesting:</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mtext>Allocatable</mtext><mtext> </mtext><mtext>CPU</mtext></mrow><mo>=</mo><mn>0.25</mn><mo>×</mo><mn>4</mn><mtext> </mtext><mo stretchy="false">(</mo><mtext>first</mtext><mtext> </mtext><mn>4</mn><mtext>GB</mtext><mo stretchy="false">)</mo><mo>+</mo><mn>0.2</mn><mo>×</mo><mn>3.5</mn><mtext> </mtext><mo stretchy="false">(</mo><mtext>remaining</mtext><mtext> </mtext><mn>3.5</mn><mtext>GB</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Allocatable\:CPU}=0.25\times{4}\:(\text{first}\:4\text{GB})+0.2\times{3.5}\:(\text{remaining}\:3.5\text{GB}) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Allocatable</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">CPU</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0.25</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">4</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">first</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span><span class="mord text"><span class="mord">GB</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0.2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">3.5</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">remaining</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3.5</span><span class="mord text"><span class="mord">GB</span></span><span class="mclose">)</span></span></span></span></span></p><p><strong>The total is 1.7GB of memory reserved for the kubelet.</strong></p><p>At this point, you might think that the remaining memory <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7.5</mn><mtext>GB</mtext><mo>−</mo><mn>1.7</mn><mtext>GB</mtext><mo>=</mo><mn>5.8</mn><mtext>GB</mtext></mrow><annotation encoding="application/x-tex">7.5\text{GB}-1.7\text{GB}=5.8\text{GB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">7.5</span><span class="mord text"><span class="mord">GB</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1.7</span><span class="mord text"><span class="mord">GB</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">5.8</span><span class="mord text"><span class="mord">GB</span></span></span></span></span> is something you can use for your Pods.</p><p><em>Not really.</em></p><p><strong>The kubelet reserves an extra 100MB for the eviction threshold.</strong></p><p>In other words, you started with a virtual machine with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7.5</mn><mtext>GiB</mtext></mrow><annotation encoding="application/x-tex">7.5\text{GiB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">7.5</span><span class="mord text"><span class="mord">GiB</span></span></span></span></span> of memory, but you can only use <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5.7</mn><mtext>GB</mtext></mrow><annotation encoding="application/x-tex">5.7\text{GB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">5.7</span><span class="mord text"><span class="mord">GB</span></span></span></span></span> for your Pods.</p><p><strong>That&#39;s close to ~75% of the overall capacity.</strong></p><figure><img src="https://learnk8s.io/a/d31a4f9aaebabe0ac73b5bb090c92bcb.svg" alt="Allocatable CPU and memory in Google Kubernetes Engine (GKE)" tabindex="0" loading="lazy"><figcaption>Allocatable CPU and memory in Google Kubernetes Engine (GKE)</figcaption></figure><p>You can be more efficient if you decide to use larger instances.</p><p>The instance type <code>n1-standard-96</code> has 96 vCPU and 360GiB of memory.</p><p>If you do the maths, that amounts to:</p><ul><li>405 millicores are reserved for Kubelet and operating system</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>14.26</mn><mtext>GB</mtext></mrow><annotation encoding="application/x-tex">14.26\text{GB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">14.26</span><span class="mord text"><span class="mord">GB</span></span></span></span></span> of memory are reserved for Operating System, kubernetes agent and eviction threshold.</li></ul><p><strong>In this extreme case, only 4% of memory is not allocatable.</strong></p><hr><h2 id="elastic-kubernetes-service-eks" tabindex="-1"><a class="header-anchor" href="#elastic-kubernetes-service-eks"><span>Elastic Kubernetes Service (EKS)</span></a></h2><p>Let&#39;s explore Elastic Kubernetes Service (EKS) allocations.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>Unfortunately, Elastic Kubernetes Service (EKS) doesn&#39;t offer documentation for allocatable resources. You can <a href="https://github.com/awslabs/amazon-eks-ami/blob/d87c6c49638216907cbd6630b6cadfd4825aed20/templates/al2/runtime/bootstrap.sh#L517" target="_blank" rel="noopener noreferrer">rely on their code implementation (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>awslabs/amazon-eks-ami</code>)</a> to extract the values.</p></div><p>EKS reserves the following memory for each Node:</p><p class="katex-block"><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#39;EOF&#39;, got &#39;_&#39; at position 66: …\times\text{MAX_̲POD_PER_INSTANC…" style="color:#cc0000;">\text{Reserved\:memory}=255\text{MiB}+11\text{MiB}\times\text{MAX_POD_PER_INSTANCE} </span></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em>What&#39;s <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>A</mi><msub><mi>X</mi><mi>P</mi></msub><mi>O</mi><msub><mi>D</mi><mi>P</mi></msub><mi>E</mi><msub><mi>R</mi><mi>I</mi></msub><mi>N</mi><mi>S</mi><mi>T</mi><mi>A</mi><mi>N</mi><mi>C</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">MAX_POD_PER_INSTANCE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">NST</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05764em;">NCE</span></span></span></span>?</em></p><p><strong>In Amazon Web Service, each instance type has a different upper limit on how many Pods it can run.</strong></p><p>For example, an <code>m5.large</code> instance can only run 29 Pods, but an <code>m5.4xlarge</code> can run up to 234. The reason is that each EC2 instance can only have a limited number of IP addresses assigned to it (in AWS lingo, those are called Elastic Network Interfaces (ENIs)).</p><p>The Container Network Interface (CNI) uses and assigns those IP addresses to Pods.</p><p>However, this limit doesn&#39;t apply if you use <a href="https://docs.aws.amazon.com/eks/latest/userguide/cni-increase-ip-addresses.html" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-aws" sizing="height"></i>EC2 prefix delegation via the AWS-CNI</a> or any other CNI that supports it (e.g. <a href="https://isovalent.com/blog/post/cilium-release-112/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>Cilium</a>).</p><p>So, figuring out the limit for your EC2 instances isn&#39;t exactly obvious.</p><p>For this, <a href="https://docs.aws.amazon.com/eks/latest/userguide/choosing-instance-type.html" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-aws" sizing="height"></i>AWS offers a script you can execute to estimate the maximum number of pods per instance.</a></p><p>Let&#39;s have a look at an example.</p><p>If you run the script against an <code>m5.large</code> instance, you will see this:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">./max-pods-calculator.sh --instance-type m5.large --cni-version <span class="token number">1.9</span>.0-eksbuild.1</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># 29</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can only run 29 pods.</p><p>Let&#39;s enable prefix delegation and see what&#39;s the estimated number of pods for the same instance:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">./max-pods-calculator.sh --instance-type m5.large --cni-version <span class="token number">1.9</span>.0-eksbuild.1 --cni-prefix-delegation-enabled</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># 110</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Remember that bigger instances can host up to 250 pods with prefix delegation.</p><p>The Kubernetes project has a page dedicated to considerations for running large clusters, and it suggests 110 pods per node as the recommended standard.</p><p>However, all major Kubernetes managed services set this limit to 250 pods.</p><p>With that in mind, let&#39;s look at the two memory reservations for the <code>m5.large</code> instance.</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mtext>Reserved</mtext><mtext> </mtext><mtext>memory</mtext></mrow><mtext> </mtext><mo stretchy="false">(</mo><mn>29</mn><mtext> </mtext><mtext>pods</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>255</mn><mtext>Mi</mtext><mo>+</mo><mn>11</mn><mtext>MiB</mtext><mo>×</mo><mn>29</mn><mo>=</mo><mn>574</mn><mtext>MiB</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mtext>Reserved</mtext><mtext> </mtext><mtext>memory</mtext></mrow><mtext> </mtext><mo stretchy="false">(</mo><mn>110</mn><mtext> </mtext><mtext>pods</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>255</mn><mtext>Mi</mtext><mo>+</mo><mn>11</mn><mtext>MiB</mtext><mo>×</mo><mn>110</mn><mo>=</mo><mn>1.5</mn><mtext>GiB</mtext></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*} \text{Reserved\:memory}\:(29\:\text{pods})=255\text{Mi}+11\text{MiB}\times{29}=574\text{MiB}\\ \text{Reserved\:memory}\:(110\:\text{pods})=255\text{Mi}+11\text{MiB}\times{110}=1.5\text{GiB} \end{align*} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Reserved</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">memory</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">29</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">pods</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">255</span><span class="mord text"><span class="mord">Mi</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">11</span><span class="mord text"><span class="mord">MiB</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">29</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">574</span><span class="mord text"><span class="mord">MiB</span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Reserved</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">memory</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">110</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">pods</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">255</span><span class="mord text"><span class="mord">Mi</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">11</span><span class="mord text"><span class="mord">MiB</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">110</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1.5</span><span class="mord text"><span class="mord">GiB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>For CPU resources, <a href="https://github.com/awslabs/amazon-eks-ami/blob/d87c6c49638216907cbd6630b6cadfd4825aed20/templates/al2/runtime/bootstrap.sh#L285" target="_blank" rel="noopener noreferrer">EKS follows the GKE implementation (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>awslabs/amazon-eks-ami</code>)</a> and reserves:</p><ul><li>6% of the first core</li><li>1% of the following core (up to 2 cores)</li><li>0.5% of the following 2 cores (up to 4 cores)</li><li>0.25% of any cores above 4 cores</li></ul><p><em>Let&#39;s look at an example.</em></p><p>An <code>m5.large</code> instance has 2 vCPU and 8GiB of memory:</p><ol><li>from the calculation above, you know that 574MiB (or 1.5GiB for 110 pods) of memory is reserved for the kubelet.</li><li>An extra 100MB of memory is reserved for the eviction threshold.</li><li>The reserved allocation for the CPU is the same 70 millicores (same as the <code>n1-standard-2</code> since they are both 2 vCPU and the quota is calculated similarly).</li></ol><figure><img src="https://learnk8s.io/a/d2f7ef5fb0ff243c733497905f91646c.svg" alt="Allocatable CPU and memory in Elastic Kubernetes Service (EKS)" tabindex="0" loading="lazy"><figcaption>Allocatable CPU and memory in Elastic Kubernetes Service (EKS)</figcaption></figure><p>It&#39;s interesting to note that the memory allocatable to Pods is 90% when prefix delegation is disabled and drops to 80.5% when enabled.</p><hr><h2 id="azure-kubernetes-service" tabindex="-1"><a class="header-anchor" href="#azure-kubernetes-service"><span>Azure Kubernetes Service</span></a></h2><p>Azure offers <a href="https://docs.microsoft.com/en-us/azure/aks/concepts-clusters-workloads#resource-reservations" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-microsoftazure" sizing="height"></i>a detailed explanation of their resource allocations</a>.</p><p>The memory reserved for AKS with Kubernetes 1.29 and above is:</p><ol><li>20MB for each pod supported on the node plus a fixed 50MB. Or</li><li>25% of the total system memory resources.</li></ol><p>AKS will select the lower value between the two.</p><p>Let&#39;s have a look at an example.</p><p>For an 8GB memory instance with a maximum of 110 pods, the two values are:</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mn>1.</mn><mtext> </mtext><mn>20</mn><mtext>MB</mtext><mo>×</mo><mn>110</mn><mo>=</mo><mn>2.2</mn><mtext>GB</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mn>2.</mn><mtext> </mtext><mn>8</mn><mtext>GB</mtext><mo>×</mo><mn>0.25</mn><mo>=</mo><mn>2</mn><mtext>GB</mtext></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*} 1.\:20\text{MB}\times{110}=2.2\text{GB}\\ 2.\:8\text{GB}\times{0.25}=2\text{GB} \end{align*} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1.</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">20</span><span class="mord text"><span class="mord">MB</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">110</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2.2</span><span class="mord text"><span class="mord">GB</span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2.</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">8</span><span class="mord text"><span class="mord">GB</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">0.25</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2</span><span class="mord text"><span class="mord">GB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>Since option 2 is lower, AKS will select the one that has the reserved memory.</p><p>The CPU reserved for the Kubelet follows the following table:</p><table><thead><tr><th>CPU CORES</th><th>CPU Reserved (in millicores)</th></tr></thead><tbody><tr><td>1</td><td>60</td></tr><tr><td>2</td><td>100</td></tr><tr><td>4</td><td>140</td></tr><tr><td>8</td><td>180</td></tr><tr><td>16</td><td>260</td></tr><tr><td>32</td><td>420</td></tr><tr><td>64</td><td>740</td></tr></tbody></table><p>The values are slightly higher than their counterparts but still modest.</p><p>Overall, the CPU and memory reserved for AKS are remarkably similar to Google Kubernetes Engine (GKE).</p><p>AKS will reserve a further 100MB for the eviction threshold — just like GKE and EKS.</p><figure><img src="https://learnk8s.io/a/df04181e100dfe86154599d79cbd2a88.svg" alt="Allocatable CPU and memory in Azure Kubernetes Service (AKS)" tabindex="0" loading="lazy"><figcaption>Allocatable CPU and memory in Azure Kubernetes Service (AKS)</figcaption></figure><hr><h2 id="summary" tabindex="-1"><a class="header-anchor" href="#summary"><span>Summary</span></a></h2><p>You might be tempted to conclude that larger instances are the way to go as you maximise the allocable memory and CPU.</p><p><strong>Unfortunately, cost is only one factor when designing your cluster.</strong></p><p>If you&#39;re running large nodes, you should also consider:</p><ol><li>The <strong>overhead on the Kubernetes agents that run on the node</strong> — such as the container runtime (e.g. Docker), the kubelet, and cAdvisor.</li><li><strong>Your high-availability (HA) strategy.</strong> Pods can be deployed to a selected number of Nodes</li><li><strong>Blast radius.</strong> If you have only a few nodes, then the impact of a failing node is bigger than if you have many nodes.</li><li><strong>Autoscaling is less cost-effective</strong> as the next increment is a (very) large Node.</li></ol><p><em>Smaller nodes aren&#39;t a silver bullet either.</em></p><p>You should architect your cluster for the type of workloads you run rather than following the most common option.</p><p>To explore the pros and cons of different instance types, check out this blog post</p><a class="route-link vp-card" href="/bookshelf/learnk8s.io/learnk8s.io/kubernetes-node-size.html" style="background:rgba(102,152,204,0.2);"><img class="vp-card-logo" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Architecting Kubernetes clusters — choosing a worker node size</div><hr><div class="vp-card-desc">What type of worker nodes should I use for my Kubernetes cluster? And how many of them?. This article looks at the pros and cons.</div></div></a><!-- TODO: add ARTICLE CARD --><a class="vp-card" href="https://chanhi2000.github.io/bookshelf/learnk8s.io/allocatable-resources.html" target="_blank" style="background:rgba(102,152,204,0.2);"><img class="vp-card-logo" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Allocatable memory and CPU in Kubernetes Nodes</div><hr><div class="vp-card-desc">Pods deployed in your Kubernetes cluster consume resources such as memory, CPU and storage. However, not all resources in a Node can be used to run Pods.</div></div></a></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/articles/edit/main/src/learnk8s.io/allocatable-resources.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/devops/k8s/articles/" aria-label="/devops/k8s/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/devops/k8s/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/learnk8s.io/troubleshooting-deployments.html" aria-label="A visual guide on troubleshooting Kubernetes deployments"><div class="hint">Next<span class="arrow end"></span></div><div class="link">A visual guide on troubleshooting Kubernetes deployments<i class="vp-icon iconfont icon-k8s" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright © 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><div class="vp-copyright">Copyright © 2025 Daniele Polencic </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BVguHYKu.js" defer></script>
  </body>
</html>
