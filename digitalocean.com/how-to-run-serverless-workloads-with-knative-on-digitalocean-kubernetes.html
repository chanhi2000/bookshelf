<!doctype html>
<html lang="ko-KR" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes","image":["https://deved-images.nyc3.digitaloceanspaces.com/CART-68820/PgxjNoW.png"],"datePublished":"2022-12-16T00:00:00.000Z","dateModified":null,"author":[]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.html"><meta property="og:site_name" content="📚Bookshelf"><meta property="og:title" content="How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes"><meta property="og:description" content="Article(s) > How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes"><meta property="og:type" content="article"><meta property="og:image" content="https://digitalocean.com/_next/static/media/intro-to-cloud.d49bc5f7.jpeg"><meta property="og:locale" content="ko-KR"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://digitalocean.com/_next/static/media/intro-to-cloud.d49bc5f7.jpeg"><meta name="twitter:image:alt" content="How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes"><meta property="article:tag" content="serverless"><meta property="article:tag" content="kn"><meta property="article:tag" content="kubctl"><meta property="article:tag" content="k8s"><meta property="article:tag" content="kubernetes"><meta property="article:tag" content="digitalocean.com"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2022-12-16T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes | 📚Bookshelf</title><meta name="description" content="Article(s) > How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes">
    <link rel="preload" href="/bookshelf/assets/style-DmRYlEXZ.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-DmRYlEXZ.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">📚Bookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnk8s.io/" aria-label="learnk8s.io"><!--[--><img class="vp-icon" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnk8s.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/articles" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">digitalocean.com</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/" aria-label="DigitalOcean (digitalocean.com)"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->DigitalOcean (digitalocean.com)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/how-to-install-nginx-on-centos-6-with-yum.html" aria-label="How To Install nginx on CentOS 6 with yum"><!--[--><i class="vp-icon fa-brands fa-centos" sizing="both"></i><!--]-->How To Install nginx on CentOS 6 with yum<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/initial-server-setup-with-centos-6.html" aria-label="Initial Server Setup with CentOS 6"><!--[--><i class="vp-icon fa-brands fa-centos" sizing="both"></i><!--]-->Initial Server Setup with CentOS 6<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/how-to-use-sqlite-with-node-js-on-ubuntu-22-04.html" aria-label="How To Use SQLite with Node.js on Ubuntu 22.04"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->How To Use SQLite with Node.js on Ubuntu 22.04<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/how-to-secure-your-site-in-kubernetes-with-cert-manager-traefik-and-let-s-encrypt.html" aria-label="How To Secure Your Site in Kubernetes with cert-manager, Traefik, and Let’s Encrypt"><!--[--><i class="vp-icon iconfont icon-k8s" sizing="both"></i><!--]-->How To Secure Your Site in Kubernetes with cert-manager, Traefik, and Let’s Encrypt<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.html" aria-label="How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes"><!--[--><i class="vp-icon iconfont icon-k8s" sizing="both"></i><!--]-->How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/how-to-scale-node-js-applications-with-clustering.html" aria-label="How To Scale Node.js Applications with Clustering"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->How To Scale Node.js Applications with Clustering<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/how-to-integrate-existing-systems-with-kafka-connect.html" aria-label="How to Integrate Existing Systems with Kafka Connect"><!--[--><i class="vp-icon iconfont icon-apachekafka" sizing="both"></i><!--]-->How to Integrate Existing Systems with Kafka Connect<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/how-to-use-docker-exec-to-run-commands-in-a-docker-container.html" aria-label="How To Use docker exec to Run Commands in a Docker Container"><!--[--><i class="vp-icon fa-brands fa-docker" sizing="both"></i><!--]-->How To Use docker exec to Run Commands in a Docker Container<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/markdown-markdown-images.html" aria-label="How To Add Images in Markdown"><!--[--><i class="vp-icon fa-brands fa-markdown" sizing="both"></i><!--]-->How To Add Images in Markdown<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/python-pretty-print-json.html" aria-label="Python Pretty Print JSON"><!--[--><i class="vp-icon iconfont icon-django" sizing="both"></i><!--]-->Python Pretty Print JSON<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/how-to-use-break-continue-and-pass-statements-when-working-with-loops-in-python-3.html" aria-label="How To Use Break, Continue, and Pass Statements when Working with Loops in Python"><!--[--><i class="vp-icon iconfont icon-django" sizing="both"></i><!--]-->How To Use Break, Continue, and Pass Statements when Working with Loops in Python<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/developing-multi-modal-bots-with-django-gpt-4-whisper-and-dall-e.html" aria-label="Developing Multi-Modal Bots with Django, GPT-4, Whisper, and DALL-E"><!--[--><i class="vp-icon iconfont icon-django" sizing="both"></i><!--]-->Developing Multi-Modal Bots with Django, GPT-4, Whisper, and DALL-E<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/how-to-set-up-a-multi-node-kafka-cluster-using-kraft.html" aria-label="How To Set Up a Multi-Node Kafka Cluster using KRaft"><!--[--><i class="vp-icon iconfont icon-apachekafka" sizing="both"></i><!--]-->How To Set Up a Multi-Node Kafka Cluster using KRaft<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/digitalocean.com/how-to-manage-kafka-programmatically.html" aria-label="How To Manage Kafka Programmatically"><!--[--><i class="vp-icon iconfont icon-apachekafka" sizing="both"></i><!--]-->How To Manage Kafka Programmatically<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="https://digitalocean.com/_next/static/media/intro-to-cloud.d49bc5f7.jpeg" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon iconfont icon-k8s" sizing="height"></i>How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">22. 12. 16.</span><meta property="datePublished" content="2022-12-16T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 14 min</span><meta property="timeRequired" content="PT14M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color2" role>DevOps</span><span class="page-category-item color7" role>VM</span><span class="page-category-item color7" role>Kubernetes</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="DevOps,VM,Kubernetes,Article(s)"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color3" role>digitalocean.com</span><span class="page-tag-item color2" role>kubernetes</span><span class="page-tag-item color5" role>k8s</span><span class="page-tag-item color4" role>kubctl</span><span class="page-tag-item color8" role>kn</span><span class="page-tag-item color3" role>serverless</span><!--]--><meta property="keywords" content="blog,digitalocean.com,kubernetes,k8s,kubctl,kn,serverless"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-관련" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-관련"><span>How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes 관련</span></a></h1><a class="route-link vp-card" href="/bookshelf/devops/k8s/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="https://chanhi2000.github.io/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Kubernetes > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.html#introduction" class="router-link-active router-link-exact-active">Introduction</a></li><li><a aria-current="page" href="/bookshelf/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.html#step-1-—-launching-the-digitalocean-kubernetes-cluster" class="router-link-active router-link-exact-active">Step 1 — Launching the DigitalOcean Kubernetes Cluster</a></li><li><a aria-current="page" href="/bookshelf/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.html#step-2-—-installing-knative-serving" class="router-link-active router-link-exact-active">Step 2 — Installing Knative Serving</a></li><li><a aria-current="page" href="/bookshelf/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.html#step-3-—-deploying-a-serverless-workload" class="router-link-active router-link-exact-active">Step 3 — Deploying a Serverless Workload</a><ul><li><a aria-current="page" href="/bookshelf/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.html#option-1-—-using-the-knative-cli" class="router-link-active router-link-exact-active">Option 1 — Using the Knative CLI</a></li><li><a aria-current="page" href="/bookshelf/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.html#option-2-—-creating-a-service-resource-using-yaml-files" class="router-link-active router-link-exact-active">Option 2 — Creating a Service Resource Using YAML Files</a></li></ul></li><li><a aria-current="page" href="/bookshelf/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.html#step-4-—-accessing-the-application-workload" class="router-link-active router-link-exact-active">Step 4 — Accessing the Application Workload</a></li><li><a aria-current="page" href="/bookshelf/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.html#conclusion" class="router-link-active router-link-exact-active">Conclusion</a></li></ul></nav><hr><div class="vp-site-info" data-name="How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes | DigitalOcean"><a class="vp-site-info-navigator no-external-link-icon" title="How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes | DigitalOcean" href="https://digitalocean.com/community/tutorials/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://digitalocean.com/_next/static/media/intro-to-cloud.d49bc5f7.jpeg) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt loading="lazy" no-view><div class="vp-site-info-name">How To Run Serverless Workloads with Knative on DigitalOcean Kubernetes | DigitalOcean</div><div class="vp-site-info-desc">Knative is a Kubernetes-based platform that provides components to deploy and manage serverless workloads. Knative offers open-source Kubernetes integration,… </div></div><!----></div><hr><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p><a href="https://kubernetes.io" target="_blank" rel="noopener noreferrer">Kubernetes</a> is a powerful container orchestration tool that allows you to deploy and manage containerized applications, but it can sometimes take time to manage the underlying infrastructure. The <em><a href="https://digitalocean.com/community/tutorials/what-is-serverless" target="_blank" rel="noopener noreferrer">serverless</a></em> paradigm helps users deploy applications without having to worry about the underlying infrastructure. With the advent of Serverless 2.0, many platforms and tools now allow you to deploy serverless applications on Kubernetes.</p><p><a href="https://knative.dev/docs" target="_blank" rel="noopener noreferrer">Knative</a> is a Kubernetes-based platform that provides components to deploy and manage serverless workloads. Knative offers open-source Kubernetes integration, cloud-agnosticism, building blocks, and extensibility. Tools like Red Hat’s <a href="https://www.redhat.com/en/technologies/cloud-computing/openshift" target="_blank" rel="noopener noreferrer">Openshift</a> also use Knative for users to deploy their serverless workloads on top of Kubernetes.</p><p>Knative features two main components: <a href="https://knative.dev/docs/eventing" target="_blank" rel="noopener noreferrer">Eventing</a> and <a href="https://knative.dev/docs/serving" target="_blank" rel="noopener noreferrer">Serving</a>. Eventing manages events that trigger serverless workloads. Serving is a set of components to deploy and manage serverless workloads. Knative Serving enables developers to deploy and manage serverless applications on top of Kubernetes. With Knative Serving, developers can quickly and easily deploy new services, scale them up and down, and connect them to other services and event sources. This feature enables developers to build and deploy modern, cloud-native applications that are flexible, scalable, and easy to maintain.</p><p>In this tutorial, you will use Knative Serving to deploy a Node.js application as a serverless workload on a DigitalOcean Kubernetes cluster. You will use doctl (the DigitalOcean CLI) and kn (the Knative CLI) to create the Kubernetes cluster and deploy the application.</p><div class="hint-container note"><p class="hint-container-title">Prerequisites</p><p>To complete this tutorial, you will need the following:</p><ul><li>A DigitalOcean account that you will use to start a Kubernetes cluster with at least 4GB RAM and 2 CPU cores. If you do not have one, <a href="https://cloud.digitalocean.com/projects" target="_blank" rel="noopener noreferrer">sign up for a new account</a>. This setup will use a <a href="https://digitalocean.com/products/kubernetes" target="_blank" rel="noopener noreferrer">DigitalOcean Kubernetes</a> cluster. To create a Kubernetes cluster in the DigitalOcean Cloud Panel, see our <a href="https://digitalocean.com/docs/kubernetes/quickstart" target="_blank" rel="noopener noreferrer">Kubernetes Quickstart</a>.</li><li>To follow this tutorial from a remote server, you can set up an Ubuntu 22.04 server with a non-root user and a firewall by following our <a href="https://digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-22-04" target="_blank" rel="noopener noreferrer">Initial Server Setup</a>. To get started with a DigitalOcean Droplet, you can use our <a href="https://docs.digitalocean.com/products/droplets/quickstart" target="_blank" rel="noopener noreferrer">Droplet Quickstart</a>.</li><li>The DigitalOcean command-line client, <a href="https://docs.digitalocean.com/reference/doctl/how-to/install" target="_blank" rel="noopener noreferrer"><code>doctl</code></a>, installed on your machine. The <strong>GitHub Download</strong> option is recommended. See <a href="https://digitalocean.com/community/tutorials/how-to-use-doctl-the-official-digitalocean-command-line-client" target="_blank" rel="noopener noreferrer">How To Use doctl</a> for more information on using <code>doctl</code>.</li><li><a href="https://kubernetes.io/docs/tasks/tools" target="_blank" rel="noopener noreferrer"><code>kubectl</code></a> installed on your machine, which you can set up with the <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl-linux" target="_blank" rel="noopener noreferrer">Kubernetes installation docs</a>.</li><li>Docker installed on your machine, which you can set up by following Steps 1 and 2 of our tutorial on <a href="https://digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-22-04" target="_blank" rel="noopener noreferrer">How To Install and Use Docker</a>.</li><li>A sample Node.js application set up by following the <a href="https://digitalocean.com/community/tutorials/how-to-build-a-node-js-application-with-docker" target="_blank" rel="noopener noreferrer">How To Build a Node.js Application with Docker</a> tutorial for creating the application and pushing its container image to Docker Hub.</li><li>An account at <a href="https://hub.docker.com" target="_blank" rel="noopener noreferrer">Docker Hub</a> for storing Docker images you’ll create during this tutorial.</li></ul></div><hr><h2 id="step-1-—-launching-the-digitalocean-kubernetes-cluster" tabindex="-1"><a class="header-anchor" href="#step-1-—-launching-the-digitalocean-kubernetes-cluster"><span>Step 1 — Launching the DigitalOcean Kubernetes Cluster</span></a></h2><p>Since Knative is a Kubernetes-based platform, you will use it with a Kubernetes cluster on DigitalOcean. There are multiple ways to launch a Kubernetes cluster on DigitalOcean. You can use the <a href="https://digitalocean.com/docs/kubernetes/quickstart" target="_blank" rel="noopener noreferrer">DigitalOcean Cloud interface</a>, the DigitalOcean CLI, or the Terraform provider.</p><p>In this tutorial, you will use doctl, the DigitalOcean command-line client, to launch the Kubernetes cluster. If you have not yet installed doctl, follow the steps in the <a href="https://docs.digitalocean.com/reference/doctl/how-to/install" target="_blank" rel="noopener noreferrer">official installation guide</a>.</p><p>To effectively use Knative in this tutorial, you will need a Kubernetes cluster with at least <strong>4GB RAM</strong> and <strong>2 CPU cores</strong> available. You can launch a cluster named <code>knative-tutorial</code> with these specifications by running the <code>doctl</code> command with the following flags:</p><ul><li><code>--size</code> specifies the size of the remote server.</li><li><code>--count</code> specifies the number of nodes that will be created as part of the cluster.</li></ul><p>To create the DigitalOcean Kubernetes cluster, run the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">doctl kubernetes cluster create knative-tutorial <span class="token parameter variable">--size</span> s-2vcpu-4gb <span class="token parameter variable">--count</span> <span class="token number">3</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>In this command, you create a cluster named <code>knative-tutorial</code> with the size set to <strong>4GB RAM</strong> and <strong>2 CPU cores</strong> and with a count of <code>3</code> nodes.</p><p>::: Note</p><p>You can also use the <code>--region</code> flag to specify in which region the server will be located, though that option is not used in this tutorial. If you are using a remote server, such as a Droplet, you might wish to have your cluster in the same region as the server. If you use the DigitalOcean Control Panel to <a href="https://docs.digitalocean.com/products/kubernetes/how-to/create-clusters/#choose-a-datacenter-region" target="_blank" rel="noopener noreferrer">create your cluster</a>, you can <a href="https://docs.digitalocean.com/products/kubernetes/how-to/create-clusters/#choose-a-datacenter-region" target="_blank" rel="noopener noreferrer">choose a datacenter region and VPC network</a>. For more on DigitalOcean’s regional availability, you can refer to our <a href="https://docs.digitalocean.com/products/platform/availability-matrix" target="_blank" rel="noopener noreferrer">Regional Availability Matrix</a>.</p><p>:::</p><p>This command will take a few minutes to complete. Once it finishes, you will receive a message similar to the following:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># Output</span></span>
<span class="line"><span class="token comment"># Notice: Cluster is provisioning, waiting for cluster to be running</span></span>
<span class="line"><span class="token comment"># ...........................................................</span></span>
<span class="line"><span class="token comment"># Notice: Cluster created, fetching credentials</span></span>
<span class="line"><span class="token comment"># Notice: Adding cluster credentials to kubeconfig file found in &quot;/home/sammy/.kube/config&quot;</span></span>
<span class="line"><span class="token comment"># Notice: Setting current-context to do-nyc1-knative-tutorial</span></span>
<span class="line"><span class="token comment"># ID                                      Name                Region    Version        Auto Upgrade    Status     Node Pools</span></span>
<span class="line"><span class="token comment"># d2d1f9bc-114b-45e7-b109-104137f9ab62    knative-tutorial    nyc1      1.24.4-do.0    false           running    knative-tutorial-default-pool</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The cluster is now ready to use.</p><p>You can now verify if <code>kubectl</code> has been set up in your system and can reach the DigitalOcean Kubernetes Cluster with the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl cluster-info</span>
<span class="line"><span class="token comment"># Output</span></span>
<span class="line"><span class="token comment"># Kubernetes control plane is running at https://69de217e-0284-4e18-a6d7-5606915a4e88.k8s.ondigitalocean.com</span></span>
<span class="line"><span class="token comment"># CoreDNS is running at https://69de217e-0284-4e18-a6d7-5606915a4e88.k8s.ondigitalocean.com/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Since the output lists the URLs of the <code>control plane</code> and the <code>CoreDNS</code> service (highlighted in the output block), you know that <code>kubectl</code> is configured correctly in your system and can reach the cluster.</p><p>As part of the cluster creation process, <code>doctl</code> automatically configures the <code>kubectl</code> context to use the new cluster. You can verify this by running the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl config current-context</span>
<span class="line"><span class="token comment"># Output</span></span>
<span class="line"><span class="token comment"># o-nyc1-knative-tutorial</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This command will return the name of the current context.</p><p>The output indicates that the current context is <code>do-nyc1-knative-tutorial</code>, which is the name of the cluster you created with the region in which it is located (<code>nyc1</code>).</p><p>You can also verify that the cluster is running and the nodes are ready to accept workloads with this command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl get nodes</span>
<span class="line"><span class="token comment"># NAME                                       STATUS   ROLES    AGE     VERSION</span></span>
<span class="line"><span class="token comment"># do-nyc1-knative-tutorial-159783000-0v9k5   Ready    &lt;none&gt;   2m52s   v1.24.4</span></span>
<span class="line"><span class="token comment"># do-nyc1-knative-tutorial-159783000-1h4qj   Ready    &lt;none&gt;   2m52s   v1.24.4</span></span>
<span class="line"><span class="token comment"># do-nyc1-knative-tutorial-159783000-1q9qf   Ready    &lt;none&gt;   2m52s   v1.24.4</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>kubectl get nodes</code> command lists all the nodes in the cluster along with their status and other information.</p><p>The output states that the cluster has three nodes ready to accept workloads.</p><p>In this step, you launched a Kubernetes cluster on DigitalOcean. You can now install Knative to deploy your serverless workload on Kubernetes.</p><hr><h2 id="step-2-—-installing-knative-serving" tabindex="-1"><a class="header-anchor" href="#step-2-—-installing-knative-serving"><span>Step 2 — Installing Knative Serving</span></a></h2><p>In this step, you will install <a href="https://knative.dev/docs/serving" target="_blank" rel="noopener noreferrer">Knative Serving</a> on your Kubernetes cluster. Knative Serving is responsible for deploying and managing your serverless workloads.</p><p>To install Knative Serving, you will need the Knative core components and custom resources. Run these commands to install the core components:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl apply <span class="token parameter variable">-f</span> https://github.com/knative/serving/releases/download/knative-v1.8.0/serving-crds.yaml</span>
<span class="line">kubectl apply <span class="token parameter variable">-f</span> https://github.com/knative/serving/releases/download/knative-v1.8.0/serving-core.yaml</span>
<span class="line"><span class="token comment"># customresourcedefinition.apiextensions.k8s.io/certificates.networking.internal.knative.dev created</span></span>
<span class="line"><span class="token comment"># customresourcedefinition.apiextensions.k8s.io/clusteringresses.networking.internal.knative.dev created</span></span>
<span class="line"><span class="token comment"># customresourcedefinition.apiextensions.k8s.io/configurations.serving.knative.dev created</span></span>
<span class="line"><span class="token comment"># customresourcedefinition.apiextensions.k8s.io/images.caching.internal.knative.dev created</span></span>
<span class="line"><span class="token comment"># customresourcedefinition.apiextensions.k8s.io/ingresses.networking.internal.knative.dev created</span></span>
<span class="line"><span class="token comment"># ...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This output indicates that the Knative core components and custom resources are on your cluster. All of the components are in the <code>knative-serving</code> namespace.</p><p>Once they have finished downloading, you can verify that Knative Serving is installed:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl get pods <span class="token parameter variable">--namespace</span> knative-serving</span>
<span class="line"><span class="token comment"># NAME                                      READY   STATUS    RESTARTS   AGE</span></span>
<span class="line"><span class="token comment"># activator-5f6b4bf5c8-kfxrv                1/1     Running   0          4m37s</span></span>
<span class="line"><span class="token comment"># autoscaler-bc7d6c9c9-v5jqt                1/1     Running   0          4m34s</span></span>
<span class="line"><span class="token comment"># controller-687d88ff56-9g4gz               1/1     Running   0          4m32s</span></span>
<span class="line"><span class="token comment"># domain-mapping-69cc86d8d5-kr57g           1/1     Running   0          4m29s</span></span>
<span class="line"><span class="token comment"># domainmapping-webhook-65dfdd9b96-nzs9c    1/1     Running   0          4m27s</span></span>
<span class="line"><span class="token comment"># net-kourier-controller-55c99987b4-hkfpl   1/1     Running   0          3m49s</span></span>
<span class="line"><span class="token comment"># webhook-587cdd8dd7-qbb9b                  1/1     Running   0          4m22s</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>kubectl get pods</code> command will retrieve a list of all the pods launched in the cluster in the namespace <code>knative-serving</code>. This command identifies the pods in your cluster, their current status, the number of containers in the pod, and the names of the containers in a particular namespace.</p><p>The output displays all the pods running in the knative-serving namespace. The pods are responsible for the different components of Knative Serving.</p><p>Knative requires a networking layer to route incoming traffic to your services. The networking layer in Knative enables the deployment and communication of microservices in a distributed environment. Knative Serving supports Istio, Contour, and Kourier as the networking layer.</p><p>In this tutorial, you will use Kourier as the networking layer because it integrates seamlessly with Knative. Kourier uses the same APIs and standards as the rest of the Knative ecosystem, making it a good option for developers and organizations already using Knative who want to benefit from its powerful networking capabilities.</p><p>Install Kourier with this command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl apply <span class="token parameter variable">-f</span> https://github.com/knative/net-kourier/releases/download/knative-v1.8.0/kourier.yaml</span>
<span class="line"><span class="token comment"># namespace/kourier-system configured</span></span>
<span class="line"><span class="token comment"># configmap/kourier-bootstrap configured</span></span>
<span class="line"><span class="token comment"># configmap/config-kourier configured</span></span>
<span class="line"><span class="token comment"># serviceaccount/net-kourier configured</span></span>
<span class="line"><span class="token comment"># clusterrole.rbac.authorization.k8s.io/net-kourier configured</span></span>
<span class="line"><span class="token comment"># clusterrolebinding.rbac.authorization.k8s.io/net-kourier configured</span></span>
<span class="line"><span class="token comment"># deployment.apps/net-kourier-controller configured</span></span>
<span class="line"><span class="token comment"># service/net-kourier-controller configured</span></span>
<span class="line"><span class="token comment"># deployment.apps/3scale-kourier-gateway configured</span></span>
<span class="line"><span class="token comment"># service/kourier configured</span></span>
<span class="line"><span class="token comment"># service/kourier-internal configured</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The output lists all the resources, like <code>Namespaces</code> and <code>ConfigMaps</code>, created as part of the Kourier installation process in the Kubernetes cluster.</p><p>To configure Knative to use Kourier as the networking layer, you will edit the <code>config-network</code> ConfigMap.</p><p>For this, you need to use the <code>kubectl patch</code> command to update the fields of an object in a Kubernetes cluster. You will have to also include some flags with this command:</p><ul><li><code>--namespace</code> specifies where you can find the object you want to patch.</li><li><code>--type</code> specifies which patch to perform when applying configs with the <code>patch</code> command. The available types are <code>json</code>, <code>merge</code>, and <code>strategic</code>.</li><li><code>--patch</code> specifies the patch data directly on the command line rather than in a file.</li></ul><p>Run this command with the associated flags:</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-0" aria-selected="true">Shell</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-1" aria-selected="false">Powershell</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-2" aria-selected="false">Cmd</button></div><!--[--><div class="vp-tab active" id="v-0" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">Shell</div><!--[--><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl patch configmap/config-network <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--namespace</span> knative-serving <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--type</span> merge <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--patch</span> <span class="token string">&#39;{&quot;data&quot;:{&quot;ingress-class&quot;:&quot;kourier.ingress.networking.knative.dev&quot;}}&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># configmap/config-network patched</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-tab" id="v-1" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Powershell</div><!--[--><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell"><pre><code class="language-powershell"><span class="line">kubectl patch configmap/config-network `</span>
<span class="line">  <span class="token operator">--</span>namespace knative-serving `</span>
<span class="line">  <span class="token operator">--</span><span class="token function">type</span> merge `</span>
<span class="line">  <span class="token operator">--</span>patch <span class="token string">&#39;{&quot;data&quot;:{&quot;ingress-class&quot;:&quot;kourier.ingress.networking.knative.dev&quot;}}&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># configmap/config-network patched  </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-tab" id="v-2" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">Cmd</div><!--[--><div class="language-batch line-numbers-mode" data-highlighter="prismjs" data-ext="batch"><pre><code class="language-batch"><span class="line"><span class="token command"><span class="token keyword">kubectl</span> patch configmap/config-network <span class="token operator">^</span></span>
<span class="line">  <span class="token parameter attr-name">--namespace</span> knative-serving <span class="token operator">^</span></span>
<span class="line">  <span class="token parameter attr-name">--type</span> merge <span class="token operator">^</span></span>
<span class="line">  <span class="token parameter attr-name">--patch</span> &#39;{<span class="token string">&quot;data&quot;</span><span class="token label property">:{</span><span class="token string">&quot;ingress-class&quot;</span>:<span class="token string">&quot;kourier.ingress.networking.knative.dev&quot;</span>}}&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">REM configmap/config-network patched  </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>The <code>kubectl patch</code> command patches <code>configmap/config-network</code> with the <code>namespace</code> set to <code>knative-serving</code> and the <code>type</code> set to <code>merge</code>.</p><p>The <code>merge</code> patch type allows for more targeted updates, while the <code>json</code> or <code>strategic</code> patch types allow for more comprehensive updates. The <code>merge</code> patch type specifies individual fields to update without including the entire resource configuration in the patch command, which is the case for the other types. The data being patched is identified with the <code>patch</code> flag.</p><p>The output of this command ensures Kourier is properly set up in the cluster.</p><p>Finally, fetch the external IP address of the Kourier load balancer with the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl get svc kourier <span class="token parameter variable">--namespace</span> kourier-system</span>
<span class="line"><span class="token comment"># NAME      TYPE           CLUSTER-IP       EXTERNAL-IP      PORT(S)                      AGE</span></span>
<span class="line"><span class="token comment"># kourier   LoadBalancer   10.245.186.153   138.197.231.61   80:31245/TCP,443:30762/TCP   2m33s</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>kubectl get svc</code> command retrieves information about the services running in a Kubernetes cluster in the mentioned namespace (in this case, <code>kourier-system</code>). This command will list all the services in the cluster with their associated IP addresses and port numbers.</p><p>The output of the command includes the name of the service, the type of service (such as <code>ClusterIP</code>, <code>NodePort</code>, and so on), the cluster IP address and port number, and the external IP address and port number. The numbers listed here are examples, so your output will display different numbers.</p><p>It may take a few minutes for the load balancer to be provisioned. You may see an empty value or <code>&lt;pending&gt;</code> for the <code>EXTERNAL-IP</code> field. If that is the case, wait a few minutes and rerun the command.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p><strong>Note</strong>: You will need the load balancer to be provisioned before continuing in this tutorial. Once the <code>EXTERNAL-IP</code> field for the <code>LoadBalancer</code> is populated, you can continue. Otherwise, you may experience issues while setting up the DNS service.</p></div><p>You can also configure DNS for your domain name to point to the external IP address of the load balancer. Knative provides a Kubernetes job called default-domain that will automatically configure Knative Serving to use sslip.io as the default DNS suffix.</p><p>sslip.io is a dynamic DNS (Domain Name System) service that allows users to access their devices using a custom domain name instead of the IP address. Using sslip.io improves user access to their devices remotely without needing to remember complex IP addresses.</p><p>To configure the default DNS suffix, you will need to run the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl apply <span class="token parameter variable">-f</span> https://github.com/knative/serving/releases/download/knative-v1.8.0/serving-default-domain.yaml</span>
<span class="line"><span class="token comment"># job.batch/default-domain configured</span></span>
<span class="line"><span class="token comment"># service/default-domain-service configured</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The resources required to run the Magic DNS service have been configured successfully.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p><strong>Note</strong>: You can also add a domain if you prefer, though that is beyond the scope of this article. You need to set up a DNS provider (such as Cloud DNS or Route53) and create an A record for the Knative ingress gateway that is mapped to the IP address of your Knative cluster. You would then update the Knative ingress gateway configuration to use the DNS zone and A record you created. You can test the DNS configuration by accessing the Knative serving domain and ensuring it resolves to the ingress gateway.</p></div><p>You have now successfully installed Knative Serving on your Kubernetes cluster. You can now deploy the Serverless workload with Knative Serving on your Kubernetes cluster.</p><hr><h2 id="step-3-—-deploying-a-serverless-workload" tabindex="-1"><a class="header-anchor" href="#step-3-—-deploying-a-serverless-workload"><span>Step 3 — Deploying a Serverless Workload</span></a></h2><p>In this step, you will deploy a serverless workload on top of Knative, which is currently running in your Kubernetes cluster. You will use the Node.js application that you created as part of the prerequisites.</p><p>Before you proceed, you will create a new <code>namespace</code> to deploy your serverless workload. You can do this by running the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl create namespace serverless-workload</span>
<span class="line"><span class="token comment"># namespace/serverless-workload configured</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>This command will create a new namespace called serverless-workload.</p><p>The output ensures that the namespace has been created successfully.</p><p>Knative Serving uses a custom resource called <code>Service</code> to deploy and manage your serverless workloads. The <code>Service</code> resource is defined by the <a href="https://knative.dev/docs/serving" target="_blank" rel="noopener noreferrer">Knative Serving API</a>.</p><p>Once you create or modify the <code>Service</code> resource, Knative Serving will automatically create a new <code>Revision</code>. A <code>Revision</code> is a point-in-time snapshot of your workload.</p><p>Whenever a new <code>Revision</code> is created, traffic will be routed to the new <code>Revision</code> by a <code>Route</code>. Knative Serving automatically creates a <code>Route</code> for each Service. You can access your workload using the domain name from the <code>Route</code>.</p><p>To deploy a serverless workload on Knative, you must create a <code>Service</code> resource. You can achieve this in two different ways:</p><ul><li>Using the <code>kn</code>, the official Knative CLI tool.</li><li>Using the <code>kubectl</code> command line tool for applying YAML files to your Kubernetes cluster.</li></ul><p>In the subsections that follow, you will use each of these methods.</p><h3 id="option-1-—-using-the-knative-cli" tabindex="-1"><a class="header-anchor" href="#option-1-—-using-the-knative-cli"><span>Option 1 — Using the Knative CLI</span></a></h3><p>The Knative CLI, <code>kn</code>, is a command-line interface that allows you to interact with Knative.</p><p>First, install <code>kn</code> by downloading the latest version of the Knative CLI binary:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">wget</span> https://github.com/knative/client/releases/download/knative-v1.8.1/kn-linux-amd64</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The <code>wget</code> command will retrieve the tool.</p><p>Then, move the binary to a folder called <code>kn</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">mv</span> kn-linux-amd64 kn</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Next, make it executable with the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">chmod</span> +x kn</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Finally, move the executable binary file to a directory on your <code>PATH</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">cp</span> kn /usr/local/bin/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Verify that kn is installed:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kn version</span>
<span class="line"><span class="token comment"># Version:      v1.8.1</span></span>
<span class="line"><span class="token comment"># Build Date:   2022-10-20 16:09:37</span></span>
<span class="line"><span class="token comment"># Git Revision: 1db36698</span></span>
<span class="line"><span class="token comment"># Supported APIs:</span></span>
<span class="line"><span class="token comment"># * Serving</span></span>
<span class="line"><span class="token comment">#   - serving.knative.dev/v1 (knative-serving v1.8.0)</span></span>
<span class="line"><span class="token comment"># * Eventing</span></span>
<span class="line"><span class="token comment">#   - sources.knative.dev/v1 (knative-eventing v1.8.0)</span></span>
<span class="line"><span class="token comment">#   - eventing.knative.dev/v1 (knative-eventing v1.8.0)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The output of this command states that <code>kn</code> was installed.</p><p>To deploy the Node.js application using <code>kn</code>, you will use the <code>kn service create</code> command. You will include some flags with this command:</p><ul><li><code>--image</code> specifies the image of the container you want to deploy.</li><li><code>--port</code> specifies the port that your application listens on.</li><li><code>--name</code> specifies the name of the <code>Service</code> you want to create.</li><li><code>--namespace</code> specifies the namespace to which you want to deploy the workload.</li></ul><p>To deploy your Node.js application, run the following command and update the highlighted portion with your DockerHub username:</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="v-3" aria-selected="true"><i class="vp-icon iconfont icon-shell" sizing="height"></i>Shell</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-4" aria-selected="false"><i class="vp-icon iconfont icon-powershell" sizing="height"></i>Powershell</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="v-5" aria-selected="false"><i class="vp-icon fas fa-gears" sizing="height"></i>Cmd</button></div><!--[--><div class="vp-tab active" id="v-3" role="tabpanel" aria-expanded="true"><div class="vp-tab-title"><i class="vp-icon iconfont icon-shell" sizing="height"></i>Shell</div><!--[--><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kn <span class="token function">service</span> create node-service <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--image</span> your_dockerhub_username/nodejs-image-demo <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--port</span> <span class="token number">8080</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--namespace</span> serverless-workload</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Creating service &#39;node-service&#39; in namespace &#39;serverless-workload&#39;:</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment">#   0.236s Configuration &quot;node-service&quot; is waiting for a Revision to become ready.</span></span>
<span class="line"><span class="token comment">#   2.230s ...</span></span>
<span class="line"><span class="token comment">#   2.311s Ingress has not yet been reconciled.</span></span>
<span class="line"><span class="token comment">#   2.456s Waiting for load balancer to be ready</span></span>
<span class="line"><span class="token comment">#   2.575s Ready to serve.</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Service &#39;node-service&#39; created to latest revision &#39;node-service-00001&#39; is available at URL:</span></span>
<span class="line"><span class="token comment"># http://node-service.serverless-workload.138.197.231.61.sslip.io</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-tab" id="v-4" role="tabpanel" aria-expanded="false"><div class="vp-tab-title"><i class="vp-icon iconfont icon-powershell" sizing="height"></i>Powershell</div><!--[--><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell"><pre><code class="language-powershell"><span class="line">kn service create node-service `</span>
<span class="line">  <span class="token operator">--</span>image your_dockerhub_username/nodejs-image-demo `</span>
<span class="line">  <span class="token operator">--</span>port 8080 `</span>
<span class="line">  <span class="token operator">--</span>namespace serverless-workload</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Creating service &#39;node-service&#39; in namespace &#39;serverless-workload&#39;:</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment">#   0.236s Configuration &quot;node-service&quot; is waiting for a Revision to become ready.</span></span>
<span class="line"><span class="token comment">#   2.230s ...</span></span>
<span class="line"><span class="token comment">#   2.311s Ingress has not yet been reconciled.</span></span>
<span class="line"><span class="token comment">#   2.456s Waiting for load balancer to be ready</span></span>
<span class="line"><span class="token comment">#   2.575s Ready to serve.</span></span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># Service &#39;node-service&#39; created to latest revision &#39;node-service-00001&#39; is available at URL:</span></span>
<span class="line"><span class="token comment"># http://node-service.serverless-workload.138.197.231.61.sslip.io</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-tab" id="v-5" role="tabpanel" aria-expanded="false"><div class="vp-tab-title"><i class="vp-icon fas fa-gears" sizing="height"></i>Cmd</div><!--[--><div class="language-batch line-numbers-mode" data-highlighter="prismjs" data-ext="batch"><pre><code class="language-batch"><span class="line"><span class="token command"><span class="token keyword">kn</span> service create node-service <span class="token operator">^</span></span>
<span class="line">  <span class="token parameter attr-name">--image</span> your_dockerhub_username/nodejs-image-demo <span class="token operator">^</span></span>
<span class="line">  <span class="token parameter attr-name">--port</span> <span class="token number">8080</span> <span class="token operator">^</span></span>
<span class="line">  <span class="token parameter attr-name">--namespace</span> serverless-workload</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">REM Creating service &#39;node-service&#39; in namespace &#39;serverless-workload&#39;:</span></span>
<span class="line"><span class="token comment">REM </span></span>
<span class="line"><span class="token comment">REM   0.236s Configuration &quot;node-service&quot; is waiting for a Revision to become ready.</span></span>
<span class="line"><span class="token comment">REM   2.230s ...</span></span>
<span class="line"><span class="token comment">REM   2.311s Ingress has not yet been reconciled.</span></span>
<span class="line"><span class="token comment">REM   2.456s Waiting for load balancer to be ready</span></span>
<span class="line"><span class="token comment">REM   2.575s Ready to serve.</span></span>
<span class="line"><span class="token comment">REM </span></span>
<span class="line"><span class="token comment">REM Service &#39;node-service&#39; created to latest revision &#39;node-service-00001&#39; is available at URL:</span></span>
<span class="line"><span class="token comment">REM http://node-service.serverless-workload.138.197.231.61.sslip.io</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>This output provides the status of the Knative <code>Service</code> creation. Once the <code>Service</code> gets created, you will find the URL of the <code>Route</code> linked to the <code>Service</code>.</p><p>Run the following command to verify that the <code>Service</code> resource was created:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kn <span class="token function">service</span> list <span class="token parameter variable">--namespace</span> serverless-workload</span>
<span class="line"><span class="token comment"># NAME           URL                                                               LATEST               AGE   CONDITIONS   READY   REASON</span></span>
<span class="line"><span class="token comment"># node-service   http://node-service.serverless-workload.138.197.231.61.sslip.io   node-service-00001   88s   3 OK / 3     True    </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>kn service list</code> command lists all the services currently deployed with Knative Serving in a particular namespace in the Kubernetes cluster. This command enables you to access details about each Service, including its name, status, and URL.</p><p>From this output, you can verify that a new Knative <code>Service</code> has been created by the <code>kn service</code> command you executed earlier. You also find the URL for the <code>Route</code> and the <code>Age</code> and <code>Status</code> of the Service.</p><p>In this section, you installed the Knative CLI and used it to deploy a serverless workload for your Node.js app.</p><h3 id="option-2-—-creating-a-service-resource-using-yaml-files" tabindex="-1"><a class="header-anchor" href="#option-2-—-creating-a-service-resource-using-yaml-files"><span>Option 2 — Creating a Service Resource Using YAML Files</span></a></h3><p>You can also deploy a <code>Service</code> resource by creating a YAML file that defines the resource. This method is useful to ensure version control of your workloads.</p><p>First, you will create a subdirectory in the directory containing your <code>Dockerfile</code>. This tutorial uses the name <code>knative</code> for the subdirectory. Create the folder:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">mkdir</span> knative</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Next, you will create a YAML file called <i class="vp-icon iconfont icon-yaml" sizing="height"></i><code>service.yaml</code> in the <code>knative</code> directory:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">nano</span> knative/service.yaml</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>In the newly created <i class="vp-icon iconfont icon-yaml" sizing="height"></i><code>service.yaml</code> file, add the following lines to define a <code>Service</code> that will deploy your Node.js app:</p><blockquote><i class="vp-icon fas fa-folder-open" sizing="height"></i><code>~/node_project/knative/</code><i class="vp-icon iconfont icon-yaml" sizing="height"></i><code>service.yaml</code></blockquote><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> serving.knative.dev/v1</span>
<span class="line"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Service</span>
<span class="line"><span class="token key atrule">metadata</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">name</span><span class="token punctuation">:</span> node<span class="token punctuation">-</span>yaml<span class="token punctuation">-</span>service</span>
<span class="line">  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> serverless<span class="token punctuation">-</span>workload</span>
<span class="line"><span class="token key atrule">spec</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">template</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">metadata</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">name</span><span class="token punctuation">:</span> node<span class="token punctuation">-</span>yaml<span class="token punctuation">-</span>service<span class="token punctuation">-</span>v1</span>
<span class="line">    <span class="token key atrule">spec</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">containers</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> docker.io/your_dockerhub_username/nodejs<span class="token punctuation">-</span>image<span class="token punctuation">-</span>demo</span>
<span class="line">          <span class="token key atrule">ports</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The Knative Service YAML file specifies the following information:</p><ul><li><code>name</code> in the first <code>metadata</code> section specifies the <code>name</code> of the <code>Service</code> resource.</li><li><code>namespace</code> specifies the <code>namespace</code> to which you want to deploy the workload.</li><li><code>name</code> in the first <code>spec</code> section specifies the <code>name</code> of the <code>Revision</code>.</li><li><code>image</code> in the second <code>spec</code> section specifies the <code>image</code> of the container you want to deploy.</li><li><code>containerPort</code> specifies the <code>port</code> your application listens on.</li></ul><p>Be sure to update the highlighted text with the information you’ve selected for your app and system, as well as your DockerHub username.</p><p>Save and close the file.</p><p>You can now deploy the <code>Service</code> resource by running the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kubectl apply <span class="token parameter variable">-f</span> knative/service.yaml</span>
<span class="line"><span class="token comment"># service.serving.knative.dev/node-yaml-service created</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The output indicates that the <code>Service</code> resource has been created successfully.</p><p>Run the following command to verify that the <code>Service</code> resource has been created:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kn <span class="token function">service</span> list <span class="token parameter variable">--namespace</span> serverless-workload</span>
<span class="line"><span class="token comment"># NAME                URL                                                                     LATEST                 AGE   CONDITIONS   READY   REASON</span></span>
<span class="line"><span class="token comment"># node-service        http://node-service.serverless-workload.174.138.127.211.sslip.io        node-service-00001     9d    3 OK / 3     True    </span></span>
<span class="line"><span class="token comment"># node-yaml-service   http://node-yaml-service.serverless-workload.174.138.127.211.sslip.io   node-yaml-service-v1   9d    3 OK / 3     True    </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>kn service list</code> command lists all the services currently deployed with Knative Serving in a particular namespace. This command enables you to access details about each Service.</p><p>You can verify that a new Knative <code>Service</code> has been created based on the Knative Service YAML file that you executed previously. You created the <code>node-yaml-service</code> in this section. You can also find the URL of the Knative <code>Route</code>.</p><p>You used a YAML file in this section to create a serverless workload for your Node.js app.</p><p>In this step, you created the Knative <code>Service</code> resource using both the <code>kn</code> CLI tool and a YAML file. Next, you will access the application workload you deployed with Knative.</p><hr><h2 id="step-4-—-accessing-the-application-workload" tabindex="-1"><a class="header-anchor" href="#step-4-—-accessing-the-application-workload"><span>Step 4 — Accessing the Application Workload</span></a></h2><p>Now that you have deployed the serverless workload, you can access it with the URL from the Knative <code>Route</code> created as part of the Serverless workload. The Knative Route defines how incoming HTTP traffic should route to a specific service or application.</p><p>To get the list of all Knative routes, run the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">kn route list <span class="token parameter variable">--namespace</span> serverless-workload</span>
<span class="line"><span class="token comment"># </span></span>
<span class="line"><span class="token comment"># NAME                URL                                                                    READY</span></span>
<span class="line"><span class="token comment"># node-service        http://node-service.serverless-workload.138.197.231.61.sslip.io        True</span></span>
<span class="line"><span class="token comment"># node-yaml-service   http://node-yaml-service.serverless-workload.138.197.231.61.sslip.io   True</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>kn route list</code> command lists all the Knative routes at a particular namespace in the Kubernetes cluster.</p><p>You will use the URLs generated for the Knative Routes to confirm that everything is working as expected.</p><p>Open either of the URLs in your browser. When you access the site in your browser, the landing page from your Node app will load:</p><figure><img src="https://deved-images.nyc3.digitaloceanspaces.com/CART-68820/PgxjNoW.png" alt="The Serverless workload" tabindex="0" loading="lazy"><figcaption>The Serverless workload</figcaption></figure><p>You have successfully deployed a serverless workload using Knative on your Kubernetes cluster.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>In this tutorial, you deployed a serverless workload using Knative. You created a Knative <code>Service</code> resource using the <code>kn</code> CLI tool and via YAML files. This resource deployed a Node.js application on your Kubernetes cluster, which you accessed using the <code>Route</code> URL.</p><p>For more about the features that Knative offers, like <a href="https://knative.dev/docs/serving/autoscaling/" target="_blank" rel="noopener noreferrer">Autoscaling</a> of pods, <a href="https://knative.dev/docs/serving/rolling-out-latest-revision" target="_blank" rel="noopener noreferrer">gradual rollout</a> of traffic to revision, and the <a href="https://knative.dev/docs/eventing" target="_blank" rel="noopener noreferrer">Eventing</a> component, visit the official <a href="https://knative.dev/docs" target="_blank" rel="noopener noreferrer">Knative documentation</a>.</p><p>To continue building with DigitalOcean Kubernetes (DOKS), refer to our <a href="https://docs.digitalocean.com/products/kubernetes" target="_blank" rel="noopener noreferrer">Kubernetes How-To documentation</a>. You can also <a href="https://docs.digitalocean.com/products/kubernetes/details" target="_blank" rel="noopener noreferrer">learn more about DOKS</a>, such as <a href="https://docs.digitalocean.com/products/kubernetes/details/features" target="_blank" rel="noopener noreferrer">features</a> and <a href="https://docs.digitalocean.com/products/kubernetes/details/availability" target="_blank" rel="noopener noreferrer">availability</a>. For DOKS troubleshooting, you can refer to our <a href="https://docs.digitalocean.com/products/kubernetes/support" target="_blank" rel="noopener noreferrer">Kubernetes Support guides</a>.</p></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/articles/edit/main/src/digitalocean.com/how-to-run-serverless-workloads-with-knative-on-digitalocean-kubernetes.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/devops/k8s/articles/" aria-label="/devops/k8s/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/devops/k8s/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/digitalocean.com/how-to-scale-node-js-applications-with-clustering.html" aria-label="How To Scale Node.js Applications with Clustering"><div class="hint">Next<span class="arrow end"></span></div><div class="link">How To Scale Node.js Applications with Clustering<i class="vp-icon fa-brands fa-node" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright © 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><!----></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BVguHYKu.js" defer></script>
  </body>
</html>
