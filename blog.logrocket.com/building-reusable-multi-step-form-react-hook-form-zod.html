<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Building a reusable multi-step form with React Hook Form and Zod","image":["https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/banner.png","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/multi-step-form-component.webp","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/demonstrating-continue-button-form.webp","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/progress-indicator-form.png"],"datePublished":"2025-02-26T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"Chinwike Maduabuchi","url":"https://blog.logrocket.com/author/chinwikemaduabuchi/"}]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html"><meta property="og:site_name" content="📚Bookshelf"><meta property="og:title" content="Building a reusable multi-step form with React Hook Form and Zod"><meta property="og:description" content="Article(s) > Building a reusable multi-step form with React Hook Form and Zod"><meta property="og:type" content="article"><meta property="og:image" content="https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/banner.png"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/banner.png"><meta name="twitter:image:alt" content="Building a reusable multi-step form with React Hook Form and Zod"><meta property="article:author" content="Chinwike Maduabuchi"><meta property="article:tag" content="react-js"><meta property="article:tag" content="reactjs"><meta property="article:tag" content="react"><meta property="article:tag" content="node-js"><meta property="article:tag" content="nodejs"><meta property="article:tag" content="node"><meta property="article:tag" content="blog.logrocket.com"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2025-02-26T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>Building a reusable multi-step form with React Hook Form and Zod | 📚Bookshelf</title><meta name="description" content="Article(s) > Building a reusable multi-step form with React Hook Form and Zod">
    <link rel="preload" href="/bookshelf/assets/style-DmRYlEXZ.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-DmRYlEXZ.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">📚Bookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnk8s.io/" aria-label="learnk8s.io"><!--[--><img class="vp-icon" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnk8s.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/articles" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">blog.logrocket.com</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2025</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/how-to-add-custom-fonts-react-native.html" aria-label="How to add custom fonts in React Native"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->How to add custom fonts in React Native<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-useref.html" aria-label="How to use the React useRef Hook effectively"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->How to use the React useRef Hook effectively<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/eliminate-render-blocking-resources-css-javascript.html" aria-label="How to eliminate render-blocking resources — CSS and JavaScript"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->How to eliminate render-blocking resources — CSS and JavaScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/mocking-complex-apis-mirage-js.html" aria-label="Mocking complex APIs with Mirage JS"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->Mocking complex APIs with Mirage JS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/top-go-frameworks-2025.html" aria-label="The 8 best Go web frameworks for 2025: Updated list"><!--[--><i class="vp-icon fa-brands fa-golang" sizing="both"></i><!--]-->The 8 best Go web frameworks for 2025: Updated list<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/game-development-frontend-building-excalibur-js.html" aria-label="Game development for frontend: Building with Excalibur.js"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->Game development for frontend: Building with Excalibur.js<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon fa-brands fa-react" sizing="both"></i><span class="vp-sidebar-title">How to use CSS variables like a pro</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/css-overlay.html" aria-label="A guide to image overlays in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A guide to image overlays in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/pure-component-in-react.html" aria-label="Pure components in React: Using PureComponent and React.memo"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Pure components in React: Using PureComponent and React.memo<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/cursor-css-property.html" aria-label="A guide to the CSS cursor property"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A guide to the CSS cursor property<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-select-comprehensive-guide.html" aria-label="React Select: A comprehensive guide"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->React Select: A comprehensive guide<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/build-custom-react-native-turbo-module-android.html" aria-label="Build a custom React Native Turbo Module for Android"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Build a custom React Native Turbo Module for Android<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/curl-measure-rtt.html" aria-label="How to measure round-trip time (RTT) using cURL"><!--[--><i class="vp-icon iconfont icon-curl" sizing="both"></i><!--]-->How to measure round-trip time (RTT) using cURL<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-memo.html" aria-label="React.memo explained: When to use it (and when not to)"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->React.memo explained: When to use it (and when not to)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-usecallback.html" aria-label="React useCallback: When and how to use it for better performance"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->React useCallback: When and how to use it for better performance<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/the-virtual-dom-react.html" aria-label="What is the virtual DOM in React?"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->What is the virtual DOM in React?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/switch-statements-javascript.html" aria-label="A practical guide to switch statements in JavaScript"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->A practical guide to switch statements in JavaScript<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html" aria-label="Building a reusable multi-step form with React Hook Form and Zod"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Building a reusable multi-step form with React Hook Form and Zod<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/javascript-dictionary.html" aria-label="JavaScript dictionary: How to use objects and maps for key-value pairs"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->JavaScript dictionary: How to use objects and maps for key-value pairs<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/css-grid-template-columns.html" aria-label="A guide to the CSS grid-template-columns property"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A guide to the CSS grid-template-columns property<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/guide-node-js-readable-streams.html" aria-label="A guide to Node.js readable streams"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->A guide to Node.js readable streams<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/advanced-react-state-management-using-url-parameters.html" aria-label="Advanced React state management using URL parameters"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Advanced React state management using URL parameters<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/best-react-native-ui-component-libraries.html" aria-label="The 10 best React Native UI libraries of 2025"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->The 10 best React Native UI libraries of 2025<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/docker-alternatives.html" aria-label="The 10 best Docker alternatives to consider"><!--[--><i class="vp-icon fa-brands fa-docker" sizing="both"></i><!--]-->The 10 best Docker alternatives to consider<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/ternary-operator-javascript.html" aria-label="How to use the ternary operator in JavaScript"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->How to use the ternary operator in JavaScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/tsup.html" aria-label="Using tsup to bundle your TypeScript package"><!--[--><i class="vp-icon iconfont icon-typescript" sizing="both"></i><!--]-->Using tsup to bundle your TypeScript package<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-higher-order-components.html" aria-label="How to use React higher-order components"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->How to use React higher-order components<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/dependency-inversion-principle.html" aria-label="Understanding the dependency inversion principle (DIP)"><!--[--><i class="vp-icon fas fa-pen-ruler" sizing="both"></i><!--]-->Understanding the dependency inversion principle (DIP)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/building-telegram-bot-grammy.html" aria-label="Building a Telegram bot with grammY"><!--[--><i class="vp-icon iconfont icon-typescript" sizing="both"></i><!--]-->Building a Telegram bot with grammY<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/box-shadow-css.html" aria-label="Styling with the CSS box-shadow property"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Styling with the CSS box-shadow property<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/complete-guide-typescript-enums-react-native.html" aria-label="A complete guide to TypeScript enums in React Native"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->A complete guide to TypeScript enums in React Native<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/creating-react-animations-with-motion.html" aria-label="Creating React animations in Motion (formerly Framer Motion)"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Creating React animations in Motion (formerly Framer Motion)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/event-loop-and-call-stack-js.html" aria-label="What are the event loop and call stack in JavaScript?"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->What are the event loop and call stack in JavaScript?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-context-tutorial.html" aria-label="React Context tutorial: Complete guide with practical examples"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->React Context tutorial: Complete guide with practical examples<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/javascript-arrow-functions.html" aria-label="How and when to use JavaScript arrow functions"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->How and when to use JavaScript arrow functions<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/javascript-null-empty-function.html" aria-label="How to check for null, undefined, or empty values in JavaScript"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->How to check for null, undefined, or empty values in JavaScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/mern-stack.html" aria-label="What is the MERN stack? Overview with examples"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->What is the MERN stack? Overview with examples<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/leveraging-parallel-computing-node-js.html" aria-label="Leveraging parallel computing in Node.js"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->Leveraging parallel computing in Node.js<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/guide-modern-frontend-architecture-patterns.html" aria-label="A guide to modern frontend architecture patterns"><!--[--><i class="vp-icon fas fa-pen-ruler" sizing="both"></i><!--]-->A guide to modern frontend architecture patterns<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/guide-graceful-degradation-web-development.html" aria-label="A guide to graceful degradation in web development"><!--[--><i class="vp-icon iconfont icon-typescript" sizing="both"></i><!--]-->A guide to graceful degradation in web development<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/building-high-performance-websites-using-htmx-go.html" aria-label="Building high-performance websites using htmx and Go"><!--[--><i class="vp-icon fa-brands fa-golang" sizing="both"></i><!--]-->Building high-performance websites using htmx and Go<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/improve-ux-with-scroll-select-box.html" aria-label="How to improve UX with a scroll-select box"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->How to improve UX with a scroll-select box<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/best-ci-cd-tools-react-native.html" aria-label="Best CI/CD tools for React Native"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Best CI/CD tools for React Native<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2024</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2023</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2022</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2021</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2020</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2019</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2018</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/banner.png" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon fa-brands fa-react" sizing="height"></i>Building a reusable multi-step form with React Hook Form and Zod</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://blog.logrocket.com/author/chinwikemaduabuchi/" target="_blank" rel="noopener noreferrer">Chinwike Maduabuchi</a></span><span property="author" content="Chinwike Maduabuchi"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2/26/25</span><meta property="datePublished" content="2025-02-26T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 14 min</span><meta property="timeRequired" content="PT14M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color1" role>Node.js</span><span class="page-category-item color6" role>React.js</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="Node.js,React.js,Article(s)"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color5" role>blog.logrocket.com</span><span class="page-tag-item color2" role>node</span><span class="page-tag-item color6" role>nodejs</span><span class="page-tag-item color3" role>node-js</span><span class="page-tag-item color5" role>react</span><span class="page-tag-item color6" role>reactjs</span><span class="page-tag-item color6" role>react-js</span><!--]--><meta property="keywords" content="blog,blog.logrocket.com,node,nodejs,node-js,react,reactjs,react-js"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-관련" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-관련"><span>Building a reusable multi-step form with React Hook Form and Zod 관련</span></a></h1><a class="route-link vp-card" href="/bookshelf/programming/js-react/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="/bookshelf/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">React.js > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#setting-up-your-development-environment" class="router-link-active router-link-exact-active">Setting up your development environment</a><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#installing-tailwind-and-shadcn" class="router-link-active router-link-exact-active">Installing Tailwind and shadcn</a></li></ul></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#creating-the-formstep-type-schema-and-data" class="router-link-active router-link-exact-active">Creating the FormStep type, schema, and data</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#creating-the-steppedform-component" class="router-link-active router-link-exact-active">Creating the SteppedForm component</a><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#why-context" class="router-link-active router-link-exact-active">Why Context?</a></li></ul></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#building-the-steppedform-component" class="router-link-active router-link-exact-active">Building the SteppedForm component</a><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#_1-formprovider-and-multi-step-context" class="router-link-active router-link-exact-active">1. FormProvider and multi-step context</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#_2-parent-formelement" class="router-link-active router-link-exact-active">2. Parent formelement</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#_3-step-rendering-and-form-initialization" class="router-link-active router-link-exact-active">3. Step rendering and form initialization</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#_4-form-submission" class="router-link-active router-link-exact-active">4. Form submission</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#_5-navigation-functions" class="router-link-active router-link-exact-active">5. Navigation functions</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#validating-input-in-the-nextstepfunction" class="router-link-active router-link-exact-active">Validating input in the nextStepfunction</a></li></ul></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#controller-buttons-previous-and-next" class="router-link-active router-link-exact-active">Controller buttons: Previous and next</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#creating-individual-steps" class="router-link-active router-link-exact-active">Creating individual steps</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#implementing-a-form-progress-indicator" class="router-link-active router-link-exact-active">Implementing a form progress indicator</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#saving-form-state-to-localstorage" class="router-link-active router-link-exact-active">Saving form state to localStorage</a><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#initialize-localstoragestate" class="router-link-active router-link-exact-active">Initialize localStoragestate</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#saving-form-state" class="router-link-active router-link-exact-active">Saving form state</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#clearing-form-state" class="router-link-active router-link-exact-active">Clearing form state</a></li></ul></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html#conclusion" class="router-link-active router-link-exact-active">Conclusion</a></li></ul></nav><hr><div class="vp-site-info" data-name="Building a reusable multi-step form with React Hook Form and Zod"><a class="vp-site-info-navigator no-external-link-icon" title="Building a reusable multi-step form with React Hook Form and Zod" href="https://blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod" target="_blank"></a><div class="vp-site-info-preview" style="background:url(/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/banner.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="/assets/image/blog.logrocket.com/favicon.png" alt loading="lazy" no-view><div class="vp-site-info-name">Building a reusable multi-step form with React Hook Form and Zod</div><div class="vp-site-info-desc">Use React Hook Form and Zod to build a multi-step form component in React that handles input validation, tracks form progress, and more.</div></div><!----></div><p>Long, complex forms can easily overwhelm your users, leading to frustration and potential abandonment. In the apps you build, you may continuously find yourself needing to collect a significant amount of information through forms — whether for onboarding, checkout, or survey processes.</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/banner.png" alt="Building Multi-Step Forms With React Hook Form And Zod" tabindex="0" loading="lazy"><figcaption>Building Multi-Step Forms With React Hook Form And Zod</figcaption></figure><p>After making this once, I decided to create a reusable multi-step form component that I can reuse in all my React projects.</p><p>In this guide, I’ll walk through the process of building a reusable multi-step form component in React using React Hook Form and Zod for validation. This component will handle input validation, track form progress, and persist the form data in storage to prevent data loss and provide a smooth user experience.</p><p>You can download the source code from the <a href="https://github.com/Chinwike1/multi-step-form" target="_blank" rel="noopener noreferrer">project’s repository (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>Chinwike1/multi-step-form</code>)</a> or view the <a href="https://stepped-form.netlify.app/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>live demo here</a>. Here’s a look at what we’ll be creating:</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/multi-step-form-component.webp" alt="Multi-Step Form Component Demo" tabindex="0" loading="lazy"><figcaption>Multi-Step Form Component Demo</figcaption></figure><div class="hint-container note"><p class="hint-container-title">Prerequisites</p><p>To follow along, you should have:</p><ul><li>An understanding of React state patterns and management, and other beginner React concepts</li><li>An understanding of <code>React.Context</code></li><li>Some experience with the React Hook Form library</li><li>Node.js installed to use the node package manager (npm). I’ll be using pnpm out of preference</li></ul></div><hr><h2 id="setting-up-your-development-environment" tabindex="-1"><a class="header-anchor" href="#setting-up-your-development-environment"><span>Setting up your development environment</span></a></h2><p>Let’s get to the meat!</p><p>Here’s a summary of the packages we’ll be using to create this application:</p><ul><li><a class="route-link" href="/bookshelf/blog.logrocket.com/vite-adoption-guide.html"><strong>Vite</strong></a>: The underlying build tool for our React.js application</li><li><a class="route-link" href="/bookshelf/blog.logrocket.com/react-hook-form-complete-guide.html"><strong>React Hook Form</strong></a>: A powerful library for managing forms in React</li><li><a class="route-link" href="/bookshelf/blog.logrocket.com/schema-validation-typescript-zod.html"><strong>Zod</strong></a>: A TypeScript-first schema validation lib with static type inference</li><li><a href="https://ui.shadcn.com" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-shadcn" sizing="height"></i>shadcn</a>: An awesome open source collection of reusable React components. Powered by Radix UI and Tailwind CSS</li><li><a href="https://mantine.dev/hooks/use-local-storage/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>Mantine Hooks</a>: A lightweight set of React Hooks for managing DOM and UI state. We’ll use this to save the form state to local storage</li><li><a href="https://motion.dev/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>Motion</a>: For adding animations</li></ul><p>Open up your terminal in your preferred directory and run this command to create a new React app with Vite and TypeScript:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">pnpm</span> create vite@latest multi-step-form</span>
<span class="line"><span class="token comment"># Select React + TypeScript &amp; SWC to follow along</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Next, move into the project folder and install the packages mentioned earlier:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token builtin class-name">cd</span> multi-step-form</span>
<span class="line"><span class="token function">pnpm</span> <span class="token function">install</span> <span class="token operator">&amp;&amp;</span> <span class="token function">pnpm</span> <span class="token function">add</span> react-hook-form react-router-dom zod @mantine/hooks framer-motion lucide-react</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>This will create our foundation. Next, let’s install Tailwind and initialize shadcn in our project.</p><h3 id="installing-tailwind-and-shadcn" tabindex="-1"><a class="header-anchor" href="#installing-tailwind-and-shadcn"><span>Installing Tailwind and shadcn</span></a></h3><p>As mentioned above, we’ll be using shadcn, an open source collection of components, to design the form layout. This will allow us to focus more on implementing the form’s logic. If you need help, refer to the <a href="https://ui.shadcn.com/docs/installation/vite" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-shadcn" sizing="height"></i>official documentation</a> for guidance.</p><p>Install and initialize Tailwind with the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">pnpm</span> <span class="token function">add</span> <span class="token parameter variable">-D</span> tailwindcss postcss autoprefixer</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then generate the <i class="vp-icon fa-brands fa-js" sizing="height"></i><code>tailwind.config.js</code> and <i class="vp-icon fa-brands fa-js" sizing="height"></i><code>postcss.config.js</code> files with the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">pnpm</span> tailwindcss init <span class="token parameter variable">-p</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>With the configuration files in place, add the Tailwind directives to your main stylesheet (e.g., <code>src/index.css</code>):</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="index.css"><span>index.css</span></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@tailwind</span> base<span class="token punctuation">;</span></span></span>
<span class="line"><span class="token atrule"><span class="token rule">@tailwind</span> components<span class="token punctuation">;</span></span></span>
<span class="line"><span class="token atrule"><span class="token rule">@tailwind</span> utilities<span class="token punctuation">;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* your custom css here */</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Next, update your <i class="vp-icon fa-brands fa-js" sizing="height"></i><code>tailwind.config.js</code> file to specify the paths to your content files. This ensures Tailwind can purge unused styles in production:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="tailwind.config.js"><span>tailwind.config.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;tailwindcss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Config<span class="token punctuation">}</span></span> */</span></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./index.html&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./src/**/*.{ts,tsx,js,jsx}&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">extend</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>For better module resolution, configure <i class="vp-icon iconfont icon-json" sizing="height"></i><code>tsconfig.json</code> with an alias for the <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>src</code> directory. This will simplify imports throughout the project:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="tsconfig.json"><span>tsconfig.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./src/*&quot;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Vite also comes with a <i class="vp-icon iconfont icon-json" sizing="height"></i><code>tsconfig.app.json</code> in which we’ll do the same thing:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="tsconfig.app.json"><span>tsconfig.app.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./src/*&quot;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Next, update your Vite configuration to recognize this alias. Open <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>vite.config.ts</code> and add the following:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="vite.config.ts"><span>vite.config.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> fileURLToPath <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;url&#39;</span></span>
<span class="line"><span class="token keyword">import</span> react <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-react-swc&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> __dirname <span class="token operator">=</span> <span class="token function">fileURLToPath</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">react</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  resolve<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    alias<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&#39;@&#39;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>With Tailwind configured, it’s time to set up shadcn. Initialize it by running the following:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">pnpm</span> dlx shadcn@latest init <span class="token parameter variable">-d</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>During initialization, shadcn will perform checks, validate your framework, set up Tailwind, and update your project files. Once the process is complete, you’ll see an output like this:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">✔ Preflight checks.</span>
<span class="line">✔ Verifying framework. Found Vite.</span>
<span class="line">✔ Validating Tailwind CSS.</span>
<span class="line">✔ Validating import alias.</span>
<span class="line">✔ Writing components.json.</span>
<span class="line">✔ Checking registry.</span>
<span class="line">✔ Updating tailwind.config.ts</span>
<span class="line">✔ Updating app\app.css</span>
<span class="line">✔ Installing dependencies.</span>
<span class="line">✔ Created 1 file:</span>
<span class="line">  - app\lib\utils.ts</span>
<span class="line"></span>
<span class="line">Success! Project initialization completed.</span>
<span class="line">You may now add components.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Great! Now we have Tailwind and shadcn fully set up in your Vite + React + TypeScript project.</p><p>Let’s install a few components we’ll need for this project — input, button, form, toast, and label. Run the following:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">pnpm</span> dlx shadcn@latest <span class="token function">add</span> input button form label toast</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">N.B.</p><p>Installing shadcn’s form library installs the React Hook Form package.</p></div><hr><h2 id="creating-the-formstep-type-schema-and-data" tabindex="-1"><a class="header-anchor" href="#creating-the-formstep-type-schema-and-data"><span>Creating the <code>FormStep</code> type, schema, and data</span></a></h2><p>Remember that reusability is our design goal here. We’ll start by defining the <code>FormStep</code> type, which will hold the properties required in a new step. This includes the title, position, validation schema, and component amongst others — you can expand this how you creatively see fit.</p><p>Start by creating the <code>FormStep</code> type in <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>src/</code><i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>types.ts</code>. This represents a single step in the form:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="types.ts"><span>types.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> ZodType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;zod&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> CombinedCheckoutType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./validators/checkout-flow.validator&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> LucideIcon <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;lucide-react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> <span class="token class-name">FieldKeys</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> CombinedCheckoutType<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">FormStep</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  position<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></span>
<span class="line">  validationSchema<span class="token operator">:</span> ZodType<span class="token operator">&lt;</span><span class="token builtin">unknown</span><span class="token operator">&gt;</span><span class="token punctuation">;</span></span>
<span class="line">  component<span class="token operator">:</span> React<span class="token punctuation">.</span>ReactElement<span class="token punctuation">;</span></span>
<span class="line">  icon<span class="token operator">:</span> LucideIcon<span class="token punctuation">;</span></span>
<span class="line">  fields<span class="token operator">:</span> FieldKeys<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Here’s what each property represents:</p><ul><li><code>title</code>: The title of the step</li><li><code>position</code>: The step’s order in the sequence</li><li><code>validationSchema</code>: A Zod schema for validating the form fields within the step</li><li><code>component</code>: A React component to render for the step</li><li><code>icon</code>: A Lucide icon for visual representation</li><li><code>**fields**</code>: This is an array of strings in which each element matches a key (i.e., an input field) from the provided schema, making the form strongly typed and less error-prone</li></ul><p>You’ll understand it fully when you see the implementation.</p><p>Since we’re simulating a checkout process, let’s define validation schemas for each step in <code>src/validators/</code><i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>checkout-flow.validator.ts</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="validators/checkout-flow.validator.ts"><span>validators/checkout-flow.validator.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> z <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;zod&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> step1Schema <span class="token operator">=</span> z<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  email<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">&#39;Please enter a valid email address&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  firstName<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;First name must be at least 3 characters&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  lastName<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;Last name must be at least 3 characters&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> step2Schema <span class="token operator">=</span> z<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  country<span class="token operator">:</span> z</span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;Country must be at least 2 characters&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&#39;Country must be less than 100 characters&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  city<span class="token operator">:</span> z</span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;City must be at least 2 characters&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token comment">/* ... more fields ... */</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> step3Schema <span class="token operator">=</span> z<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* ... cardNumber, carrdHolder, cvv ... */</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>To keep the form type-safe and make the schemas reusable, we merge the individual schemas into a single schema:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="validators/checkout-flow.validator.ts"><span>validators/checkout-flow.validator.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line">  <span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>step2Schema<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>step3Schema<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">CombinedCheckoutType</span> <span class="token operator">=</span> z<span class="token punctuation">.</span>infer<span class="token operator">&lt;</span><span class="token keyword">typeof</span> CombinedCheckoutSchema<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>By merging the schemas, we combine the field definitions from all steps into one master schema. This allows us to infer a unified <code>CombinedCheckoutSchema</code> type that includes all fields in the multi-step form — this combined schema will also come in handy when using React Hook Form.</p><p>Finally, define the <code>checkoutSteps</code> array in <code>src/pages/</code><i class="vp-icon fa-brands fa-react" sizing="height"></i><code>home.tsx</code> to represent the form steps:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="pages/home.tsx"><span>pages/home.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> FormStep <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/types&#39;</span></span>
<span class="line"><span class="token keyword">import</span> Step1 <span class="token keyword">from</span> <span class="token string">&#39;./checkout/step1&#39;</span></span>
<span class="line"><span class="token keyword">import</span> Step2 <span class="token keyword">from</span> <span class="token string">&#39;./checkout/step2&#39;</span></span>
<span class="line"><span class="token keyword">import</span> Step3 <span class="token keyword">from</span> <span class="token string">&#39;./checkout/step3&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span></span>
<span class="line">  step1Schema<span class="token punctuation">,</span></span>
<span class="line">  step2Schema<span class="token punctuation">,</span></span>
<span class="line">  step3Schema<span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/validators/checkout-flow.validator&#39;</span></span>
<span class="line"><span class="token keyword">import</span> MultiStepForm <span class="token keyword">from</span> <span class="token string">&#39;@/components/stepped-form/stepped-form&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> HomeIcon<span class="token punctuation">,</span> UserIcon<span class="token punctuation">,</span> CreditCardIcon <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;lucide-react&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> checkoutSteps<span class="token operator">:</span> FormStep<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    title<span class="token operator">:</span> <span class="token string">&#39;Step 1: Personal Information&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    component<span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Step1</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span></span>
<span class="line">    icon<span class="token operator">:</span> UserIcon<span class="token punctuation">,</span></span>
<span class="line">    position<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">    validationSchema<span class="token operator">:</span> step1Schema<span class="token punctuation">,</span></span>
<span class="line">    fields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;email&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;firstName&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lastName&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    title<span class="token operator">:</span> <span class="token string">&#39;Step 2: Address Details&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    component<span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Step2</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span></span>
<span class="line">    icon<span class="token operator">:</span> HomeIcon<span class="token punctuation">,</span></span>
<span class="line">    position<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">    validationSchema<span class="token operator">:</span> step2Schema<span class="token punctuation">,</span></span>
<span class="line">    fields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;country&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;city&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;shippingAddress&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    title<span class="token operator">:</span> <span class="token string">&#39;Step 3: Payment Details&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    component<span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Step3</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span></span>
<span class="line">    icon<span class="token operator">:</span> CreditCardIcon<span class="token punctuation">,</span></span>
<span class="line">    position<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">    validationSchema<span class="token operator">:</span> step3Schema<span class="token punctuation">,</span></span>
<span class="line">    fields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;cardNumber&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cardholderName&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cvv&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MultiStepForm</span></span> <span class="token attr-name">steps</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>checkoutSteps<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>With that done, we can now create the <code>SteppedForm</code> component to dynamically handle the form rendering, state, logic, and validation with the data in <code>checkoutSteps</code>.</p><hr><h2 id="creating-the-steppedform-component" tabindex="-1"><a class="header-anchor" href="#creating-the-steppedform-component"><span>Creating the <code>SteppedForm</code> component</span></a></h2><p>The <code>SteppedForm</code> component is the backbone of our multi-step form design. It contains the form’s logic, tracks the current step, validates inputs, and provides functions for navigation.</p><p>When making this, I asked myself a few questions:</p><ul><li>What values do I want to track?</li><li>How are those values shared and retrieved?</li><li>What does the final implementation look like?</li></ul><p>Values like <code>currentStep</code> ,<code>isFirstStep</code>, <code>isLastStep</code>, and controller functions like <code>nextStep</code> and <code>previousStep</code> came to mind, and are pieces we’d need to make the multi-step form work.</p><p>React Hook Form uses the React Context, allowing us to share form state across components by having a parent <code>&lt;FormProvider /&gt;</code> component. This allows any child component to access the form state without needing to pass props manually.</p><p>We also want to have a custom hook to manage the form state — something like this:</p><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> isFirstStep<span class="token punctuation">,</span> isLastStep<span class="token punctuation">,</span> nextStep <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMultiStepForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The simplest way I found to do this is by leveraging two context values: one from React Hook Form’s API and another from our custom <code>useMultiStepForm</code> Hook.</p><p>This separation keeps the form logic clear while maintaining easy access to both React Hook Form’s form state and our step-based navigation.</p><h3 id="why-context" tabindex="-1"><a class="header-anchor" href="#why-context"><span>Why Context?</span></a></h3><p><a class="route-link" href="/bookshelf/blog.logrocket.com/react-context-tutorial.html"><strong>React’s Context API</strong></a> makes it easy to share state and logic while eliminating the need to pass props through multiple layers. The context holds all essential states and methods required by the form steps, navigation buttons, and progress indicator components.</p><p>Here’s what we’re currently tracking in the context:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">MultiStepFormContextProps</span> <span class="token punctuation">{</span></span>
<span class="line">  currentStep<span class="token operator">:</span> FormStep<span class="token punctuation">;</span></span>
<span class="line">  currentStepIndex<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></span>
<span class="line">  isFirstStep<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span></span>
<span class="line">  isLastStep<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function-variable function">nextStep</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function-variable function">previousStep</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function-variable function">goToStep</span><span class="token operator">:</span> <span class="token punctuation">(</span>step<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span></span>
<span class="line">  steps<span class="token operator">:</span> FormStep<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>currentStep</code>: The current form step being rendered</li><li><code>currentStepIndex</code>: The index of the current step in the <code>steps</code> array</li><li><code>isFirstStep</code> / <code>isLastStep</code>: Booleans to determine if the user is at the start or end of the form</li><li><code>nextStep</code> / <code>previousStep</code>: Functions to navigate between steps</li><li><code>goToStep</code>: A function to jump to a specific step</li><li><code>steps</code>: The full list of <code>FormStep</code> objects</li></ul><p>By exposing these properties and methods, the context makes the form highly configurable and accessible to any child component.</p><hr><h2 id="building-the-steppedform-component" tabindex="-1"><a class="header-anchor" href="#building-the-steppedform-component"><span>Building the <code>SteppedForm</code> component</span></a></h2><p>In this section, we’ll walk through the process of building the <code>SteppedForm</code> component. We’ll start by defining the context for managing the form’s state and navigation, then set up the form structure using React Hook Form.</p><p>By the end of this section, you’ll have a functional multi-step form component that’s ready to be extended with additional features like navigation buttons, progress indicators, and anything else you choose to implement.</p><p>Now, let’s move on to creating the <code>SteppedForm</code> component:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="components/stepped-form/stepped-form.tsx"><span>components/stepped-form/stepped-form.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> z <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;zod&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createContext<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> FormProvider<span class="token punctuation">,</span> useForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-hook-form&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> FormStep<span class="token punctuation">,</span> MultiStepFormContextProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/types&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> zodResolver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@hookform/resolvers/zod&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> CombinedCheckoutSchema <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/validators/checkout-flow.validator&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> PrevButton <span class="token keyword">from</span> <span class="token string">&#39;@/components/stepped-form/prev-button&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> ProgressIndicator <span class="token keyword">from</span> <span class="token string">&#39;./progress-indicator&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> MultiStepFormContext <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createContext</span><span class="token generic class-name"><span class="token operator">&lt;</span>MultiStepFormContextProps <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">MultiStepForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> steps <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> steps<span class="token operator">:</span> FormStep<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> methods <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useForm</span><span class="token generic class-name"><span class="token operator">&lt;</span>z<span class="token punctuation">.</span>infer<span class="token operator">&lt;</span><span class="token keyword">typeof</span> CombinedCheckoutSchema<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    resolver<span class="token operator">:</span> <span class="token function">zodResolver</span><span class="token punctuation">(</span>CombinedCheckoutSchema<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// Form state</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>currentStepIndex<span class="token punctuation">,</span> setCurrentStepIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> currentStep <span class="token operator">=</span> steps<span class="token punctuation">[</span>currentStepIndex<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// Navigation functions</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">nextStep</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentStepIndex <span class="token operator">&lt;</span> steps<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">setCurrentStepIndex</span><span class="token punctuation">(</span>currentStepIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">previousStep</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentStepIndex <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">setCurrentStepIndex</span><span class="token punctuation">(</span>currentStepIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"> <span class="token keyword">const</span> <span class="token function-variable function">goToStep</span> <span class="token operator">=</span> <span class="token punctuation">(</span>position<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> position <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;</span> steps<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">setCurrentStepIndex</span><span class="token punctuation">(</span>position <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token function">saveFormState</span><span class="token punctuation">(</span>position <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">/* Form submission function */</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">submitSteppedForm</span><span class="token punctuation">(</span>data<span class="token operator">:</span> z<span class="token punctuation">.</span>infer<span class="token operator">&lt;</span><span class="token keyword">typeof</span> CombinedCheckoutSchema<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// Perform your form submission logic here</span></span>
<span class="line">      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Form submission error:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// Context value</span></span>
<span class="line">  <span class="token keyword">const</span> value<span class="token operator">:</span> MultiStepFormContextProps <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    currentStep<span class="token operator">:</span> steps<span class="token punctuation">[</span>currentStepIndex<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    currentStepIndex<span class="token punctuation">,</span></span>
<span class="line">    isFirstStep<span class="token operator">:</span> currentStepIndex <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">    isLastStep<span class="token operator">:</span> currentStepIndex <span class="token operator">===</span> steps<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">    goToStep<span class="token punctuation">,</span></span>
<span class="line">    nextStep<span class="token punctuation">,</span></span>
<span class="line">    previousStep<span class="token punctuation">,</span></span>
<span class="line">    steps<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MultiStepFormContext.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormProvider</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>methods<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>w-[550px] mx-auto<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProgressIndicator</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>methods<span class="token punctuation">.</span><span class="token function">handleSubmit</span><span class="token punctuation">(</span>submitSteppedForm<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>py-5 text-3xl font-bold<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>currentStep<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">            </span><span class="token punctuation">{</span>currentStep<span class="token punctuation">.</span>component<span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PrevButton</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormProvider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MultiStepFormContext.Provider</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> MultiStepForm<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>A lot is going on here so let’s go over the important details one after the other:</p><h3 id="_1-formprovider-and-multi-step-context" tabindex="-1"><a class="header-anchor" href="#_1-formprovider-and-multi-step-context"><span>1. <code>FormProvider</code> and multi-step context</span></a></h3><p>As mentioned earlier, React Hook Form’s <code>FormProvider</code> is used to provide form methods to all child components. This allows us to manage form state and validation across multiple steps by using the <code>useFormContext</code> Hook in place of <code>useForm</code>.</p><p>The <code>MultiStepFormContext</code> provides the necessary state and navigation functions we discussed to all child components, ensuring that buttons and progress indicators can interact with the form’s state.</p><h3 id="_2-parent-formelement" tabindex="-1"><a class="header-anchor" href="#_2-parent-formelement"><span>2. Parent <code>form</code>element</span></a></h3><p>The <code>form</code> element should wrap up all the steps of your multi-step form. This is crucial because nesting separate <code>form</code> elements inside individual steps can cause issues.</p><p>Any <code>&lt;button&gt;</code> inside the form with <code>type=&quot;submit&quot;</code> (which is the default) will trigger form submission. To prevent premature submissions, only the button in the final step should have this attribute. More on this soon.</p><h3 id="_3-step-rendering-and-form-initialization" tabindex="-1"><a class="header-anchor" href="#_3-step-rendering-and-form-initialization"><span>3. Step rendering and form initialization</span></a></h3><p>The appropriate step is rendered through the <code>currentStep.component</code> component value.</p><p>We also initialize the form using <code>useForm</code> from React Hook Form and pass it the schema (<code>CombinedCheckoutSchema</code>) for validation. The <code>zodResolver</code> ensures the form data is validated against the schema before submission.</p><h3 id="_4-form-submission" tabindex="-1"><a class="header-anchor" href="#_4-form-submission"><span>4. Form submission</span></a></h3><p>The <code>submitSteppedForm</code> function handles the form submission. For now, it simply logs the form data to the console, but you can replace this with your actual submission logic (e.g., sending data to an API).</p><h3 id="_5-navigation-functions" tabindex="-1"><a class="header-anchor" href="#_5-navigation-functions"><span>5. Navigation functions</span></a></h3><p>The <code>nextStep</code>, <code>previousStep</code>, and <code>goToStep</code> functions allow users to navigate between steps. These functions are provided to the context, making them accessible to components like <code>PrevButton</code>, <code>NextButton</code>, and <code>ProgressIndicator</code>.</p><p>With this base structure, we’re confident that our <code>SteppedForm</code> component is reusable and well encapsulated, only sharing state with the components that need it. Now, we can define and export a <code>useMultiStep</code> function for use within child components:</p><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> MultiStepFormContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/components/stepped-form/stepped-form&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useMultiStepForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>MultiStepFormContext<span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span></span>
<span class="line">      <span class="token string">&#39;useMultiStepForm must be used within MultiStepForm.Provider&#39;</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> context</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="validating-input-in-the-nextstepfunction" tabindex="-1"><a class="header-anchor" href="#validating-input-in-the-nextstepfunction"><span>Validating input in the <code>nextStep</code>function</span></a></h3><p>The <code>nextStep</code> function will handle step transitions. However, we’re going to modify this function further as we want to trigger validation on every step before transitioning to the next one:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">nextStep</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> isValid <span class="token operator">=</span> <span class="token keyword">await</span> methods<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span>currentStep<span class="token punctuation">.</span>fields<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isValid<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// Stop progression if validation fails</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// grab values in current step and transform array to object</span></span>
<span class="line">  <span class="token keyword">const</span> currentStepValues <span class="token operator">=</span> methods<span class="token punctuation">.</span><span class="token function">getValues</span><span class="token punctuation">(</span>currentStep<span class="token punctuation">.</span>fields<span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">const</span> formValues <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span></span>
<span class="line">    currentStep<span class="token punctuation">.</span>fields<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span></span>
<span class="line">      field<span class="token punctuation">,</span></span>
<span class="line">      currentStepValues<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// Validate the form state against the current step&#39;s schema</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentStep<span class="token punctuation">.</span>validationSchema<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> validationResult <span class="token operator">=</span> currentStep<span class="token punctuation">.</span>validationSchema<span class="token punctuation">.</span><span class="token function">safeParse</span><span class="token punctuation">(</span>formValues<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>validationResult<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      validationResult<span class="token punctuation">.</span>error<span class="token punctuation">.</span>errors<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        methods<span class="token punctuation">.</span><span class="token function">setError</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">keyof</span> SteppedFlowType<span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">          type<span class="token operator">:</span> <span class="token string">&#39;manual&#39;</span><span class="token punctuation">,</span></span>
<span class="line">          message<span class="token operator">:</span> err<span class="token punctuation">.</span>message<span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// Stop progression if schema validation fails</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// Move to the next step if not at the last step</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentStepIndex <span class="token operator">&lt;</span> steps<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">setCurrentStepIndex</span><span class="token punctuation">(</span>currentStepIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here’s a breakdown of its flow:</p><h4 id="_1-trigger-field-validation" tabindex="-1"><a class="header-anchor" href="#_1-trigger-field-validation"><span>1. Trigger field validation</span></a></h4><p>The first step in this function is to validate the input fields related to the current step. This is done using React Hook Form’s <code>methods.trigger</code> function.</p><h4 id="_2-grab-current-step-values-and-transform-into-an-object" tabindex="-1"><a class="header-anchor" href="#_2-grab-current-step-values-and-transform-into-an-object"><span>2. Grab current step values and transform into an object</span></a></h4><p>Next, we retrieve the values of the fields in the current step and transform them into an array for further validation. Because <code>methods.getValues(currentStep.fields)</code> returns the values as an array — <code>[&#39;test@test.com&#39;, &#39;John&#39;, &#39;Doe&#39;]</code> — we use <code>Object.fromEntries</code> to transform this array into an object where the keys are the field names and the values are the corresponding input values (e.g., <code>{ email: &#39;test@test.com&#39;, firstName: &#39;John&#39;, lastName: &#39;Doe&#39; }</code>).</p><h4 id="_3-schema-validation" tabindex="-1"><a class="header-anchor" href="#_3-schema-validation"><span>3. Schema validation</span></a></h4><p>Once the values are in the correct format, we validate them against the schema defined at <code>currentStep.validationSchem</code>. Errors are reported using <code>methods.setError</code>.</p><h4 id="_4-lastly-if-all-validations-pass-we-move-on-to-the-next-step" tabindex="-1"><a class="header-anchor" href="#_4-lastly-if-all-validations-pass-we-move-on-to-the-next-step"><span>4. Lastly, if all validations pass, we move on to the next step.</span></a></h4><hr><h2 id="controller-buttons-previous-and-next" tabindex="-1"><a class="header-anchor" href="#controller-buttons-previous-and-next"><span>Controller buttons: Previous and next</span></a></h2><p>Now that we’ve set up <code>SteppedForm</code> with the correct navigation functions, we can start to use them in custom buttons like a <code>NextButton</code> and <code>PreviousButton</code> or the progress indicator component. Let’s start with <code>PrevButton</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="components/PrevButton.tsx"><span>components/PrevButton.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useMultiStepForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/hooks/use-stepped-form&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../ui/button&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">PrevButton</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> isFirstStep<span class="token punctuation">,</span> previousStep <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMultiStepForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span></span>
<span class="line">      <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>outline<span class="token punctuation">&#39;</span></span></span>
<span class="line">      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>button<span class="token punctuation">&#39;</span></span></span>
<span class="line">      <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>mt-5<span class="token punctuation">&#39;</span></span></span>
<span class="line">      <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>previousStep<span class="token punctuation">}</span></span></span>
<span class="line">      <span class="token attr-name">disabled</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isFirstStep<span class="token punctuation">}</span></span></span>
<span class="line">    <span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      Previous</span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> PrevButton</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Now for <code>NextButton</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="components/NextButton.tsx"><span>components/NextButton.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">NextButton</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  onClick<span class="token punctuation">,</span></span>
<span class="line">  type<span class="token punctuation">,</span></span>
<span class="line">  <span class="token operator">...</span>rest</span>
<span class="line"><span class="token punctuation">}</span><span class="token operator">:</span> React<span class="token punctuation">.</span>ButtonHTMLAttributes<span class="token operator">&lt;</span>HTMLButtonElement<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> isLastStep <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMultiStepForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span></span>
<span class="line">      <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text-white bg-black hover:bg-slate-950 transition-colors w-full py-6<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name">type</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>type <span class="token operator">??</span> <span class="token string">&#39;button&#39;</span><span class="token punctuation">}</span></span></span>
<span class="line">      <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClick<span class="token punctuation">}</span></span></span>
<span class="line">      <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>rest<span class="token punctuation">}</span></span></span>
<span class="line">    <span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token punctuation">{</span>isLastStep <span class="token operator">?</span> <span class="token string">&#39;Submit&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;Continue&#39;</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><figure><img src="/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/demonstrating-continue-button-form.webp" alt="Demonstrating The Continue Button In Our Form" tabindex="0" loading="lazy"><figcaption>Demonstrating The Continue Button In Our Form</figcaption></figure><p>Remember that our form layout design enforces us to have only one button with the <code>type=&quot;submit&quot;</code> attribute. <code>NextButton</code> above acts plays two roles here — acting as <code>type=&#39;button&#39;</code> that says <code>Continue</code> for all steps up until the last where it says <code>Submit</code> and triggers a form submit.</p><hr><h2 id="creating-individual-steps" tabindex="-1"><a class="header-anchor" href="#creating-individual-steps"><span>Creating individual steps</span></a></h2><p>Each step in our form is a standalone component that follows a consistent pattern:</p><ol><li>Validate the input against the specified schema</li><li>Optionally perform additional operations with the data, such as verifying an email address in the database, before proceeding</li><li>Call <code>nextStep</code> from <code>useMultiStepForm</code> to move to the next step</li></ol><p>Let’s take a look at <code>Step1</code>:</p><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Step1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">{</span></span>
<span class="line">    register<span class="token punctuation">,</span></span>
<span class="line">    getValues<span class="token punctuation">,</span></span>
<span class="line">    setError<span class="token punctuation">,</span></span>
<span class="line">    formState<span class="token operator">:</span> <span class="token punctuation">{</span> errors <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useFormContext</span><span class="token generic class-name"><span class="token operator">&lt;</span>z<span class="token punctuation">.</span>infer<span class="token operator">&lt;</span><span class="token keyword">typeof</span> SteppedFlowSchema<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> nextStep <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMultiStepForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">handleStepSubmit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> email <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Simulate check for existing email in the database</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>email <span class="token operator">===</span> <span class="token string">&#39;test@test.com&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">setError</span><span class="token punctuation">(</span><span class="token string">&#39;email&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">        type<span class="token operator">:</span> <span class="token string">&#39;manual&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        message<span class="token operator">:</span> <span class="token string">&#39;Email already exists in the database. Please use a different email.&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token keyword">return</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// move to the next step</span></span>
<span class="line">    <span class="token function">nextStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex flex-col gap-3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&#39;email&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Email<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorMessage</span></span> <span class="token attr-name">message</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>errors<span class="token punctuation">.</span>email<span class="token operator">?.</span>message<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NextButton</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleStepSubmit<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here, we decide to make a (mock) query to the database before calling <code>nextStep</code>. This would be the same pattern up until your last step, in this case, <code>Step3</code>, where you explicitly assign a <code>submit</code> type to the navigation button:</p><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">Step3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">handleStepSubmit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex flex-col gap-3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token punctuation">{</span><span class="token comment">/* Form fields here */</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NextButton</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleStepSubmit<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="implementing-a-form-progress-indicator" tabindex="-1"><a class="header-anchor" href="#implementing-a-form-progress-indicator"><span>Implementing a form progress indicator</span></a></h2><figure><img src="/bookshelf/assets/image/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod/progress-indicator-form.png" alt="Progress Indicator In Our Form" tabindex="0" loading="lazy"><figcaption>Progress Indicator In Our Form</figcaption></figure><p>It is generally good practice to give visual feedback to your users on their progress so they don’t feel lost or overwhelmed. We will achieve this with the progress indicator component below — generated by <a href="https://v0.dev/chat/community/progress-steps-vByiSdMeSVk" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>v0</a>!</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="components/ProgressIndicator.tsx"><span>components/ProgressIndicator.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">ProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> currentStep<span class="token punctuation">,</span> goToStep<span class="token punctuation">,</span> currentStepIndex <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMultiStepForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex items-center w-full justify-center p-4 mb-10<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>w-full space-y-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>relative flex justify-between<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token punctuation">{</span><span class="token comment">/* Progress Line */</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>absolute left-0 top-1/2 h-0.5 w-full -translate-y-1/2 bg-gray-200<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>motion.div</span></span>
<span class="line">              <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>h-full bg-black<span class="token punctuation">&quot;</span></span></span>
<span class="line">              <span class="token attr-name">initial</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">&#39;0%&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>
<span class="line">              <span class="token attr-name">animate</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span></span>
<span class="line">                <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span>currentStepIndex <span class="token operator">/</span> <span class="token punctuation">(</span>checkoutSteps<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">              <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>
<span class="line">              <span class="token attr-name">transition</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token literal-property property">ease</span><span class="token operator">:</span> <span class="token string">&#39;easeInOut&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>
<span class="line">            <span class="token punctuation">/&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token punctuation">{</span><span class="token comment">/* Steps */</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">          </span><span class="token punctuation">{</span>checkoutSteps<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">const</span> isCompleted <span class="token operator">=</span> currentStepIndex <span class="token operator">&gt;</span> step<span class="token punctuation">.</span>position <span class="token operator">-</span> <span class="token number">1</span></span>
<span class="line">            <span class="token keyword">const</span> isCurrent <span class="token operator">=</span> currentStepIndex <span class="token operator">===</span> step<span class="token punctuation">.</span>position <span class="token operator">-</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>step<span class="token punctuation">.</span>position<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>relative z-10<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>motion.button</span></span>
<span class="line">                  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">goToStep</span><span class="token punctuation">(</span>step<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">}</span></span></span>
<span class="line">                  <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">flex size-14 items-center justify-center rounded-full border-2 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span></span>
<span class="line">                    isCompleted <span class="token operator">||</span> isCurrent</span>
<span class="line">                      <span class="token operator">?</span> <span class="token string">&#39;border-primary bg-black text-white&#39;</span></span>
<span class="line">                      <span class="token operator">:</span> <span class="token string">&#39;border-gray-200 bg-white text-gray-400&#39;</span></span>
<span class="line">                  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span></span>
<span class="line">                  <span class="token attr-name">animate</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span></span>
<span class="line">                    <span class="token literal-property property">scale</span><span class="token operator">:</span> isCurrent <span class="token operator">?</span> <span class="token number">1.1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">                  <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>
<span class="line">                <span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">                  </span><span class="token punctuation">{</span>isCompleted <span class="token operator">?</span> <span class="token punctuation">(</span></span>
<span class="line">                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Check</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>h-6 w-6<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">                  <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span></span>
<span class="line">                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>step.icon</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>h-6 w-6<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">                  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>motion.button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>The component uses <code>currentStepIndex</code> to calculate the width of the progress line and highlight the current step.</p><hr><h2 id="saving-form-state-to-localstorage" tabindex="-1"><a class="header-anchor" href="#saving-form-state-to-localstorage"><span>Saving form state to <code>localStorage</code></span></a></h2><p>One of the most frustrating experiences in web forms is losing your progress. It’s annoying enough to make a user abandon the process — this often translates to leaving money on the table. Let’s address this by persisting the form state to <code>localStorage</code>.</p><p>First, what does the structure of the data we’re storing look like?</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line">  currentStepIndex<span class="token operator">:</span> <span class="token builtin">number</span></span>
<span class="line">  formValues<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In addition to saving the form state, we also want to save the current step (or step index) to ensure they continue exactly where they left off.</p><h3 id="initialize-localstoragestate" tabindex="-1"><a class="header-anchor" href="#initialize-localstoragestate"><span>Initialize <code>localStorage</code>state</span></a></h3><p>We start by initializing the stored form state from <code>localStorage</code> in <code>MultiStepForm</code>. To ensure reusability, we’ll require our component to collect the <code>localStorageKey</code> prop. This prevents conflicts when multiple multi-step forms exist in the same application.</p><p>Using Mantine’s <code>useLocalStorage</code> Hook, we create a stateful local storage item that holds the form’s progress:</p><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>savedFormState<span class="token punctuation">,</span> setSavedFormState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useLocalStorage</span><span class="token generic class-name"><span class="token operator">&lt;</span>SavedFormState <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  key<span class="token operator">:</span> localStorageKey<span class="token punctuation">,</span></span>
<span class="line">  defaultValue<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If there’s an existing saved form state, we restore it when <code>MultiStepForm</code> mounts using React Hook Form’s <code>methods.reset()</code>:</p><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>savedFormState<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">setCurrentStepIndex</span><span class="token punctuation">(</span>savedFormState<span class="token punctuation">.</span>currentStepIndex<span class="token punctuation">)</span></span>
<span class="line">    methods<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span>savedFormState<span class="token punctuation">.</span>formValues<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>methods<span class="token punctuation">,</span> savedFormState<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This ensures that if a user refreshes the page or revisits the form, they pick up exactly where they left off.</p><h3 id="saving-form-state" tabindex="-1"><a class="header-anchor" href="#saving-form-state"><span>Saving form state</span></a></h3><p>Next, we define a function to save the form state to <code>localStorage</code>:</p><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">saveFormState</span> <span class="token operator">=</span> <span class="token punctuation">(</span>stepIndex<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">setSavedFormState</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    currentStepIndex<span class="token operator">:</span> stepIndex <span class="token operator">??</span> currentStepIndex<span class="token punctuation">,</span></span>
<span class="line">    formValues<span class="token operator">:</span> methods<span class="token punctuation">.</span><span class="token function">getValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In React, state updates are asynchronous. When a user navigates to a new step, <code>currentStepIndex</code> is updated after the navigation occurs. If we save the form state using the old <code>currentStepIndex</code>, we will store the wrong step index.</p><div class="hint-container tip"><p class="hint-container-title">For example</p><ul><li>Suppose the user is on Step 1 (<code>currentStepIndex = 0</code>)</li><li>They click <code>Next</code> to move to Step 2</li><li>During navigation, <code>currentStepIndex</code> is still <code>0</code> until the state update completes</li><li>If we save at this point, we would incorrectly store the state for Step 1 instead of Step 2</li></ul></div><p>To avoid this, we explicitly pass the next step’s index when saving.</p><h3 id="clearing-form-state" tabindex="-1"><a class="header-anchor" href="#clearing-form-state"><span>Clearing form state</span></a></h3><p>When the form is successfully submitted, or the user wants to start over, we should clear <code>localStorage</code>:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line">  methods<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">setCurrentStepIndex</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">setSavedFormState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>localStorageKey<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Pretty straightforward. We also delete the local storage item entirely.</p><p>Now we can use these functions in the navigation functions, right before the navigation takes place:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">nextStep</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentStepIndex <span class="token operator">&lt;</span> steps<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">saveFormState</span><span class="token punctuation">(</span>currentStepIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">setCurrentStepIndex</span><span class="token punctuation">(</span>currentStepIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">previousStep</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentStepIndex <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">saveFormState</span><span class="token punctuation">(</span>currentStepIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">setCurrentStepIndex</span><span class="token punctuation">(</span>currentStepIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">goToStep</span> <span class="token operator">=</span> <span class="token punctuation">(</span>position<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> position <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;</span> steps<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">saveFormState</span><span class="token punctuation">(</span>position <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">setCurrentStepIndex</span><span class="token punctuation">(</span>position <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This guarantees that whenever the user moves between steps, their progress is saved immediately.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>And there you have it! We’ve built a reusable, type-safe multi-step form component that handles validation, and persistent form data prevents data loss and provides a smooth user experience. The component’s architecture makes it easy to add new steps or modify existing ones without touching the core logic.</p><p>I’ve needed a component like this a few times, so I decided to make a reusable one. Personally, I’d say a multi-step component should exist in a component library like shadcn! 🙂</p><p>The complete source code is available in the <a href="https://github.com/Chinwike1/multi-step-form" target="_blank" rel="noopener noreferrer">repository (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>Chinwike1/multi-step-form</code>)</a>. Contributions are welcome and feel free to adapt it to your needs or use it as inspiration for your own form implementations.</p><!-- TODO: add ARTICLE CARD --><a class="vp-card" href="https://chanhi2000.github.io/bookshelf/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.html" target="_blank" style="background:rgba(112,76,182,0.2);"><img class="vp-card-logo" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Building a reusable multi-step form with React Hook Form and Zod</div><hr><div class="vp-card-desc">Use React Hook Form and Zod to build a multi-step form component in React that handles input validation, tracks form progress, and more.</div></div></a></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/articles/edit/main/src/blog.logrocket.com/building-reusable-multi-step-form-react-hook-form-zod.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/programming/js-react/articles/" aria-label="/programming/js-react/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/programming/js-react/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/blog.logrocket.com/javascript-dictionary.html" aria-label="JavaScript dictionary: How to use objects and maps for key-value pairs"><div class="hint">Next<span class="arrow end"></span></div><div class="link">JavaScript dictionary: How to use objects and maps for key-value pairs<i class="vp-icon fa-brands fa-js" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright © 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><div class="vp-copyright">Copyright © 2025 Chinwike Maduabuchi </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BVguHYKu.js" defer></script>
  </body>
</html>
