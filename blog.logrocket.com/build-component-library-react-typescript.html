<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"How to build a component library with React and TypeScript","image":["https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/project-structure-1.png","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/storybook-ui-new-browser-tab-1.png","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/green-ticks-tests-passed-1.png"],"datePublished":"2024-10-23T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"Yan Sun","url":"https://blog.logrocket.com/author/yansun/"}]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html"><meta property="og:site_name" content="📚Bookshelf"><meta property="og:title" content="How to build a component library with React and TypeScript"><meta property="og:description" content="Article(s) > How to build a component library with React and TypeScript"><meta property="og:type" content="article"><meta property="og:image" content="https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png"><meta name="twitter:image:alt" content="How to build a component library with React and TypeScript"><meta property="article:author" content="Yan Sun"><meta property="article:tag" content="react-js"><meta property="article:tag" content="reactjs"><meta property="article:tag" content="react"><meta property="article:tag" content="node-js"><meta property="article:tag" content="nodejs"><meta property="article:tag" content="node"><meta property="article:tag" content="blog.logrocket.com"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2024-10-23T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>How to build a component library with React and TypeScript | 📚Bookshelf</title><meta name="description" content="Article(s) > How to build a component library with React and TypeScript">
    <link rel="preload" href="/bookshelf/assets/style-DmRYlEXZ.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-DmRYlEXZ.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">📚Bookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnk8s.io/" aria-label="learnk8s.io"><!--[--><img class="vp-icon" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnk8s.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/articles" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">blog.logrocket.com</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2025</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2024</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/5-ways-rapidly-improve-mysql-database-performance.html" aria-label="5 ways to rapidly improve MySQL database performance"><!--[--><i class="vp-icon iconfont icon-mysql" sizing="both"></i><!--]-->5 ways to rapidly improve MySQL database performance<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/http-requests-axios.html" aria-label="How to make HTTP requests with Axios"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->How to make HTTP requests with Axios<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-onclick-event-handlers-guide.html" aria-label="React onClick event handlers: A complete guide"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->React onClick event handlers: A complete guide<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/axios-vs-fetch-best-http-requests.html" aria-label="Axios vs. fetch(): Which is best for making HTTP requests?"><!--[--><i class="vp-icon iconfont icon-axios" sizing="both"></i><!--]-->Axios vs. fetch(): Which is best for making HTTP requests?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/build-micro-frontend-application-react.html" aria-label="/blog.logrocket.com/build-micro-frontend-application-react.html"><!---->/blog.logrocket.com/build-micro-frontend-application-react.html<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html" aria-label="How to build a component library with React and TypeScript"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->How to build a component library with React and TypeScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/building-microservices-node-js.html" aria-label="Building microservices with Node.js"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->Building microservices with Node.js<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/build-rest-api-node-express-mysql.html" aria-label="Build a REST API with Node.js, Express, and MySQL"><!--[--><i class="vp-icon iconfont icon-expressjs" sizing="both"></i><!--]-->Build a REST API with Node.js, Express, and MySQL<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/understanding-redux-tutorial-examples.html" aria-label="Understanding Redux: A tutorial with examples"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Understanding Redux: A tutorial with examples<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/six-things-you-may-not-know-about-javascript.html" aria-label="Six things you may not know about JavaScript"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->Six things you may not know about JavaScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-usereducer-hook-ultimate-guide.html" aria-label="A guide to the React useReducer Hook"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->A guide to the React useReducer Hook<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/guide-usestate-react.html" aria-label="useState in React: A complete guide"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->useState in React: A complete guide<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/how-when-to-force-react-component-re-render.html" aria-label="How and when to force a React component to re-render"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->How and when to force a React component to re-render<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/use-forwardref-react.html" aria-label="How to use forwardRef in React"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->How to use forwardRef in React<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/commonjs-vs-es-modules-node-js.html" aria-label="CommonJS vs. ES modules in Node.js"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->CommonJS vs. ES modules in Node.js<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/understanding-css-revert-layer.html" aria-label="Understanding the CSS revert-layer keyword"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Understanding the CSS revert-layer keyword<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/practical-guide-typescript-decorators.html" aria-label="A practical guide to TypeScript decorators"><!--[--><i class="vp-icon iconfont icon-typescript" sizing="both"></i><!--]-->A practical guide to TypeScript decorators<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/django-rest-framework-create-api.html" aria-label="How to create a REST API with Django REST framework"><!--[--><i class="vp-icon iconfont icon-django" sizing="both"></i><!--]-->How to create a REST API with Django REST framework<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/modern-api-data-fetching-methods-react.html" aria-label="Modern API data-fetching methods in React"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Modern API data-fetching methods in React<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/building-high-performance-ecommerce-sites-astro.html" aria-label="Building high-performance ecommerce sites with Astro"><!--[--><i class="vp-icon iconfont icon-astro" sizing="both"></i><!--]-->Building high-performance ecommerce sites with Astro<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/understanding-axios-get-requests.html" aria-label="Understanding Axios GET requests"><!--[--><i class="vp-icon iconfont icon-axios" sizing="both"></i><!--]-->Understanding Axios GET requests<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/5-ways-make-http-requests-node-js.html" aria-label="5 ways to make HTTP requests in Node.js"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->5 ways to make HTTP requests in Node.js<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/how-to-animate-svg-css-tutorial-examples.html" aria-label="How to animate SVG with CSS: Tutorial with examples"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->How to animate SVG with CSS: Tutorial with examples<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-conditional-rendering-9-methods.html" aria-label="React conditional rendering: 9 methods with examples"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->React conditional rendering: 9 methods with examples<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2023</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2022</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2021</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2020</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2019</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2018</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon fa-brands fa-react" sizing="height"></i>How to build a component library with React and TypeScript</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://blog.logrocket.com/author/yansun/" target="_blank" rel="noopener noreferrer">Yan Sun</a></span><span property="author" content="Yan Sun"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">10/23/24</span><meta property="datePublished" content="2024-10-23T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 15 min</span><meta property="timeRequired" content="PT15M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color1" role>Node.js</span><span class="page-category-item color6" role>React.js</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="Node.js,React.js,Article(s)"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color5" role>blog.logrocket.com</span><span class="page-tag-item color2" role>node</span><span class="page-tag-item color6" role>nodejs</span><span class="page-tag-item color3" role>node-js</span><span class="page-tag-item color5" role>react</span><span class="page-tag-item color6" role>reactjs</span><span class="page-tag-item color6" role>react-js</span><!--]--><meta property="keywords" content="blog,blog.logrocket.com,node,nodejs,node-js,react,reactjs,react-js"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-관련" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-관련"><span>How to build a component library with React and TypeScript 관련</span></a></h1><a class="route-link vp-card" href="/bookshelf/programming/js-react/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="/bookshelf/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">React.js > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#setting-up-the-development-environment" class="router-link-active router-link-exact-active">Setting up the development environment</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#initializing-a-react-project-with-typescript" class="router-link-active router-link-exact-active">Initializing a React project with TypeScript</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#building-the-react-component-library" class="router-link-active router-link-exact-active">Building the React component library</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#directory-structure" class="router-link-active router-link-exact-active">Directory structure</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#component-library-naming-conventions" class="router-link-active router-link-exact-active">Component library naming conventions</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#creating-a-new-component-library-in-react" class="router-link-active router-link-exact-active">Creating a new component library in React</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#create-the-skeleton-structure-of-the-component-library" class="router-link-active router-link-exact-active">Create the skeleton structure of the component library</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#create-a-smartrating-component" class="router-link-active router-link-exact-active">Create a SmartRating component</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#add-index-ts" class="router-link-active router-link-exact-active">Add <i class="vp-icon iconfont icon-typescript" sizing="height"></i>index.ts</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#rollup-for-bundling-and-packaging-the-component-library" class="router-link-active router-link-exact-active">Rollup for bundling and packaging the component library</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#adding-css-support-in-rollup-for-component-styling" class="router-link-active router-link-exact-active">Adding CSS support in Rollup for component styling</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#leveraging-typescript-for-type-safety" class="router-link-active router-link-exact-active">Leveraging TypeScript for type safety</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#integrating-storybook-into-our-library" class="router-link-active router-link-exact-active">Integrating Storybook into our library</a><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#setting-up-storybook" class="router-link-active router-link-exact-active">Setting up Storybook</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#create-a-story-for-the-smartrating-component" class="router-link-active router-link-exact-active">Create a story for the SmartRating component</a></li></ul></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#testing-with-jest-and-react-testing-library" class="router-link-active router-link-exact-active">Testing with Jest and React Testing Library</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#building-and-managing-the-component-library" class="router-link-active router-link-exact-active">Building and managing the component library</a><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#dependency-management" class="router-link-active router-link-exact-active">Dependency management</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#multiple-index-ts-files" class="router-link-active router-link-exact-active">Multiple <i class="vp-icon iconfont icon-typescript" sizing="height"></i>index.ts files</a></li></ul></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#packaging-and-publishing-your-component-library-to-npm" class="router-link-active router-link-exact-active">Packaging and publishing your component library to npm</a><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#update-version" class="router-link-active router-link-exact-active">Update version</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#login-and-publish-to-npm" class="router-link-active router-link-exact-active">Login and publish to npm</a></li></ul></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html#conclusion" class="router-link-active router-link-exact-active">Conclusion</a></li></ul></nav><hr><div class="vp-site-info" data-name="How to build a component library with React and TypeScript"><a class="vp-site-info-navigator no-external-link-icon" title="How to build a component library with React and TypeScript" href="https://blog.logrocket.com/build-component-library-react-typescript" target="_blank"></a><div class="vp-site-info-preview" style="background:url(/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="/assets/image/blog.logrocket.com/favicon.png" alt loading="lazy" no-view><div class="vp-site-info-name">How to build a component library with React and TypeScript</div><div class="vp-site-info-desc">In this article, we’ll learn what a component library is and how to build a custom component library using React and TypeScript.</div></div><!----></div><div class="hint-container note"><p class="hint-container-title">Editor’s note</p><p>This article was last reviewed and updated on 23 October 2024.</p></div><figure><img src="/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/banner.png" alt="How To Build A Component Library With React And TypeScript" tabindex="0" loading="lazy"><figcaption>How To Build A Component Library With React And TypeScript</figcaption></figure><p>React has become a top choice for building web applications. It enables us to easily build reusable UI components. Creating your own React component consists of the following steps:</p><ul><li><strong>Set up your React project</strong>: If you don’t already have one, create a new React project</li><li><strong>Create a component file</strong>: Inside your project, create a <code>Components</code> folder, then add a new <code>.js</code> or <code>.jsx</code> file for your component (e.g., <code>MyComponent.jsx</code>)</li><li><strong>Define your component</strong>: Write a function that returns JSX to define your component’s structure. Use <code>export default</code> to make it accessible to other files in the project</li><li><strong>Import and use your component</strong>: Import your component into another file, such as <code>App.js</code>, and add it to your JSX to display it on the screen</li></ul><p>Incorporating TypeScript alongside React brings type safety to your codebase, enhancing both code quality and developer productivity.</p><p>Creating a component library, a collection of pre-built, reusable UI elements, enables efficient development by providing a shared set of components that can be used across multiple projects. When built with React and TypeScript, a library gains flexibility and scalability, while avoiding common pitfalls thanks to the added type safety.</p><p>In this article, we’ll guide you through building a custom React component library with TypeScript, covering essential steps such as:</p><ul><li>Component creation</li><li>TypeScript integration</li><li>Component visualization with Storybook</li><li>Testing strategies for a robust library</li></ul><p>This approach will help you create a maintainable, reusable library that can evolve alongside your projects.</p><hr><h2 id="setting-up-the-development-environment" tabindex="-1"><a class="header-anchor" href="#setting-up-the-development-environment"><span>Setting up the development environment</span></a></h2><p>Before we start, let’s ensure our development environment is set up for success. Here are the prerequisites:</p><ul><li><strong>Node.js and npm</strong>: Download and install the latest Node LTS version on the local machine from <a href="https://nodejs.org/en" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-node" sizing="height"></i>nodejs.org</a>. After installation, run the following command to check the Node and npm versions:</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">node</span> <span class="token parameter variable">-v</span></span>
<span class="line"><span class="token function">npm</span> <span class="token parameter variable">-v</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Code editor</strong>: Choose a code editor that fits your preference. For this tutorial, we’ll assume you’re using Visual Studio Code</li></ul><hr><h2 id="initializing-a-react-project-with-typescript" tabindex="-1"><a class="header-anchor" href="#initializing-a-react-project-with-typescript"><span>Initializing a React project with TypeScript</span></a></h2><p>We can use <code>create-react-app</code> with the TypeScript template to initiate a new React project. <a class="route-link" href="/bookshelf/blog.logrocket.com/getting-started-with-create-react-app.html"><strong><code>create-react-app</code> is a command-line tool</strong></a>` that sets up a new React application with a predefined project structure and build configurations.</p><p>Open a terminal and run the following command to create a new React app with the TypeScript template:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># create a new React project with the TypeScript template</span></span>
<span class="line">npx create-react-app smart-ui <span class="token parameter variable">--template</span> typescript</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The above command initializes a new React application by creating a new project structure, setting up essential configurations, and installing dependencies for a smooth development experience.</p><hr><h2 id="building-the-react-component-library" tabindex="-1"><a class="header-anchor" href="#building-the-react-component-library"><span>Building the React component library</span></a></h2><p>When designing the architecture of our component library, it is essential to consider these best practices:</p><ul><li><strong>Single responsibility principle (SRP)</strong>: Each component should have a single, well-defined responsibility. Avoid creating monolithic components that handle too many tasks. This principle promotes reusability and makes components easier to understand and maintain</li><li><strong>Separation of concerns</strong>: Separation of concerns is the principle of dividing a program into distinct sections, each addressing a specific functionality aspect. When designing a component library, we should consider separate concerns such as logic, styling, and presentation</li></ul><hr><h2 id="directory-structure" tabindex="-1"><a class="header-anchor" href="#directory-structure"><span>Directory structure</span></a></h2><p>Following the above design practices, we will use a nested folder structure for better organization. As shown below, we group different components into different directories. In each component directory, we use separate files for the component’s logic, styling, and testing concerns:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="file structure"><span>file structure</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">src/</span>
<span class="line">  ├── components/</span>
<span class="line">      ├── Button/</span>
<span class="line">          ├── Button.tsx</span>
<span class="line">          ├── Button.css</span>
<span class="line">          ├── Button.test.ts</span>
<span class="line">          └── ...</span>
<span class="line">      ├── Header/</span>
<span class="line">          ├── Header.tsx</span>
<span class="line">          ├── Header.css</span>
<span class="line">          ├── Header.test.ts</span>
<span class="line">          └── ...</span>
<span class="line">      └── ...</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><hr><h2 id="component-library-naming-conventions" tabindex="-1"><a class="header-anchor" href="#component-library-naming-conventions"><span>Component library naming conventions</span></a></h2><p>We must adopt consistent naming conventions for our component library. The key is to choose clear and descriptive names that reflect the component’s purpose. Below are some guidelines to follow:</p><ul><li><strong>Use PascalCase</strong>: Adopt PascalCase when naming our component class and file names. This convention capitalizes the first letter of each word, and there are no spaces or underscores</li><li><strong>Prefix for uniqueness</strong>: Add a prefix to the component names to ensure uniqueness, especially if the library might be used in projects alongside other libraries</li><li><strong>Prefer full words</strong>: Use full words instead of acronyms to avoid ambiguous meanings</li></ul><hr><h2 id="creating-a-new-component-library-in-react" tabindex="-1"><a class="header-anchor" href="#creating-a-new-component-library-in-react"><span>Creating a new component library in React</span></a></h2><p>Now, let’s create our first component library: <code>smart-ui</code>. We will also add a new <code>SmartRating</code> component in the library.</p><p>In the previous section, we used <code>create-react-app</code> to create a skeleton of a React application. It is a good starter for a regular React app, but many of the artifacts are not necessary for a React component library.</p><p>We can clean the previously generated project assets or create a new component library from scratch. In the article, we will start from scratch.</p><hr><h2 id="create-the-skeleton-structure-of-the-component-library" tabindex="-1"><a class="header-anchor" href="#create-the-skeleton-structure-of-the-component-library"><span>Create the skeleton structure of the component library</span></a></h2><p>Firstly, we create a new folder and a <i class="vp-icon iconfont icon-json" sizing="height"></i><code>package.json</code> file by running the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># create a new folder</span></span>
<span class="line"><span class="token function">mkdir</span> smart-ui</span>
<span class="line"></span>
<span class="line"><span class="token comment"># init a package.json</span></span>
<span class="line"><span class="token builtin class-name">cd</span> smart-ui</span>
<span class="line"><span class="token function">npm</span> init</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Running the <code>npm init</code> command will prompt you to answer several questions. Accept the default for all questions and a basic <i class="vp-icon iconfont icon-json" sizing="height"></i><code>package.json</code> will be generated.</p><p>Next, we run the following command to install the dependencies for React and TypeScript:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> i react typescript @types/react tslib --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>After the command is completed, these dependencies are added to the <i class="vp-icon iconfont icon-json" sizing="height"></i><code>package.json</code> file.</p><p>To configure the TypeScript options, we need to create a <i class="vp-icon iconfont icon-json" sizing="height"></i><code>tsconfig.json</code> file. We can initialize it with the following command from the project’s root directory:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">npx tsc <span class="token parameter variable">-init</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The newly generated <i class="vp-icon iconfont icon-json" sizing="height"></i><code>tsconfig.json</code> file contains a set of default options for TypeScript. We will need to replace the file contents with the following settings:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="tsconfig.json"><span>tsconfig.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;dom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dom.iterable&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;allowJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;allowSyntheticDefaultImports&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;isolatedModules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;noEmit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-jsx&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Some important settings are:</p><ul><li><code>&quot;target&quot;: &quot;es5&quot;</code>: Specifies that the TypeScript compiler will generate code compatible with ECMAScript 5</li><li><code>&quot;lib&quot;: [&quot;dom&quot;, &quot;dom.iterable&quot;, &quot;esnext&quot;]</code>: Includes necessary libraries, such as the Document Object Model (DOM)</li><li><code>&quot;skipLibCheck&quot;: true</code>: Skips type checking of declaration files (.d.ts), potentially speeding up compilation in large projects with numerous external dependencies</li><li><code>&quot;module&quot;: &quot;esnext&quot;</code>: Indicates that the module system for code compiling is ES6 and above</li><li><code>&quot;jsx&quot;: &quot;react-jsx&quot;</code>: Specifies the syntax for JSX (React’s JavaScript XML). <code>&quot;react-jsx&quot;</code> indicates that TypeScript should use React’s JSX syntax</li><li><code>&quot;Include&quot;: [&quot;src&quot;]</code>: Specifies that TypeScript should include files from the <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>src</code> directory</li></ul><p>Now, we can create the project skeleton by adding the following folders:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">mkdir</span> src</span>
<span class="line"><span class="token builtin class-name">cd</span> src</span>
<span class="line"><span class="token function">mkdir</span> components</span>
<span class="line"><span class="token builtin class-name">cd</span> components</span>
<span class="line"><span class="token function">mkdir</span> smartrating</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="create-a-smartrating-component" tabindex="-1"><a class="header-anchor" href="#create-a-smartrating-component"><span>Create a <code>SmartRating</code> component</span></a></h2><p>After the folder structure is created, we can add the files for the new <code>SmartRating</code> component:</p><ul><li><i class="vp-icon fa-brands fa-react" sizing="height"></i><code>SmartRating.tsx</code></li><li><i class="vp-icon fa-brands fa-css3-alt" sizing="height"></i><code>SmartRating.css</code></li><li><i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>SmartRating.types.ts</code></li></ul><p>In <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>SmartRating.types.ts</code>, we declare a TypeScript interface named <code>SmartRatingProps</code> representing the properties accepted by the component:</p><i class="vp-icon fa-brands fa-css3-alt" sizing="height"></i><code>SmartRating.css</code> includes the styling for the component:<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">body</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">font-size</span><span class="token punctuation">:</span> large<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">span</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">margin-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></span>
<span class="line">  <span class="token selector">:hover</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">color</span><span class="token punctuation">:</span> grey<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line"><span class="token selector">.star</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">font-size</span><span class="token punctuation">:</span> large<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.starActive</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.starInactive</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line"><span class="token selector">.rating-secondary</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">padding</span><span class="token punctuation">:</span>6px<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><i class="vp-icon fa-brands fa-react" sizing="height"></i><code>SmartRating.tsx</code> is the <code>SmartRating</code> component file. Here are its contents:<div class="code-block-with-title"><div class="code-block-title-bar" data-title="SmartRating.tsx"><span>SmartRating.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token string">&quot;./SmartRating.css&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> SmartRatingProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./SmartRating.types&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> SmartRating<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>SmartRatingProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> stars <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>rating<span class="token punctuation">,</span> setRating<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">star-rating rating-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>props<span class="token punctuation">.</span>theme<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">      </span><span class="token punctuation">{</span>stars<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>star<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> starCss <span class="token operator">=</span> star <span class="token operator">&lt;=</span> rating <span class="token operator">?</span> <span class="token string">&quot;starActive&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;starInactive&quot;</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span></span>
<span class="line">            <span class="token attr-name">disabled</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>disabled<span class="token punctuation">}</span></span></span>
<span class="line">            <span class="token attr-name">data-testid</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>props<span class="token punctuation">.</span>testIdPrefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span></span>
<span class="line">            <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>star<span class="token punctuation">}</span></span></span>
<span class="line">            <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>starCss<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span></span>
<span class="line">            <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setRating</span><span class="token punctuation">(</span>star<span class="token punctuation">)</span><span class="token punctuation">}</span></span></span>
<span class="line">          <span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>star<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">★</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="line">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="line">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> SmartRating<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>The above code defines a React component called <code>SmartRating</code> that takes properties specified in <code>SmartRatingProps</code>. It renders a star rating UI, allowing users to click on stars to set a rating. The component structure includes a <code>title</code>, a <code>disabled</code> state, and a <code>theme</code> specified by the <code>SmartRatingProps</code>.</p><hr><h2 id="add-index-ts" tabindex="-1"><a class="header-anchor" href="#add-index-ts"><span>Add <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code></span></a></h2><p>Next, we need to create the <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code> files. The <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code> file consolidates exports, providing a centralized entry point for the component library. It also simplifies imports for the consumer.</p><p>We create an <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code> file at each level of folders to make the library export easier. For example, in <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>components/</code><i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code>, we can add a new <code>export</code> to <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code> when a new component is added, without needing to change <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>src/</code><i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="components/smartrating/index.ts"><span>components/smartrating/index.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token comment">// src/components/smartrating/index.ts</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token punctuation">{</span><span class="token keyword">default</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./SmartRating&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="components/index.ts"><span>components/index.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;./smartrating&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="index.ts"><span>index.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;./components&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>The project structure looks like the one below:</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/project-structure-1.png" alt="Project Structure" tabindex="0" loading="lazy"><figcaption>Project Structure</figcaption></figure><hr><h2 id="rollup-for-bundling-and-packaging-the-component-library" tabindex="-1"><a class="header-anchor" href="#rollup-for-bundling-and-packaging-the-component-library"><span>Rollup for bundling and packaging the component library</span></a></h2><p>We’ll <a href="https://rollupjs.org/introduction/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>use Rollup to simplify the process of bundling</a> and packaging our React component library. Rollup is a JavaScript module bundler that packages and optimizes code for production.</p><p>Rollup is particularly good at tree-shaking to remove unused code, making it well-suited for libraries where minimizing the bundle size is critical. It also offers flexibility in generating different output formats (CommonJS, ES module, UMD, etc.), allowing library authors to cater to various project setups and environments.</p><p>To enhance functionality, <a class="route-link" href="/bookshelf/blog.logrocket.com/using-rollup-package-library-typescript-javascript.html"><strong>Rollup uses plugins to handle tasks</strong></a> like transpilation, minification, and resolving external dependencies. We need to install Rollup and its plugins to configure our library using the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> <span class="token function">install</span> rollup <span class="token punctuation">\</span></span>
<span class="line">@rollup/plugin-node-resolve <span class="token punctuation">\</span></span>
<span class="line">@rollup/plugin-commonjs <span class="token punctuation">\</span></span>
<span class="line">@rollup/plugin-typescript <span class="token punctuation">\</span></span>
<span class="line">rollup-plugin-peer-deps-external <span class="token punctuation">\</span></span>
<span class="line">@rollup/plugin-terser <span class="token punctuation">\</span></span>
<span class="line">rollup-plugin-dts --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To customize Rollup’s bundling and processing behavior for our project, create a <i class="vp-icon fa-brands fa-js" sizing="height"></i><code>rollup.config.js</code> file at the root of the library project:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="rollup.config.js"><span>rollup.config.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> resolve <span class="token keyword">from</span> <span class="token string">&quot;@rollup/plugin-node-resolve&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> commonjs <span class="token keyword">from</span> <span class="token string">&quot;@rollup/plugin-commonjs&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> typescript <span class="token keyword">from</span> <span class="token string">&quot;@rollup/plugin-typescript&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> dts <span class="token keyword">from</span> <span class="token string">&quot;rollup-plugin-dts&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> terser <span class="token keyword">from</span> <span class="token string">&quot;@rollup/plugin-terser&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> peerDepsExternal <span class="token keyword">from</span> <span class="token string">&quot;rollup-plugin-peer-deps-external&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> packageJson <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./package.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&quot;src/index.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">file</span><span class="token operator">:</span> packageJson<span class="token punctuation">.</span>main<span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;cjs&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">sourcemap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">file</span><span class="token operator">:</span> packageJson<span class="token punctuation">.</span>module<span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;esm&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">sourcemap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token function">peerDepsExternal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">typescript</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">tsconfig</span><span class="token operator">:</span> <span class="token string">&quot;./tsconfig.json&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">terser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">external</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&quot;src/index.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&quot;dist/types.d.ts&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;es&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>dts<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>The above configuration file defines two bundles for a TypeScript library.</p><p>The first bundle, specified by the first object in the array, targets <a class="route-link" href="/bookshelf/blog.logrocket.com/commonjs-vs-es-modules-node-js.html"><strong>CommonJS (cjs) and ECMAScript Module (ESM) formats</strong></a>, creating separate files specified by the <code>main</code> and <code>module</code> entries in the <i class="vp-icon iconfont icon-json" sizing="height"></i><code>package.json</code>. It includes plugins for handling external dependencies, resolving modules, transpiling TypeScript, and minifying the output with <code>terser</code>.</p><p>The second bundle, specified by the second object in the array, generates a type declaration file (<i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>types.d.ts</code>) using the <code>dts</code> plugin, providing TypeScript type information for the library.</p><p>Another change to set up Rollup is to add the following entries to the <i class="vp-icon iconfont icon-json" sizing="height"></i><code>package.json</code> file:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  …</span>
<span class="line">  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/cjs/index.js&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/esm/index.js&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/index.d.ts&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">  …</span>
<span class="line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;rollup&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup -c --bundleConfigAsCjs&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    ...</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Here is the explanation of the additional settings:</p><ul><li><code>&quot;main&quot;: &quot;dist/cjs/index.js&quot;</code>: Specifies the CommonJS entry point for the library, typically used by Node.js environments</li><li><code>&quot;module&quot;: &quot;dist/esm/index.js&quot;</code>: Indicates the ECMAScript Module entry point for modern JavaScript environments, providing an optimized library version for bundlers that support ES modules</li><li><code>&quot;types&quot;: &quot;dist/index.d.ts&quot;</code>: Points to the TypeScript type declaration file, providing type information for the library</li><li><code>&quot;scripts&quot;: {&quot;rollup&quot;: &quot;rollup -c --bundleConfigAsCjs&quot;, ...}</code>: Defines a script command that runs the Rollup bundler using a configuration file (<code>-c</code>) and an additional flag (<code>--bundleConfigAsCjs</code>) suggesting bundling for CommonJS. This script is used for generating the CommonJS bundle of the library</li></ul><hr><h2 id="adding-css-support-in-rollup-for-component-styling" tabindex="-1"><a class="header-anchor" href="#adding-css-support-in-rollup-for-component-styling"><span>Adding CSS support in Rollup for component styling</span></a></h2><p>In our library, we’ll use a CSS file to separate the styles away from the component file by default.</p><p>Rollup doesn’t know how to process the CSS file. To enable Rollup to handle CSS files, we need to add the plugin named <i class="vp-icon fa-brands fa-npm" sizing="height"></i><code>rollup-plugin-postcss</code>. Run the following command to install it:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> <span class="token function">install</span> rollup-plugin-postcss --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We also need to change the Rollup configuration for CSS support in <i class="vp-icon fa-brands fa-js" sizing="height"></i><code>rollup.config.js</code>:</p><p>Now, we can build the library using the Rollup script command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> run rollup</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>After running the above command, we should see a new <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>dist</code> directory created in the root directory. The new directory contains the generated library artifacts.</p><hr><h2 id="leveraging-typescript-for-type-safety" tabindex="-1"><a class="header-anchor" href="#leveraging-typescript-for-type-safety"><span>Leveraging TypeScript for type safety</span></a></h2><p>When creating the <code>SmartRating</code> component, TypeScript is crucial in ensuring component type safety. For example, we define the rating component props as shown below:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="SmartRating.types.ts"><span>SmartRating.types.ts</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">SmartRatingProps</span> <span class="token punctuation">{</span></span>
<span class="line">  testIdPrefix<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  theme<span class="token operator">:</span> <span class="token string">&quot;primary&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;secondary&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  disabled<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span></span>
<span class="line">  size<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;small&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;medium&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;large&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="SmartRating.tsx"><span>SmartRating.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">const</span> SmartRating<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>SmartRatingProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>We define the TypeScript interface <code>SmartRatingProps</code>. This interface specifies the expected shape of the component’s props, ensuring clarity and enforcing specific types.</p><p>The <i class="vp-icon fa-brands fa-react" sizing="height"></i><code>SmartRating.tsx</code> file uses the defined interface in the <code>React.FC</code> (Functional Component) declaration. TypeScript ensures that the provided <code>props</code> parameter adheres to the defined <code>SmartRatingProps</code> interface, preventing potential runtime errors related to incorrect prop types.</p><p>For example, if we remove an existing <code>props</code> (i.e., <code>theme</code>) and forget to update the component file, the TypeScript compiler will throw the following error at compile time:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">&gt; Property &#39;theme&#39; does not exist on type &#39;SmartRatingProps&#39;.ts(2339)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>TypeScript enforces strict typing for props, ensuring only the specified types are allowed. With the help of union types, we can define specific values for certain props, providing a clear set of options. For example, <code>theme</code> must be either <code>primary</code> or <code>secondary</code>. If we have a typo, the TypeScript compiler will catch it and throw the error immediately.</p><p>The <code>SmartRatingProps</code> interface also serves as documentation, making it clear to developers what props the component expects and their respective types. When we use IDEs with TypeScript support (i.e., VS Code), the IDE tools provide autocompletion and IntelliSense for props, enhancing the developer experience and reducing the chance of typos.</p><hr><h2 id="integrating-storybook-into-our-library" tabindex="-1"><a class="header-anchor" href="#integrating-storybook-into-our-library"><span>Integrating Storybook into our library</span></a></h2><p>Now, the core functionality of our library is ready. It is time to add Storybook to visualize our new component to ensure it works as intended. <a class="route-link" href="/bookshelf/blog.logrocket.com/storybook-js-adoption-guide.html"><strong>Storybook is a development environment</strong></a> for UI components, allowing isolated and interactive development, testing, and documentation.</p><h3 id="setting-up-storybook" tabindex="-1"><a class="header-anchor" href="#setting-up-storybook"><span>Setting up Storybook</span></a></h3><p>Setting up Storybook is straightforward. Run the following command in the project root directory:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">npx sb init</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The above command will prompt us to select a project builder; we can accept the default Vite option.</p><p>After completing the command, it configures Storybook with default settings and creates necessary files and folders (e.g., <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>.storybook</code> directory) for Storybook integration. It also generates a <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>stories</code> directory within the <code>src</code> directory, containing pre-built templates that serve as examples for creating our own stories.</p><p>Additionally, we also observe new dependencies and script commands in <i class="vp-icon iconfont icon-json" sizing="height"></i><code>package.json</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;storybook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;storybook dev -p 6006&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;build-storybook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;storybook build&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="create-a-story-for-the-smartrating-component" tabindex="-1"><a class="header-anchor" href="#create-a-story-for-the-smartrating-component"><span>Create a story for the <code>SmartRating</code> component</span></a></h3><p>Storybook is successfully configured. Now, it’s time to create our first story.</p><p>Create a new file in the <code>smartrating</code> folder named <i class="vp-icon fa-brands fa-react" sizing="height"></i><code>SmartRating.stories.tsx</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="smartRating.stories.tsx"><span>smartRating.stories.tsx</span></div><div class="language-tsx line-numbers-mode" data-highlighter="prismjs" data-ext="tsx"><pre><code class="language-tsx"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> StoryFn<span class="token punctuation">,</span> Meta <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@storybook/react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> SmartRating <span class="token keyword">from</span> <span class="token string">&quot;./SmartRating&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  title<span class="token operator">:</span> <span class="token string">&quot;ReactComponentLibrary/Rating&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  component<span class="token operator">:</span> SmartRating<span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">as</span> Meta<span class="token operator">&lt;</span><span class="token keyword">typeof</span> SmartRating<span class="token operator">&gt;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> Template<span class="token operator">:</span> StoryFn<span class="token operator">&lt;</span><span class="token keyword">typeof</span> SmartRating<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SmartRating</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>args<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> RatingTest <span class="token operator">=</span> <span class="token function">Template</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">RatingTest<span class="token punctuation">.</span>args <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  title<span class="token operator">:</span> <span class="token string">&quot;Default theme&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  theme<span class="token operator">:</span> <span class="token string">&quot;primary&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  testIdPrefix<span class="token operator">:</span> <span class="token string">&quot;rating&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> RatingSecondary <span class="token operator">=</span> <span class="token function">Template</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">RatingSecondary<span class="token punctuation">.</span>args <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  title<span class="token operator">:</span> <span class="token string">&quot;Secondary theme&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  theme<span class="token operator">:</span> <span class="token string">&quot;secondary&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  testIdPrefix<span class="token operator">:</span> <span class="token string">&quot;rating&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>In this story, we define two stories: <code>RatingTest</code> and <code>RatingSecondary</code>. They showcase the component in different scenarios, helping visualize and test its behavior within the Storybook environment.</p><p>To test the stories, run the following command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> run storybook</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Running the command will open a new browser tab with the component rendered in the Storybook UI as below:</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/storybook-ui-new-browser-tab-1.png" alt="Storybook UI New Browser Tab" tabindex="0" loading="lazy"><figcaption>Storybook UI New Browser Tab</figcaption></figure><p>We can switch between our two stories to observe the different looks and behavior of our components. Here, we just touch the surface of Storybook’s features. For a deeper exploration, check out “<a class="route-link" href="/bookshelf/blog.logrocket.com/storybook-js-adoption-guide.html"><strong>Storybook adoption guide: Overview, examples, and alternatives</strong></a>.”</p><hr><h2 id="testing-with-jest-and-react-testing-library" tabindex="-1"><a class="header-anchor" href="#testing-with-jest-and-react-testing-library"><span>Testing with Jest and React Testing Library</span></a></h2><p>Adding tests to our component library ensures that components behave as expected, helping catch regressions and ensuring ongoing functionality as the library evolves.</p><p><a class="route-link" href="/bookshelf/blog.logrocket.com/testing-react-apps-jest-react-testing-library.html"><strong>Jest, combined with the React Testing Library</strong></a>, offers a powerful testing solution for React components. To start, install the following dependencies:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># install Jest and testing-library</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> @testing-library/react <span class="token punctuation">\</span></span>
<span class="line">jest <span class="token punctuation">\</span></span>
<span class="line">@types/jest <span class="token punctuation">\</span></span>
<span class="line">jest-environment-jsdom --save-dev</span>
<span class="line"></span>
<span class="line"><span class="token comment"># install babel and its related plugins</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> @babel/core <span class="token punctuation">\</span></span>
<span class="line">@babel/preset-env <span class="token punctuation">\</span></span>
<span class="line">@babel/preset-react <span class="token punctuation">\</span></span>
<span class="line">@babel/preset-typescript <span class="token punctuation">\</span></span>
<span class="line">babel-jest --save-dev</span>
<span class="line"></span>
<span class="line"><span class="token comment"># install identity-obj-proxy</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> identity-obj-proxy -save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The above commands install the React Testing Library, Jest, Babel, and its Jest dependencies for transpiling and testing React components with TypeScript. We also install <code>identity-obj-proxy</code>, which allows Jest to treat all types of imports (CSS, LESS, and SCSS) as generic objects. Specifically, we can configure it for CSS files to prevent any errors in testing.</p><p>Next, we need to add configuration files for Jest and Babel. Create the <i class="vp-icon fa-brands fa-js" sizing="height"></i><code>jest.config.js</code> and <i class="vp-icon fa-brands fa-js" sizing="height"></i><code>babel.config.js</code> in the root project directory with the following contents:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="jest.config.js"><span>jest.config.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">testEnvironment</span><span class="token operator">:</span> <span class="token string">&quot;jsdom&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">moduleNameMapper</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;.(css|less|scss)$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;identity-obj-proxy&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="babel.config.js"><span>babel.config.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">     <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span></span>
<span class="line">     <span class="token string">&quot;@babel/preset-react&quot;</span><span class="token punctuation">,</span></span>
<span class="line">     <span class="token string">&quot;@babel/preset-typescript&quot;</span><span class="token punctuation">,</span></span>
<span class="line">   <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>In <i class="vp-icon fa-brands fa-js" sizing="height"></i><code>jest.config.js</code>, we set the Jest test environment to <code>jsdom</code> for simulating a browser environment for testing. Then, we set the <code>moduleNameMapper</code> property for CSS, LESS, and SCSS file imports in tests, allowing them to be mocked without actual styling.</p><p>In <i class="vp-icon fa-brands fa-js" sizing="height"></i><code>babel.config.js</code>, we configure Babel presets for transpiling JavaScript, React, and TypeScript code in the project, ensuring compatibility and proper compilation during testing.</p><p>Now, we can create a test file named <i class="vp-icon fa-brands fa-react" sizing="height"></i><code>SmartRating.test.tsx</code> in the <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>smartrating</code> directory:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="smartrating/SmartRating.test.tsx"><span>smartrating/SmartRating.test.tsx</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> render<span class="token punctuation">,</span> screen<span class="token punctuation">,</span> waitFor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@testing-library/react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> userEvent <span class="token keyword">from</span> <span class="token string">&quot;@testing-library/user-event&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> SmartRating <span class="token keyword">from</span> <span class="token string">&quot;./SmartRating&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;SmartRating&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;renders the Rating component&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>SmartRating title<span class="token operator">=</span><span class="token string">&quot;default&quot;</span> theme<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> testIdPrefix<span class="token operator">=</span><span class="token string">&quot;rating&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">&quot;heading&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getAllByRole</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;click the 5 star rating&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> stars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>SmartRating title<span class="token operator">=</span><span class="token string">&quot;default&quot;</span> theme<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> testIdPrefix<span class="token operator">=</span><span class="token string">&quot;rating&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    stars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">star</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> element <span class="token operator">=</span> screen<span class="token punctuation">.</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">&quot;rating-&quot;</span> <span class="token operator">+</span> star<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      userEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">expect</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&quot;starActive&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>This test uses the React Testing Library and <code>user-event</code> to test the <code>SmartRating</code> component. There are two tests:</p><ul><li>The first test renders the component with specific props and asserts that the rendered component has the correct title and contains five buttons representing the stars</li><li>The second test simulates a user clicking each star in the <code>SmartRating</code> component asynchronously, then it verifies that clicking each star activates it by checking the change in the star’s CSS class to <code>starActive</code></li></ul><p>The last step is to add the following script command in <i class="vp-icon iconfont icon-json" sizing="height"></i><code>package.json</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jest&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    …</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>We can run the test with this command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> run <span class="token builtin class-name">test</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We should see the two green ticks for the tests:</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/build-component-library-react-typescript/green-ticks-tests-passed-1.png" alt="Green Ticks To Represent Tests Passed" tabindex="0" loading="lazy"><figcaption>Green Ticks To Represent Tests Passed</figcaption></figure><hr><h2 id="building-and-managing-the-component-library" tabindex="-1"><a class="header-anchor" href="#building-and-managing-the-component-library"><span>Building and managing the component library</span></a></h2><h3 id="dependency-management" tabindex="-1"><a class="header-anchor" href="#dependency-management"><span>Dependency management</span></a></h3><p>Dependencies are declarations of external packages or libraries essential for the project’s functionality, and effective dependency management is vital when constructing a component library.</p><p>Besides the typical dependencies, there are other types of dependencies including:</p><ul><li><strong>Peer dependencies</strong>: These are external dependencies that our library expects its consumers to provide. They are not bundled with the library, and instead, the consumer is expected to install them as direct dependencies</li><li><strong>Dev dependencies</strong>: Dev dependencies are necessary during the development and testing phase but are not required for the runtime functionality of the project or library. For example, those testing libraries are dev dependencies</li></ul><p>We currently have all the dependencies under the <code>devDependencies</code> in <i class="vp-icon iconfont icon-json" sizing="height"></i><code>package.json</code>. To manage the dependencies better, we want to move the following dependencies into <code>peerDependencies</code>:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.2.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;react-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^18.2.0&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Moving <code>react</code> and <code>react-dom</code> to peer dependencies in our library is beneficial because it allows consumers of the library to use their version of React. This flexibility prevents version conflicts, fostering a more seamless integration experience.</p><h3 id="multiple-index-ts-files" tabindex="-1"><a class="header-anchor" href="#multiple-index-ts-files"><span>Multiple <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code> files</span></a></h3><p>In our component library, we use multiple <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code> files in different levels of directories. They serve specific purposes, making our library exporting easier to organize:</p><ul><li><strong>In the root directory</strong>: At the library’s root, an <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code> file can serve as the main entry point, re-exporting components or modules from various directories. This consolidates the library’s public API</li><li><strong>In the components directory</strong>: Use <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code> files within the component directory to export components or modules, providing a clean and organized entry point</li><li><strong>In the individual component directory</strong>: When organizing components into nested directories, each subdirectory can have its <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code> file, aggregating and exporting components within that directory. This modular structure aids in navigation</li></ul><p>By organizing code with multiple <i class="vp-icon iconfont icon-typescript" sizing="height"></i><code>index.ts</code> files, the component library becomes more modular and maintainable, simplifying both development and integration for consumers.</p><hr><h2 id="packaging-and-publishing-your-component-library-to-npm" tabindex="-1"><a class="header-anchor" href="#packaging-and-publishing-your-component-library-to-npm"><span>Packaging and publishing your component library to npm</span></a></h2><p>Finally, we are ready to publish our component library as an npm package. Publishing the library allows it to be shared between the different development teams or the wider development communities.</p><h3 id="update-version" tabindex="-1"><a class="header-anchor" href="#update-version"><span>Update version</span></a></h3><p>Before we start the publishing process, we need to update the library version in <i class="vp-icon iconfont icon-json" sizing="height"></i><code>package.json</code> following the SemVer convention.</p><p>Semantic Versioning (SemVer) is a versioning convention for software that uses three numbers (major, minor, patch) to communicate the nature of changes:</p><ul><li>Major for backward-incompatible</li><li>Minor for backward-compatible additions</li><li>Patch for backward-compatible bug fixes</li></ul><p>Here, we set the package version to be <code>1.0.0</code>. In future publishing, we will update the version according to the SemVer convention:</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="package.json"><span>package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;smart-ui&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  ...</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="login-and-publish-to-npm" tabindex="-1"><a class="header-anchor" href="#login-and-publish-to-npm"><span>Login and publish to npm</span></a></h3><p>We begin the publishing process by logging in to npm:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> login</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The command will prompt us to enter the username, password, and email. After logging in to npm, we can run the following command to publish our library:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> publish <span class="token parameter variable">--access</span> public</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This command publishes the package to the npm registry with public access, making it available for installation by anyone.</p><p>We can use the following command to verify that our library has been published successfully:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> view smart-ui</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Congratulations! Our new React component library is published and available for download.</p><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>Building, packaging, and publishing a React component library with TypeScript offers valuable benefits: enhanced reusability, improved type safety, and a foundation for consistent UI development across projects. However, challenges like managing versioning, handling dependencies, and conducting thorough testing require careful planning.</p><p>Consider creating your own custom React component library to streamline the development for teams and ensure UI scaling across projects. Please feel free to share your thoughts or leave a comment below. You can find the <a href="https://github.com/sunnyy02/smart-ui" target="_blank" rel="noopener noreferrer">example source code on GitHub (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>sunnyy02/smart-ui</code>)</a>.</p><!-- TODO: add ARTICLE CARD --><a class="vp-card" href="https://chanhi2000.github.io/bookshelf/blog.logrocket.com/build-component-library-react-typescript.html" target="_blank" style="background:rgba(112,76,182,0.2);"><img class="vp-card-logo" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">How to build a component library with React and TypeScript</div><hr><div class="vp-card-desc">In this article, we’ll learn what a component library is and how to build a custom component library using React and TypeScript.</div></div></a></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/articles/edit/main/src/blog.logrocket.com/build-component-library-react-typescript.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/programming/js-react/articles/" aria-label="/programming/js-react/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/programming/js-react/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/blog.logrocket.com/building-microservices-node-js.html" aria-label="Building microservices with Node.js"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Building microservices with Node.js<i class="vp-icon fa-brands fa-node" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright © 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><div class="vp-copyright">Copyright © 2025 Yan Sun </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BVguHYKu.js" defer></script>
  </body>
</html>
