<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Understanding why your CSS fails","image":["https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/banner.png","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/collapsed-vs-non-collapsed-margins.webp","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/margin-behavior-1.png","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/margin-behavior-2.webp","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/different-float-behaviors.webp","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/overblown-layout-example.webp","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/grid-implementation-demo.webp","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/add-gap-property.gif","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/box-model.png","https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/content-box-demo.png"],"datePublished":"2021-12-01T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"Facundo Corradini","url":"https://blog.logrocket.com/author/facundocorradini/"}]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/blog.logrocket.com/why-your-css-fails.html"><meta property="og:site_name" content="📚Bookshelf"><meta property="og:title" content="Understanding why your CSS fails"><meta property="og:description" content="Article(s) > Understanding why your CSS fails"><meta property="og:type" content="article"><meta property="og:image" content="https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/banner.png"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://chanhi2000.github.io/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/banner.png"><meta name="twitter:image:alt" content="Understanding why your CSS fails"><meta property="article:author" content="Facundo Corradini"><meta property="article:tag" content="css"><meta property="article:tag" content="blog.logrocket.com"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2021-12-01T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>Understanding why your CSS fails | 📚Bookshelf</title><meta name="description" content="Article(s) > Understanding why your CSS fails">
    <link rel="preload" href="/bookshelf/assets/style-DmRYlEXZ.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-DmRYlEXZ.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">📚Bookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnk8s.io/" aria-label="learnk8s.io"><!--[--><img class="vp-icon" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnk8s.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/articles" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">blog.logrocket.com</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2025</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2024</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2023</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2022</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2021</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/whats-new-django-v4.html" aria-label="What&#39;s new in Django v4.0"><!--[--><i class="vp-icon iconfont icon-django" sizing="both"></i><!--]-->What&#39;s new in Django v4.0<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/making-django-migrations-python.html" aria-label="Making Django migrations in Python"><!--[--><i class="vp-icon iconfont icon-django" sizing="both"></i><!--]-->Making Django migrations in Python<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html" aria-label="Understanding why your CSS fails"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Understanding why your CSS fails<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/fundamentals-functional-programming-react.html" aria-label="Fundamentals of functional programming with React"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Fundamentals of functional programming with React<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/using-axios-all-make-concurrent-requests.html" aria-label="Using axios.all to make concurrent requests"><!--[--><i class="vp-icon iconfont icon-axios" sizing="both"></i><!--]-->Using axios.all to make concurrent requests<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/animations-react-hooks-greensock.html" aria-label="Animations using React Hooks and GreenSock"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Animations using React Hooks and GreenSock<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/controlled-vs-uncontrolled-components-in-react.html" aria-label="Controlled vs. uncontrolled components in React"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Controlled vs. uncontrolled components in React<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/detect-click-outside-react-component-how-to.html" aria-label="How to detect a click outside a React component"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->How to detect a click outside a React component<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/css-margin-vs-padding.html" aria-label="CSS margin vs. padding"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS margin vs. padding<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/using-setstate-react-components.html" aria-label="Using setState in React components"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Using setState in React components<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/level-up-your-css-selector-skills.html" aria-label="A complete guide for leveling up your CSS selector skills"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A complete guide for leveling up your CSS selector skills<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/guide-to-css-animation-for-javascript-developers.html" aria-label="Guide to CSS animation for JavaScript developers"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Guide to CSS animation for JavaScript developers<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/create-react-app-a-quick-setup-guide.html" aria-label="Create React App: A quick setup guide"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Create React App: A quick setup guide<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/a-deep-dive-into-css-modules.html" aria-label="A deep dive into CSS Module"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A deep dive into CSS Module<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/usestate-vs-useref.html" aria-label="useState vs. useRef: Similarities, differences, and use cases"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->useState vs. useRef: Similarities, differences, and use cases<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-hooks-state-management.html" aria-label="Using React Hooks for state management"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Using React Hooks for state management<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/using-state-machines-with-xstate-and-react.html" aria-label="Using state machines with XState and React"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Using state machines with XState and React<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/understanding-common-frustrations-react-hooks.html" aria-label="Understanding common frustrations with React Hooks"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Understanding common frustrations with React Hooks<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/javascript-generators-the-superior-async-await.html" aria-label="JavaScript generators: The superior async/await"><!--[--><i class="vp-icon iconfont icon-typescript" sizing="both"></i><!--]-->JavaScript generators: The superior async/await<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/es-modules-in-node-today.html" aria-label="Using ES modules in Node.js"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->Using ES modules in Node.js<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/react-memo-vs-usememo.html" aria-label="React.memo vs. useMemo: Major differences and use cases"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->React.memo vs. useMemo: Major differences and use cases<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/managing-react-state-zustand.html" aria-label="Managing React state with Zustand"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Managing React state with Zustand<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/immer-and-immutable-js-how-do-they-compare.html" aria-label="Immer and Immutable.js: How do they compare?"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->Immer and Immutable.js: How do they compare?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/blog.logrocket.com/avoiding-common-mistakes-in-react-hooks.html" aria-label="Avoiding common mistakes in React Hooks"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Avoiding common mistakes in React Hooks<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2020</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2019</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2018</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/banner.png" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon fa-brands fa-css3-alt" sizing="height"></i>Understanding why your CSS fails</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://blog.logrocket.com/author/facundocorradini/" target="_blank" rel="noopener noreferrer">Facundo Corradini</a></span><span property="author" content="Facundo Corradini"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">12/1/21</span><meta property="datePublished" content="2021-12-01T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 13 min</span><meta property="timeRequired" content="PT13M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color7" role>CSS</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="CSS,Article(s)"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color5" role>blog.logrocket.com</span><span class="page-tag-item color2" role>css</span><!--]--><meta property="keywords" content="blog,blog.logrocket.com,css"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-관련" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-관련"><span>Understanding why your CSS fails 관련</span></a></h1><a class="route-link vp-card" href="/bookshelf/programming/css/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="/bookshelf/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">CSS > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#block-formatting-context" class="router-link-active router-link-exact-active">Block formatting context</a><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#margin-collapsing-behavior" class="router-link-active router-link-exact-active">Margin-collapsing behavior</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#float-behavior" class="router-link-active router-link-exact-active">Float behavior</a></li></ul></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#so-what-are-block-formatting-contexts" class="router-link-active router-link-exact-active">So, what are block formatting contexts?</a><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#creating-a-block-formatting-context" class="router-link-active router-link-exact-active">Creating a block formatting context</a></li></ul></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#grid-and-flexbox-behaviors" class="router-link-active router-link-exact-active">Grid and Flexbox behaviors</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#understanding-the-cascade" class="router-link-active router-link-exact-active">Understanding the cascade</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#working-with-css-specificity" class="router-link-active router-link-exact-active">Working with CSS specificity</a><ul><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#writing-specificity-rules" class="router-link-active router-link-exact-active">Writing specificity rules</a></li></ul></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#the-box-model" class="router-link-active router-link-exact-active">The box model</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#stacking-context" class="router-link-active router-link-exact-active">Stacking context</a></li><li><a aria-current="page" href="/bookshelf/blog.logrocket.com/why-your-css-fails.html#conclusion" class="router-link-active router-link-exact-active">Conclusion</a></li></ul></nav><hr><div class="vp-site-info" data-name="Understanding why your CSS fails"><a class="vp-site-info-navigator no-external-link-icon" title="Understanding why your CSS fails" href="https://blog.logrocket.com/why-your-css-fails" target="_blank"></a><div class="vp-site-info-preview" style="background:url(/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/banner.png) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="/assets/image/blog.logrocket.com/favicon.png" alt loading="lazy" no-view><div class="vp-site-info-name">Understanding why your CSS fails</div><div class="vp-site-info-desc">It can be tricky to find out why your CSS isn&#39;t working as expected. Learn ways of finding and preventing weird behavior in this tutorial.</div></div><!----></div><div class="hint-container note"><p class="hint-container-title">Editor’s note</p><p>This post was updated on 1 December 2021 to acknowledge the wider browser support of CSS Grid and Flexbox items, improve the explanations of block formatting contexts and declarative CSS, and bring the post more generally in line with modern CSS usage.</p></div><figure><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/banner.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>CSS looks deceptively simple. We just declare how something should look in a couple of rules, and the browser works its magic. This results in many courses and learning resources teaching CSS in a practical, easy to follow, quick-results approach that is based pretty much in memorizing rules like a robot.</p><p>Even some of the most popular resources fall short when it comes to teaching CSS theory: the extremely awesome <a href="https://learn.freecodecamp.org/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-free-code-camp" sizing="height"></i>freeCodeCamp just brushes through it</a>, always-trusty <a href="https://w3schools.com/css/default.asp" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>W3Schools pretty much just lists the properties and values</a>, and even premium courses out there mostly focus on building something fast without even mentioning some of the core concepts.</p><p>Well, that’s exactly where the problem lies. We’re learning CSS the wrong way.</p><p>For starters, we humans are not that good at memorizing a ginormous (and ever-growing) set of rules, but focusing on the rules alone means skipping through CSS theory concepts, which comes back to bite us every time. You know how the joke goes:</p><blockquote><p>Two CSS properties walk into a bar.<br> A barstool in a completely different bar falls over.</p></blockquote><p>And there’s some merit to that! The declarative nature of CSS makes it act in unexpected ways, especially for developers who are used to working with imperative languages like JavaScript and well-defined scopes.</p><p>Block formatting context is the least well-known, so let’s start there.</p><hr><h2 id="block-formatting-context" tabindex="-1"><a class="header-anchor" href="#block-formatting-context"><span>Block formatting context</span></a></h2><p>The classic method of CSS layout is flow layout, a.k.a. &quot;normal flow&quot;. In CSS, we think of page elements as boxes. When we have any block-level boxes in the normal flow, we describe them as part of the block formatting context.</p><p>In this context, block elements are arranged vertically, one below the other, and using the CSS margin properties, we can add spacing to these elements. This may seem extremely simple, until we encounter collapsing margins and floating issues.</p><p>Understanding how margins behave is an important CSS skill, and so we will explain that next.</p><h3 id="margin-collapsing-behavior" tabindex="-1"><a class="header-anchor" href="#margin-collapsing-behavior"><span>Margin-collapsing behavior</span></a></h3><p>When two block-level elements are stacked, their vertical margins collapse together. This behavior makes sense, for instance, in paragraphs where we would like to have a <code>16px</code> margin at the top and bottom, but definitely not a <code>32px</code> margin between them.</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/collapsed-vs-non-collapsed-margins.webp" alt="Collapsed vs. non-collapsed margins" tabindex="0" loading="lazy"><figcaption>Collapsed vs. non-collapsed margins</figcaption></figure><p>Collapsing margins between siblings seems like a reasonable decision — and one that saves us quite a bit of work for the given use case — but in other instances, especially when dealing with negative margins, it can cause all kinds of weird behavior.</p><p>Margins also collapse between parents and children which, more often than not, is not something we would like to see.</p><p>Let’s demonstrate this weird behavior. Given a <code>div</code> container with heading and paragraphs elements:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Collapsing margin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token comment">&lt;!-- ... --&gt;</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token comment">&lt;!-- ... --&gt;</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We’ve removed the paragraph contents for brevity. If we apply <code>margin: 64px 0;</code> to the <code>div</code> container and <code>margin: 16px 0;</code> to the elements within the container, like so —</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line">  <span class="token property">margin</span><span class="token punctuation">:</span> 64px 0<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">p, h1</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">margin</span><span class="token punctuation">:</span> 16px 0<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>we will see this result:</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/margin-behavior-1.png" alt="Our first margin behavior example" tabindex="0" loading="lazy"><figcaption>Our first margin behavior example</figcaption></figure><p>We’ve highlighted the margin area in the layout above.</p><p>In the image at the top of this section, we saw how margins collapse between siblings. This second image also demonstrates that, as seen in the gap between the paragraphs, <code>&lt;p&gt;</code>, but again, notice how the margin of the parent <code>div</code> (measuring <code>64px</code>) collapses with the top and bottom element’s margins (<code>16px</code> each for <code>h1</code> and <code>p</code>, respectively).</p><p>The effect is more visible if the parent element does not have margins. By removing the margins from the parent <code>div</code>, we will have:</p><div class="codepen-wrapper codepen-vYeKxON"><!----><span>See <a>noBFC</a> by <a href="https://codepen.io/ibaslogic">ibaslogic</a> on <a href="https://codepen.io">CodePen</a>.</span></div><figure><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/margin-behavior-2.webp" alt="Our second example of margin behavior" tabindex="0" loading="lazy"><figcaption>Our second example of margin behavior</figcaption></figure><p>Looking at the CodePen view, we immediately notice a gap in the top of the view. This is weird and may not be the intended result. The gap is coming from the children margins and spills out of the parent.</p><p>To prevent that, we can make the parent element a block formatting context. We will see how to achieve this in a moment.</p><h3 id="float-behavior" tabindex="-1"><a class="header-anchor" href="#float-behavior"><span>Float behavior</span></a></h3><p>As for floats, we have all been there; when the content is smaller than the float, it will overflow the element we intended to use as a container (or in other words, the container background and border now fall short of the floated element).</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/different-float-behaviors.webp" alt="Three different float behaviors" tabindex="0" loading="lazy"><figcaption>Three different float behaviors</figcaption></figure><p>Most of the time we can sort this out with the clearfix hack. This involves applying a pseudo element containing a <code>clear</code> property to the container element. But instead of using a hack, we will use the block formatting context to solve the floating issue as well.</p><hr><h2 id="so-what-are-block-formatting-contexts" tabindex="-1"><a class="header-anchor" href="#so-what-are-block-formatting-contexts"><span>So, what are block formatting contexts?</span></a></h2><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-firefox" sizing="height"></i>block formatting context (BFC)</a> defines the scope in which margins will collapse and floats will be contained. We can think of it as a mini-layout within the overall layout.</p><p>When we create a BFC, we’re telling the browser to treat the elements it contains as an autonomous piece of layout for floats and margins concerns. In essence, it allows elements to contain internal floats, exclude external floats and prevent margin collapsing.</p><h3 id="creating-a-block-formatting-context" tabindex="-1"><a class="header-anchor" href="#creating-a-block-formatting-context"><span>Creating a block formatting context</span></a></h3><p>There are many <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-firefox" sizing="height"></i>ways to create block formatting contexts</a>. It involves applying some specific CSS properties or using the root element of the document. Here, we use one of the methods to solve the issues we’ve noted earlier — the floating image and collapsing margins.</p><p>Let’s start with the collapsing margin between parents and children. To prevent this, we can apply a <code>display: flow-root;</code> on the container element. This will create a new block formatting context and prevent the margin from spilling out.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> flow-root<span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As we can see in the CodePen below, a redundant gap is not being created at the top like we saw before applying the formatting context.</p><div class="codepen-wrapper codepen-MWEeppP"><!----><span>See <a>withBFC</a> by <a href="https://codepen.io/ibaslogic">ibaslogic</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>Using the above method, we can also apply <code>display: flow-root;</code> to the parent element containing the floating object to solve the overflowing issue. Now, instead of this layout:</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/overblown-layout-example.webp" alt="Our overblown float layout example" tabindex="0" loading="lazy"><figcaption>Our overblown float layout example</figcaption></figure><p>We will have this (see the CodePen view):</p><div class="codepen-wrapper codepen-XWeKPwr"><!----><span>See <a>overflow-element</a> by <a href="https://codepen.io/ibaslogic">ibaslogic</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>As we can see, knowing how a block formatting context works gives us much better control of our floats and margins, allowing us to make better layouts, and prevents us from accidentally breaking them.</p><hr><h2 id="grid-and-flexbox-behaviors" tabindex="-1"><a class="header-anchor" href="#grid-and-flexbox-behaviors"><span>Grid and Flexbox behaviors</span></a></h2><p>Unlike the block element, margins behave differently for flex and grid items. When we declare a flex or grid container, the direct children become flex or grid items, respectively. As &quot;flex children&quot; or &quot;grid children&quot;, these items naturally create a block formatting context, and hence, they no longer collapse. This may cause unexpected behavior.</p><p>Additionally, once elements become flex items, using <code>display: block;</code> and <code>display: inline;</code> on the items has no impact. Understanding the flex and grid behavior makes it very easy to work with them.</p><p>Let’s see an example of a container element containing three items:</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- ... --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- ... --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- ... --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We’ve removed the <code>div</code> content for brevity.</p><p>Like every block element, the margins among the siblings will collapse and the children margins will spill out of the parent. But the moment we make the container a grid or flex container, the items’ margins no longer collapse, and the children margin is contained within the container.</p><p>See the implementation for Grid below:</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/grid-implementation-demo.webp" alt="Adding a grid changes the margin behavior" tabindex="0" loading="lazy"><figcaption>Adding a grid changes the margin behavior</figcaption></figure><p>The same effect also happens for a flex container.</p><p>This is not something we would like to experience in our layout. We want to maintain collapsing margins amongst the siblings while preventing the children margin from spilling outside of the parent.</p><p>A recommendation is to avoid spacing items with margins because they tend to add up but not collapse, which causes the extra spacing. In our code, we have defined <code>margin: 1rem 0;</code> to space the items in the top and bottom.</p><p>Once we remove the margins, the items will stick together. We can then apply the <code>gap</code> property to the container to add the intended spacing.</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/add-gap-property.gif" alt="Adding a gap property" tabindex="0" loading="lazy"><figcaption>Adding a gap property</figcaption></figure><p>For Flexbox, we can also use the <code>gap</code> property to space items as it is <a href="https://caniuse.com/flexbox-gap" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>now supported in all modern browsers</a>.</p><hr><h2 id="understanding-the-cascade" tabindex="-1"><a class="header-anchor" href="#understanding-the-cascade"><span>Understanding the cascade</span></a></h2><p>Browsers use an algorithm known as the Cascade (the C in CSS) to decide which rules apply to each element when they encounter conflicting declarations (i.e., when more than one rule assigns different values to an element’s property).</p><p>The first factor in the algorithm is source order. Max Stoiber broke the Twitter web development community with this simple CSS question a while back:</p><p>The right choice is &quot;both blue,&quot; but don’t feel bad if you missed it — you certainly are not alone. The real trick in his question is that browsers don’t look at the order on which the classes are declared in the HTML, but in the CSS.</p><p>In this case, the style that comes after takes precedence — i.e., the style that is nearest to the bottom is the one that is executed.</p><hr><h2 id="working-with-css-specificity" tabindex="-1"><a class="header-anchor" href="#working-with-css-specificity"><span>Working with CSS specificity</span></a></h2><p>As previously mentioned, the order in the CSS source is only one of many factors in the cascade algorithm. A really big part of determining which rules should apply to an element is known as specificity. Different types of CSS selectors carry different weights.</p><p>Here’s a list of them, in order of priority:</p><ol><li>id selectors (<code>#something</code>)</li><li>class selectors (<code>.something</code>) &amp; pseudo-classes (<code>:hover</code>)</li><li>elements (<code>p</code>)&amp; pseudo-elements (<code>:``:``before</code>)</li></ol><p>Combinators (<code>+</code>, <code>&gt;</code>, and <code>~</code>), universal selectors (<code>*</code>) and the <code>:not</code> pseudo-class have no effect on specificity.</p><p>A rule defined via an ID will always take precedence over one defined via a class, and a class over an element selector.</p><h3 id="writing-specificity-rules" tabindex="-1"><a class="header-anchor" href="#writing-specificity-rules"><span>Writing specificity rules</span></a></h3><p>When we use combined selectors, such as <code>body #login button .red{}</code>, the browser will count the number of IDs, classes/pseudo classes, and elements/pseudo elements, and assign a specificity value to each rule in order to compare it to the others and decide which one to use.</p><p>This is normally represented in three counters: IDs, classes, and elements. For instance, the rule <code>body #login button .red{}</code> has a specificity of:</p><ul><li>1 ID (<code>#login</code>)</li><li>1 class (<code>.red</code>)</li><li>2 elements (<code>body</code> and <code>button</code>)</li></ul><p>This rule’s specificity can be represented as <code>1, 1, 2</code>.</p><p>Let’s consider another example. If given two conflicting rules, the one with higher specificity will be applied.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.btn .big</span> <span class="token punctuation">{</span> <span class="token property">height</span><span class="token punctuation">:</span> 40px <span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">.btn</span> <span class="token punctuation">{</span> <span class="token property">height</span><span class="token punctuation">:</span> 20px <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>In the above code, the former rule is going to be applied, as it has a specificity of <code>0, 2, 0</code>, while the latter has a specificity of <code>0, 1, 0</code>.</p><p>It’s important to remember that the more specific type of selector always takes precedence. A rule that has <code>1, 0, 0</code> specificity — that is, a single ID, such as <code>#red{color: red}</code> will be considered more important than another with <code>0, 20, 10</code>. Not that you would really want to write such a ridiculous selector, anyway.</p><p>In order to overwrite a rule defined with <code>1</code> ID, you’ll need to have another with at least <code>1</code> ID and <code>1</code> element or class — or, you’ll at least need to match the specificity and let the order in the source take control. This is why it’s generally considered a good practice to avoid using IDs for styling, as they can be extremely hard to overwrite.</p><p>Going back to the cascading algorithm, we can imagine this as each HTML element having a related styling table where it writes each property, its current value, and the specificity of the rule that set it.</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> This is a title <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.red</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token selector">h1#main-title</span> <span class="token punctuation">{</span> <span class="token property">border-bottom</span><span class="token punctuation">:</span> 2px solid black<span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>This will give the H1 the following styles:</p><table><thead><tr><th style="text-align:right;">Property</th><th style="text-align:left;">Value</th><th>Specificity</th></tr></thead><tbody><tr><td style="text-align:right;"><code>color</code></td><td style="text-align:left;"><code>red</code></td><td>0, 1, 0</td></tr><tr><td style="text-align:right;"><code>border-bottom</code></td><td style="text-align:left;"><code>2px solid black</code></td><td>1, 0, 1</td></tr></tbody></table><p>If our stylesheets had additional, conflicting declarations, the cascade will check the specificity that set the current value for a given property, compare it to the specificity of the new rule, and change the value only if the specificity of the new rule is higher or equal to the previous one.</p><p>Specificity is not a bug but a feature — and it can be really handy when used properly. It also can be extremely frustrating when it’s not. There are plenty of architectures that help to deal with the cascade in order to write scalable, maintainable CSS. So if there’s one CSS concept you should <em>really</em> master, this is it.</p><p>Some methodologies such as the <a class="route-link" href="/bookshelf/blog.logrocket.com/a-deep-dive-into-css-modules.html"><strong>block element modifier (BEM)</strong></a> encourage using flat selectors (i.e., avoiding complex selectors and just using a class for each one) to prevent specificity wars altogether. Others, such as the original OOCSS, let you write higher specificity code in a mindful way. On the other hand, functional CSS tends to avoid conflicting declarations.</p><p>It doesn’t really matter which architecture your team chooses, the important part is having an architecture that everyone follows to avoid issues.</p><p>There are <a class="route-link" href="/bookshelf/blog.logrocket.com/how-css-works-understanding-the-cascade.html"><strong>other factors in the cascade algorithm</strong></a>, such as higher priority to inlined CSS and declarations using the <code>!important</code> keyword.</p><hr><h2 id="the-box-model" tabindex="-1"><a class="header-anchor" href="#the-box-model"><span>The box model</span></a></h2><p>Each element in the HTML creates a rectangular &quot;box&quot; to represent it. Each of these boxes in turn has a set of rules applied to it that determine the width and height it should occupy in the browser, as well as how much of it is content vs. spacing.</p><p>The only exceptions are lists and tables that create two boxes each, and elements with <code>display: none</code> or <code>display: contents</code>, each of which creates no box at all.</p><p>The box has the following measures applied to it:</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/box-model.png" alt="The box model" tabindex="0" loading="lazy"><figcaption>The box model</figcaption></figure><p>In modern CSS, we have two main ways to define the box, which we can switch using the value of the property <code>box-sizing</code>. They are:</p><ul><li><code>content-box</code></li><li><code>border-box</code></li></ul><p>The more traditional — and therefore, the default — one is called <code>content-box</code>. In <code>content-box</code>, the declared width and height is interpreted as the dimensions of the content, and padding and borders can add to the element actual rendered size, which can be extremely frustrating.</p><p>For instance, if we set a width of 50 percent on two left-floated elements, they’ll line up perfectly side-by-side. But the moment we add some padding or a border to them, each one will occupy more than 50 percent of the parent, and therefore, the second one will wrap below the first.</p><figure><img src="/bookshelf/assets/image/blog.logrocket.com/why-your-css-fails/content-box-demo.png" alt="A content box demo" tabindex="0" loading="lazy"><figcaption>A content box demo</figcaption></figure><p>This usually required using weird calcs and preprocessor variables to compensate, and in the old times, actually having to calculate and adjust the widths every time we changed the borders or padding.</p><p>Believe it or not, the solution to this issue was inspired by a weird bug in Internet Explorer 6. When IE6 was set to <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Quirks_Mode_and_Standards_Mode" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-firefox" sizing="height"></i>quirks mode</a>, the <code>width</code> property would set the total rendered width of the element, while paddings and borders would be taken out of the content area, keeping a stable and predictable total width. This is pretty much what we now know as <code>border-box</code>.</p><p>Nowadays, most developers choose to reset everything to <code>border-box</code>, so it’s extremely likely that you’ll find some version of this snippet in your codebase:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">*, *:before, *:after</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There are some variations on the above, with <a class="route-link" href="/bookshelf/css-tricks.com/inheriting-box-sizing-probably-slightly-better-best-practice.html"><strong>some people arguing for inheriting box-sizing</strong></a>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">html</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">*, *:before, *:after</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">box-sizing</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>It’s funny how the most used sizing in CSS can be thought of as &quot;remember that weird bug in IE6?… really wish we could do that&quot;.</p><p>For further research, here is <a class="route-link" href="/bookshelf/blog.logrocket.com/css-margin-vs-padding.html"><strong>a great guide on the box model and box-sizing</strong></a>.</p><hr><h2 id="stacking-context" tabindex="-1"><a class="header-anchor" href="#stacking-context"><span>Stacking context</span></a></h2><p>CSS is primarily a 2-D styling system, but it can also be very powerful in dealing with 3-D and sorting things in the z-axis. As a rule of thumb, when two or more elements overlap, they will be stacked by their order in the source: elements that appeared last in the HTML will be above other, overlapped elements in the viewport (a.k.a, it’s &quot;closer&quot; to the user).</p><p>Positioning the elements (setting <code>position</code> to any value other than the default <code>static</code>) and using the <code>z-index</code> property allows us to control how layers of our design stack against each other. But if you have more than five minutes of experience with it, I’m sure you have run into its issues.</p><p>Many times we set the stack in perfect order, then something breaks it <em>inexplicably</em>. Turns out, you can create a stacking context, which is a local stack of several properties or elements amongst which <code>z-index</code> applies. We can move elements inside each local stack, as well as move the stacks around in the encompassing stacks, but we can’t interpolate elements from a stack with elements from another.</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-firefox" sizing="height"></i>Some of the properties</a> that create a stacking context are:</p><ul><li>Positioned elements with <code>z-index</code> other than <code>auto</code></li><li>Elements with an <code>opacity</code> below <code>1</code></li><li>Elements with <code>mix-blend-mode</code> other than <code>normal</code></li><li>Elements with <code>clip-path</code>, <code>mask</code>, <code>filter</code>, or <code>transform</code> other than <code>none</code></li></ul><p>Here’s a classic challenge that helps to grasp the concept: given the following code, try to move the red box behind the green without changing its z-index, position, or the HTML source.</p><div class="hint-container tip"><p class="hint-container-title">Hint</p><p>the trick is in the containing divs.</p></div><div class="codepen-wrapper codepen-AeNzWJ"><!----><span>See <a>Stacking Order (problem)</a> by <a href="https://codepen.io/philipwalton">philipwalton</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>The solution is creating a new stacking context in the <code>div</code> containing the red span, so the <code>z-index</code> of the red span won’t affect the main stack, letting the source order take over.</p><div class="codepen-wrapper codepen-nyNaOM"><!----><span>See <a>Stacking Order (solution)</a> by <a href="https://codepen.io/philipwalton">philipwalton</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>Notice that even if we gave the red span a <code>z-index</code> of 1 million, it will not move in front of the green and blue ones because it is isolated in a local stack. If we want to move it, we need to change the position and <code>z-index</code> of the containing <code>div</code>.</p><p>Again, Benjamin Johnson <a href="https://blog.logrocket.com/how-css-works-creating-layers-with-z-index-6a20afe1550e" target="_blank" rel="noopener noreferrer">covered Stacking Contexts in depth for this publication</a>, so that’s a great source for further understanding of how this works. I also recommend <a href="https://philipwalton.com/articles/what-no-one-told-you-about-z-index/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>Phillip Walton’s article on z-index</a>, that’s the source for the above challenge and a great dive into how stacking contexts works.</p><!-- TODO: /blog.logrocket.com/how-css-works-creating-layers-with-z-index.md --><hr><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>CSS is an extremely powerful styling tool. Whether you choose to go with a pre-processor and &quot;vanilla&quot; CSS or opt for a CSS-in-JS solution, these core concepts are something you should really master to avoid recurring issues.</p><p>With many people coming from boot camps that put the emphasis on JS (as is the industry itself), and with the proliferation of pre-packaged solutions such as Bootstrap, the quality of HTML and CSS has taken a toll.</p><p>It’s been ten years since <a href="https://css-tricks.com/css-is-like/" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-css-tricks" sizing="height"></i>Chris Coyier said it</a>, but this quote is still relevant:</p><blockquote><p>CSS is like chess. You can learn the basics in a day and spend a lifetime mastering it.</p></blockquote><p>Some people are convinced the newcomers disrespect HTML and CSS and consider it &quot;below&quot; them, precisely for how easy it is to learn the basics. While I believe some of those people exist, I tend to disagree. I’m convinced most people actually are trying to master it, only they are lost between no longer relevant info and way too many bad resources, and that’s where this frustration comes from.</p><p>The real trick to mastering CSS is how you approach it. If you can use a bit of advice, stay away from the &quot;quick results&quot; tutorials, stay away from the frameworks, and stay away from property lists. Get hands-on experience and focus on learning the theory, give the specs a good read, dive into MDN reference on every CSS thing you learn, no matter how small it seems to be, you’ll always find some interesting concepts that makes it &quot;click&quot; into place.</p><!-- TODO: add ARTICLE CARD --><a class="vp-card" href="https://chanhi2000.github.io/bookshelf/blog.logrocket.com/why-your-css-fails.html" target="_blank" style="background:rgba(112,76,182,0.2);"><img class="vp-card-logo" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Understanding why your CSS fails</div><hr><div class="vp-card-desc">It can be tricky to find out why your CSS isn't working as expected. Learn ways of finding and preventing weird behavior in this tutorial.</div></div></a></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/articles/edit/main/src/blog.logrocket.com/why-your-css-fails.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/programming/css/articles/" aria-label="/programming/css/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/programming/css/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/blog.logrocket.com/fundamentals-functional-programming-react.html" aria-label="Fundamentals of functional programming with React"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Fundamentals of functional programming with React<i class="vp-icon fa-brands fa-react" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright © 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><div class="vp-copyright">Copyright © 2025 Facundo Corradini </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BVguHYKu.js" defer></script>
  </body>
</html>
