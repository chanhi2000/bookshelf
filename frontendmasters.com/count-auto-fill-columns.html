<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Get the number of auto-fit/auto-fill columns in CSS","image":["https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/07/458856822-01b5ed8e-2dc6-42d4-86e4-a0bf73c184fe.png?resize=1024%2C512&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/07/458914425-90bc6a99-75b9-48c9-ab0d-3e7b48358589.png?resize=1024%2C527&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/07/458929259-01f2a7cf-dd36-4c3a-9230-d0f0e1dcd6ba.png?resize=1024%2C512&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/07/458947888-cb10b290-d1e2-4ea6-b918-64732facca70.png?resize=1024%2C689&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/07/460213331-95aec4e4-3664-4112-97ea-750361218e3f.png?resize=1024%2C558&ssl=1"],"datePublished":"2025-08-06T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"Ana Tudor","url":"https://frontendmasters.com/blog/author/anatudor/"}]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/frontendmasters.com/count-auto-fill-columns.html"><meta property="og:site_name" content="📚Bookshelf"><meta property="og:title" content="Get the number of auto-fit/auto-fill columns in CSS"><meta property="og:description" content="Article(s) > Get the number of auto-fit/auto-fill columns in CSS"><meta property="og:type" content="article"><meta property="og:image" content="https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6567"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6567"><meta name="twitter:image:alt" content="Get the number of auto-fit/auto-fill columns in CSS"><meta property="article:author" content="Ana Tudor"><meta property="article:tag" content="css"><meta property="article:tag" content="frontendmasters.com"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2025-08-06T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>Get the number of auto-fit/auto-fill columns in CSS | 📚Bookshelf</title><meta name="description" content="Article(s) > Get the number of auto-fit/auto-fill columns in CSS">
    <link rel="preload" href="/bookshelf/assets/style-DmRYlEXZ.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-DmRYlEXZ.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">📚Bookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnk8s.io/" aria-label="learnk8s.io"><!--[--><img class="vp-icon" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnk8s.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/articles" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">frontendmasters.com</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2025</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/inset-shadows-directly-on-img-elements-part-1.html" aria-label="Inset Shadows Directly on img Elements (Part 1)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Inset Shadows Directly on img Elements (Part 1)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/learn-media-queries.html" aria-label="How much do you really know about media queries?"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->How much do you really know about media queries?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-coyier-css-starter.html" aria-label="The Coyier CSS Starter"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Coyier CSS Starter<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/what-you-need-to-know-about-modern-css-2025-edition.html" aria-label="What You Need to Know about Modern CSS (2025 Edition)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->What You Need to Know about Modern CSS (2025 Edition)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/css-offset-and-animation-composition-for-rotating-menus.html" aria-label="CSS offset and animation-composition for Rotating Menus"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS offset and animation-composition for Rotating Menus<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/choosing-the-right-model-in-cursor.html" aria-label="Choosing the Right Model in Cursor"><!--[--><i class="vp-icon iconfont icon-cursor" sizing="both"></i><!--]-->Choosing the Right Model in Cursor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/getting-started-with-cursor.html" aria-label="Getting Started with Cursor"><!--[--><i class="vp-icon iconfont icon-cursor" sizing="both"></i><!--]-->Getting Started with Cursor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/advanced-postgresql-indexing.html" aria-label="Advanced PostgreSQL Indexing: Multi-Key Queries and Performance Optimization"><!--[--><i class="vp-icon iconfont icon-postgresql" sizing="both"></i><!--]-->Advanced PostgreSQL Indexing: Multi-Key Queries and Performance Optimization<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html" aria-label="Introduction to Postgres Indexes"><!--[--><i class="vp-icon iconfont icon-postgresql" sizing="both"></i><!--]-->Introduction to Postgres Indexes<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-path-of-least-resistance-part-2.html" aria-label="The `-path` of Least Resistance (Part 2)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The `-path` of Least Resistance (Part 2)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-path-of-least-resistance-part-1.html" aria-label="The `-path` of Least Resistance (Part 1)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The `-path` of Least Resistance (Part 1)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/opening-a-details-element-from-the-url.html" aria-label="Opening a Details Element from the URL"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Opening a Details Element from the URL<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/very-early-playing-with-random-in-css.html" aria-label="Very Early Playing with random() in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Very Early Playing with random() in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/quick-dark-mode-toggles.html" aria-label="Quick Dark Mode Toggles"><!--[--><i class="vp-icon fa-brands fa-chrome" sizing="both"></i><!--]-->Quick Dark Mode Toggles<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/obsessing-over-smooth-radial-gradient-disc-edges.html" aria-label="Obsessing Over Smooth radial-gradient() Disc Edges"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Obsessing Over Smooth radial-gradient() Disc Edges<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/web-design-what-is-the-web-capable-of-that-is-hard-to-express-in-design-software.html" aria-label="Web Design: What is the web capable of that is hard to express in design software?"><!--[--><i class="vp-icon fas fa-pen-ruler" sizing="both"></i><!--]-->Web Design: What is the web capable of that is hard to express in design software?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/architecture-through-component-colocation.html" aria-label="A Nice Vanilla App Archicture Using Web Components and CSS Module Scripts"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->A Nice Vanilla App Archicture Using Web Components and CSS Module Scripts<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/using-the-custom-highlight-api.html" aria-label="Using the Custom Highlight API"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->Using the Custom Highlight API<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html" aria-label="Get the number of auto-fit/auto-fill columns in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Get the number of auto-fit/auto-fill columns in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/infinite-marquee-animation-using-modern-css.html" aria-label="Infinite Marquee Animation using Modern CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Infinite Marquee Animation using Modern CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/should-we-never-use-non-logical-properties.html" aria-label="Should we NEVER use non-logical properties?"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Should we NEVER use non-logical properties?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-figcaption-problem.html" aria-label="The Figcaption Problem"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Figcaption Problem<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/introducing-zustand.html" aria-label="Introducing Zustand (State Management)"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Introducing Zustand (State Management)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/adaptive-alerts-a-css-scroll-state-use-case.html" aria-label="Adaptive Alerts (a CSS scroll-state Use Case)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Adaptive Alerts (a CSS scroll-state Use Case)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/stacked-transforms.html" aria-label="Stacked Transforms"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Stacked Transforms<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/deploy-a-site-with-a-build-process-a-custom-domain-name.html" aria-label="Deploy a Site with a Build Process &amp; a Custom Domain Name"><!--[--><i class="vp-icon fas fa-network-wired" sizing="both"></i><!--]-->Deploy a Site with a Build Process &amp; a Custom Domain Name<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/view-transition-list-reordering-with-a-kick-flip.html" aria-label="View Transition List Reordering (with a Kick Flip)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->View Transition List Reordering (with a Kick Flip)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/satisfies-in-typescript.html" aria-label="Satisfies in TypeScript"><!--[--><i class="vp-icon iconfont icon-typescript" sizing="both"></i><!--]-->Satisfies in TypeScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/custom-select-that-comes-up-from-the-bottom-on-mobile.html" aria-label="Custom Select (that comes up from the bottom on mobile)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Custom Select (that comes up from the bottom on mobile)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/step-gradients-with-a-given-number-of-steps.html" aria-label="Step Gradients with a Given Number of Steps"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Step Gradients with a Given Number of Steps<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/quantity-query-carousel.html" aria-label="Quantity Query Carousel"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Quantity Query Carousel<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/understanding-css-corner-shape-and-the-power-of-the-superellipse.html" aria-label="Understanding CSScorner-shapeand the Power of the Superellipse"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Understanding CSScorner-shapeand the Power of the Superellipse<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/drawing-css-shapes-using-corner-shape.html" aria-label="Drawing CSS Shapes using corner-shape"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Drawing CSS Shapes using corner-shape<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/scope-in-css.html" aria-label="Scope in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Scope in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/grainy-gradients.html" aria-label="Grainy Gradients"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Grainy Gradients<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/1fr-1fr-vs-auto-auto-vs-50-50.html" aria-label="1fr 1fr vs auto auto vs 50% 50%"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->1fr 1fr vs auto auto vs 50% 50%<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/scroll-driven-letter-grid.html" aria-label="Scroll-Driven Letter Grid"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Scroll-Driven Letter Grid<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/firstchild-can-be-white-space.html" aria-label="firstChild can be white space"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->firstChild can be white space<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-simplest-way-to-deploy.html" aria-label="The Simplest Way to Deploy Your Own Updatable Portfolio Site"><!--[--><i class="vp-icon iconfont icon-github" sizing="both"></i><!--]-->The Simplest Way to Deploy Your Own Updatable Portfolio Site<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/css-spotlight-effect.html" aria-label="CSS Spotlight Effect"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS Spotlight Effect<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/move-modal-in-on-a-shape.html" aria-label="Move Modal in on a… shape()"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Move Modal in on a… shape()<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/chatgpt-and-old-and-broken-code.html" aria-label="ChatGPT and the proliferation of obsolete and broken solutions to problems we hadn’t had for over half a decade before its launch"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->ChatGPT and the proliferation of obsolete and broken solutions to problems we hadn’t had for over half a decade before its launch<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/creating-blob-shapes-using-clip-path-shape.html" aria-label="Creating Blob Shapes using clip-path: shape()"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Creating Blob Shapes using clip-path: shape()<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/to-flip-or-not-to-flip.html" aria-label="Is there a Correct Answer? Flipping Layouts When Google Translate Swaps between a Left-to-Right Language and a Right-to-Left Language"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Is there a Correct Answer? Flipping Layouts When Google Translate Swaps between a Left-to-Right Language and a Right-to-Left Language<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/container-query-for-is-there-enough-space-outside-this-element.html" aria-label="Container Query for “is there enough space outside this element?”"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Container Query for “is there enough space outside this element?”<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/creating-flower-shapes-using-clip-path-shape.html" aria-label="Creating Flower Shapes using clip-path: shape()"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Creating Flower Shapes using clip-path: shape()<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/shape-a-new-powerful-drawing-syntax-in-css.html" aria-label="shape(): A New Powerful Drawing Syntax in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->shape(): A New Powerful Drawing Syntax in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/using-container-query-units-relative-to-an-outer-container.html" aria-label="Using Container Query Units Relative to an Outer Container"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Using Container Query Units Relative to an Outer Container<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/curved-box-cutouts-in-css.html" aria-label="Curved Box Cutouts in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Curved Box Cutouts in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/seeking-an-answer-why-cant-html-alone-do-includes.html" aria-label="Seeking an Answer: Why can’t HTML alone do includes?"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Seeking an Answer: Why can’t HTML alone do includes?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/react-internals-which-useeffect-runs-first.html" aria-label="React Internals: Which useEffect runs first?"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->React Internals: Which useEffect runs first?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/am-i-a-sadistic-developer-are-you.html" aria-label="Am I a Sadistic Developer? Are You?"><!--[--><i class="vp-icon fas fa-user-tie" sizing="both"></i><!--]-->Am I a Sadistic Developer? Are You?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/newfangled-browser-alternatives.html" aria-label="Newfangled Browser Alternatives"><!--[--><i class="vp-icon fa-brands fa-chrome" sizing="both"></i><!--]-->Newfangled Browser Alternatives<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/lessons-learned-from-recreating-a-styled-dialog.html" aria-label="Lessons Learned from Recreating a Styled Dialog"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Lessons Learned from Recreating a Styled Dialog<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-latest-in-the-how-are-we-going-to-do-masonry-debate-apple-says-item-flow.html" aria-label="The Latest in the “How are we going to do masonry?” Debate: Apple Says “Item Flow”"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Latest in the “How are we going to do masonry?” Debate: Apple Says “Item Flow”<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/using-currentcolor-in-2025.html" aria-label="Using currentColor in 2025"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Using currentColor in 2025<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/custom-progress-element-using-the-attr-function.html" aria-label="Custom progress element using the attr() function"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Custom progress element using the attr() function<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/css-bursts-with-conic-gradients.html" aria-label="CSS Bursts with Conic Gradients"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS Bursts with Conic Gradients<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/reanimating-the-css-day-buttons.html" aria-label="Reanimating the CSS Day Buttons"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Reanimating the CSS Day Buttons<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/expanding-css-shadow-effects.html" aria-label="Expanding CSS Shadow Effects - Frontend Masters Blog"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Expanding CSS Shadow Effects - Frontend Masters Blog<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/layered-text-headers.html" aria-label="Layered Text Headers"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Layered Text Headers<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/one-thing-scope-can-do-is-reduce-concerns-about-source-order.html" aria-label="One Thing @scope Can Do is Reduce Concerns About Source Order"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->One Thing @scope Can Do is Reduce Concerns About Source Order<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/overlapping-inline-backgrounds.html" aria-label="A Deep Dive into the Inline Background Overlap Problem"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A Deep Dive into the Inline Background Overlap Problem<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/chilled-out-text-underlines.html" aria-label="Chilled Out Text Underlines"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Chilled Out Text Underlines<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-moment-you-need-a-database.html" aria-label="The Moment You Need a Database"><!--[--><i class="vp-icon fas fa-database" sizing="both"></i><!--]-->The Moment You Need a Database<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/movies-as-images.html" aria-label="Movies as Images"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Movies as Images<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/custom-property-fallbacks.html" aria-label="Custom Property Fallbacks"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Custom Property Fallbacks<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/examples-of-why-the-web-needs-anchored-popovers.html" aria-label="Examples of Why The Web Needs Anchored Popovers"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Examples of Why The Web Needs Anchored Popovers<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/how-to-use-attr-in-css-for-columns-colors-and-font-size.html" aria-label="How to Use attr() in CSS for Columns, Colors, and Font-Size"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->How to Use attr() in CSS for Columns, Colors, and Font-Size<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/a-color-input-that-also-shows-the-value.html" aria-label="A Color Input That Also Shows the Value"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A Color Input That Also Shows the Value<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/rainbow-selection-in-css.html" aria-label="Rainbow Selection in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Rainbow Selection in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/optimizing-images-for-web-performance.html" aria-label="Optimizing Images for Web Performance"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Optimizing Images for Web Performance<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/three-approaches-to-the-ampersand-selector-in-css.html" aria-label="Three Approaches to the “&amp;” (ampersand) Selector in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Three Approaches to the “&amp;” (ampersand) Selector in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/html-css-for-a-one-time-password-input.html" aria-label="HTML &amp; CSS for a One-Time Password Input"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->HTML &amp; CSS for a One-Time Password Input<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/notes-on-the-code-editors-with-ai-landscape.html" aria-label="Notes on the Code Editors with AI Landscape"><!--[--><i class="vp-icon iconfont icon-vscode" sizing="both"></i><!--]-->Notes on the Code Editors with AI Landscape<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/mapping-with-leaflet.html" aria-label="Mapping with Leaflet"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->Mapping with Leaflet<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/full-bleed-layout-with-modern-css.html" aria-label="Full-Bleed Layout with Modern CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Full-Bleed Layout with Modern CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/creating-an-angled-slider.html" aria-label="Creating an Angled Slider"><!--[--><i class="vp-icon fa-brands fa-sass" sizing="both"></i><!--]-->Creating an Angled Slider<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/simplify-lazy-loading-with-intersection-observers-scrollmargin.html" aria-label="Simplify Lazy Loading With Intersection Observer’s ScrollMargin"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->Simplify Lazy Loading With Intersection Observer’s ScrollMargin<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/css-wishlist-for-2025.html" aria-label="CSS Wishlist for 2025"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS Wishlist for 2025<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/sharing-a-variable-across-html-css-and-javascript.html" aria-label="Sharing a Variable Across HTML, CSS, and JavaScript"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Sharing a Variable Across HTML, CSS, and JavaScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/bone-up-html-2025.html" aria-label="Relatively New Things You Should Know about HTML Heading Into 2025"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Relatively New Things You Should Know about HTML Heading Into 2025<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/containers-context.html" aria-label="Containers &amp; Context"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Containers &amp; Context<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2024</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2023</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6567" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon fa-brands fa-css3-alt" sizing="height"></i>Get the number of auto-fit/auto-fill columns in CSS</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://frontendmasters.com/blog/author/anatudor/" target="_blank" rel="noopener noreferrer">Ana Tudor</a></span><span property="author" content="Ana Tudor"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">8/6/25</span><meta property="datePublished" content="2025-08-06T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 16 min</span><meta property="timeRequired" content="PT16M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color7" role>CSS</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="CSS,Article(s)"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color8" role>frontendmasters.com</span><span class="page-tag-item color2" role>css</span><!--]--><meta property="keywords" content="blog,frontendmasters.com,css"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-관련" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-관련"><span>Get the number of auto-fit/auto-fill columns in CSS 관련</span></a></h1><a class="route-link vp-card" href="/bookshelf/programming/css/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="/bookshelf/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">CSS > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html#the-basic-idea" class="router-link-active router-link-exact-active">The Basic Idea</a><ul><li><a aria-current="page" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html#setup" class="router-link-active router-link-exact-active">Setup</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html#getting-the-number-of-columns" class="router-link-active router-link-exact-active">Getting the number of columns</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html#extending-support" class="router-link-active router-link-exact-active">Extending support</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html#fixing-tiny-issues" class="router-link-active router-link-exact-active">Fixing tiny issues</a></li></ul></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html#mind-the-gap" class="router-link-active router-link-exact-active">Mind the gap</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html#let-s-go-wild" class="router-link-active router-link-exact-active">Let’s Go Wild!</a><ul><li><a aria-current="page" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html#highlighting-items-on-a-certain-column" class="router-link-active router-link-exact-active">Highlighting items on a certain column</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html#highlighting-items-on-a-certain-row" class="router-link-active router-link-exact-active">Highlighting items on a certain row</a></li></ul></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html#taking-it-further" class="router-link-active router-link-exact-active">Taking it Further</a></li></ul></nav><hr><div class="vp-site-info" data-name="Get the number of auto-fit/auto-fill columns in CSS"><a class="vp-site-info-navigator no-external-link-icon" title="Get the number of auto-fit/auto-fill columns in CSS" href="https://frontendmasters.com/blog/count-auto-fill-columns/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6567) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://frontendmasters.com/favicon.ico" alt loading="lazy" no-view><div class="vp-site-info-name">Get the number of auto-fit/auto-fill columns in CSS</div><div class="vp-site-info-desc">The whole point of auto-fit and auto-fill is that you aren&#39;t saying how many columns to use. But if you knew how many the browser chose, you can make nice design decisions.</div></div><!----></div><p><a href="https://gist.github.com/thebabydino/645471b8aa19fb1164e512962b6c4f0f/raw/d4ad52fef89cfaa2207882f7a6078a9779a2de34/number-of-auto-fit-columns.md" target="_blank" rel="noopener noreferrer"></a></p><p>Ever wanted to get the number of <code>auto-fit</code>/<code>auto-fill</code> columns in a grid? For example, because you want to highlight just the items in the first or last row or column? Do something special just for even or for odd rows or columns (e.g. zebra striping)? Or for any one specific row or column? Create responsive non-rectangular grids? And all of this with zero breakpoints?</p><p>This is all doable with pure CSS by using container query units, CSS variables, and CSS mathematical functions! Of course, it also involves navigating browser bugs and support gaps. But at the end of the day, it is possible to do it cross-browser!</p><p>Let’s see how!</p><hr><h2 id="the-basic-idea" tabindex="-1"><a class="header-anchor" href="#the-basic-idea"><span>The Basic Idea</span></a></h2><h3 id="setup" tabindex="-1"><a class="header-anchor" href="#setup"><span>Setup</span></a></h3><p>We start with a <code>.grid</code> with a lot of items, let’s say <code>100</code>. I normally prefer to generate them in a loop using a preprocessor to avoid clutter in the HTML and to make it easy to change their number, but it’s also possible to do so using Emmet. For the demos illustrating the concept here, we’re using <a href="https://pugjs.org/api/getting-started.html" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-pug" sizing="height"></i>Pug</a>, and also numbering our items via their text content:</p><div class="language-pug line-numbers-mode" data-highlighter="prismjs" data-ext="pug"><pre><code class="language-pug"><span class="line"><span class="token tag"><span class="token attr-class">.grid</span></span> <span class="token plain-text"> </span></span>
<span class="line">  <span class="token punctuation">-</span><span class="token code"> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>  </span></span>
<span class="line">    <span class="token tag"><span class="token attr-class">.item</span></span> <span class="token plain-text">#{i + 1}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Our <code>.grid</code> has <code>auto-fit</code> columns:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.grid</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--u</span><span class="token punctuation">:</span> 7em<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>auto-fit<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">container-type</span><span class="token punctuation">:</span> inline-size</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This means our <code>.grid</code> has as many columns of unit width <code>u</code> as can fit within its own <code>content-box</code> width. This width is flexible and is given by the page layout, we don’t know it. However, its children (the <code>.item</code> elements) can know it as <code>100cqw</code> in container query units. To have these container units available for the <code>.grid</code> element’s children (and pseudos), we’ve made the <code>.grid</code> an inline container.</p><p>This <em>should</em> work just fine. And it does, in both Chrome and Firefox. However, if we try it out in Safari, we see our <code>.grid</code> is collapsed into a point. Unfortunately, in Safari, <code>auto-fit</code> grids break if they are also containers. (Note: this <a href="https://bugs.webkit.org/show_bug.cgi?id=282326" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-webkit" sizing="height"></i>Safari bug is actually fixed</a>, it’s just waiting to make it’s way to a stable release.)</p><p>We have two options in this case.</p><p>The first would be to replace <code>auto-fit</code> with <code>auto-fill</code>. When we have as many items as we do in this case, we can use either of them, the difference between them is only noticeable <a href="https://codepen.io/thebabydino/full/gOayvpb" target="_blank" rel="noopener noreferrer">when we don’t even have enough items to fill one row (<i class="vp-icon fa-brands fa-codepen" sizing="height"></i><code>thebabydino</code>)</a>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.grid</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--u</span><span class="token punctuation">:</span> 7em<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>auto-fill<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">container-type</span><span class="token punctuation">:</span> inline-size</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The second would be to put the <code>.grid</code> inside a wrapper <code>.wrap</code> element and move the <code>container</code> property on the wrapper.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.wrap</span> <span class="token punctuation">{</span> <span class="token property">container-type</span><span class="token punctuation">:</span> inline-size <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.grid</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--u</span><span class="token punctuation">:</span> 7em<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>auto-fit<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We’re going for the first option here.</p><p>Now we’re getting to the interesting part!</p><h3 id="getting-the-number-of-columns" tabindex="-1"><a class="header-anchor" href="#getting-the-number-of-columns"><span>Getting the number of columns</span></a></h3><p>In theory, we could get the number <code>n</code> of columns on the <code>.item</code> children of the <code>.grid</code> via division, whose result we round down (if the container width of <code>100cqw</code> is 2.23 times the unit width <code>u</code> of a column, then we round down this ratio to get the number of columns we can fit, which is 2 in this case):</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> 100cqw/<span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>In practice, while this <em>should</em> work, it only works in Safari (since <a href="https://webkit.org/blog/15860/release-notes-for-safari-technology-preview-203/" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-webkit" sizing="height"></i>Sept 2024</a>) in Chrome (since <a href="https://developer.chrome.com/release-notes/138?authuser=1&amp;hl=en" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-chrome" sizing="height"></i>June 2025</a>), and where we can test it out by displaying it using <a href="https://stackoverflow.com/a/40179718/1397351" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-stack-overflow" sizing="height"></i>the counter hack</a>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.grid::before</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> 100cqw/<span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">counter-reset</span><span class="token punctuation">:</span> n <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">counter</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We’ve wrapped this inside a <code>@supports</code> block so we have a message that lets us know about this failing in non-supporting browsers (basically Firefox), where we see the following:</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/07/458856822-01b5ed8e-2dc6-42d4-86e4-a0bf73c184fe.png?resize=1024%2C512&amp;ssl=1" alt="the result in non-supporting browsers: no number of columns can be computed" tabindex="0" loading="lazy"><figcaption>the result in non-supporting browsers: no number of columns can be computed</figcaption></figure><p>In Safari and Chrome, things look like in the recording below:</p><div></div><p>We can see we have a problem when we have one column and it overflows the parent: the ratio between the parent <code>.grid</code> width of <code>100cqw</code> and the column unit width <code>u</code> drops below <code>1</code>, so we can fit one item <code>0</code> times inside the <code>content-box</code> width of the <code>.grid</code>. And this is reflected in the <code>n</code> value, even though, in practice, we cannot have a grid with less than one column. However, the fix for this is simple: use a <code>max()</code> function to make sure <code>n</code> is always at least <code>1</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> 100cqw/<span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Whenever the division result drops below <code>1</code>, the result of the <code>max()</code> function isn’t the <code>round()</code> value anymore, but <code>1</code> instead.</p><p>You can see it in action in demo below, but keep in mind it can only compute the number of columns in supporting browsers (Safari/Chrome):</p><div class="codepen-wrapper codepen-zxGyRZX"><!----><span>See <a>number of auto-fill columns using length division, no Firefox</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>Great, but what Firefox? The <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1827404" target="_blank" rel="noopener noreferrer"><i class="vp-icon fa-brands fa-firefox" sizing="height"></i>Firefox bug</a> looks like it’s dormant, so we cannot get the ratio between two length values there.</p><h3 id="extending-support" tabindex="-1"><a class="header-anchor" href="#extending-support"><span>Extending support</span></a></h3><p>However, we have <a href="https://dev.to/janeori/css-type-casting-to-numeric-tanatan2-scalars-582j" target="_blank" rel="noopener noreferrer">a clever hack (<i class="vp-icon fa-brands fa-dev" sizing="height"></i><code>janeori</code>)</a> to solve the problem!</p><p>The idea behind is the following: the tangent of an acute angle in a right triangle is the ratio between the length of the cathetus opposing the angle and the length of the cathetus adjacent to it. So basically, the tangent is a ratio between two length values and <em>such a ratio is precisely what we need</em>.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/07/458914425-90bc6a99-75b9-48c9-ab0d-3e7b48358589.png?resize=1024%2C527&amp;ssl=1" alt="basic trigonometry recap" tabindex="0" loading="lazy"><figcaption>basic trigonometry recap</figcaption></figure><p>Now you may be wondering what right triangle and what angle do we even have here. Well, we can imagine building a triangle where a cathetus has the same length as the <code>.grid</code> parent’s <code>content-box</code> width (<code>100cqw</code> on the <code>.item</code> elements, which we’ll call <code>w</code>) and the other has the same length as the column unit width (<code>u</code>).</p><p>The tangent of the angle opposing the cathetus of length <code>w</code> is the ratio between <code>w</code> and <code>u</code>. Okay, but what is this angle?</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/07/458929259-01f2a7cf-dd36-4c3a-9230-d0f0e1dcd6ba.png?resize=1024%2C512&amp;ssl=1" alt="using trigonometric functions to get around browser support gaps" tabindex="0" loading="lazy"><figcaption>using trigonometric functions to get around browser support gaps</figcaption></figure><p>We can get this angle using the <code>atan2()</code> function, which takes two arguments, the length of the opposing cathetus <code>w</code> and the length of the adjacent cathetus <code>u</code>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--a</span><span class="token punctuation">:</span> <span class="token function">atan2</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Having the angle <code>a</code> and knowing that the ratio <code>f</code> between <code>w</code> and <code>u</code> is the tangent of this angle, we can write:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--f</span><span class="token punctuation">:</span> <span class="token function">tan</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Or, replacing the angle in the formula:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--f</span><span class="token punctuation">:</span> <span class="token function">tan</span><span class="token punctuation">(</span><span class="token function">atan2</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>In general, know that a length ratio like <code>w/u</code> can always be computed as <code>tan(atan2(w, u))</code>.</p><p>Rounding down this ratio <code>f</code> gives us the number of columns of unit width <code>u</code> that fit within the <code>.grid</code> parent’s <code>content-box</code> width <code>w</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--f<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>So we can write it all as follows, introducing also the correction that the number of columns needs to be at least <code>1</code>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--f</span><span class="token punctuation">:</span> <span class="token function">tan</span><span class="token punctuation">(</span><span class="token function">atan2</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>That’s it, that’s the formula for <code>--n</code> in the case when we don’t have support for getting the ratio of two length values! There is one catch, though: both <code>--w</code> and <code>--u</code> have to be registered as lengths in order for <code>atan2()</code> <a href="https://bsky.app/profile/anatudor.bsky.social/post/3kxmt5qlbbi2e" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>to work properly</a>!</p><p>Putting it all together, the relevant code for our demo looks as follows:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.grid</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--u</span><span class="token punctuation">:</span> 7em<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>auto-fill<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">container-type</span><span class="token punctuation">:</span> inline-size</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.grid::before, .item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--w</span><span class="token punctuation">:</span> 100cqw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--f</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@supports</span> <span class="token keyword">not</span> <span class="token punctuation">(</span><span class="token property">scale</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100cqh/3lh<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@property</span> --w</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&#39;&lt;length-percentage&gt;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">initial-value</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">inherits</span><span class="token punctuation">:</span> true</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@property</span> --u</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&#39;&lt;length-percentage&gt;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">initial-value</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">inherits</span><span class="token punctuation">:</span> true</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">.grid::before, .item</span> <span class="token punctuation">{</span> <span class="token property">--f</span><span class="token punctuation">:</span> <span class="token function">tan</span><span class="token punctuation">(</span><span class="token function">atan2</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that the <code>.grid</code> pseudo is only needed to display the <code>--n</code> value (using the counter hack) for us to see in the demo without having to register it and then look for it in DevTools (which is the tactic I most commonly use to check the computed value of a CSS variable).</p><div class="codepen-wrapper codepen-MYwZzrY"><!----><span>See <a>number of auto-fill columns with fallback for length division #1: glitch</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>Almost there, but not exactly.</p><h3 id="fixing-tiny-issues" tabindex="-1"><a class="header-anchor" href="#fixing-tiny-issues"><span>Fixing tiny issues</span></a></h3><p>If you’ve played with resizing the demo above, you may have noticed something is off in Firefox at times. At certain points when the <code>.grid</code> element’s <code>content-box</code> width <code>w</code> is a multiple of the unit column width <code>u</code>, for example, when <code>w</code> computes to <code>1008px</code> and the unit column with <code>u</code> of <code>112px</code> fits inside it exactly <code>9</code> times, Firefox somehow computes the number of columns as being smaller (<code>8</code> instead of <code>9</code>, in this example).</p><p>My first guess was this is probably due to some rounding errors in getting the angle via <code>atan2()</code> and then going back from an angle to a ratio using <code>tan()</code>. Indeed, if we register <code>--f</code> so we can see its value in DevTools, it’s displayed as <code>8.99999</code> in this case, even though <code>1008px/112px</code> is exactly <code>9</code>.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/07/458947888-cb10b290-d1e2-4ea6-b918-64732facca70.png?resize=1024%2C689&amp;ssl=1" alt="rounding error caught by Firefox DevTools" tabindex="0" loading="lazy"><figcaption>rounding error caught by Firefox DevTools</figcaption></figure><p>So this means rounding down <code>f</code> results in the number of columns <code>n</code> being computed as <code>8</code>, even though it’s actually <code>9</code>. Hmm, in this case, it might be better to round <code>f</code> to a tiny precision of <code>.00001</code> <em>before</em> rounding it down to get the number of columns <code>n</code>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token property">--f</span><span class="token punctuation">:</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">tan</span><span class="token punctuation">(</span><span class="token function">atan2</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> .00001<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This seems to get the job done.</p><div class="codepen-wrapper codepen-ZYGVwLM"><!----><span>See <a>number of auto-fill columns with fallback for length division #2: glitch fix</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>Still, I’m a bit worried this still might fail in certain scenarios, even though I’ve kept resizing obsessively in Firefox and haven’t encountered any problems after rounding <code>f</code>.</p><p>So let’s make sure we’re on the safe side and place the <code>.grid</code> in a wrapper <code>.wrap</code>, make this wrapper the <code>container</code>, compute the number of columns <code>n</code> on the <code>.grid</code> and use it to set the <code>grid-template-columns</code>. This way, the essential CSS becomes:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.wrap</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">container-size</span><span class="token punctuation">:</span> inline-type<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.grid</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--w</span><span class="token punctuation">:</span> 100cqw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--u</span><span class="token punctuation">:</span> 7em<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--f</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span> / <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@supports</span> <span class="token keyword">not</span> <span class="token punctuation">(</span><span class="token property">scale</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100cqh / 3lh<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@property</span> --w</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;length-percentage&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">initial-value</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@property</span> --u</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;length-percentage&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">initial-value</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">.grid</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--f</span><span class="token punctuation">:</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">tan</span><span class="token punctuation">(</span><span class="token function">atan2</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 0.00001<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that we may also use <code>1fr</code> instead of <code>var(--u)</code> for the <code>grid-template-columns</code> property if we want the <code>.item</code> elements to stretch.</p><div class="codepen-wrapper codepen-PwqXVBK"><!----><span>See <a>number of columns fitting with fallback for length division #3: bulletproof</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><hr><h2 id="mind-the-gap" tabindex="-1"><a class="header-anchor" href="#mind-the-gap"><span>Mind the <code>gap</code></span></a></h2><p>Nice, but oftentimes we also want to have a gap in between our rows and columns, so let’s see how the number of columns can be computed in that case.</p><p>Whenever we have <code>n</code> columns, we have <code>n - 1</code> gaps in between them.</p><div class="codepen-wrapper codepen-LEVqOpZ"><!----><span>See <a>Gaps for n columns</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>This means that <code>n</code> times the unit column width plus <code>(n - 1)</code> times the gap space adds up to the container’s <code>content-box</code> width:</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>n</mi><mo>×</mo><mi>u</mi><mo>+</mo><mrow><mo fence="true">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo fence="true">)</mo></mrow><mo>×</mo><mi>s</mi><mo>=</mo><mi>w</mi></mrow><annotation encoding="application/x-tex">n\times{u}+\left(n-1\right)\times{s}=w </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal">u</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord"><span class="mord mathnormal">s</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span></span></p><p>If we add <code>s</code> on both sides in the equation above, we get:</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left right left right left" columnspacing="0em 1em 0em 1em 0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>n</mi><mo>×</mo><mi>u</mi><mo>+</mo><mrow><mo fence="true">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo fence="true">)</mo></mrow><mo>×</mo><mi>s</mi><mo>+</mo><mi>s</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>w</mi><mo>+</mo><mi>s</mi><mi>n</mi><mo>×</mo><mi>u</mi><mo>+</mo><mi>n</mi><mo>×</mo><mi>s</mi><mo>−</mo><mi>s</mi><mo>+</mo><mi>s</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo>=</mo><mi>w</mi><mo>+</mo><mi>s</mi><mi>n</mi><mo>×</mo><mi>u</mi><mo>+</mo><mi>n</mi><mo>×</mo><mi>s</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>w</mi><mo>+</mo><mi>s</mi><mi>n</mi><mo>×</mo><mrow><mo fence="true">(</mo><mi>u</mi><mo>+</mo><mi>s</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo>=</mo><mi>w</mi><mo>+</mo><mi>s</mi><mi>n</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mrow><mo fence="true">(</mo><mi>w</mi><mo>+</mo><mi>s</mi><mo fence="true">)</mo></mrow><mrow><mo fence="true">(</mo><mi>u</mi><mo>+</mo><mi>s</mi><mo fence="true">)</mo></mrow></mfrac></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*} n\times{u}+\left(n-1\right)\times{s}+s&amp;=w+s n\times{u}+n\times{s}-s+s&amp;=w+s n\times{u}+n\times{s}&amp;=w+s n\times\left(u+s\right)&amp;=w+s n&amp;=\frac{\left(w+s\right)}{\left(u+s\right)} \end{align*} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.663em;vertical-align:-1.0815em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5815em;"><span style="top:-3.5815em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">u</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">s</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0815em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5815em;"><span style="top:-3.5815em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">u</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">s</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0815em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5815em;"><span style="top:-3.5815em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">u</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0815em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5815em;"><span style="top:-3.5815em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0815em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5815em;"><span style="top:-3.5815em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0815em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5815em;"><span style="top:-3.5815em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0815em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>Putting this into CSS, our ratio looks as follows:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span> + <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span> / <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span> + <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Note that in our case, it’s the fraction <code>f</code> that we compute this way before we round it to get the number of items <code>n</code> and ensure <code>n</code> is always at least <code>1</code>.</p><p>Also note that the CSS variables we need to register for the no <code>calc()</code> length division fallback are the numerator and denominator of this fraction. So our essential CSS becomes:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.wrap</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">container-size</span><span class="token punctuation">:</span> inline-type<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.grid</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--w</span><span class="token punctuation">:</span> 100cqw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--u</span><span class="token punctuation">:</span> 7em<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--s</span><span class="token punctuation">:</span> 3vmin<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--p</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--w<span class="token punctuation">)</span> + <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* numerator */</span></span>
<span class="line">  <span class="token property">--q</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--u<span class="token punctuation">)</span> + <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* denominator */</span></span>
<span class="line">  <span class="token property">--f</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--p<span class="token punctuation">)</span> / <span class="token function">var</span><span class="token punctuation">(</span>--q<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--n</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--s<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@supports</span> <span class="token keyword">not</span> <span class="token punctuation">(</span><span class="token property">scale</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100cqh / 3lh<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token atrule"><span class="token rule">@property</span> --p</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* numerator */</span></span>
<span class="line">    <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;length-percentage&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">initial-value</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token atrule"><span class="token rule">@property</span> --q</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/* denominator */</span></span>
<span class="line">    <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;length-percentage&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">initial-value</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">inherits</span><span class="token punctuation">:</span> true<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token selector">.grid</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">--f</span><span class="token punctuation">:</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">tan</span><span class="token punctuation">(</span><span class="token function">atan2</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--p<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 0.00001<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="codepen-wrapper codepen-QwbYWrX"><!----><span>See <a>number of columns fitting, gap case + fallback</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><hr><h2 id="let-s-go-wild" tabindex="-1"><a class="header-anchor" href="#let-s-go-wild"><span>Let’s Go Wild!</span></a></h2><p>And let’s see where we can use this!</p><h3 id="highlighting-items-on-a-certain-column" tabindex="-1"><a class="header-anchor" href="#highlighting-items-on-a-certain-column"><span>Highlighting items on a certain column</span></a></h3><p>In order to do something like this, we use the item indices. Once <code>sibling-index()</code> is supported cross-browser, we’ll be able to do this:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span> <span class="token property">--i</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">sibling-index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> - 1<span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Note that we need to subtract <code>1</code> because <code>sibling-index()</code> is <code>1</code>-based and we need our index <code>i</code> to be <code>0</code>-based for modulo and division purposes.</p><p>Until then, we add these indices in <code>style</code> attributes when generating the HTML:</p><div class="language-pug line-numbers-mode" data-highlighter="prismjs" data-ext="pug"><pre><code class="language-pug"><span class="line"><span class="token tag"><span class="token attr-class">.grid</span></span> <span class="token plain-text"> </span></span>
<span class="line">  <span class="token punctuation">-</span><span class="token code"> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>  </span></span>
<span class="line">    <span class="token tag"><span class="token attr-class">.item</span><span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">style</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">--i: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">0</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span></span><span class="token punctuation">)</span></span></span> <span class="token plain-text">#{i + 1}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Let’s say we want to highlight the items on the first column. We get the number of columns <code>n</code> just like before. An item is on the first column if <code>i%n</code> (which gives us the <code>0</code>-based index of the column an item of index <code>i</code> is on) is <code>0</code>. Now given I used the word <em>if</em> there, you might be thinking about <a class="route-link" href="/bookshelf/css-tricks.com/lightly-poking-at-the-css-if-function-in-chrome-137.html"><strong>the new CSS <code>if()</code> function</strong></a>. However, we have a way better supported method here.</p><p>If the column index <code>i%n</code> is <code>0</code>, then <code>min(1, i%n)</code> is <code>0</code>. If the column index <code>i%n</code> isn’t <code>0</code>, then <code>min(1, i%n)</code> is <code>1</code>. So we can do the following:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--nay</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 1 if NOT on the first column */</span></span>
<span class="line">  <span class="token property">--yay</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--nay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 1 if on the first column! */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>So then we can use <code>--yay</code> to highlight the items on the first column by <a class="route-link" href="/bookshelf/css-tricks.com/dry-switching-with-css-variables-the-difference-of-one-declaration.html"><strong>styling them differently</strong></a>, for example by giving them a different <code>background</code>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--nay</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 1 if NOT on the first column */</span></span>
<span class="line">  <span class="token property">--yay</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--nay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 1 if on the first column! */</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">color-mix</span><span class="token punctuation">(</span>in srgb<span class="token punctuation">,</span> #fcbf49 <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--yay<span class="token punctuation">)</span>*100%<span class="token punctuation">)</span><span class="token punctuation">,</span> #dedede<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can see it in action in the live demo below:</p><div class="codepen-wrapper codepen-gbpqaXK"><!----><span>See <a>highlight first variable grid column, no breakpoints</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>Now let’s say we want to highlight the items on the last column. In this case, the column index <code>i%n</code> is <code>n - 1</code>, which means that their difference is <code>0</code>:</p><!-- TODO: LaTeX 로 표현 --><p class="katex-block"><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#39;\right&#39;, got &#39;EOF&#39; at end of input: …t(i%n\right)=0
" style="color:#cc0000;">\left(n-1\right)-\left(i%n\right)=0 </span></p><p>Using this, we can do something very similar to what we did before, as the minimum between <code>1</code> and this difference is <code>0</code> for items on the last column and <code>1</code> for those that aren’t on the last column:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* 1 if NOT on the last column */</span></span>
<span class="line">  <span class="token property">--nay</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span> - 1<span class="token punctuation">)</span> - <span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* 1 if on the last column! */</span></span>
<span class="line">  <span class="token property">--yay</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--nay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For example, if <code>n</code> is <code>7</code>, then the column index <code>i%n</code> can be <code>0</code>, <code>1</code>, … <code>6</code> and <code>n - 1</code> is <code>6</code>. If our item of index <code>i</code> is on the last column, then its column index <code>i%n = i%7 = 6</code>, so the difference between <code>n - 1 = 7 - 1 = 6</code> and <code>i%n = i%7 = 6</code> is <code>0</code>. If our item of index i isn’t on the last column, then its column index <code>i%n = i%7 &lt; 6</code>, so the difference between <code>n - 1 = 6</code> and <code>i%n &lt; 6</code> is <code>1</code> or bigger. Taking the minimum between <code>1</code> and this difference ensures we always get either <code>0</code> or <code>1</code>.</p><!-- TODO: LaTeX 로 표현 --><div class="codepen-wrapper codepen-NPqoxWK"><!----><span>See <a>highlight last variable grid column, no breakpoints</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>In general, if we want to highlight a column of index <code>k</code> (<code>0</code>-based, but we can just subtract <code>1</code> in the formula below if it’s given <code>1</code>-based), we need to compute the difference between it and <code>i%n</code> (the column index of an item of index <code>i</code>), then use the absolute value of this difference inside the <code>min()</code>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--dif</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span> - <span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--abs</span><span class="token punctuation">:</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--nay</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--abs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 1 if NOT on column k */</span></span>
<span class="line">  <span class="token property">--yay</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--nay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 1 if on column k! */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The difference and its absolute value are <code>0</code> when the item of index <code>i</code> is on column <code>k</code> and different (bigger in the case of absolute value) when it isn’t.</p><p>We need the absolute value here because, while the difference between <code>n - 1</code> and <code>i%7</code> is always <code>0</code> or bigger, that is not the case for the difference between any random <code>k</code> and <code>i%n</code>. For example, if <code>n</code> is <code>7</code> and <code>k</code> is <code>2</code>, the <code>k - i%n</code> difference is negative when <code>k</code> is smaller than <code>i%n</code>, for example when <code>i%n</code> is <code>5</code>. And we need the difference that goes into the <code>min()</code> to be <code>0</code> or bigger in order for the <code>min()</code> to always give us either <code>0</code> or <code>1</code>.</p><!-- TODO: LaTeX 로 표현 --><p>All modern stable browsers support <code>abs()</code>, but for the best possible browser support, we can still test for support and use <a class="route-link" href="/bookshelf/css-tricks.com/using-absolute-value-sign-rounding-and-modulo-in-css-today.html"><strong>the fallback</strong></a>:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token atrule"><span class="token rule">@supports</span> <span class="token keyword">not</span> <span class="token punctuation">(</span><span class="token property">scale</span><span class="token punctuation">:</span> <span class="token function">abs</span><span class="token punctuation">(</span>-2<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">.item</span> <span class="token punctuation">{</span> <span class="token property">--abs</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span><span class="token punctuation">,</span> -1*<span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Also, note that if the selected column index <code>k</code> is equal to <code>n</code> or bigger, no items get selected.</p><p>In the interactive demo below, clicking an item selects all items on the same column:</p><div class="codepen-wrapper codepen-raVPYqx"><!----><span>See <a>highlight column of index k on variable grid, no breakpoints</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>It does this by setting <code>--k</code> (in the <code>style</code> attribute of the <code>.grid</code>) to the index of that column.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/07/460213331-95aec4e4-3664-4112-97ea-750361218e3f.png?resize=1024%2C558&amp;ssl=1" alt="A code snippet from a web developer&#39;s browser console showcasing CSS rules for items in a grid layout, including custom properties for styling." tabindex="0" loading="lazy"><figcaption>A code snippet from a web developer&#39;s browser console showcasing CSS rules for items in a grid layout, including custom properties for styling.</figcaption></figure><p>Chrome DevTools screenshot showing <code>--k</code> being set on the <code>.grid</code> parent and used in computations on <code>.item</code> children</p><p>We can also highlight items on either odd or even columns:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* 1 if on an even column, 0 otherwise */</span></span>
<span class="line">  <span class="token property">--even</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* 1 if on an odd colum, 0 otherwise */</span></span>
<span class="line">  <span class="token property">--odd</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--even<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="codepen-wrapper codepen-OPVqzKJ"><!----><span>See <a>highlight odd/ even variable grid columns, no breakpoints</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>This is a particular case of highlighting every <code>k</code>-th column starting from column <code>j</code> (again, <code>j</code> is a <code>0</code>-based index and smaller than <code>k</code>):</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--dif</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--j<span class="token punctuation">)</span> - <span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--abs</span><span class="token punctuation">:</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--nay</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--abs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* 1 if on one of every kth col starting from col of index j */</span></span>
<span class="line">  <span class="token property">--yay</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--nay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="codepen-wrapper codepen-Jodzpeq"><!----><span>See <a>highlight every kth column of variable grid from jth one, no breakpoints</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><h3 id="highlighting-items-on-a-certain-row" tabindex="-1"><a class="header-anchor" href="#highlighting-items-on-a-certain-row"><span>Highlighting items on a certain row</span></a></h3><p>If we want to highlight the items on the first row, this means their index <code>i</code> must be smaller than the number of columns <code>n</code>. This means the difference <code>n - i</code> must be bigger than <code>0</code> for items on the first row. If we clamp it to the <code>[0, 1]</code> interval, we get a value that’s <code>0</code> on every row but the first and <code>1</code> on the first row.</p><!-- TODO: LaTeX 로 표현 --><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--yay</span><span class="token punctuation">:</span> <span class="token function">clamp</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span> - <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span><span class="token punctuation">,</span> 1<span class="token punctuation">)</span>  <span class="token comment">/* 1 if on the first row! */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="codepen-wrapper codepen-pvJGpzJ"><!----><span>See <a>highlight first variable grid row, no breakpoints</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>There is more than one way to skin a cat however, so another approach would be to get the row index, which is the result of <code>i/n</code> rounded down. If this is <code>0</code>, the item of index <code>i</code> is on the first row. If it’s bigger than <code>0</code>, it isn’t. This makes the minimum between <code>1</code> and <code>i/n</code> rounded down be <code>0</code> when the item of index <code>i</code> is on the first row and <code>1</code> when it isn’t.</p><!-- TODO: LaTeX 로 표현 --><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--nay</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 1 if NOT on the first row */</span></span>
<span class="line">  <span class="token property">--yay</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--nay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 1 if on the first row! */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This second approach can be modified to allow for highlighting the items on any row of index <code>k</code> as the difference between <code>k</code> and <code>i/n</code> rounded down (the row index) is <code>0</code> if the item of index <code>i</code> is on the row of index <code>k</code> and non-zero otherwise:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--dif</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span> - <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--abs</span><span class="token punctuation">:</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--nay</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--abs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 1 if NOT on row of index k */</span></span>
<span class="line">  <span class="token property">--yay</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--nay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 1 if on row of index k! */</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="codepen-wrapper codepen-raVRpVe"><!----><span>See <a>highlight row of index k on variable grid, no breakpoints</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>Highlighting the items on any row includes the last one. For this, we need to know the total number <code>t</code> of items on our grid. This means <code>(t - 1)</code> is the index of the last grid item, and we can get the index of the row it’s on (that is, the index of the final row) by rounding down <code>(t - 1)/n</code>. Then we substitute <code>k</code> in the previous formula with the index of the final row we’ve just obtained this way.</p><!-- TODO: LaTeX 로 표현 --><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* 1 if NOT on last row */</span></span>
<span class="line">  <span class="token property">--nay</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--t<span class="token punctuation">)</span> - 1<span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span> - <span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* 1 if on last row! */</span></span>
<span class="line">  <span class="token property">--yay</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--nay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There are two things to note here.</p><p>One, we don’t need the absolute value here anymore, as the last row index is always going to be bigger or equal to any other row index.</p><p>Two, we’re currently passing the total number of items <code>t</code> to the CSS as a custom property when generating the HTML:</p><div class="language-pug line-numbers-mode" data-highlighter="prismjs" data-ext="pug"><pre><code class="language-pug"><span class="line"><span class="token punctuation">-</span><span class="token code"> <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//- total number of items on the grid  </span></span></span>
<span class="line">  </span>
<span class="line"><span class="token tag"><span class="token attr-class">.wrap</span></span> <span class="token plain-text"> </span></span>
<span class="line">  <span class="token tag"><span class="token attr-class">.grid</span><span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">style</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">--t: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>t<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span></span><span class="token punctuation">)</span></span></span> <span class="token plain-text"> </span></span>
<span class="line">    <span class="token punctuation">-</span><span class="token code"> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> t<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>  </span></span>
<span class="line">      <span class="token tag"><span class="token attr-class">.item</span><span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">style</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">--i: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span></span><span class="token punctuation">)</span></span></span> <span class="token plain-text">#{i + 1}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>But once <code>sibling-count()</code> is supported cross-browser, we won’t need to do this anymore and we’ll be able to write:</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span> <span class="token property">--t</span><span class="token punctuation">:</span> <span class="token function">sibling-count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="codepen-wrapper codepen-jEPJGNV"><!----><span>See <a>highlight last variable grid row, no breakpoints</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>Just like before, we can highlight items on odd or even rows.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* 1 if on an even row */</span></span>
<span class="line">  <span class="token property">--even</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* 1 if on an odd row */</span></span>
<span class="line">  <span class="token property">--odd</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--even<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="codepen-wrapper codepen-qEdvpzy"><!----><span>See <a>highlight odd/ even variable grid rows, no breakpoints</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><p>And the odd/ even scenario is a particular case of highlighting items on every <code>k</code>-th row, starting from row of index <code>j</code>.</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code class="language-css"><span class="line"><span class="token selector">.item</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--dif</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--j<span class="token punctuation">)</span> - <span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">round</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--i<span class="token punctuation">)</span>/<span class="token function">var</span><span class="token punctuation">(</span>--n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--abs</span><span class="token punctuation">:</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--dif<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">--nay</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--abs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">/* 1 if on one of every kth row starting from row of index j */</span></span>
<span class="line">  <span class="token property">--yay</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token function">var</span><span class="token punctuation">(</span>--nay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="codepen-wrapper codepen-jEPJJWx"><!----><span>See <a>highlight every kth row of variable grid from jth one, no breakpoints</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><hr><h2 id="taking-it-further" tabindex="-1"><a class="header-anchor" href="#taking-it-further"><span>Taking it Further</span></a></h2><p>Another thing this technique can be used for is creating responsive grids of non-rectangular shapes with no breakpoints. An example would be the hexagon grid below. We aren’t going into the details of it here, but know it was done using this technique plus a few more computations to get the right hexagon alignment.</p><div class="codepen-wrapper codepen-QwWQqeR"><!----><span>See <a>Pure CSS responsive hex grid, no breakpoints!</a> by <a href="https://codepen.io/thebabydino">thebabydino</a> on <a href="https://codepen.io">CodePen</a>.</span></div><!-- TODO: add ARTICLE CARD --><a class="vp-card" href="https://chanhi2000.github.io/bookshelf/frontendmasters.com/count-auto-fill-columns.html" target="_blank" style="background:rgba(188,75,52,0.2);"><img class="vp-card-logo" src="https://frontendmasters.com/favicon.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Get the number of auto-fit/auto-fill columns in CSS</div><hr><div class="vp-card-desc">The whole point of auto-fit and auto-fill is that you aren't saying how many columns to use. But if you knew how many the browser chose, you can make nice design decisions.</div></div></a></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/articles/edit/main/src/frontendmasters.com/count-auto-fill-columns.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/programming/css/articles/" aria-label="/programming/css/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/programming/css/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/frontendmasters.com/infinite-marquee-animation-using-modern-css.html" aria-label="Infinite Marquee Animation using Modern CSS"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Infinite Marquee Animation using Modern CSS<i class="vp-icon fa-brands fa-css3-alt" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright © 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><div class="vp-copyright">Copyright © 2025 Ana Tudor </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BVguHYKu.js" defer></script>
  </body>
</html>
