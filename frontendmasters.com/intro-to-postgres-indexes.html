<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Introduction to Postgres Indexes","image":["https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img1-data-1.png?resize=1024%2C209&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img2-ex-plan-1.png?resize=1024%2C230&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img3-ex-plan-sorted-1.png?resize=1024%2C605&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img4-index-1.png?resize=1024%2C290&ssl=1","https://i0.wp.com/assets.codepen.io/3/btree-seek.gif?ssl=1","https://i0.wp.com/assets.codepen.io/3/btree-seek-read.gif?ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/index-seek-with-heap-read-1.gif?resize=1024%2C426&ssl=1","https://i0.wp.com/assets.codepen.io/3/index-seek-with-heap-read.gif?ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img5-index-1-1.png?resize=1024%2C160&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img6-index-3-1.png?resize=1024%2C349&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img6-index-2-1.png?resize=1024%2C134&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img6a-top-3-page-values-1.png?resize=1024%2C362&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img7-pages-index-1.png?resize=1024%2C301&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img9-index-pages-bitmap-scan-1.png?resize=1024%2C429&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img10a-forcing-scan-1.png?resize=1024%2C258&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img10-pages-back-to-heap-scan-1.png?resize=1024%2C207&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img11-pages-title-1.png?resize=1024%2C354&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img12-top-3-page-values-fast-1.png?resize=1024%2C169&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img12-index-with-included-1.png?resize=1024%2C293&ssl=1","https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img13-query-with-included-col-1.png?resize=1024%2C164&ssl=1"],"datePublished":"2025-09-01T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"Adam Rackis","url":"https://frontendmasters.com/blog/author/adamrackis/"}]}</script><meta property="og:url" content="https://chanhi2000.github.io/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html"><meta property="og:site_name" content="📚Bookshelf"><meta property="og:title" content="Introduction to Postgres Indexes"><meta property="og:description" content="Article(s) > Introduction to Postgres Indexes"><meta property="og:type" content="article"><meta property="og:image" content="https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6843"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6843"><meta name="twitter:image:alt" content="Introduction to Postgres Indexes"><meta property="article:author" content="Adam Rackis"><meta property="article:tag" content="postgresql"><meta property="article:tag" content="postgres"><meta property="article:tag" content="db"><meta property="article:tag" content="sql"><meta property="article:tag" content="data-science"><meta property="article:tag" content="frontendmasters.com"><meta property="article:tag" content="blog"><meta property="article:published_time" content="2025-09-01T00:00:00.000Z"><link rel="icon" href="/bookshelf/assets/icon/favicon.svg"><title>Introduction to Postgres Indexes | 📚Bookshelf</title><meta name="description" content="Article(s) > Introduction to Postgres Indexes">
    <link rel="preload" href="/bookshelf/assets/style-DmRYlEXZ.css" as="style"><link rel="stylesheet" href="/bookshelf/assets/style-DmRYlEXZ.css">
    
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/bookshelf/" aria-label="Take me home"><img class="vp-nav-logo" src="/bookshelf/assets/icon/favicon.svg" alt><!----><span class="vp-site-name hide-in-pad">📚Bookshelf</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/bookshelf/news.html" aria-label><!--[--><i class="vp-icon fas fa-rss" sizing="height"></i><!--]--><!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-keyboard" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/hackingwithswift.com/" aria-label="hackingwithswift.com"><!--[--><img class="vp-icon" src="https://hackingwithswift.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->hackingwithswift.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fcc/" aria-label="freecodecamp.org"><!--[--><img class="vp-icon" src="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->freecodecamp.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kodeco.com/" aria-label="kodeco.com"><!--[--><img class="vp-icon" src="https://kodeco.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->kodeco.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.kotzilla.io/" aria-label="blog.kotzilla.io"><!--[--><img class="vp-icon" src="https://blog.kotzilla.io/hubfs/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.kotzilla.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/kt.academy/" aria-label="kt.academy"><!--[--><img class="vp-icon" src="https://kt.academy/logo.png" alt aria-hidden no-view sizing="both"><!--]-->kt.academy<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/droidcon.com/" aria-label="droidcon.com"><!--[--><img class="vp-icon" src="https://droidcon.com/wp-content/uploads/2021/07/favicon-300x300.png" alt aria-hidden no-view sizing="both"><!--]-->droidcon.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/outcomeschool.com/" aria-label="outcomeschool.com"><!--[--><img class="vp-icon" src="https://outcomeschool.com/static/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->outcomeschool.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/bookshelf/frontendmasters.com/" aria-label="frontendmasters.com"><!--[--><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->frontendmasters.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/css-tricks.com/" aria-label="css-tricks.com"><!--[--><img class="vp-icon" src="https://css-tricks.com/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->css-tricks.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/smashingmagazine.com/" aria-label="smashingmagazine.com"><!--[--><img class="vp-icon" src="https://smashingmagazine.com/images/favicon/favicon.svg" alt aria-hidden no-view sizing="both"><!--]-->smashingmagazine.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.logrocket.com/" aria-label="blog.logrocket.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/blog.logrocket.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->blog.logrocket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/realpython.com/" aria-label="realpython.com"><!--[--><img class="vp-icon" src="https://realpython.com/static/favicon.68cbf4197b0c.png" alt aria-hidden no-view sizing="both"><!--]-->realpython.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/digitalocean.com/" aria-label="digitalocean.com"><!--[--><img class="vp-icon" src="https://digitalocean.com/_next/static/media/favicon.594d6067.ico" alt aria-hidden no-view sizing="both"><!--]-->digitalocean.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/antonioleiva.com/" aria-label="antonioleiva.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/antonioleiva.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->antonioleiva.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/johnnyreilly.com/" aria-label="johnnyreilly.com"><!--[--><img class="vp-icon" src="https://johnnyreilly.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->johnnyreilly.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/code-maze.com/" aria-label="code-maze.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/code-maze.com/favicon.png" alt aria-hidden no-view sizing="both"><!--]-->code-maze.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/milanjovanovic.tech/" aria-label="milanjovanovic.tech"><!--[--><img class="vp-icon" src="https://milanjovanovic.tech/profile_favicon.png" alt aria-hidden no-view sizing="both"><!--]-->milanjovanovic.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/shopify.engineering/" aria-label="shopify.engineering"><!--[--><img class="vp-icon" src="https://cdn.shopify.com/static/shopify-favicon.png" alt aria-hidden no-view sizing="both"><!--]-->shopify.engineering<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devtoolstips.org/" aria-label="devtoolstips.org"><!--[--><img class="vp-icon" src="https://devtoolstips.org/assets/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devtoolstips.org<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/piccalil.li/" aria-label="piccalil.li"><!--[--><img class="vp-icon" src="https://piccalil.li/favicons/apple-touch-icon.png" alt aria-hidden no-view sizing="both"><!--]-->piccalil.li<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/sitepoint.com/" aria-label="sitepoint.com"><!--[--><img class="vp-icon" src="https://sitepoint.com/favicons/512x512.png" alt aria-hidden no-view sizing="both"><!--]-->sitepoint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/event-driven.io/" aria-label="event-driven.io"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/event-driven.io/favicon.jfif" alt aria-hidden no-view sizing="both"><!--]-->event-driven.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/packagemain.tech/" aria-label="packagemain.tech"><!--[--><img class="vp-icon" src="https://substack-post-media.s3.amazonaws.com/public/images/2ea54e25-eaa6-4630-bfc0-10b8cfdce894/apple-touch-icon-1024x1024.png" alt aria-hidden no-view sizing="both"><!--]-->packagemain.tech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/gosolve.io/" aria-label="gosolve.io"><!--[--><img class="vp-icon" src="https://gosolve.io/wp-content/uploads/2022/03/cropped-ikona1-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->gosolve.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/towardsdatascience.com/" aria-label="towardsdatascience.com"><!--[--><img class="vp-icon" src="https://cdn-images-1.medium.com/v2/resize:fill:128:128/1*VzTUkfeGymHP4Bvav-T-lA.png" alt aria-hidden no-view sizing="both"><!--]-->towardsdatascience.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/douggregor.net/" aria-label="douggregor.net"><!--[--><i class="vp-icon fas fa-globe" sizing="both"></i><!--]-->douggregor.net<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/d2.naver.com/" aria-label="d2.naver.com"><!--[--><img class="vp-icon" src="/bookshelf/assets/image/d2.naver.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->d2.naver.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakao.com/" aria-label="tech.kakao.com"><!--[--><img class="vp-icon" src="https://www.kakaocorp.com/page/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakao.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tech.kakaopay.com/" aria-label="tech.kakaopay.com"><!--[--><img class="vp-icon" src="https://tech.kakaopay.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tech.kakaopay.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/fe-developers.kakaoent.com/" aria-label="fe-developers.kakaoent.com"><!--[--><img class="vp-icon" src="https://fe-developers.kakaoent.com/favicon-32x32.png?v=44803cb16c1e2debd3984cf2e8cb2ded" alt aria-hidden no-view sizing="both"><!--]-->fe-developers.kakaoent.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/yozm.wishket.com/" aria-label="yozm.wishket.com"><!--[--><img class="vp-icon" src="https://yozm.wishket.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->yozm.wishket.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/popit.kr/" aria-label="popit.kr"><!--[--><img class="vp-icon" src="https://popit.kr/wp-content/uploads/2016/08/favicon_32x32.png" alt aria-hidden no-view sizing="both"><!--]-->popit.kr<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/devkuma.com/" aria-label="devkuma.com"><!--[--><img class="vp-icon" src="https://devkuma.com/favicons/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->devkuma.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/blog.gangnamunni.com/" aria-label="blog.gangnamunni.com"><!--[--><img class="vp-icon" src="https://blog.gangnamunni.com/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->blog.gangnamunni.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/codingeverybody.kr/" aria-label="codingeverybody.kr"><!--[--><img class="vp-icon" src="https://codingeverybody.kr/wp-content/uploads/cropped-favicon-origin-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->codingeverybody.kr<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label><!--[--><i class="vp-icon fas fa-network-wired" sizing="height"></i><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/tecmint.com/" aria-label="tecmint.com"><!--[--><img class="vp-icon" src="https://tecmint.com/wp-content/uploads/2020/07/favicon.ico" alt aria-hidden no-view sizing="both"><!--]-->tecmint.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/docker.com/" aria-label="docker.com"><!--[--><img class="vp-icon" src="https://docker.com/app/uploads/2024/02/cropped-docker-logo-favicon-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->docker.com<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/learnk8s.io/" aria-label="learnk8s.io"><!--[--><img class="vp-icon" src="https://static.learnk8s.io/f7e5160d4744cf05c46161170b5c11c9.svg" alt aria-hidden no-view sizing="both"><!--]-->learnk8s.io<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/bookshelf/itsfoss.com/" aria-label="itsfoss.com"><!--[--><img class="vp-icon" src="https://itsfoss.com/content/images/size/w256h256/2022/12/android-chrome-192x192.png" alt aria-hidden no-view sizing="both"><!--]-->itsfoss.com<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chanhi2000/articles" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="https://frontendmasters.com/favicon.ico" alt aria-hidden no-view sizing="both"><span class="vp-sidebar-title">frontendmasters.com</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2025</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/inset-shadows-directly-on-img-elements-part-1.html" aria-label="Inset Shadows Directly on img Elements (Part 1)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Inset Shadows Directly on img Elements (Part 1)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/learn-media-queries.html" aria-label="How much do you really know about media queries?"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->How much do you really know about media queries?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-coyier-css-starter.html" aria-label="The Coyier CSS Starter"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Coyier CSS Starter<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/what-you-need-to-know-about-modern-css-2025-edition.html" aria-label="What You Need to Know about Modern CSS (2025 Edition)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->What You Need to Know about Modern CSS (2025 Edition)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/css-offset-and-animation-composition-for-rotating-menus.html" aria-label="CSS offset and animation-composition for Rotating Menus"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS offset and animation-composition for Rotating Menus<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/choosing-the-right-model-in-cursor.html" aria-label="Choosing the Right Model in Cursor"><!--[--><i class="vp-icon iconfont icon-cursor" sizing="both"></i><!--]-->Choosing the Right Model in Cursor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/getting-started-with-cursor.html" aria-label="Getting Started with Cursor"><!--[--><i class="vp-icon iconfont icon-cursor" sizing="both"></i><!--]-->Getting Started with Cursor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/advanced-postgresql-indexing.html" aria-label="Advanced PostgreSQL Indexing: Multi-Key Queries and Performance Optimization"><!--[--><i class="vp-icon iconfont icon-postgresql" sizing="both"></i><!--]-->Advanced PostgreSQL Indexing: Multi-Key Queries and Performance Optimization<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html" aria-label="Introduction to Postgres Indexes"><!--[--><i class="vp-icon iconfont icon-postgresql" sizing="both"></i><!--]-->Introduction to Postgres Indexes<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-path-of-least-resistance-part-2.html" aria-label="The `-path` of Least Resistance (Part 2)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The `-path` of Least Resistance (Part 2)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-path-of-least-resistance-part-1.html" aria-label="The `-path` of Least Resistance (Part 1)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The `-path` of Least Resistance (Part 1)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/opening-a-details-element-from-the-url.html" aria-label="Opening a Details Element from the URL"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Opening a Details Element from the URL<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/very-early-playing-with-random-in-css.html" aria-label="Very Early Playing with random() in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Very Early Playing with random() in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/quick-dark-mode-toggles.html" aria-label="Quick Dark Mode Toggles"><!--[--><i class="vp-icon fa-brands fa-chrome" sizing="both"></i><!--]-->Quick Dark Mode Toggles<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/obsessing-over-smooth-radial-gradient-disc-edges.html" aria-label="Obsessing Over Smooth radial-gradient() Disc Edges"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Obsessing Over Smooth radial-gradient() Disc Edges<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/web-design-what-is-the-web-capable-of-that-is-hard-to-express-in-design-software.html" aria-label="Web Design: What is the web capable of that is hard to express in design software?"><!--[--><i class="vp-icon fas fa-pen-ruler" sizing="both"></i><!--]-->Web Design: What is the web capable of that is hard to express in design software?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/architecture-through-component-colocation.html" aria-label="A Nice Vanilla App Archicture Using Web Components and CSS Module Scripts"><!--[--><i class="vp-icon fa-brands fa-node" sizing="both"></i><!--]-->A Nice Vanilla App Archicture Using Web Components and CSS Module Scripts<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/using-the-custom-highlight-api.html" aria-label="Using the Custom Highlight API"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->Using the Custom Highlight API<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/count-auto-fill-columns.html" aria-label="Get the number of auto-fit/auto-fill columns in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Get the number of auto-fit/auto-fill columns in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/infinite-marquee-animation-using-modern-css.html" aria-label="Infinite Marquee Animation using Modern CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Infinite Marquee Animation using Modern CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/should-we-never-use-non-logical-properties.html" aria-label="Should we NEVER use non-logical properties?"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Should we NEVER use non-logical properties?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-figcaption-problem.html" aria-label="The Figcaption Problem"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Figcaption Problem<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/introducing-zustand.html" aria-label="Introducing Zustand (State Management)"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->Introducing Zustand (State Management)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/adaptive-alerts-a-css-scroll-state-use-case.html" aria-label="Adaptive Alerts (a CSS scroll-state Use Case)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Adaptive Alerts (a CSS scroll-state Use Case)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/stacked-transforms.html" aria-label="Stacked Transforms"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Stacked Transforms<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/deploy-a-site-with-a-build-process-a-custom-domain-name.html" aria-label="Deploy a Site with a Build Process &amp; a Custom Domain Name"><!--[--><i class="vp-icon fas fa-network-wired" sizing="both"></i><!--]-->Deploy a Site with a Build Process &amp; a Custom Domain Name<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/view-transition-list-reordering-with-a-kick-flip.html" aria-label="View Transition List Reordering (with a Kick Flip)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->View Transition List Reordering (with a Kick Flip)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/satisfies-in-typescript.html" aria-label="Satisfies in TypeScript"><!--[--><i class="vp-icon iconfont icon-typescript" sizing="both"></i><!--]-->Satisfies in TypeScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/custom-select-that-comes-up-from-the-bottom-on-mobile.html" aria-label="Custom Select (that comes up from the bottom on mobile)"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Custom Select (that comes up from the bottom on mobile)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/step-gradients-with-a-given-number-of-steps.html" aria-label="Step Gradients with a Given Number of Steps"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Step Gradients with a Given Number of Steps<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/quantity-query-carousel.html" aria-label="Quantity Query Carousel"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Quantity Query Carousel<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/understanding-css-corner-shape-and-the-power-of-the-superellipse.html" aria-label="Understanding CSScorner-shapeand the Power of the Superellipse"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Understanding CSScorner-shapeand the Power of the Superellipse<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/drawing-css-shapes-using-corner-shape.html" aria-label="Drawing CSS Shapes using corner-shape"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Drawing CSS Shapes using corner-shape<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/scope-in-css.html" aria-label="Scope in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Scope in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/grainy-gradients.html" aria-label="Grainy Gradients"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Grainy Gradients<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/1fr-1fr-vs-auto-auto-vs-50-50.html" aria-label="1fr 1fr vs auto auto vs 50% 50%"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->1fr 1fr vs auto auto vs 50% 50%<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/scroll-driven-letter-grid.html" aria-label="Scroll-Driven Letter Grid"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Scroll-Driven Letter Grid<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/firstchild-can-be-white-space.html" aria-label="firstChild can be white space"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->firstChild can be white space<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-simplest-way-to-deploy.html" aria-label="The Simplest Way to Deploy Your Own Updatable Portfolio Site"><!--[--><i class="vp-icon iconfont icon-github" sizing="both"></i><!--]-->The Simplest Way to Deploy Your Own Updatable Portfolio Site<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/css-spotlight-effect.html" aria-label="CSS Spotlight Effect"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS Spotlight Effect<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/move-modal-in-on-a-shape.html" aria-label="Move Modal in on a… shape()"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Move Modal in on a… shape()<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/chatgpt-and-old-and-broken-code.html" aria-label="ChatGPT and the proliferation of obsolete and broken solutions to problems we hadn’t had for over half a decade before its launch"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->ChatGPT and the proliferation of obsolete and broken solutions to problems we hadn’t had for over half a decade before its launch<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/creating-blob-shapes-using-clip-path-shape.html" aria-label="Creating Blob Shapes using clip-path: shape()"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Creating Blob Shapes using clip-path: shape()<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/to-flip-or-not-to-flip.html" aria-label="Is there a Correct Answer? Flipping Layouts When Google Translate Swaps between a Left-to-Right Language and a Right-to-Left Language"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Is there a Correct Answer? Flipping Layouts When Google Translate Swaps between a Left-to-Right Language and a Right-to-Left Language<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/container-query-for-is-there-enough-space-outside-this-element.html" aria-label="Container Query for “is there enough space outside this element?”"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Container Query for “is there enough space outside this element?”<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/creating-flower-shapes-using-clip-path-shape.html" aria-label="Creating Flower Shapes using clip-path: shape()"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Creating Flower Shapes using clip-path: shape()<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/shape-a-new-powerful-drawing-syntax-in-css.html" aria-label="shape(): A New Powerful Drawing Syntax in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->shape(): A New Powerful Drawing Syntax in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/using-container-query-units-relative-to-an-outer-container.html" aria-label="Using Container Query Units Relative to an Outer Container"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Using Container Query Units Relative to an Outer Container<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/curved-box-cutouts-in-css.html" aria-label="Curved Box Cutouts in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Curved Box Cutouts in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/seeking-an-answer-why-cant-html-alone-do-includes.html" aria-label="Seeking an Answer: Why can’t HTML alone do includes?"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Seeking an Answer: Why can’t HTML alone do includes?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/react-internals-which-useeffect-runs-first.html" aria-label="React Internals: Which useEffect runs first?"><!--[--><i class="vp-icon fa-brands fa-react" sizing="both"></i><!--]-->React Internals: Which useEffect runs first?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/am-i-a-sadistic-developer-are-you.html" aria-label="Am I a Sadistic Developer? Are You?"><!--[--><i class="vp-icon fas fa-user-tie" sizing="both"></i><!--]-->Am I a Sadistic Developer? Are You?<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/newfangled-browser-alternatives.html" aria-label="Newfangled Browser Alternatives"><!--[--><i class="vp-icon fa-brands fa-chrome" sizing="both"></i><!--]-->Newfangled Browser Alternatives<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/lessons-learned-from-recreating-a-styled-dialog.html" aria-label="Lessons Learned from Recreating a Styled Dialog"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Lessons Learned from Recreating a Styled Dialog<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-latest-in-the-how-are-we-going-to-do-masonry-debate-apple-says-item-flow.html" aria-label="The Latest in the “How are we going to do masonry?” Debate: Apple Says “Item Flow”"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->The Latest in the “How are we going to do masonry?” Debate: Apple Says “Item Flow”<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/using-currentcolor-in-2025.html" aria-label="Using currentColor in 2025"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Using currentColor in 2025<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/custom-progress-element-using-the-attr-function.html" aria-label="Custom progress element using the attr() function"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Custom progress element using the attr() function<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/css-bursts-with-conic-gradients.html" aria-label="CSS Bursts with Conic Gradients"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS Bursts with Conic Gradients<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/reanimating-the-css-day-buttons.html" aria-label="Reanimating the CSS Day Buttons"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Reanimating the CSS Day Buttons<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/expanding-css-shadow-effects.html" aria-label="Expanding CSS Shadow Effects - Frontend Masters Blog"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Expanding CSS Shadow Effects - Frontend Masters Blog<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/layered-text-headers.html" aria-label="Layered Text Headers"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Layered Text Headers<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/one-thing-scope-can-do-is-reduce-concerns-about-source-order.html" aria-label="One Thing @scope Can Do is Reduce Concerns About Source Order"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->One Thing @scope Can Do is Reduce Concerns About Source Order<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/overlapping-inline-backgrounds.html" aria-label="A Deep Dive into the Inline Background Overlap Problem"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A Deep Dive into the Inline Background Overlap Problem<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/chilled-out-text-underlines.html" aria-label="Chilled Out Text Underlines"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Chilled Out Text Underlines<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/the-moment-you-need-a-database.html" aria-label="The Moment You Need a Database"><!--[--><i class="vp-icon fas fa-database" sizing="both"></i><!--]-->The Moment You Need a Database<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/movies-as-images.html" aria-label="Movies as Images"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Movies as Images<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/custom-property-fallbacks.html" aria-label="Custom Property Fallbacks"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Custom Property Fallbacks<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/examples-of-why-the-web-needs-anchored-popovers.html" aria-label="Examples of Why The Web Needs Anchored Popovers"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Examples of Why The Web Needs Anchored Popovers<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/how-to-use-attr-in-css-for-columns-colors-and-font-size.html" aria-label="How to Use attr() in CSS for Columns, Colors, and Font-Size"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->How to Use attr() in CSS for Columns, Colors, and Font-Size<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/a-color-input-that-also-shows-the-value.html" aria-label="A Color Input That Also Shows the Value"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->A Color Input That Also Shows the Value<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/rainbow-selection-in-css.html" aria-label="Rainbow Selection in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Rainbow Selection in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/optimizing-images-for-web-performance.html" aria-label="Optimizing Images for Web Performance"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Optimizing Images for Web Performance<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/three-approaches-to-the-ampersand-selector-in-css.html" aria-label="Three Approaches to the “&amp;” (ampersand) Selector in CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Three Approaches to the “&amp;” (ampersand) Selector in CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/html-css-for-a-one-time-password-input.html" aria-label="HTML &amp; CSS for a One-Time Password Input"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->HTML &amp; CSS for a One-Time Password Input<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/notes-on-the-code-editors-with-ai-landscape.html" aria-label="Notes on the Code Editors with AI Landscape"><!--[--><i class="vp-icon iconfont icon-vscode" sizing="both"></i><!--]-->Notes on the Code Editors with AI Landscape<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/mapping-with-leaflet.html" aria-label="Mapping with Leaflet"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->Mapping with Leaflet<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/full-bleed-layout-with-modern-css.html" aria-label="Full-Bleed Layout with Modern CSS"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Full-Bleed Layout with Modern CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/creating-an-angled-slider.html" aria-label="Creating an Angled Slider"><!--[--><i class="vp-icon fa-brands fa-sass" sizing="both"></i><!--]-->Creating an Angled Slider<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/simplify-lazy-loading-with-intersection-observers-scrollmargin.html" aria-label="Simplify Lazy Loading With Intersection Observer’s ScrollMargin"><!--[--><i class="vp-icon fa-brands fa-js" sizing="both"></i><!--]-->Simplify Lazy Loading With Intersection Observer’s ScrollMargin<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/css-wishlist-for-2025.html" aria-label="CSS Wishlist for 2025"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->CSS Wishlist for 2025<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/sharing-a-variable-across-html-css-and-javascript.html" aria-label="Sharing a Variable Across HTML, CSS, and JavaScript"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Sharing a Variable Across HTML, CSS, and JavaScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/bone-up-html-2025.html" aria-label="Relatively New Things You Should Know about HTML Heading Into 2025"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Relatively New Things You Should Know about HTML Heading Into 2025<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/bookshelf/frontendmasters.com/containers-context.html" aria-label="Containers &amp; Context"><!--[--><i class="vp-icon fa-brands fa-css3-alt" sizing="both"></i><!--]-->Containers &amp; Context<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2024</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2023</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6843" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon iconfont icon-postgresql" sizing="height"></i>Introduction to Postgres Indexes</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://frontendmasters.com/blog/author/adamrackis/" target="_blank" rel="noopener noreferrer">Adam Rackis</a></span><span property="author" content="Adam Rackis"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">9/1/25</span><meta property="datePublished" content="2025-09-01T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 18 min</span><meta property="timeRequired" content="PT18M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color3" role>Data Science</span><span class="page-category-item color4" role>PostgreSQL</span><span class="page-category-item color8" role>Article(s)</span><!--]--><meta property="articleSection" content="Data Science,PostgreSQL,Article(s)"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8" role>blog</span><span class="page-tag-item color8" role>frontendmasters.com</span><span class="page-tag-item color3" role>data-science</span><span class="page-tag-item color4" role>sql</span><span class="page-tag-item color5" role>db</span><span class="page-tag-item color7" role>postgres</span><span class="page-tag-item color2" role>postgresql</span><!--]--><meta property="keywords" content="blog,frontendmasters.com,data-science,sql,db,postgres,postgresql"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="frontmatter-title-관련" tabindex="-1"><a class="header-anchor" href="#frontmatter-title-관련"><span>Introduction to Postgres Indexes 관련</span></a></h1><a class="route-link vp-card" href="/bookshelf/data-science/postgres/articles/" style="background:rgba(10,10,10,0.2);"><img class="vp-card-logo" src="/bookshelf/images/ico-wind.svg" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">PostgreSQL > Article(s)</div><hr><div class="vp-card-desc">Article(s)</div></div></a><nav class="table-of-contents"><ul><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#setting-some-baselines" class="router-link-active router-link-exact-active">Setting some baselines</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#indexes" class="router-link-active router-link-exact-active">Indexes</a><ul><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#b-trees-run-in-o-logn-time" class="router-link-active router-link-exact-active">B Trees run in O(LogN) time</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#how-deep-are-real-indexes" class="router-link-active router-link-exact-active">How deep are real indexes?</a></li></ul></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#taking-an-index-for-a-spin" class="router-link-active router-link-exact-active">Taking an index for a spin</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#re-visiting-our-titles-sort" class="router-link-active router-link-exact-active">Re-visiting our titles sort</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#more-fun-with-indexes" class="router-link-active router-link-exact-active">More fun with indexes</a><ul><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#the-road-not-traveled" class="router-link-active router-link-exact-active">The road not traveled</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#when-stats-get-things-right" class="router-link-active router-link-exact-active">When stats get things right</a></li></ul></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#covering-indexes" class="router-link-active router-link-exact-active">Covering Indexes</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#a-variation-on-the-theme" class="router-link-active router-link-exact-active">A variation on the theme</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#pay-attention-to-your-select-clauses" class="router-link-active router-link-exact-active">Pay attention to your SELECT clauses</a></li><li><a aria-current="page" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html#wrapping-up" class="router-link-active router-link-exact-active">Wrapping up</a></li></ul></nav><hr><div class="vp-site-info" data-name="Introduction to Postgres Indexes"><a class="vp-site-info-navigator no-external-link-icon" title="Introduction to Postgres Indexes" href="https://frontendmasters.com/blog/intro-to-postgres-indexes/" target="_blank"></a><div class="vp-site-info-preview" style="background:url(https://frontendmasters.com/blog/wp-json/social-image-generator/v1/image/6843) center/cover no-repeat;"></div><div class="vp-site-info-detail"><img class="vp-site-info-logo" src="https://frontendmasters.com/favicon.ico" alt loading="lazy" no-view><div class="vp-site-info-name">Introduction to Postgres Indexes</div><div class="vp-site-info-desc">This Part 1 (of a 2-part series) is a practical, hands-on, applicable approach to database indexes. We’ll cover what B Trees are with a focus on deeply understanding, and internalizing how they store data on disk, and how your database uses them to speed up queries. This will set us up nicely for part 2, […]</div></div><!----></div><div class="hint-container info"><p class="hint-container-title">Article Series</p><a class="route-link vp-card" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html" style="background:rgba(188,75,52,0.2);"><img class="vp-card-logo" src="https://frontendmasters.com/favicon.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Introduction to Postgres Indexes</div><hr><div class="vp-card-desc">This Part 1 (of a 2-part series) is a practical, hands-on, applicable approach to database indexes. We’ll cover what B Trees are with a focus on deeply understanding, and internalizing how they store data on disk, and how your database uses them to speed up queries. This will set us up nicely for part 2, […]</div></div></a><a class="route-link vp-card" href="/bookshelf/frontendmasters.com/advanced-postgresql-indexing.html" style="background:rgba(188,75,52,0.2);"><img class="vp-card-logo" src="https://frontendmasters.com/favicon.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Advanced PostgreSQL Indexing: Multi-Key Queries and Performance Optimization</div><hr><div class="vp-card-desc">Postgres creates an execution plan for how to retrieve the data you're asking for in a query. The execution plan is based in part on statistics from your data and indexes it has available. Just the right index and a bit of query tuning can have a huge payoff in performance gains that your users will notice.</div></div></a></div><p>This Part 1 (of a 2-part series) is a practical, hands-on, applicable approach to database indexes. We’ll cover what <strong>B Trees</strong> are with a focus on deeply understanding, and internalizing how they store data on disk, and how your database uses them to speed up queries.</p><p>This will set us up nicely for part 2, where we’ll explore some interesting, counterintuitive ways to press indexes into service to achieve great querying performance over large amounts of data.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>There are other types of database indexes beside B Tree, but B Tree indexes are the most common, which is why they’ll be the exclusive focus of this post.</p></div><p>Everything in these posts will use <a href="https://postgresql.org/" target="_blank" rel="noopener noreferrer"><i class="vp-icon iconfont icon-postgresql" sizing="height"></i>Postgres</a>, but everything is directly applicable to other relational databases (like MySQL). All the queries I’ll be running are against a simple books database which I scaffolded, and had <a href="https://cursor.com/en" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>Cursor</a> populate with about 90 million records. The schema for the database, as well as the code to fill it are in <a href="https://github.com/arackaf/postgres-indexing-post" target="_blank" rel="noopener noreferrer">this repo (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>arackaf/postgres-indexing-post</code>)</a>. If you’d like to follow along on your own: <i class="vp-icon fas fa-folder-open" sizing="height"></i><code>sql/</code><i class="vp-icon fas fa-file-lines" sizing="height"></i><code>db_create.sql</code> has the DDL, and <code>npx tsx insert-data/fill-database.ts</code> will run the code to fill it.</p><p>We’ll be looking at some B Tree visualizations as we go. Those were put together with <a href="https://github.com/arackaf/btree-visualizer" target="_blank" rel="noopener noreferrer">a web app I had Cursor help me build (<i class="vp-icon iconfont icon-github" sizing="height"></i><code>arackaf/btree-visualizer</code>)</a>.</p><div class="hint-container note"><p class="hint-container-title">Editors’ note</p><p>Need to bone up on PostgreSQL all around? Our course <a href="https://frontendmasters.com/courses/sql/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>Complete Intro to SQL &amp; PostgreSQL</a> from Brian Holt will be perfect for you.</p></div><hr><h2 id="setting-some-baselines" tabindex="-1"><a class="header-anchor" href="#setting-some-baselines"><span>Setting some baselines</span></a></h2><p>Just for fun, let’s take a look at the first 10 rows in the books table. Don’t look too close, again, this was all algorithmically generated by AI. The special characters at the beginning were my crude way of forcing the (extremely repetitive) titles to spread out.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img1-data-1.png?resize=1024%2C209&amp;ssl=1" alt="Screen capture of a SQL query displaying the first 10 rows from a &#39;books&#39; table, showing columns for ID, title, author, publisher, publication date, pages, and promotional status." tabindex="0" loading="lazy"><figcaption>Screen capture of a SQL query displaying the first 10 rows from a &#39;books&#39; table, showing columns for ID, title, author, publisher, publication date, pages, and promotional status.</figcaption></figure><p>That’s the last time we’ll be looking at actual data. From here forward we’ll look at queries, the execution plans they generate, and we’ll talk about how indexes might, or might not be able to help. Rather than the psql terminal utility I’ll be running everything through DataGrip, which is an IDE for databases. The output is identical, except with nicely numbered lines which will make things easier to talk about as we go.</p><p>Let’s get started. Let’s see what the prior query looks like by putting <code>explain analyze</code> before it. This tells Postgres to execute the query, and return to us the execution plan it used, as well as its performance.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">EXPLAIN</span> <span class="token keyword">ANALYZE</span></span>
<span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> books <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img2-ex-plan-1.png?resize=1024%2C230&amp;ssl=1" alt="Database query execution plan showing a limit of 10 rows retrieved from the books table through a sequential scan, with specific cost and time metrics." tabindex="0" loading="lazy"><figcaption>Database query execution plan showing a limit of 10 rows retrieved from the books table through a sequential scan, with specific cost and time metrics.</figcaption></figure><p>We asked for 10 rows. The database did a sequential scan on our books table, but with a <code>limit</code> of 10. This couldn’t be a simpler query, and it returned in less than one twentieth of one millisecond. This is hardly surprising (or interesting). Postgres reached in and grabbed the first ten rows.</p><p>Let’s grab the first 10 books, but this time sorted alphabetically.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img3-ex-plan-sorted-1.png?resize=1024%2C605&amp;ssl=1" alt="Screenshot of a SQL query inputted in a database IDE showing a query to select the first 10 books ordered by title, along with the execution plan output detailing the performance metrics." tabindex="0" loading="lazy"><figcaption>Screenshot of a SQL query inputted in a database IDE showing a query to select the first 10 books ordered by title, along with the execution plan output detailing the performance metrics.</figcaption></figure><p><em>Catastrophically</em>, this took 20 <em>seconds</em>. With 90 million rows in this table, Postgres now has to (kind of) sort the entire table, in order to know what the first 10 books are.</p><p>I say <em>kind of</em> since it doesn’t <em>really</em> have to sort the <em>entire</em> table; it just has to scan the entire table and keep track of the 10 rows with the lowest titles. That’s what the top-N heapsort is doing.</p><p>And it’s doing that in parallel. We can see two child workers getting spawned (in addition to the main worker already running our query) to each scan about a third of the table. Then the Gather Merge pulls from each worker until it has the top 10. In this case it only needed to pull the top 7 rows from each worker to get its 10; this is reflected in lines 3-9 of the execution plan.</p><p>Line 5 makes this especially clear</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">-&gt;  Sort  (cost=2839564.34..2934237.14 rows=37869122 width=112) (actual time=20080.358..20080.359 rows=7 loops=3)  </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>Notice the <code>loops=3</code>, and the rows=37 million. Each worker is scanning its share of the table, and keeping the top 7 it sees.</p><p>These 3 groups of 7 are then <em>gathered</em> and <em>merged</em> together in the Gather Merge on line 2</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="output"><span>output</span></div><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">-&gt;  Gather Merge  (cost=2840564.36..11677309.78 rows=75738244 width=112) (actual time=20093.790..20096.619 rows=10 loops=1)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>Rather than just slapping an index in, and magically watching the time drop down, let’s take a quick detour and make sure we really understand <em>how</em> indexes work. Failing to do this can result in frustration when your database winds up not picking the index you want it to, for reasons that a good understanding could make clear.</p><hr><h2 id="indexes" tabindex="-1"><a class="header-anchor" href="#indexes"><span>Indexes</span></a></h2><p>The best way to think about a database index is in terms of an index in a book. These list all the major terms in the book, as well as all the pages that the term appears on. Imagine you have a 1,000 page book on the American Civil War, and wanted to know what pages Philip Sheridan are mentioned on. It would be excruciatingly slow to just look through all 1,000 pages, searching for those words. But if there’s a 30 or so page index, your task is considerably simpler.</p><p>Before we go further, let’s look at a very basic index over a numeric <code>id</code> column</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img4-index-1.png?resize=1024%2C290&amp;ssl=1" alt="A visual representation of a B Tree structure, showcasing internal nodes with key ranges and leaf nodes containing data values." tabindex="0" loading="lazy"><figcaption>A visual representation of a B Tree structure, showcasing internal nodes with key ranges and leaf nodes containing data values.</figcaption></figure><p>This is a B Tree, which is how (most) indexes in a database are stored.</p><p>Start at the very, very bottom. Those blue “leaf” nodes contain the actual data in your index. These are the actual id values. This is a direct analogue to a book’s index.</p><p>So what are the gold boxes above them? These help you find <em>where</em> the leaf node is, with the value you’re looking for.</p><p>Let’s go to the very top, to the root node of our B Tree. Each of these internal nodes will have N key values, and N+1 pointers. If the value you’re looking for is strictly less than the first value, go down that first, left-most arrow and continue your search. If the value you’re looking for is greater than or equal to that first key, but strictly less than the next key, take the second arrow. And so on. In real life the number of keys in each of these nodes will be determined by how many of them can fit into a single page on disk (and will usually be much more than 3).</p><p>So with this B Tree, if we want to find id = 33, we start at the root. The id 33 is not &lt; 19, so we don’t take the first arrow. But 33 <em>is</em> &gt;=19 and &lt;37, so we take the middle arrow.</p><p>Now we repeat. The id 33 is not &lt; 25, so we don’t take the left most path. The id 33 is not &gt;= 25 <strong>AND</strong> &lt; 31, so we don’t take the middle path. But 33 <strong>is</strong> greater than 31 (it better be, this is the last path remaining), so we take the right most path. And that takes us to the leaf node with our key value.</p><figure><img src="https://i0.wp.com/assets.codepen.io/3/btree-seek.gif?ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Notice also that these leaf nodes have pointers forward and backward. This allows us to not only find a <em>specific</em> key value, but also a <em>range</em> of values. If we wanted all ids &gt; 33, we could do as we did, and just keep reading.</p><figure><img src="https://i0.wp.com/assets.codepen.io/3/btree-seek-read.gif?ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>But — now what? What if we ran a query of <code>SELECT * FROM books WHERE id = 33</code> – we’ve arrived at a leaf node in our index with … our key. How do we get all the <em>data</em> associated with that key? In other words the actual <em>row</em> in the database for that value?</p><p>The thing I’ve left off so far is that leaf nodes also contain pointers to the actual table where that value in question is.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/index-seek-with-heap-read-1.gif?resize=1024%2C426&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Returning briefly to our analogy with a book’s index, those heap pointers correspond to the page number beside each index entry, telling you where to go in the book to see the actual content.</p><p>So the full story to find a single row in our database by an id value, via an index, would actually look more like this:</p><figure><img src="https://i0.wp.com/assets.codepen.io/3/index-seek-with-heap-read.gif?ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>We’ll talk later about these heap reads, or lack thereof when we get into covering indexes and the Index Only Scan operation.</p><p>Bear with me a little longer. Before we look at what an index on title would look like, and create one in our database to run our query against, let’s take a slightly deeper look at B Trees. Internalizing how they work can be incredibly valuable.</p><h3 id="b-trees-run-in-o-logn-time" tabindex="-1"><a class="header-anchor" href="#b-trees-run-in-o-logn-time"><span>B Trees run in O(LogN) time</span></a></h3><p>You may have been taught a fun little math fact in school, that if you were to be given a penny on January 1st, then have your penny doubled on January 2nd, then have that new amount (2 cents) doubled on January 3rd, etc, you’d have about $10 million dollars before February. That’s the power of exponential operations. Anytime you’re repeatedly multiplying a value by some constant (which is all doubling is, for constant 2), it will become enormous, <em>fast</em>.</p><p>Now think of a more depressing, reverse scenario. If someone gave you $10 million on January 1st, but with the condition that your remaining money would be halved each day, you’d have a lowly cent remaining on Feb 1st. This is a logarithm; it’s the inverse of exponentiation. Rather than <em>multiplying</em> a value by some constant, we <em>divide</em> it by some constant. No matter how enormous, it will become small, fast.</p><p>This is exactly how B Trees work. In our example B Tree above, there were 9 leaf pages. Our internal nodes had up to 3 pointers. Notice that we were able to find out the exact leaf node we wanted by following only 2 of those gold nodes’ arrows (which is also the <em>depth</em> of the tree).</p><p>9 divided by 3 is 3</p><p>3 divided by 3 is 1</p><p>Or, more succinctly, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>3</mn></msub><mn>9</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">\log_{3}{9}=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">9</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></p><p>Which reads as</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">Logarithm base 3 of 9 is 2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>But these small values don’t really do this concept justice. Imagine if you had an index with whose leaves spanned 4 billion pages, and your index nodes had only 2 pointers, each (both of these assumptions are unrealistic). You’d <em>still</em> need only 32 page reads to find any specific value.</p><p class="katex-block"><span class="katex-error" title="ParseError: KaTeX parse error: Got function &#39;$&#39; with no arguments as superscript at position 3: 2^$̲{32}=~4\text{bi…" style="color:#cc0000;">2^${32}=~4\text{billion} </span></p><p>and also</p><p class="katex-block"><span class="katex-error" title="ParseError: KaTeX parse error: Expected group as argument to &#39;\right&#39; at position 33: …\:billion\right}̲=32
" style="color:#cc0000;">\log_{2}{\left(~4\:billion\right}=32 </span></p><p>They’re literally inverse operations of each other.</p><h3 id="how-deep-are-real-indexes" tabindex="-1"><a class="header-anchor" href="#how-deep-are-real-indexes"><span>How deep are real indexes?</span></a></h3><p>Before we move on, let’s briefly look at how deep a real Postgres index is on a somewhat large amount of data. The books table with 90 million entries already has an index defined on the primary key id field, which is a 32 bit integer. Without going into gross detail about what all is stored on a B Tree node (N keys, N+1 offsets to other nodes, some metadata and headers, etc), ChatGPT estimates that Postgres can store between 400-500 key fields on an index on a 32 bit integer.</p><p>Let’s check that. There’s a Postgres extension for just this purpose.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> EXTENSION <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> pageinspect<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>and then</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> bt_metap<span class="token punctuation">(</span><span class="token string">&#39;books_pkey&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>which produces</p><table><thead><tr><th><code>magic</code></th><th><code>version</code></th><th><code>root</code></th><th><code>level</code></th><th><code>fastroot</code></th><th><code>fastlevel</code></th><th><code>last_cleanup_num_delpages</code></th><th><code>last_cleanup_num_tuples</code></th><th><code>allequalimage</code></th></tr></thead><tbody><tr><td>340322</td><td>4</td><td>116816</td><td>3</td><td>116816</td><td>3</td><td>0</td><td>-1</td><td>t</td></tr></tbody></table><p>Note the level 3, which is what our index’s depth is. That means it would take just 3 page reads to arrive at the correct B Tree leaf for any value (this excludes reading the root node itself, which is usually just stored in memory).</p><p>Checking the math, the Log450(90,000,000) comes out to … 2.998</p><hr><h2 id="taking-an-index-for-a-spin" tabindex="-1"><a class="header-anchor" href="#taking-an-index-for-a-spin"><span>Taking an index for a spin</span></a></h2><p>Let’s run a quick query by id, with the primary key index that already exists, and then look at how we can create one on title, so we can re-run our query to find the first 10 books in order.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">EXPLAIN</span> <span class="token keyword">ANALYZE</span></span>
<span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span></span>
<span class="line"><span class="token keyword">FROM</span> books</span>
<span class="line"><span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>which produces the following</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img5-index-1-1.png?resize=1024%2C160&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>We’re running an index scan. No surprises there. The Index Cond</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">Index Cond: (id = 10000)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>is the condition Postgres uses to navigate the internal nodes; those were the gold nodes from the visualization before. In this case, it predictably looks for id = 10000</p><hr><h2 id="re-visiting-our-titles-sort" tabindex="-1"><a class="header-anchor" href="#re-visiting-our-titles-sort"><span>Re-visiting our titles sort</span></a></h2><p>Let’s take a fresh look at this query.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span></span>
<span class="line"><span class="token keyword">FROM</span> books</span>
<span class="line"><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> title</span>
<span class="line"><span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This time let’s define an index, like so</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> idx_title <span class="token keyword">ON</span> books<span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This index would look something like this (conceptually at least).</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img6-index-3-1.png?resize=1024%2C349&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Now our query runs in less than a fifth of a millisecond.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img6-index-2-1.png?resize=1024%2C134&amp;ssl=1" alt="Query execution plan showing a limit on the number of rows retrieved using an index scan on the &#39;books&#39; table, indicating planning and execution times." tabindex="0" loading="lazy"><figcaption>Query execution plan showing a limit on the number of rows retrieved using an index scan on the &#39;books&#39; table, indicating planning and execution times.</figcaption></figure><p>Notice what’s <em>missing</em> from this execution plan, that was present on the previous query, when we looked for a single index value.</p><p>Did you spot it?</p><p>It’s the Index Cond. We’re not actually … <em>looking for</em> anything. We just want the first ten rows, sorted by title. The index stores all books, sorted by title. So the engine just hops right down to the start of the index, and simply reads the first ten rows from the leaf nodes (the blue nodes from the diagrams).</p><hr><h2 id="more-fun-with-indexes" tabindex="-1"><a class="header-anchor" href="#more-fun-with-indexes"><span>More fun with indexes</span></a></h2><p>Let’s go deeper. Before we start, I’ll point out that values for the <code>pages</code> column was filled with random values from 100-700. So there are 600 possible values for pages, each randomly assigned.</p><p>Let’s look at a query to read the titles of books with the 3 maximum values for pages. And let’s pull a lot more results this time; we’ll limit it to one hundred thousand entries</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">EXPLAIN</span> <span class="token keyword">ANALYZE</span></span>
<span class="line"><span class="token keyword">SELECT</span> title<span class="token punctuation">,</span> pages</span>
<span class="line"><span class="token keyword">FROM</span> books</span>
<span class="line"><span class="token keyword">WHERE</span> pages <span class="token operator">&gt;</span> <span class="token number">697</span></span>
<span class="line"><span class="token keyword">LIMIT</span> <span class="token number">100000</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img6a-top-3-page-values-1.png?resize=1024%2C362&amp;ssl=1" alt="Query plan output of a PostgreSQL database showing execution details for a query retrieving 100,000 rows from a books table where the number of pages is greater than 697." tabindex="0" loading="lazy"><figcaption>Query plan output of a PostgreSQL database showing execution details for a query retrieving 100,000 rows from a books table where the number of pages is greater than 697.</figcaption></figure><p>As before, we see a parallel sequential scan. We read through the table, looking for the first 100,000 rows. Our condition matches very few results, so the database has to discard through over 6 million records before it finds the first 100,000 matching our condition</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">Rows Removed by Filter: 6627303</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The whole operation took 833ms.</p><p>Let’s define an index on <code>pages</code></p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> idx_pages <span class="token keyword">ON</span> books<span class="token punctuation">(</span>pages<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>You might notice that the pages column is by no means unique; but that doesn’t effect anything: the leaf pages can easily contain duplicate entries.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img7-pages-index-1.png?resize=1024%2C301&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Everything else works the same as it always has: the database can quickly jump down to a specific value. This allows us to query a particular value, or even grab a range of values sorted on the column we just looked up. For example, if we want all books with pages &gt; 500, we just seek to that value, and start reading.</p><p>Let’s re-run that query from before</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">EXPLAIN</span> <span class="token keyword">ANALYZE</span></span>
<span class="line"><span class="token keyword">SELECT</span> title<span class="token punctuation">,</span> pages</span>
<span class="line"><span class="token keyword">FROM</span> books</span>
<span class="line"><span class="token keyword">WHERE</span> pages <span class="token operator">&gt;</span> <span class="token number">697</span></span>
<span class="line"><span class="token keyword">LIMIT</span> <span class="token number">100000</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img9-index-pages-bitmap-scan-1.png?resize=1024%2C429&amp;ssl=1" alt="A screenshot of a query plan output showing execution details and performance metrics for a Postgres database query. Various steps of the query execution, including limit, gather, and bitmap heap scan, are listed with numerical values representing costs and actual time taken for each operation." tabindex="0" loading="lazy"><figcaption>A screenshot of a query plan output showing execution details and performance metrics for a Postgres database query. Various steps of the query execution, including limit, gather, and bitmap heap scan, are listed with numerical values representing costs and actual time taken for each operation.</figcaption></figure><p>There’s a lot going on. Our index is being used, but not like before</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">-&gt;  Bitmap Index Scan on idx_pages  (cost=0.00..4911.16 rows=451013 width=0) (actual time=38.057..38.057 rows=453891 loops=1)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Bitmap scan means that the database is scanning our table, and <em>noting</em> the heap locations with records matching our filter. It literally builds a bitmap of matching locations, hence the name. It then sorts those locations in order of disk access.</p><p>It then pulls those locations from the heap. This is the Bitmap Heap Scan on line 5</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">-&gt;  Parallel Bitmap Heap Scan on books  (cost=5023.92..1441887.67 rows=187922 width=73) (actual time=41.383..1339.997 rows=33382 loops=3)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>But remember, this is the heap, and it’s not ordered on pages, so those random locations may have <em>other</em> records <em>not</em> matching our filter. This is done in the Index Recheck on line 6</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">Recheck Cond: (pages &gt; 697)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>which removed 1,603,155 results.</p><p>Why is Postgres doing this, rather than just walking our index, and following the pointers to the heap, as before?</p><p>Postgres keeps track of statistics on which values are contained in its various columns. In this case, it knew that <em>relatively</em> few values would match on this filter, so it chose to use this index.</p><p>But that still doesn’t answer why it didn’t use a regular old index scan, following the various pointers to the heap. Here, Postgres decided that, even though the filter would exclude a large percentage of the table, it would need to read a <em>lot</em> of pages from the heap, and following all those <em>random</em> pointers from the index to the heap would be bad. Those pointers point in all manner of random directions, and <strong>Random I/O</strong> is bad. In fact, Postgres also stores just how closely, or badly those pointers correspond to the underlying order on the heap for that column via something called correlation. So if, somehow, the book entries in the heap just happened to be stored (more or less) in increasing values of pages, there would be a high correlation on the pages column, and this index would be more likely to be used for this query.</p><p>For these reasons, Postgres thought it would be better to use the index to <em>only</em> keep track of which heap locations had relevant records, and then fetch those heap locations in heap order, after the Bitmap scan sorted them. This results in neighboring chunks of memory in the heap being pulled together, rather than frequently following those random pointers from the index.</p><p>Again, Random I/O tends to be <em>expensive</em> and can hurt query performance. This was not faulty reasoning at all.</p><p>But in this case Postgres wagered wrong. Our query now runs <em>slower</em> than the regular table scan from before, on the same query. It now takes 1.38 seconds, instead of 833ms. Adding an index made this query run <em>slower</em>.</p><p>Was I forcing the issue with the larger limit of 100,000? Of course. My goal is to show how indexes work, how they can help, and occasionally, how they can lead the query optimizer to make the wrong choice, and hurt performance. But please don’t think an index causing a worse, slower execution plan is an unhinged, unheard of eventuality which I contrived for this post; I’ve seen it happen on very normal queries on production databases.</p><h3 id="the-road-not-traveled" tabindex="-1"><a class="header-anchor" href="#the-road-not-traveled"><span>The road not traveled</span></a></h3><p>Can we force Postgres to do a regular index scan, to see what might have been? It turns out we can; we can (temporarily) turn off bitmap scans, and run the same query.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SET</span> enable_bitmapscan <span class="token operator">=</span> <span class="token keyword">off</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">EXPLAIN</span> <span class="token keyword">ANALYZE</span></span>
<span class="line"><span class="token keyword">SELECT</span> title<span class="token punctuation">,</span> pages</span>
<span class="line"><span class="token keyword">FROM</span> books</span>
<span class="line"><span class="token keyword">WHERE</span> pages <span class="token operator">&gt;</span> <span class="token number">697</span></span>
<span class="line"><span class="token keyword">LIMIT</span> <span class="token number">100000</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>and now our query runs in just 309ms</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img10a-forcing-scan-1.png?resize=1024%2C258&amp;ssl=1" alt="Execution plan for a SQL query showing details of the index scan on a books table, including row counts and execution time." tabindex="0" loading="lazy"><figcaption>Execution plan for a SQL query showing details of the index scan on a books table, including row counts and execution time.</figcaption></figure><p>Clearly Postgres’s statistics led it astray this time. They’re based on heuristics and probabilities, along with estimated costs for things like disk access. It won’t always work perfectly.</p><h3 id="when-stats-get-things-right" tabindex="-1"><a class="header-anchor" href="#when-stats-get-things-right"><span>When stats get things right</span></a></h3><p>Before we move on, let’s query all the books with an above-average number of pages</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">EXPLAIN</span> <span class="token keyword">ANALYZE</span></span>
<span class="line"><span class="token keyword">SELECT</span> title<span class="token punctuation">,</span> pages</span>
<span class="line"><span class="token keyword">FROM</span> books</span>
<span class="line"><span class="token keyword">WHERE</span> pages <span class="token operator">&gt;</span> <span class="token number">400</span></span>
<span class="line"><span class="token keyword">LIMIT</span> <span class="token number">100000</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this case Postgres was smart enough to not even bother with the index.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img10-pages-back-to-heap-scan-1.png?resize=1024%2C207&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Postgres’ statistics told it that this query would match an enormous number of rows, and just walking across the heap would get it the right results more quickly than bothering with the index. And in this case it assumed correctly. The query ran in just 37ms.</p><hr><h2 id="covering-indexes" tabindex="-1"><a class="header-anchor" href="#covering-indexes"><span>Covering Indexes</span></a></h2><p>Let’s go back to this query</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">EXPLAIN</span> <span class="token keyword">ANALYZE</span></span>
<span class="line"><span class="token keyword">SELECT</span> title<span class="token punctuation">,</span> pages</span>
<span class="line"><span class="token keyword">FROM</span> books</span>
<span class="line"><span class="token keyword">WHERE</span> pages <span class="token operator">&gt;</span> <span class="token number">697</span></span>
<span class="line"><span class="token keyword">LIMIT</span> <span class="token number">100000</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>It took a little over 800ms with no index, and over 1.3 seconds with an index on just pages.</p><p>The shortcoming of our index was that it did not include title, which is needed for this query; Postgres had to keep running to the heap to retrieve it.</p><p>Your first instinct might be to just add title to the index.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> idx_pages_title <span class="token keyword">ON</span> books<span class="token punctuation">(</span>pages<span class="token punctuation">,</span> title<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Which would look like this:</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img11-pages-title-1.png?resize=1024%2C354&amp;ssl=1" alt="A visual representation of a B Tree structure, depicting nodes and leaf nodes containing book titles and IDs. The structure shows how data is organized for efficient querying." tabindex="0" loading="lazy"><figcaption>A visual representation of a B Tree structure, depicting nodes and leaf nodes containing book titles and IDs. The structure shows how data is organized for efficient querying.</figcaption></figure><p>This would work fine. We’re not <em>needing</em> to filter based on title, only pages. But having those titles in the gold non-leaf nodes wouldn’t hurt one bit. Postgres would just ignore it, find the starting point for all books with &gt; 400 pages, and start reading. There’s be no need for heap access at all, since the titles are right there.</p><p>Let’s try it.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img12-top-3-page-values-fast-1.png?resize=1024%2C169&amp;ssl=1" alt="A query execution plan showing an index-only scan using a specific index on a books database table, with details on cost, actual time, and number of rows." tabindex="0" loading="lazy"><figcaption>A query execution plan showing an index-only scan using a specific index on a books database table, with details on cost, actual time, and number of rows.</figcaption></figure><p>Our query now runs in just 32ms! And we have a new operation in our execution plan.</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">-&gt;  Index Only Scan using idx_pages_title on books  (cost=0.69..30393.42 rows=451013 width=73) (actual time=0.243..83.911 rows=453891 loops=1)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Index Only Scan means that <em>only</em> the index is being scanned. Again, there’s no need to look anything up in the heap, since the index has all that we need. That makes this a “covering index” for this query, since the index can “cover” it all.</p><p>More or less.</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code class="language-plaintext"><span class="line">Heap Fetches: 0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>That’s Line 4 above, and it is not as redundant as it might seem. Postgres <em>does</em> have to consult something called a visibility table to <em>make sure</em> the values in your index are up to date given how Postgres handles updates through it’s MVCC system. If those values are <em>not</em> up to date, it <em>will</em> have to hit the heap. But unless your data are changing extremely frequently this should not be a large burden.</p><p>In this case, it turns out Postgres had to go to the heap zero times.</p><hr><h2 id="a-variation-on-the-theme" tabindex="-1"><a class="header-anchor" href="#a-variation-on-the-theme"><span>A variation on the theme</span></a></h2><p>If you’re using Postgres or Microsoft SQL Server you can create an even nicer version of this index. Remember, we’re not actually querying on title here, at all. We just put it in the index so the title values would be in the leaf nodes, so Postgres could read them, without having to visit the heap.</p><p>Wouldn’t it be nice it we could <em>only</em> put those titles in the leaf nodes? This would keep our internal nodes smaller, with less content, which, in a real index, would let us cram more key values together, resulting in a smaller, shallower B Tree that would potentially be faster to query.</p><p>We do this with the INCLUDE clause when creating our index (in databases that support this feature).</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> idx_pages_include_title <span class="token keyword">ON</span> books<span class="token punctuation">(</span>pages<span class="token punctuation">)</span> INCLUDE<span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This tell Postgres to create our index on the pages column, as before, but also <em>include</em> the title field in the leaf nodes. It would look like this, conceptually.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img12-index-with-included-1.png?resize=1024%2C293&amp;ssl=1" alt="A visualization of a B Tree data structure depicting nodes and leaf nodes, showing book titles and their corresponding IDs." tabindex="0" loading="lazy"><figcaption>A visualization of a B Tree data structure depicting nodes and leaf nodes, showing book titles and their corresponding IDs.</figcaption></figure><p>And re-running that same query, we see that it does run a bit faster. From 32ms down to just 21ms.</p><figure><img src="https://i0.wp.com/frontendmasters.com/blog/wp-content/uploads/2025/08/img13-query-with-included-col-1.png?resize=1024%2C164&amp;ssl=1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>To be clear, it’s quite fast either way, but a nice 31% speedup isn’t something to turn down if you’re using a database that supports this feature (MySQL does not).</p><hr><h2 id="pay-attention-to-your-select-clauses" tabindex="-1"><a class="header-anchor" href="#pay-attention-to-your-select-clauses"><span>Pay attention to your SELECT clauses</span></a></h2><p>There’s one corollary to the above: don’t request things you don’t need in your queries; don’t default to <code>SELECT *</code></p><p>Requesting only what you need will not only reduce the amount of data that has to travel over the wire, but in extreme cases can mean the difference between an index scan, and an index-only scan. In the above query, if we’d done <code>SELECT *</code> instead of <code>SELECT title, pages</code>, none of the indexes we added would have been able to help; those heap accesses would have continued to hurt us.</p><hr><h2 id="wrapping-up" tabindex="-1"><a class="header-anchor" href="#wrapping-up"><span>Wrapping up</span></a></h2><p>To say that this post is only scratching the surface would be an understatement. The topic of indexing, and query optimization could fill entire books, and of course it has.</p><p>Hopefully this post has you thinking about indexes the right way. Thinking about how indexes are stored on disk, and how they’re read. And never, ever forgetting about the fact that, when scanning an index, you may still need to visit the heap for every matched entry you find, which can get expensive.</p><div class="hint-container info"><p class="hint-container-title">Article Series</p><a class="route-link vp-card" href="/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html" style="background:rgba(188,75,52,0.2);"><img class="vp-card-logo" src="https://frontendmasters.com/favicon.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Introduction to Postgres Indexes</div><hr><div class="vp-card-desc">This Part 1 (of a 2-part series) is a practical, hands-on, applicable approach to database indexes. We’ll cover what B Trees are with a focus on deeply understanding, and internalizing how they store data on disk, and how your database uses them to speed up queries. This will set us up nicely for part 2, […]</div></div></a><a class="route-link vp-card" href="/bookshelf/frontendmasters.com/advanced-postgresql-indexing.html" style="background:rgba(188,75,52,0.2);"><img class="vp-card-logo" src="https://frontendmasters.com/favicon.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Advanced PostgreSQL Indexing: Multi-Key Queries and Performance Optimization</div><hr><div class="vp-card-desc">Postgres creates an execution plan for how to retrieve the data you're asking for in a query. The execution plan is based in part on statistics from your data and indexes it has available. Just the right index and a bit of query tuning can have a huge payoff in performance gains that your users will notice.</div></div></a></div><div class="hint-container note"><p class="hint-container-title">Editor’s note</p><p>our <a href="https://frontendmasters.com/courses/complete-go/" target="_blank" rel="noopener noreferrer"><i class="vp-icon fas fa-globe" sizing="height"></i>The Complete Course for Building Backend Web Apps with Go</a> includes setting up a PostgreSQL database and running it in Docker, all from scratch.</p></div><!-- TODO: add ARTICLE CARD --><a class="vp-card" href="https://chanhi2000.github.io/bookshelf/frontendmasters.com/intro-to-postgres-indexes.html" target="_blank" style="background:rgba(188,75,52,0.2);"><img class="vp-card-logo" src="https://frontendmasters.com/favicon.ico" loading="lazy" no-view><div class="vp-card-content"><div class="vp-card-title">Introduction to Postgres Indexes</div><hr><div class="vp-card-desc">This Part 1 (of a 2-part series) is a practical, hands-on, applicable approach to database indexes. We’ll cover what B Trees are with a focus on deeply understanding, and internalizing how they store data on disk, and how your database uses them to speed up queries. This will set us up nicely for part 2, […]</div></div></a></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chanhi2000/articles/edit/main/src/frontendmasters.com/intro-to-postgres-indexes.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/bookshelf/data-science/postgres/articles/" aria-label="/data-science/postgres/articles/"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->/data-science/postgres/articles/</div></a><a class="route-link auto-link next" href="/bookshelf/frontendmasters.com/the-path-of-least-resistance-part-2.html" aria-label="The `-path` of Least Resistance (Part 2)"><div class="hint">Next<span class="arrow end"></span></div><div class="link">The `-path` of Least Resistance (Part 2)<i class="vp-icon fa-brands fa-css3-alt" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed | Copyright © 2022-present <a href="https://github.com/chanhi2000">Chan Hee Lee</a></div><div class="vp-copyright">Copyright © 2025 Adam Rackis </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/bookshelf/assets/app-BVguHYKu.js" defer></script>
  </body>
</html>
